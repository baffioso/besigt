"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9725],{9725:(Ji,zt,x)=>{x.r(zt),x.d(zt,{MapPageModule:()=>Ti});var f=x(3349),M=x(9808),E=x(3075),we=x(618),Ht=x(8929),G=x(4850),Wt=x(7625),Ue=x(373),pr=x(2986),Ze=x(2994),fr=x(9202),Xt=x(4160),e=x(5e3),lt=x(8273),re=x(8222),oe=x(5094);function dr(t,r){1&t&&e._UZ(0,"div",2)}const vr=["*"];let mr=(()=>{class t{constructor(n,o){this.mapService=n,this.store=o,this.showMapCenter$=this.store.select("mapTools","activatedMapTools").pipe((0,G.U)(a=>a.includes("takePhoto"))),this.center=[1360103,7491908],this.zoom=13}ngAfterViewInit(){this.mapService.createMap(this.center,this.zoom)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(re.S),e.Y36(oe.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-map"]],ngContentSelectors:vr,decls:4,vars:3,consts:[["id","ol-map",1,"map-container"],["id","center",4,"ngIf"],["id","center"]],template:function(n,o){1&n&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,dr,1,0,"div",1),e.ALo(2,"async"),e.Hsn(3),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,o.showMapCenter$)))},directives:[M.O5],pipes:[M.Ov],styles:[".map-container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}#center[_ngcontent-%COMP%]{top:50%;left:50%;margin-top:-13px;margin-left:-13px;padding:10px;border:3px dashed #fc1717;border-radius:50%;z-index:10000;position:absolute}"],changeDetection:0}),t})();var Vt=x(655),ut=x(7037);function gr(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"ion-item",14),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-toggle",15),e.NdJ("ionChange",function(a){const c=e.CHM(n).$implicit,d=e.oxw().$implicit;return e.oxw(2).onOverlayToggle(a,d,c)}),e.qZA(),e.qZA()}if(2&t){const n=r.$implicit;e.xp6(2),e.Oqu(n.label),e.xp6(1),e.Q6J("name",n.name)("checked",n.addedToMap)}}function hr(t,r){if(1&t&&(e.TgZ(0,"ion-list"),e.TgZ(1,"ion-accordion-group"),e.TgZ(2,"ion-accordion"),e.TgZ(3,"ion-item",10),e._UZ(4,"ion-icon",11),e.TgZ(5,"ion-label"),e._uU(6),e.qZA(),e.TgZ(7,"ion-badge",12),e._uU(8),e.qZA(),e.qZA(),e.YNc(9,gr,4,3,"ion-item",13),e.qZA(),e.qZA(),e.qZA()),2&t){const n=r.$implicit,o=e.oxw(2);e.xp6(4),e.Q6J("name",n.icon),e.xp6(2),e.Oqu(n.name),e.xp6(2),e.AsE("",n.layerCount.added,"/",n.layerCount.total,""),e.xp6(1),e.Q6J("ngForOf",n.layers)("ngForTrackBy",o.trackItems)}}function _r(t,r){if(1&t&&(e.ynx(0),e.YNc(1,hr,10,6,"ion-list",9),e.ALo(2,"async"),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,n.overlays$))("ngForTrackBy",n.trackItems)}}const Kt=function(t){return{selected:t}};function yr(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"ion-col",17),e.TgZ(1,"div",18),e.NdJ("click",function(){const i=e.CHM(n).$implicit;return e.oxw(2).onBaseLayerSelect(i)}),e.TgZ(2,"ion-card",19),e.ALo(3,"async"),e._UZ(4,"ion-img",20),e.qZA(),e.TgZ(5,"ion-text",21),e.ALo(6,"async"),e._uU(7),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=r.$implicit,o=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.VKq(8,Kt,n.id===e.lcZ(3,4,o.selectedBaseMap$))),e.xp6(2),e.Q6J("src",n.image),e.xp6(1),e.Q6J("ngClass",e.VKq(10,Kt,n.id===e.lcZ(6,6,o.selectedBaseMap$))),e.xp6(2),e.hij(" ",n.name," ")}}function br(t,r){if(1&t&&(e.ynx(0),e.TgZ(1,"ion-grid"),e.TgZ(2,"ion-row"),e.YNc(3,yr,8,12,"ion-col",16),e.ALo(4,"async"),e.qZA(),e.qZA(),e.BQk()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,n.baseMaps$))}}let Tr=(()=>{class t{constructor(n,o,a){this.modalController=n,this.mapLayersService=o,this.mapService=a,this.segment="overlays"}ngOnInit(){this.baseMaps$=this.mapLayersService.baseMaps$,this.overlays$=this.mapLayersService.overlays$.pipe((0,G.U)(n=>n.map(o=>Object.assign(Object.assign({},o),{layerCount:{total:o.layers.length,added:o.layers.filter(a=>a.addedToMap).length}})))),this.selectedBaseMap$=this.mapLayersService.selectedBaseMap$}onOverlayToggle(n,o,a){this.mapLayersService.updateOverlays(o.name,a.name,n.detail.checked),n.detail.checked?this.mapService.addWMSLayer(o.url,a):this.mapService.removeLayer(a.name)}onBaseLayerSelect(n){this.mapLayersService.changeSelectedBaseMap(n.id),this.mapService.changeBaseMap(n.id)}dismiss(){this.modalController.dismiss()}trackItems(n,o){return o.name}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.IN),e.Y36(ut.Y),e.Y36(re.S))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-map-layers-control-modal"]],decls:12,vars:3,consts:[["mode","md",1,"ion-padding-top",3,"ngModel","ngModelChange"],["value","overlays"],["name","layers-outline"],["value","baselayers"],["name","map-outline"],[4,"ngIf"],["vertical","bottom","horizontal","center","slot","fixed"],["size","small","color","primary",3,"click"],["name","checkmark"],[4,"ngFor","ngForOf","ngForTrackBy"],["slot","header"],["slot","start",3,"name"],["color","secondary"],["slot","content",4,"ngFor","ngForOf","ngForTrackBy"],["slot","content"],["mode","md","slot","end",3,"name","checked","ionChange"],["size","4","class","ion-text-center",4,"ngFor","ngForOf"],["size","4",1,"ion-text-center"],[1,"base-map",3,"click"],[3,"ngClass"],[3,"src"],["color","medium",3,"ngClass"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-segment",0),e.NdJ("ngModelChange",function(i){return o.segment=i}),e.TgZ(2,"ion-segment-button",1),e._UZ(3,"ion-icon",2),e.qZA(),e.TgZ(4,"ion-segment-button",3),e._UZ(5,"ion-icon",4),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-content"),e.YNc(7,_r,3,4,"ng-container",5),e.YNc(8,br,5,3,"ng-container",5),e.qZA(),e.TgZ(9,"ion-fab",6),e.TgZ(10,"ion-fab-button",7),e.NdJ("click",function(){return o.dismiss()}),e._UZ(11,"ion-icon",8),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngModel",o.segment),e.xp6(6),e.Q6J("ngIf","overlays"===o.segment),e.xp6(1),e.Q6J("ngIf","baselayers"===o.segment))},directives:[f.Gu,f.cJ,f.QI,E.JJ,E.On,f.GO,f.gu,f.W2,M.O5,f.IJ,f.W4,M.sg,f.q_,f.eh,f.We,f.Ie,f.Q$,f.yp,f.ho,f.w,f.jY,f.Nd,f.wI,f.PM,M.mk,f.Xz,f.yW],pipes:[M.Ov],styles:["ion-segment[_ngcontent-%COMP%]{--background: var(--ion-color-tertiary)}ion-accordion.accordion-expanding[_ngcontent-%COMP%]   ion-item[slot=header][_ngcontent-%COMP%], ion-accordion.accordion-expanded[_ngcontent-%COMP%]   ion-item[slot=header][_ngcontent-%COMP%]{--color: var(--ion-color-primary-contrast);--background: var(--ion-color-primary)}ion-accordion.accordion-expanding[_ngcontent-%COMP%]   ion-item[slot=content][_ngcontent-%COMP%], ion-accordion.accordion-expanded[_ngcontent-%COMP%]   ion-item[slot=content][_ngcontent-%COMP%]{--background: var(--ion-color-light-tint)}ion-card[_ngcontent-%COMP%]{--background: var(--ion-color-secondary)}ion-card.selected[_ngcontent-%COMP%]{outline:4px solid var(--ion-color-secondary);outline-offset:5px;transition:ease-in-out .2s}.selected[_ngcontent-%COMP%]{color:var(--ion-color-secondary);font-weight:700;transition:ease-in-out .2s}"],changeDetection:0}),t})(),Cr=(()=>{class t{constructor(n){this.modalController=n}ngOnInit(){}onShowLayersControl(){return(0,Vt.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:Tr,cssClass:"my-custom-class",breakpoints:[0,.5,1],initialBreakpoint:.5})).present()})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.IN))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-map-layers-control"]],decls:3,vars:0,consts:[["horizontal","end","vertical","top","slot","fixed"],["color","primary",3,"click"],["name","layers-outline"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-fab",0),e.TgZ(1,"ion-fab-button",1),e.NdJ("click",function(){return o.onShowLayersControl()}),e._UZ(2,"ion-icon",2),e.qZA(),e.qZA())},directives:[f.IJ,f.W4,f.gu],styles:[""],changeDetection:0}),t})();function xr(t,r){1&t&&e._UZ(0,"img",1),2&t&&e.Q6J("src",r.$implicit,e.LSH)}let Sr=(()=>{class t{constructor(n){this.mapLayersService=n,this.legends$=this.mapLayersService.legends$}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(ut.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-map-legend-popover"]],decls:2,vars:3,consts:[[3,"src",4,"ngFor","ngForOf"],[3,"src"]],template:function(n,o){1&n&&(e.YNc(0,xr,1,1,"img",0),e.ALo(1,"async")),2&n&&e.Q6J("ngForOf",e.lcZ(1,1,o.legends$))},directives:[M.sg],pipes:[M.Ov],styles:["img[_ngcontent-%COMP%]{display:block;padding:10px}"],changeDetection:0}),t})();function wr(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"ion-fab",1),e.TgZ(1,"ion-fab-button",2),e.NdJ("click",function(a){return e.CHM(n),e.oxw().onShowPopover(a)}),e._UZ(2,"i",3),e.qZA(),e.qZA()}}let Zr=(()=>{class t{constructor(n,o){this.popoverController=n,this.mapLayersService=o,this.showLegend$=this.mapLayersService.legends$.pipe((0,G.U)(a=>0!==a.length))}onShowPopover(n){return(0,Vt.mG)(this,void 0,void 0,function*(){yield(yield this.popoverController.create({component:Sr,cssClass:"legend-popover",translucent:!0,showBackdrop:!1,animated:!1,event:n})).present()})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.Dh),e.Y36(ut.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-map-legend-fab"]],decls:2,vars:3,consts:[["horizontal","start","vertical","bottom","slot","fixed",4,"ngIf"],["horizontal","start","vertical","bottom","slot","fixed"],[3,"click"],[1,"fg-map-legend-o","fg-2x"]],template:function(n,o){1&n&&(e.YNc(0,wr,3,0,"ion-fab",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,o.showLegend$))},directives:[M.O5,f.IJ,f.W4],pipes:[M.Ov],styles:[""],changeDetection:0}),t})();var en=x(5254),Mr=x(2198),Ar=x(7545),kr=x(1709);function Pr(t,r){if(1&t&&(e.TgZ(0,"ion-item"),e._UZ(1,"ion-icon",2),e.TgZ(2,"ion-label",3),e.TgZ(3,"p"),e._uU(4,"Beskrivelse"),e.qZA(),e.TgZ(5,"h3"),e._uU(6),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(6),e.Oqu(n.properties.description)}}let Or=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-draw-info"]],inputs:{properties:"properties"},decls:9,vars:2,consts:[["name","information-circle-outline","slot","start"],[4,"ngIf"],["name","chatbox-outline","slot","start"],[1,"ion-text-wrap"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-list"),e.TgZ(1,"ion-item"),e._UZ(2,"ion-icon",0),e.TgZ(3,"ion-label"),e.TgZ(4,"p"),e._uU(5,"Navn"),e.qZA(),e.TgZ(6,"h3"),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.YNc(8,Pr,7,1,"ion-item",1),e.qZA()),2&n&&(e.xp6(7),e.Oqu(o.properties.name),e.xp6(1),e.Q6J("ngIf",o.properties.description.length>0))},directives:[f.q_,f.Ie,f.gu,f.Q$,M.O5],styles:[""]}),t})();var Ir=x(7914),jr=x(2313);function Lr(t,r){1&t&&e._UZ(0,"img",2),2&t&&e.Q6J("src",r.ngIf,e.LSH)}function Dr(t,r){1&t&&(e.TgZ(0,"div",3),e._UZ(1,"ion-spinner",4),e._UZ(2,"br"),e.TgZ(3,"ion-text",5),e._uU(4,"Henter billede..."),e.qZA(),e.qZA())}let Nr=(()=>{class t{constructor(n,o){this.supabase=n,this.domSanitizer=o}set properties(n){const o=n.file_name.replace("images/","");this.photoUrl$=this.downLoadImage(o)}ngOnInit(){}downLoadImage(n){return this.supabase.downloadImage(n).pipe((0,G.U)(o=>this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(o.data))))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(Ir.T),e.Y36(jr.H7))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-photo-viewer"]],inputs:{properties:"properties"},decls:4,vars:4,consts:[[3,"src",4,"ngIf","ngIfElse"],["loading",""],[3,"src"],[1,"ion-text-center","ion-margin-top"],["color","primary"],["color","medium"]],template:function(n,o){if(1&n&&(e.YNc(0,Lr,1,1,"img",0),e.ALo(1,"async"),e.YNc(2,Dr,5,0,"ng-template",null,1,e.W1O)),2&n){const a=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,o.photoUrl$))("ngIfElse",a)}},directives:[M.O5,f.PQ,f.yW],pipes:[M.Ov],styles:[""]}),t})(),$r=(()=>{class t{oisUrl(n){return`http://gis.frederiksberg.dk/vaerktoejer/ois-link.html?komnr=${n.kommunekode}&ejdnr=${n.esrejendomsnr}`}dinGeoUrl(n){return`https://www.dingeo.dk/adresse/${n.postnr}-${n.postnrnavn}/${n.vejnavn}-${n.husnr}/`}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-address-info"]],inputs:{properties:"properties"},decls:25,vars:6,consts:[["color","primary"],[1,"ion-text-center"],["fullscreen",""],["name","home-outline","slot","start"],["target","_blank",3,"href"],["name","link-outline","slot","start"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",0),e.TgZ(2,"ion-title",1),e._uU(3,"Adresseinfo"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",2),e.TgZ(5,"ion-list"),e.TgZ(6,"ion-item"),e._UZ(7,"ion-icon",3),e.TgZ(8,"ion-label"),e.TgZ(9,"h2"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"ion-item",4),e._UZ(14,"ion-icon",5),e.TgZ(15,"ion-label"),e._uU(16," OIS "),e.qZA(),e.qZA(),e.TgZ(17,"ion-item",4),e._UZ(18,"ion-icon",5),e.TgZ(19,"ion-label"),e._uU(20," DinGeo "),e.qZA(),e.qZA(),e.TgZ(21,"ion-item",4),e._UZ(22,"ion-icon",5),e.TgZ(23,"ion-label"),e._uU(24," De Gule Sider "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(10),e.Oqu(o.properties.betegnelse),e.xp6(2),e.AsE("",o.properties.matrikelnr,", ",o.properties.ejerlavnavn,""),e.xp6(1),e.Q6J("href",o.oisUrl(o.properties)),e.xp6(4),e.Q6J("href",o.dinGeoUrl(o.properties)),e.xp6(4),e.Q6J("href","https://kort.degulesider.dk/s/"+o.properties.betegnelse))},directives:[f.Gu,f.sr,f.wd,f.W2,f.q_,f.Ie,f.gu,f.Q$],styles:[""]}),t})();function Er(t,r){if(1&t&&e._UZ(0,"app-draw-info",1),2&t){const n=e.oxw();e.Q6J("properties",n.feature.properties)}}function Ur(t,r){if(1&t&&e._UZ(0,"app-photo-viewer",1),2&t){const n=e.oxw();e.Q6J("properties",n.feature.properties)}}function qr(t,r){if(1&t&&e._UZ(0,"app-address-info",1),2&t){const n=e.oxw();e.Q6J("properties",n.feature.properties)}}let Rr=(()=>{class t{constructor(n){this.modalController=n}ngOnInit(){}onCloseModal(){this.modalController.dismiss()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.IN))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-map-feature-info-modal"]],inputs:{feature:"feature"},decls:3,vars:3,consts:[[3,"properties",4,"ngIf"],[3,"properties"]],template:function(n,o){1&n&&(e.YNc(0,Er,1,1,"app-draw-info",0),e.YNc(1,Ur,1,1,"app-photo-viewer",0),e.YNc(2,qr,1,1,"app-address-info",0)),2&n&&(e.Q6J("ngIf","projectFeatures"===o.feature.layerName),e.xp6(1),e.Q6J("ngIf","projectPhotos"===o.feature.layerName),e.xp6(1),e.Q6J("ngIf","adresser"===o.feature.layerName))},directives:[M.O5,Or,Nr,$r],styles:[""]}),t})(),Fr=(()=>{class t{constructor(n,o,a){this.modalController=n,this.mapService=o,this.store=a,this.infoLayers=["adresser","projectPhotos","projectFeatures"]}ngOnInit(){this.store.select("map","selectedFeatures").pipe((0,Mr.h)(n=>!!n&&n.filter(o=>this.infoLayers.includes(o.layerName)).length>0),(0,G.U)(n=>({properties:n[0].feature.getProperties(),layerName:n[0].layerName})),(0,Ar.w)(n=>this.showModal(n)),(0,kr.zg)(n=>(0,en.D)(n.onDidDismiss()).pipe((0,Ze.b)(()=>this.mapService.clearFeatureSelection())))).subscribe()}showModal(n){return(0,en.D)(this.modalController.create({component:Rr,componentProps:{feature:n},initialBreakpoint:.4,breakpoints:[0,.4,1]})).pipe((0,Ze.b)(o=>o.present()))}onCloseModal(){this.modalController.dismiss(),this.mapService.clearFeatureSelection()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.IN),e.Y36(re.S),e.Y36(oe.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-map-feature-info"]],decls:0,vars:0,template:function(n,o){},styles:["ion-modal[_ngcontent-%COMP%]{pointer-events:none}ion-backdrop[_ngcontent-%COMP%]{pointer-events:none!important}"],changeDetection:0}),t})();var tn=x(5357);function Jr(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-fab-button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().activateTool("takePhoto")}),e.ALo(2,"async"),e._UZ(3,"ion-icon",9),e.qZA(),e.TgZ(4,"ion-fab-button",5),e.NdJ("click",function(){return e.CHM(n),e.oxw().activateTool("draw")}),e.ALo(5,"async"),e._UZ(6,"i",10),e.qZA(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("color",e.lcZ(2,2,n.activatedMapTools$).includes("takePhoto")?"secondary":"light"),e.xp6(3),e.Q6J("color",e.lcZ(5,4,n.activatedMapTools$).includes("draw")?"secondary":"light")}}const Yr=["*"];let Gr=(()=>{class t{constructor(n){this.store=n,this.selectedProject$=this.store.select("project","selectedProject"),this.activatedMapTools$=this.store.select("mapTools","activatedMapTools")}activateTool(n){this.store.dispatch(tn.mZ({tool:n}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(oe.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-map-tools"]],ngContentSelectors:Yr,decls:16,vars:12,consts:[["horizontal","start","vertical","top","slot","fixed"],["color","primary"],["name","construct-outline"],["color","light",3,"color","click"],["name","search"],[3,"color","click"],[1,"fg-poi-info","fg-lg"],[4,"ngIf"],["name","archive"],["name","camera"],[1,"fg-polygon-pt","fg-lg"]],template:function(n,o){1&n&&(e.F$t(),e.TgZ(0,"ion-fab",0),e.TgZ(1,"ion-fab-button",1),e._UZ(2,"ion-icon",2),e.qZA(),e.TgZ(3,"ion-fab-list"),e.TgZ(4,"ion-fab-button",3),e.NdJ("click",function(){return o.activateTool("geoSearch")}),e.ALo(5,"async"),e._UZ(6,"ion-icon",4),e.qZA(),e.TgZ(7,"ion-fab-button",5),e.NdJ("click",function(){return o.activateTool("addressInfo")}),e.ALo(8,"async"),e._UZ(9,"i",6),e.qZA(),e.YNc(10,Jr,7,6,"ng-container",7),e.ALo(11,"async"),e.TgZ(12,"ion-fab-button",5),e.NdJ("click",function(){return o.activateTool("saveProject")}),e.ALo(13,"async"),e._UZ(14,"ion-icon",8),e.qZA(),e.qZA(),e.qZA(),e.Hsn(15,0,["#mapTools",""])),2&n&&(e.xp6(4),e.Q6J("color",e.lcZ(5,4,o.activatedMapTools$).includes("geoSearch")?"secondary":"light"),e.xp6(3),e.Q6J("color",e.lcZ(8,6,o.activatedMapTools$).includes("addressInfo")?"secondary":"light"),e.xp6(3),e.Q6J("ngIf",null!==e.lcZ(11,8,o.selectedProject$)),e.xp6(2),e.Q6J("color",e.lcZ(13,10,o.activatedMapTools$).includes("saveProject")?"secondary":"light"))},directives:[f.IJ,f.W4,f.gu,f.zq,M.O5],pipes:[M.Ov],styles:[""],changeDetection:0}),t})();function ue(t,r){return t(r={exports:{}},r.exports),r.exports}var S=ue(function(t){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)}),ee=ue(function(t){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)}),te=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Q=function(t){if(!te(t))throw TypeError(t+" is not an object!");return t},se=function(t){try{return!!t()}catch(r){return!0}},Me=!se(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),pt=S.document,Br=te(pt)&&te(pt.createElement),qe=function(t){return Br?pt.createElement(t):{}},zr=!Me&&!se(function(){return 7!=Object.defineProperty(qe("div"),"a",{get:function(){return 7}}).a}),Wr=Object.defineProperty,Xr=Me?Object.defineProperty:function(r,n,o){if(Q(r),n=function(t,r){if(!te(t))return t;var n,o;if("function"==typeof(n=t.toString)&&!te(o=n.call(t))||"function"==typeof(n=t.valueOf)&&!te(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}(n),Q(o),zr)try{return Wr(r,n,o)}catch(a){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(r[n]=o.value),r},Re={f:Xr},nn=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}},z=Me?function(t,r,n){return Re.f(t,r,nn(1,n))}:function(t,r,n){return t[r]=n,t},Vr={}.hasOwnProperty,_e=function(t,r){return Vr.call(t,r)},Kr=0,eo=Math.random(),ft=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Kr+eo).toString(36))},dt=ue(function(t){var r="__core-js_shared__",n=S[r]||(S[r]={});(t.exports=function(o,a){return n[o]||(n[o]=void 0!==a?a:{})})("versions",[]).push({version:ee.version,mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}),vt=dt("native-function-to-string",Function.toString),ye=ue(function(t){var r=ft("src"),n="toString",o=(""+vt).split(n);ee.inspectSource=function(a){return vt.call(a)},(t.exports=function(a,i,c,d){var u="function"==typeof c;u&&(_e(c,"name")||z(c,"name",i)),a[i]!==c&&(u&&(_e(c,r)||z(c,r,a[i]?""+a[i]:o.join(String(i)))),a===S?a[i]=c:d?a[i]?a[i]=c:z(a,i,c):(delete a[i],z(a,i,c)))})(Function.prototype,n,function(){return"function"==typeof this&&this[r]||vt.call(this)})}),Ae=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},B=function(t,r,n){if(Ae(t),void 0===r)return t;switch(n){case 1:return function(o){return t.call(r,o)};case 2:return function(o,a){return t.call(r,o,a)};case 3:return function(o,a,i){return t.call(r,o,a,i)}}return function(){return t.apply(r,arguments)}},mt="prototype",J=function(t,r,n){var p,y,_,T,o=t&J.F,a=t&J.G,c=t&J.P,d=t&J.B,u=a?S:t&J.S?S[r]||(S[r]={}):(S[r]||{})[mt],m=a?ee:ee[r]||(ee[r]={}),h=m[mt]||(m[mt]={});for(p in a&&(n=r),n)_=((y=!o&&u&&void 0!==u[p])?u:n)[p],T=d&&y?B(_,S):c&&"function"==typeof _?B(Function.call,_):_,u&&ye(u,p,_,t&J.U),m[p]!=_&&z(m,p,T),c&&h[p]!=_&&(h[p]=_)};S.core=ee,J.F=1,J.G=2,J.S=4,J.P=8,J.B=16,J.W=32,J.U=64,J.R=128;var t,I=J,to={}.toString,pe=function(t){return to.call(t).slice(8,-1)},rn=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==pe(t)?t.split(""):Object(t)},Fe=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},gt=function(t){return rn(Fe(t))},no=Math.ceil,ro=Math.floor,Je=function(t){return isNaN(t=+t)?0:(t>0?ro:no)(t)},oo=Math.min,Ye=function(t){return t>0?oo(Je(t),9007199254740991):0},ao=Math.max,io=Math.min,on=dt("keys"),ht=function(t){return on[t]||(on[t]=ft(t))},lo=(t=!1,function(r,n,o){var a=gt(r),i=Ye(a.length),c=function(t,r){return(t=Je(t))<0?ao(t+r,0):io(t,r)}(o,i);for(t;i>c;c++)if(c in a&&a[c]===n)return c||0;return-1}),uo=ht("IE_PROTO"),_t="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ke=Object.keys||function(r){return function(t,r){var i,n=gt(t),o=0,a=[];for(i in n)i!=uo&&_e(n,i)&&a.push(i);for(;r.length>o;)_e(n,i=r[o++])&&(~lo(a,i)||a.push(i));return a}(r,_t)},vo={f:Object.getOwnPropertySymbols},go={f:{}.propertyIsEnumerable},Ge=function(t){return Object(Fe(t))},Qe=Object.assign,ho=!Qe||se(function(){var t={},r={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(a){r[a]=a}),7!=Qe({},t)[n]||Object.keys(Qe({},r)).join("")!=o})?function(r,n){for(var o=Ge(r),a=arguments.length,i=1,c=vo.f,d=go.f;a>i;)for(var y,u=rn(arguments[i++]),m=c?ke(u).concat(c(u)):ke(u),h=m.length,p=0;h>p;)d.call(u,y=m[p++])&&(o[y]=u[y]);return o}:Qe;I(I.S+I.F,"Object",{assign:ho});var yo=function(r,n){var c,d,o=String(Fe(r)),a=Je(n),i=o.length;return a<0||a>=i?"":(c=o.charCodeAt(a))<55296||c>56319||a+1===i||(d=o.charCodeAt(a+1))<56320||d>57343?o.charAt(a):o.slice(a,a+2)},an=function(t,r,n){return r+(n?yo(t,r).length:1)},R=ue(function(t){var r=dt("wks"),n=S.Symbol,o="function"==typeof n;(t.exports=function(i){return r[i]||(r[i]=o&&n[i]||(o?n:ft)("Symbol."+i))}).store=r}),bo=R("toStringTag"),To="Arguments"==pe(function(){return arguments}()),Be=function(t){var r,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,r){try{return t[r]}catch(n){}}(r=Object(t),bo))?n:To?pe(r):"Object"==(o=pe(r))&&"function"==typeof r.callee?"Arguments":o},xo=RegExp.prototype.exec,yt=function(t,r){var n=t.exec;if("function"==typeof n){var o=n.call(t,r);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==Be(t))throw new TypeError("RegExp#exec called on incompatible receiver");return xo.call(t,r)},So=function(){var t=Q(this),r="";return t.global&&(r+="g"),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),t.unicode&&(r+="u"),t.sticky&&(r+="y"),r},ze=RegExp.prototype.exec,wo=String.prototype.replace,sn=ze,He="lastIndex",bt=function(){var t=/a/,r=/b*/g;return ze.call(t,"a"),ze.call(r,"a"),0!==t[He]||0!==r[He]}(),Tt=void 0!==/()??/.exec("")[1];(bt||Tt)&&(sn=function(r){var o,a,i,c,n=this;return Tt&&(a=new RegExp("^"+n.source+"$(?!\\s)",So.call(n))),bt&&(o=n[He]),i=ze.call(n,r),bt&&i&&(n[He]=n.global?i.index+i[0].length:o),Tt&&i&&i.length>1&&wo.call(i[0],a,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(i[c]=void 0)}),i});var We=sn;I({target:"RegExp",proto:!0,forced:We!==/./.exec},{exec:We});var Mo=R("species"),Ao=!se(function(){var t=/./;return t.exec=function(){var r=[];return r.groups={a:"7"},r},"7"!=="".replace(t,"$<a>")}),ko=function(){var t=/(?:)/,r=t.exec;t.exec=function(){return r.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),cn=function(t,r,n){var o=R(t),a=!se(function(){var h={};return h[o]=function(){return 7},7!=""[t](h)}),i=a?!se(function(){var h=!1,p=/a/;return p.exec=function(){return h=!0,null},"split"===t&&(p.constructor={},p.constructor[Mo]=function(){return p}),p[o](""),!h}):void 0;if(!a||!i||"replace"===t&&!Ao||"split"===t&&!ko){var c=/./[o],d=n(Fe,o,""[t],function(p,y,_,T,C){return y.exec===We?a&&!C?{done:!0,value:c.call(y,_,T)}:{done:!0,value:p.call(_,y,T)}:{done:!1}}),m=d[1];ye(String.prototype,t,d[0]),z(RegExp.prototype,o,2==r?function(h,p){return m.call(h,this,p)}:function(h){return m.call(h,this)})}},Po=Math.max,Oo=Math.min,Io=Math.floor,jo=/\$([$&`']|\d\d?|<[^>]*>)/g,Lo=/\$([$&`']|\d\d?)/g,Do=function(t){return void 0===t?t:String(t)};cn("replace",2,function(t,r,n,o){return[function(c,d){var u=t(this),m=null==c?void 0:c[r];return void 0!==m?m.call(c,u,d):n.call(String(u),c,d)},function(i,c){var d=o(n,i,this,c);if(d.done)return d.value;var u=Q(i),m=String(this),h="function"==typeof c;h||(c=String(c));var p=u.global;if(p){var y=u.unicode;u.lastIndex=0}for(var _=[];;){var T=yt(u,m);if(null===T||(_.push(T),!p))break;""===String(T[0])&&(u.lastIndex=an(m,Ye(u.lastIndex),y))}for(var k="",w=0,O=0;O<_.length;O++){T=_[O];for(var N=String(T[0]),L=Po(Oo(Je(T.index),m.length),0),ie=[],me=1;me<T.length;me++)ie.push(Do(T[me]));var ge=T.groups;if(h){var Ce=[N].concat(ie,L,m);void 0!==ge&&Ce.push(ge);var F=String(c.apply(void 0,Ce))}else F=a(N,m,L,ie,ge,c);L>=w&&(k+=m.slice(w,L)+F,w=L+N.length)}return k+m.slice(w)}];function a(i,c,d,u,m,h){var p=d+i.length,y=u.length,_=Lo;return void 0!==m&&(m=Ge(m),_=jo),n.call(h,_,function(T,C){var k;switch(C.charAt(0)){case"$":return"$";case"&":return i;case"`":return c.slice(0,d);case"'":return c.slice(p);case"<":k=m[C.slice(1,-1)];break;default:var w=+C;if(0===w)return T;if(w>y){var O=Io(w/10);return 0===O?T:O<=y?void 0===u[O-1]?C.charAt(1):u[O-1]+C.charAt(1):T}k=u[w-1]}return void 0===k?"":k})}});var No=R("match"),Eo=R("species"),ln=function(t,r){var o,n=Q(t).constructor;return void 0===n||null==(o=Q(n)[Eo])?r:Ae(o)},Uo=Math.min,qo=[].push,fe="split",H="length",Ct="lastIndex",un=4294967295,Pe=!se(function(){});cn("split",2,function(t,r,n,o){var a;return a="c"=="abbc"[fe](/(b)*/)[1]||4!="test"[fe](/(?:)/,-1)[H]||2!="ab"[fe](/(?:ab)*/)[H]||4!="."[fe](/(.?)(.?)/)[H]||"."[fe](/()()/)[H]>1||""[fe](/.?/)[H]?function(i,c){var d=String(this);if(void 0===i&&0===c)return[];if(!function(t){var r;return te(t)&&(void 0!==(r=t[No])?!!r:"RegExp"==pe(t))}(i))return n.call(d,i,c);for(var _,T,C,u=[],h=0,p=void 0===c?un:c>>>0,y=new RegExp(i.source,(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":"")+"g");(_=We.call(y,d))&&!((T=y[Ct])>h&&(u.push(d.slice(h,_.index)),_[H]>1&&_.index<d[H]&&qo.apply(u,_.slice(1)),C=_[0][H],h=T,u[H]>=p));)y[Ct]===_.index&&y[Ct]++;return h===d[H]?(C||!y.test(""))&&u.push(""):u.push(d.slice(h)),u[H]>p?u.slice(0,p):u}:"0"[fe](void 0,0)[H]?function(i,c){return void 0===i&&0===c?[]:n.call(this,i,c)}:n,[function(c,d){var u=t(this),m=null==c?void 0:c[r];return void 0!==m?m.call(c,u,d):a.call(String(u),c,d)},function(i,c){var d=o(a,i,this,c,a!==n);if(d.done)return d.value;var u=Q(i),m=String(this),h=ln(u,RegExp),p=u.unicode,_=new h(Pe?u:"^(?:"+u.source+")",(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(Pe?"y":"g")),T=void 0===c?un:c>>>0;if(0===T)return[];if(0===m.length)return null===yt(_,m)?[m]:[];for(var C=0,k=0,w=[];k<m.length;){_.lastIndex=Pe?k:0;var N,O=yt(_,Pe?m:m.slice(k));if(null===O||(N=Uo(Ye(_.lastIndex+(Pe?0:k)),m.length))===C)k=an(m,k,p);else{if(w.push(m.slice(C,k)),w.length===T)return w;for(var L=1;L<=O.length-1;L++)if(w.push(O[L]),w.length===T)return w;k=C=N}}return w.push(m.slice(C)),w}]});var A=ue(function(t,r){Object.defineProperty(r,"__esModule",{value:!0});var n={default:"__default"},o=Object.prototype.hasOwnProperty;function a(){}function i(s,l){return o.call(s,l)}function c(){return new a}function d(s,l){for(;s.length>l;)s.pop()}function m(s,l,v){if(null==v)s.removeAttribute(l);else{var g=function(s){return 0===s.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===s.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0}(l);g?s.setAttributeNS(g,l,String(v)):s.setAttribute(l,String(v))}}function h(s,l,v){s[l]=v}function p(s,l,v){l.indexOf("-")>=0?s.setProperty(l,v):s[l]=v}a.prototype=Object.create(null);var T=c();function C(s,l,v){(T[l]||T[n.default])(s,l,v)}T[n.default]=function(s,l,v){var g=typeof v;"object"===g||"function"===g?h(s,l,v):m(s,l,v)},T.style=function(s,l,v){if("string"==typeof v)s.style.cssText=v;else{s.style.cssText="";var g=s.style;for(var b in v)i(v,b)&&p(g,b,v[b])}};var w={nodesCreated:null,nodesDeleted:null},O=function(){function s(){this.created=[],this.deleted=[]}return s.prototype.markCreated=function(l){this.created.push(l)},s.prototype.markDeleted=function(l){this.deleted.push(l)},s.prototype.notifyChanges=function(){w.nodesCreated&&this.created.length>0&&w.nodesCreated(this.created),w.nodesDeleted&&this.deleted.length>0&&w.nodesDeleted(this.deleted)},s}();function L(s){return 1===s.nodeType}var ge=Node.prototype.getRootNode||function(){for(var s=this,l=s;s;)l=s,s=s.parentNode;return l};var $=function(){function s(l,v,g){this._attrsArr=null,this.staticsApplied=!1,this.nameOrCtor=l,this.key=v,this.text=g}return s.prototype.hasEmptyAttrsArr=function(){var l=this._attrsArr;return!l||!l.length},s.prototype.getAttrsArr=function(l){return this._attrsArr||(this._attrsArr=new Array(l))},s}();function xe(s,l,v,g){var b=new $(l,v,g);return s.__incrementalDOMData=b,b}function $e(s,l){return Xn(s,l)}function Xn(s,l){if(s.__incrementalDOMData)return s.__incrementalDOMData;var v=L(s)?s.localName:s.nodeName,g=L(s)?s.getAttribute("key")||l:null,Z=xe(s,v,g,function(s){return 3===s.nodeType}(s)?s.data:void 0);return L(s)&&function(s,l){var v=s.attributes,g=v.length;if(g)for(var b=l.getAttrsArr(g),Z=0,j=0;Z<g;Z+=1,j+=2){var W=v[Z],Y=W.value;b[j]=W.name,b[j+1]=Y}}(s,Z),Z}var Se=null,D=null,U=null,Ee=null,at=[],it=[];function st(){return it}function er(s){return function(v,g,b){var Z=Se,j=Ee,W=at,ne=it,Y=D,V=U;Se=new O,Ee=v.ownerDocument,it=[],at=function(s,l){var v=function(s){var l=ge.call(s);return function(s){return 11===s.nodeType||9===s.nodeType}(l)?l.activeElement:null}(s);return v&&s.contains(v)?function(s,l){for(var v=[],g=s;g!==l;){var b=g;v.push(b),g=b.parentNode}return v}(v,l):[]}(v,U=v.parentNode);try{return s(v,g,b)}finally{Ee=j,it=ne,D=Y,U=V,at=W,Se.notifyChanges(),Se=Z}}}var tr=er(function(s,l,v){return D=s,ar(),l(v),ir(),s}),Ai=er(function(s,l,v){var g={nextSibling:s};return D=g,l(v),U&&or(U,ct(),s.nextSibling),g===D?null:D});function nr(s,l,v){var g=$e(s,v);return l==g.nameOrCtor&&v==g.key}function Pi(s,l){var v;return v="#text"===s?function(s){var l=s.createTextNode("");return xe(l,"#text",null),l}(Ee):function(s,l,v,g){var b;if("function"==typeof v)b=new v;else{var Z=function(s,l){return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/Math/MathML":null==l||"foreignObject"===$e(l).nameOrCtor?null:l.namespaceURI}(v,l);b=Z?s.createElementNS(Z,v):s.createElement(v)}return xe(b,v,g),b}(Ee,U,s,l),Se.markCreated(v),v}function rr(s,l){var v=function(s,l,v){if(!s)return null;if(nr(s,l,v))return s;if(v)for(;s=s.nextSibling;)if(nr(s,l,v))return s;return null}(D,s,l),g=v||Pi(s,l);g!==D&&(at.indexOf(g)>=0?function(s,l,v){for(var g=l.nextSibling,b=v;null!==b&&b!==l;){var Z=b.nextSibling;s.insertBefore(b,g),b=Z}}(U,g,D):U.insertBefore(g,D),D=g)}function or(s,l,v){for(var g=s,b=l;b!==v;){var Z=b.nextSibling;g.removeChild(b),Se.markDeleted(b),b=Z}}function ar(){U=D,D=null}function ct(){return D?D.nextSibling:U.firstChild}function Qt(){D=ct()}function ir(){or(U,ct(),null),D=U,U=U.parentNode}function sr(s,l){return Qt(),rr(s,l),ar(),U}function cr(){return ir(),D}function Oi(){return Qt(),rr("#text",null),D}var X=c();function Di(s,l,v){if(l.staticsApplied=!0,v&&v.length){if(l.hasEmptyAttrsArr()){for(var g=0;g<v.length;g+=2)C(s,v[g],v[g+1]);return}for(g=0;g<v.length;g+=2)X[v[g]]=g+1;var b=l.getAttrsArr(0),Z=0;for(g=0;g<b.length;g+=2){var W=b[g+1],ne=X[j=b[g]];ne?v[ne]===W&&delete X[j]:(b[Z]=j,b[Z+1]=W,Z+=2)}for(var j in d(b,Z),X)C(s,j,v[X[j]]),delete X[j]}}function Bt(s,l,v){for(var g=[],b=3;b<arguments.length;b++)g[b-3]=arguments[b];var Z=sr(s,l),j=$e(Z);j.staticsApplied||Di(Z,j,v);var W=Math.max(0,arguments.length-3),ne=j.hasEmptyAttrsArr();if(!W&&ne)return Z;for(var Y=j.getAttrsArr(W),V=3,q=0;V<arguments.length;V+=2,q+=2){var K=arguments[V];if(ne)Y[q]=K;else if(Y[q]!==K)break;var he=arguments[V+1];(ne||Y[q+1]!==he)&&(Y[q+1]=he,C(Z,K,he))}if(V<arguments.length||q<Y.length){for(var Fi=q;q<Y.length;q+=2)X[Y[q]]=Y[q+1];for(q=Fi;V<arguments.length;V+=2,q+=2)X[K=arguments[V]]!==(he=arguments[V+1])&&C(Z,K,he),Y[q]=K,Y[q+1]=he,delete X[K];for(var K in d(Y,q),X)C(Z,K,void 0),delete X[K]}return Z}function ur(s){return cr()}r.applyAttr=m,r.applyProp=h,r.attributes=T,r.close=cr,r.currentElement=function(){return U},r.currentPointer=function(){return ct()},r.open=sr,r.patch=tr,r.patchInner=tr,r.patchOuter=Ai,r.skip=function(){D=U.lastChild},r.skipNode=Qt,r.getKey=function(s){return $e(s).key},r.clearCache=function Kn(s){s.__incrementalDOMData=null;for(var l=s.firstChild;l;l=l.nextSibling)Kn(l)},r.importNode=function Vn(s){Xn(s);for(var l=s.firstChild;l;l=l.nextSibling)Vn(l)},r.isDataInitialized=function(s){return Boolean(s.__incrementalDOMData)},r.notifications=w,r.symbols=n,r.attr=function(s,l){var v=st();v.push(s),v.push(l)},r.elementClose=ur,r.elementOpen=Bt,r.elementOpenEnd=function(){var s=st(),l=Bt.apply(null,s);return d(s,0),l},r.elementOpenStart=function(s,l,v){var g=st();g[0]=s,g[1]=l,g[2]=v},r.elementVoid=function(s,l,v){for(var g=[],b=3;b<arguments.length;b++)g[b-3]=arguments[b];return Bt.apply(null,arguments),ur()},r.text=function(s){for(var l=[],v=1;v<arguments.length;v++)l[v-1]=arguments[v];var g=Oi(),b=$e(g);if(b.text!==s){b.text=s;for(var Z=s,j=1;j<arguments.length;j+=1){var W=arguments[j];Z=W(Z)}g.data=Z}return g},r.key=function(s){st()[1]=s}});!function(t){t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")}(A);var Ro=A.applyProp,pn=A.attributes,fn=A.patch,dn=A.elementClose,vn=A.elementOpen,Fo=A.elementVoid,xt=A.text;pn.caretpos=function(t,r,n){t.setSelectionRange(n,n)},pn.value=Ro;var Yo=function(r,n,o,a){fn(r,function(){!function(r,n,o){if(r.suggestions.length>0&&r.focused){vn("ul","",["class","dawa-autocomplete-suggestions","role","listbox","unselectable","on"]);for(var a=function(d){var u=r.suggestions[d],m="dawa-autocomplete-suggestion";r.selected===d&&(m+=" dawa-selected"),vn("li","",["role","option"],"class",m,"onmousedown",function(y){n(d),y.preventDefault()});var h=u.forslagstekst.split("\n");if(h=h.map(function(y){return y.replace(/ /g,"\xa0")}),o){xt(h[0]);for(var p=1;p<h.length;++p)Fo("br"),xt(h[p])}else xt(h.join(", "));dn("li")},i=0;i<r.suggestions.length;++i)a(i);dn("ul")}}(n,o,a)})};function mn(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var de,kt,Pt,Ho=function(t,r,n,o){try{return o?r(Q(n)[0],n[1]):r(n)}catch(i){var a=t.return;throw void 0!==a&&Q(a.call(t)),i}},ce={},Wo=R("iterator"),Xo=Array.prototype,Ko=R("iterator"),ea=ee.getIteratorMethod=function(t){if(null!=t)return t[Ko]||t["@@iterator"]||ce[Be(t)]},gn=ue(function(t){var r={},n={},o=t.exports=function(a,i,c,d,u){var y,_,T,C,m=u?function(){return a}:ea(a),h=B(c,d,i?2:1),p=0;if("function"!=typeof m)throw TypeError(a+" is not iterable!");if(function(t){return void 0!==t&&(ce.Array===t||Xo[Wo]===t)}(m)){for(y=Ye(a.length);y>p;p++)if((C=i?h(Q(_=a[p])[0],_[1]):h(a[p]))===r||C===n)return C}else for(T=m.call(a);!(_=T.next()).done;)if((C=Ho(T,h,_.value,i))===r||C===n)return C};o.BREAK=r,o.RETURN=n}),ta=function(t,r,n){var o=void 0===n;switch(r.length){case 0:return o?t():t.call(n);case 1:return o?t(r[0]):t.call(n,r[0]);case 2:return o?t(r[0],r[1]):t.call(n,r[0],r[1]);case 3:return o?t(r[0],r[1],r[2]):t.call(n,r[0],r[1],r[2]);case 4:return o?t(r[0],r[1],r[2],r[3]):t.call(n,r[0],r[1],r[2],r[3])}return t.apply(n,r)},hn=S.document,St=hn&&hn.documentElement,_n=S.process,wt=S.setImmediate,Zt=S.clearImmediate,yn=S.MessageChannel,Mt=S.Dispatch,At=0,Oe={},bn="onreadystatechange",Ie=function(){var t=+this;if(Oe.hasOwnProperty(t)){var r=Oe[t];delete Oe[t],r()}},Tn=function(t){Ie.call(t.data)};(!wt||!Zt)&&(wt=function(r){for(var n=[],o=1;arguments.length>o;)n.push(arguments[o++]);return Oe[++At]=function(){ta("function"==typeof r?r:Function(r),n)},de(At),At},Zt=function(r){delete Oe[r]},"process"==pe(_n)?de=function(t){_n.nextTick(B(Ie,t,1))}:Mt&&Mt.now?de=function(t){Mt.now(B(Ie,t,1))}:yn?(Pt=(kt=new yn).port2,kt.port1.onmessage=Tn,de=B(Pt.postMessage,Pt,1)):S.addEventListener&&"function"==typeof postMessage&&!S.importScripts?(de=function(t){S.postMessage(t+"","*")},S.addEventListener("message",Tn,!1)):de=bn in qe("script")?function(t){St.appendChild(qe("script"))[bn]=function(){St.removeChild(this),Ie.call(t)}}:function(t){setTimeout(B(Ie,t,1),0)});var Cn={set:wt,clear:Zt},na=Cn.set,xn=S.MutationObserver||S.WebKitMutationObserver,Ot=S.process,It=S.Promise,Sn="process"==pe(Ot);function oa(t){var r,n;this.promise=new t(function(o,a){if(void 0!==r||void 0!==n)throw TypeError("Bad Promise constructor");r=o,n=a}),this.resolve=Ae(r),this.reject=Ae(n)}var jt={f:function(t){return new oa(t)}},Lt=function(t){try{return{e:!1,v:t()}}catch(r){return{e:!0,v:r}}},wn=S.navigator,ia=wn&&wn.userAgent||"",la=Re.f,Zn=R("toStringTag"),Dt=function(t,r,n){t&&!_e(t=n?t:t.prototype,Zn)&&la(t,Zn,{configurable:!0,value:r})},Mn=R("species"),Nt=R("iterator"),An=!1;try{[7][Nt]().return=function(){An=!0}}catch(t){}var Ve,jn,Ln,Dn,r,kn=Cn.set,Pn=function(){var t,r,n,o=function(){var d,u;for(Sn&&(d=Ot.domain)&&d.exit();t;){u=t.fn,t=t.next;try{u()}catch(m){throw t?n():r=void 0,m}}r=void 0,d&&d.enter()};if(Sn)n=function(){Ot.nextTick(o)};else if(!xn||S.navigator&&S.navigator.standalone)if(It&&It.resolve){var c=It.resolve(void 0);n=function(){c.then(o)}}else n=function(){na.call(S,o)};else{var a=!0,i=document.createTextNode("");new xn(o).observe(i,{characterData:!0}),n=function(){i.data=a=!a}}return function(d){var u={fn:d,next:void 0};r&&(r.next=u),t||(t=u,n()),r=u}}(),le="Promise",On=S.TypeError,be=S.process,In=be&&be.versions,da=In&&In.v8||"",ae=S[le],je="process"==Be(be),Xe=function(){},Le=jn=jt.f,De=!!function(){try{var t=ae.resolve(1),r=(t.constructor={})[R("species")]=function(n){n(Xe,Xe)};return(je||"function"==typeof PromiseRejectionEvent)&&t.then(Xe)instanceof r&&0!==da.indexOf("6.6")&&-1===ia.indexOf("Chrome/66")}catch(n){}}(),Nn=function(t){var r;return!(!te(t)||"function"!=typeof(r=t.then))&&r},$t=function(t,r){if(!t._n){t._n=!0;var n=t._c;Pn(function(){for(var o=t._v,a=1==t._s,i=0,c=function(d){var y,_,T,u=a?d.ok:d.fail,m=d.resolve,h=d.reject,p=d.domain;try{u?(a||(2==t._h&&ma(t),t._h=1),!0===u?y=o:(p&&p.enter(),y=u(o),p&&(p.exit(),T=!0)),y===d.promise?h(On("Promise-chain cycle")):(_=Nn(y))?_.call(y,m,h):m(y)):h(o)}catch(C){p&&!T&&p.exit(),h(C)}};n.length>i;)c(n[i++]);t._c=[],t._n=!1,r&&!t._h&&va(t)})}},va=function(t){kn.call(S,function(){var o,a,i,r=t._v,n=$n(t);if(n&&(o=Lt(function(){je?be.emit("unhandledRejection",r,t):(a=S.onunhandledrejection)?a({promise:t,reason:r}):(i=S.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=je||$n(t)?2:1),t._a=void 0,n&&o.e)throw o.v})},$n=function(t){return 1!==t._h&&0===(t._a||t._c).length},ma=function(t){kn.call(S,function(){var r;je?be.emit("rejectionHandled",t):(r=S.onrejectionhandled)&&r({promise:t,reason:t._v})})},Te=function(t){var r=this;r._d||(r._d=!0,(r=r._w||r)._v=t,r._s=2,r._a||(r._a=r._c.slice()),$t(r,!0))},Et=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw On("Promise can't be resolved itself");(n=Nn(t))?Pn(function(){var o={_w:r,_d:!1};try{n.call(t,B(Et,o,1),B(Te,o,1))}catch(a){Te.call(o,a)}}):(r._v=t,r._s=1,$t(r,!1))}catch(o){Te.call({_w:r,_d:!1},o)}}};De||(ae=function(r){(function(t,r,n,o){if(!(t instanceof r)||"_h"in t)throw TypeError("Promise: incorrect invocation!")})(this,ae),Ae(r),Ve.call(this);try{r(B(Et,this,1),B(Te,this,1))}catch(n){Te.call(this,n)}},(Ve=function(r){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,r,n){for(var o in r)ye(t,o,r[o],undefined);return t}(ae.prototype,{then:function(r,n){var o=Le(ln(this,ae));return o.ok="function"!=typeof r||r,o.fail="function"==typeof n&&n,o.domain=je?be.domain:void 0,this._c.push(o),this._a&&this._a.push(o),this._s&&$t(this,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),Ln=function(){var t=new Ve;this.promise=t,this.resolve=B(Et,t,1),this.reject=B(Te,t,1)},jt.f=Le=function(t){return t===ae||t===Dn?new Ln(t):jn(t)}),I(I.G+I.W+I.F*!De,{Promise:ae}),Dt(ae,le),r=S.Promise,Me&&r&&!r[Mn]&&Re.f(r,Mn,{configurable:!0,get:function(){return this}}),Dn=ee[le],I(I.S+I.F*!De,le,{reject:function(r){var n=Le(this);return(0,n.reject)(r),n.promise}}),I(I.S+I.F*!De,le,{resolve:function(r){return function(t,r){if(Q(t),te(r)&&r.constructor===t)return r;var n=jt.f(t);return(0,n.resolve)(r),n.promise}(this,r)}}),I(I.S+I.F*!(De&&function(t,r){if(!An)return!1;var n=!1;try{var o=[7],a=o[Nt]();a.next=function(){return{done:n=!0}},o[Nt]=function(){return a},function(t){ae.all(t).catch(Xe)}(o)}catch(i){}return n}()),le,{all:function(r){var n=this,o=Le(n),a=o.resolve,i=o.reject,c=Lt(function(){var d=[],u=0,m=1;gn(r,!1,function(h){var p=u++,y=!1;d.push(void 0),m++,n.resolve(h).then(function(_){y||(y=!0,d[p]=_,--m||a(d))},i)}),--m||a(d)});return c.e&&i(c.v),o.promise},race:function(r){var n=this,o=Le(n),a=o.reject,i=Lt(function(){gn(r,!1,function(c){n.resolve(c).then(o.resolve,a)})});return i.e&&a(i.v),o.promise}});var Ut=R("unscopables"),qt=Array.prototype;null==qt[Ut]&&z(qt,Ut,{});var Rt=function(t){qt[Ut][t]=!0},Ke=function(t,r){return{value:r,done:!!t}},ga=Me?Object.defineProperties:function(r,n){Q(r);for(var c,o=ke(n),a=o.length,i=0;a>i;)Re.f(r,c=o[i++],n[c]);return r},ha=ht("IE_PROTO"),Ft=function(){},Jt="prototype",et=function(){var a,t=qe("iframe"),r=_t.length;for(t.style.display="none",St.appendChild(t),t.src="javascript:",(a=t.contentWindow.document).open(),a.write("<script>document.F=Object<\/script>"),a.close(),et=a.F;r--;)delete et[Jt][_t[r]];return et()},_a=Object.create||function(r,n){var o;return null!==r?(Ft[Jt]=Q(r),o=new Ft,Ft[Jt]=null,o[ha]=r):o=et(),void 0===n?o:ga(o,n)},En={};z(En,R("iterator"),function(){return this});var Un=ht("IE_PROTO"),ba=Object.prototype,Ta=Object.getPrototypeOf||function(t){return t=Ge(t),_e(t,Un)?t[Un]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ba:null},Ne=R("iterator"),Yt=!([].keys&&"next"in[].keys()),tt="values",Rn=function(){return this},Fn=function(t,r,n,o,a,i,c){!function(t,r,n){t.prototype=_a(En,{next:nn(1,n)}),Dt(t,"Array Iterator")}(n,0,function(){var t=this._t,r=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ke(1)):Ke(0,"keys"==r?n:"values"==r?t[n]:[n,t[n]])});var k,w,O,d=function(N){if(!Yt&&N in p)return p[N];switch(N){case"keys":case tt:return function(){return new n(this,N)}}return function(){return new n(this,N)}},u=r+" Iterator",h=!1,p=t.prototype,y=p[Ne]||p["@@iterator"]||p[a],_=y||d(a),T=d("entries"),C=p.entries||y;if(C&&(O=Ta(C.call(new t)))!==Object.prototype&&O.next&&(Dt(O,u,!0),"function"!=typeof O[Ne]&&z(O,Ne,Rn)),y&&y.name!==tt&&(h=!0,_=function(){return y.call(this)}),(Yt||h||!p[Ne])&&z(p,Ne,_),ce[r]=_,ce[u]=Rn,void(k={values:_,keys:d("keys"),entries:T}))for(w in k)w in p||ye(p,w,k[w]);else I(I.P+I.F*(Yt||h),r,k);return k}(Array,"Array",function(t,r){this._t=gt(t),this._i=0,this._k=r},0,"values");ce.Arguments=ce.Array,Rt("keys"),Rt("values"),Rt("entries");for(var Jn=R("iterator"),Yn=R("toStringTag"),Gn=ce.Array,Qn={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Bn=ke(Qn),Gt=0;Gt<Bn.length;Gt++){var rt,nt=Bn[Gt],Sa=Qn[nt],zn=S[nt],ve=zn&&zn.prototype;if(ve&&(ve[Jn]||z(ve,Jn,Gn),ve[Yn]||z(ve,Yn,nt),ce[nt]=Gn,Sa))for(rt in Fn)ve[rt]||ye(ve,rt,Fn[rt],!0)}var Hn={};Hn[R("toStringTag")]="z",Hn+""!="[object z]"&&ye(Object.prototype,"toString",function(){return"[object "+Be(this)+"]"},!0),function(t,r){var n=(ee.Object||{})[t]||Object[t],o={keys:function(r){return ke(Ge(r))}};I(I.S+I.F*se(function(){n(1)}),"Object",o)}("keys");var ka={params:{},minLength:2,retryDelay:500,renderCallback:function(){console.error("No renderCallback supplied")},initialRenderCallback:function(){console.error("No initialRenderCallback supplied")},type:"adresse",baseUrl:"https://dawa.aws.dk",adgangsadresserOnly:!1,stormodtagerpostnumre:!0,supplerendebynavn:!0,fuzzy:!0,fetchImpl:function(r,n){return function(t,r){return r=r||{},new Promise(function(n,o){var a=new XMLHttpRequest,i=[],c=[],d={},u=function(){return{ok:2==(a.status/100|0),statusText:a.statusText,status:a.status,url:a.responseURL,text:function(){return Promise.resolve(a.responseText)},json:function(){return Promise.resolve(JSON.parse(a.responseText))},blob:function(){return Promise.resolve(new Blob([a.response]))},clone:u,headers:{keys:function(){return i},entries:function(){return c},get:function(h){return d[h.toLowerCase()]},has:function(h){return h.toLowerCase()in d}}}};for(var m in a.open(r.method||"get",t,!0),a.onload=function(){a.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(h,p,y){i.push(p=p.toLowerCase()),c.push([p,y]),d[p]=d[p]?d[p]+","+y:y}),n(u())},a.onerror=o,a.withCredentials="include"==r.credentials,r.headers)a.setRequestHeader(m,r.headers[m]);a.send(r.body||null)})}("".concat(r,"?").concat(function(r){return Object.keys(r).map(function(n){var o=r[n];return"".concat(n,"=").concat(encodeURIComponent(o))}).join("&")}(n)),{mode:"cors"}).then(function(o){return o.json()})}},Pa=function(){function t(r){(function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")})(this,t),r=Object.assign({},ka,r||{}),this.options=r,this.state={currentRequest:null,pendingRequest:null},this.selected=null}return function(t,r,n){r&&mn(t.prototype,r)}(t,[{key:"_getAutocompleteResponse",value:function(n,o,a,i,c,d){var u=Object.assign({},this.options.params,{q:n,type:this.options.type,caretpos:o,supplerendebynavn:c,stormodtagerpostnumre:d,multilinje:!0});return this.options.fuzzy&&(u.fuzzy=""),i&&(u.adgangsadresseid=i),a&&(u.startfra="adgangsadresse"),this.options.fetchImpl("".concat(this.options.baseUrl,"/autocomplete"),u)}},{key:"_scheduleRequest",value:function(n){null!==this.state.currentRequest?this.state.pendingRequest=n:(this.state.currentRequest=n,this._executeRequest())}},{key:"_executeRequest",value:function(){var c,d,n=this,o=this.state.currentRequest,a=null,i=!1;if(o.selected){var u=o.selected;if(u.type===this.options.type)return this.options.selectCallback(u),this.selected=u,void this._requestCompleted();a="adgangsadresse"===u.type?u.data.id:null,i="vejnavn"===u.type,c=u.tekst,d=u.caretpos}else c=o.text,d=o.caretpos;if(o.selectedId){var m={id:o.selectedId,type:this.options.type};return this.options.fetchImpl("".concat(this.options.baseUrl,"/autocomplete"),m).then(function(h){return n._handleResponse(o,h)},function(h){return n._handleFailedRequest(o,h)})}o.selected||o.text.length>=this.options.minLength?this._getAutocompleteResponse(c,d,i,a,this.options.supplerendebynavn,this.options.stormodtagerpostnumre).then(function(h){return n._handleResponse(o,h)},function(h){return n._handleFailedRequest(o,h)}):this._handleResponse(o,[])}},{key:"_handleFailedRequest",value:function(n,o){var r,a=this;return console.error("DAWA request failed",o),(r=this.options.retryDelay,new Promise(function(n){return setTimeout(n,r)})).then(function(){a.state.pendingRequest||a._scheduleRequest(n),a._requestCompleted()})}},{key:"_handleResponse",value:function(n,o){if(n.selected)if(1===o.length){var a=o[0];a.type===this.options.type?this.options.selectCallback(a):this.state.pendingRequest||(this.state.pendingRequest={selected:a})}else this.options.renderCallback&&this.options.renderCallback(o);else n.selectedId?1===o.length&&(this.selected=o[0],this.options.initialRenderCallback(o[0].tekst)):this.options.renderCallback&&this.options.renderCallback(o);this._requestCompleted()}},{key:"_requestCompleted",value:function(){this.state.currentRequest=this.state.pendingRequest,this.state.pendingRequest=null,this.state.currentRequest&&this._executeRequest()}},{key:"setRenderCallback",value:function(n){this.options.renderCallback=n}},{key:"setInitialRenderCallback",value:function(n){this.options.initialRenderCallback=n}},{key:"setSelectCallback",value:function(n){this.options.selectCallback=n}},{key:"update",value:function(n,o){this._scheduleRequest({text:n,caretpos:o})}},{key:"select",value:function(n){this._scheduleRequest({selected:n})}},{key:"selectInitial",value:function(n){this._scheduleRequest({selectedId:n})}},{key:"destroy",value:function(){}}]),t}();const Ia=["input"];function ja(t,r){1&t&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-title",2),e._uU(3," Adresses\xf8gning "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content"),e.TgZ(5,"div",3),e._UZ(6,"input",4,5),e.qZA(),e.qZA())}const La=function(){return[0,.8]};let Da=(()=>{class t{constructor(n,o){this.mapService=n,this.store=o,this.showModal$=this.store.select("mapTools","activatedMapTools").pipe((0,G.U)(a=>a.includes("geoSearch")))}ngAfterViewInit(){this.autocomplete=function(t,r){r=Object.assign({select:function(){return null}},r);var n=["baseUrl","minLength","params","fuzzy","stormodtagerpostnumre","supplerendebynavn","type"].reduce(function(i,c){return r.hasOwnProperty(c)&&(i[c]=r[c]),i},{});n.type||(n.type=r.adgangsadresserOnly?"adgangsadresse":"adresse");var o=new Pa(n),a=function(r,n){var o=n.onSelect,a=n.onTextChange,i=n.render||Yo,c=!1,d="",u=0,m=document.createElement("div");r.parentNode.insertBefore(m,r.nextSibling);var _,p={caretpos:2,inputText:"",selected:0,focused:document.activeElement===r,suggestions:[]},y=function(P){var $=P.value,xe=P.selectionStart;p.caretpos=xe,p.inputText=$,function(P,$){(d!==P||u!==$)&&(a(P,$),d=P,u=$)}($,xe)},T=function(P){var $=p.suggestions[P];p.inputText=$.tekst,p.caretpos=$.caretpos,p.suggestions=[],o($),_(!0)},C=function(P){var $=window.event?P.keyCode:P.which;if(p.suggestions.length>0&&p.focused){if(40===$)p.selected=(p.selected+1)%p.suggestions.length,_();else if(38===$)p.selected=(p.selected-1+p.suggestions.length)%p.suggestions.length,_();else{if(13!==$&&9!==$)return!0;T(p.selected)}return P.preventDefault(),!1}},k=function(){p.focused=!0,_()},w=function(){return p.focused=!1,_(),!1},O=function(P){y(P.target)},N=function(P){return y(P.target)},L=!1,ie=!1;return(_=function(P){P&&(ie=!0),L||(L=!0,requestAnimationFrame(function(){c||(L=!1,ie&&(r.value=p.inputText,r.setSelectionRange(p.caretpos,p.caretpos)),ie=!1,i(m,p,function($){return T($)},n.multiline))}))})(),r.addEventListener("keydown",C),r.addEventListener("blur",w),r.addEventListener("focus",k),r.addEventListener("input",O),r.addEventListener("mouseup",N),r.setAttribute("aria-autocomplete","list"),r.setAttribute("autocomplete","off"),{destroy:function(){c=!0,r.removeEventListener("keydown",C),r.removeEventListener("blur",w),r.removeEventListener("focus",k),r.removeEventListener("input",O),r.removeEventListener("mouseup",N),fn(m,function(){}),m.remove()},setSuggestions:function(P){p.suggestions=P,p.selected=0,_()},selectAndClose:function(P){p.inputText=P,p.caretpos=P.length,p.suggestions=[],p.selected=0,_(!0)}}}(t,{onSelect:function(c){o.select(c)},onTextChange:function(c,d){o.update(c,d)},render:r.render,multiline:r.multiline||!1});return o.setRenderCallback(function(i){return a.setSuggestions(i)}),o.setSelectCallback(function(i){a.selectAndClose(i.tekst),r.select(i)}),o.setInitialRenderCallback(function(i){return a.selectAndClose(i)}),r.id&&o.selectInitial(r.id),{id:function(c){return o.selectInitial(c)},destroy:function(){return a.destroy()},selected:function(){return o.selected}}}(this.input.nativeElement,{select:n=>{const o=[n.data.x,n.data.y];this.mapService.removeLayer("marker"),this.mapService.addMarker(o),this.mapService.flyTo(o)},adgangsadresserOnly:!0}),setTimeout(()=>{this.input.nativeElement.focus()},500)}ngOnDestroy(){this.autocomplete.destroy(),console.log("DESTROY SEARCH")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(re.S),e.Y36(oe.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-geo-search"]],viewQuery:function(n,o){if(1&n&&e.Gf(Ia,5),2&n){let a;e.iGM(a=e.CRH())&&(o.input=a.first)}},decls:3,vars:6,consts:[[3,"isOpen","initialBreakpoint","breakpoints"],["color","primary"],[1,"ion-text-center"],[1,"autocomplete-container"],["placeholder","S\xf8g adresse","type","search","id","dawa-autocomplete-input"],["input",""]],template:function(n,o){1&n&&(e.TgZ(0,"ion-modal",0),e.ALo(1,"async"),e.YNc(2,ja,8,0,"ng-template"),e.qZA()),2&n&&e.Q6J("isOpen",e.lcZ(1,3,o.showModal$))("initialBreakpoint",.8)("breakpoints",e.DdM(5,La))},directives:[f.ki,f.Gu,f.sr,f.wd,f.W2],pipes:[M.Ov],styles:[".autocomplete-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:30em;padding:10px;margin:auto}.autocomplete-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;box-sizing:border-box;border-radius:5px;border:.01px solid var(--ion-color-medium)}"],changeDetection:0}),t})();var Na=x(591),$a=x(9385);let Ea=(()=>{class t{constructor(n,o,a){this.mapService=n,this.notification=o,this.store=a,this.showModal=!1,this.adandon$=new Ht.xQ,this.dawaInfo$=new Na.X(null),this.disableAddressButton$=this.store.select("map","viewParams").pipe((0,G.U)(i=>(null==i?void 0:i.zoom)<15))}onShowPOI(){this.mapService.removeLayer("adresser"),this.mapService.addAdresserWithinViewExtent(),this.notification.presentToast({message:"Klik p\xe5 adresse for info",duration:2e3,position:"top",color:"secondary"})}ngOnDestroy(){this.mapService.removeLayer("adresser")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(re.S),e.Y36($a.w),e.Y36(oe.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-info-tool"]],decls:4,vars:6,consts:[["color","tertiary",3,"disabled","click"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-button",0),e.NdJ("click",function(){return o.onShowPOI()}),e.ALo(1,"async"),e._uU(2),e.ALo(3,"async"),e.qZA()),2&n&&(e.Q6J("disabled",e.lcZ(1,2,o.disableAddressButton$)),e.xp6(2),e.hij(" ",!1===e.lcZ(3,4,o.disableAddressButton$)?"Hent adresser":"Zoom l\xe6ngere ind for info","\n"))},directives:[f.YG],pipes:[M.Ov],styles:["ion-chip[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:#fff}"],changeDetection:0}),t})();function Ua(t,r){1&t&&e._UZ(0,"ion-spinner",4)}let qa=(()=>{class t{constructor(n,o){this.mapService=n,this.mapStoreService=o,this.tracking$=this.mapStoreService.mapstate$.pipe((0,Ue.j)("tracking")),this.locating$=this.mapStoreService.mapstate$.pipe((0,Ue.j)("locating")),this.tracking=!1}ngOnInit(){}onToggleGeolocate(){this.tracking?(this.tracking=!1,this.mapService.stopTracking()):(this.tracking=!0,this.mapService.startTracking())}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(re.S),e.Y36(lt.C))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-map-geolocation"]],decls:5,vars:4,consts:[["horizontal","end","vertical","bottom","slot","fixed"],[3,"color","click"],["name","navigate-outline"],["color","medium",4,"ngIf"],["color","medium"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-fab",0),e.TgZ(1,"ion-fab-button",1),e.NdJ("click",function(){return o.onToggleGeolocate()}),e._UZ(2,"ion-icon",2),e.YNc(3,Ua,1,0,"ion-spinner",3),e.ALo(4,"async"),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.Q6J("color",o.tracking?"danger":"primary"),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,2,o.locating$)))},directives:[f.IJ,f.W4,f.gu,M.O5,f.PQ],pipes:[M.Ov],styles:[""],changeDetection:0}),t})();var ot=x(8200),Ra=x(2880);function Fa(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-fab-button",2),e.NdJ("click",function(){return e.CHM(n),e.oxw().onStartDraw("Point")}),e._UZ(2,"i",3),e.qZA(),e.TgZ(3,"ion-fab-button",2),e.NdJ("click",function(){return e.CHM(n),e.oxw().onStartDraw("LineString")}),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"ion-fab-button",2),e.NdJ("click",function(){return e.CHM(n),e.oxw().onStartDraw("Polygon")}),e._UZ(6,"i",5),e.qZA(),e.TgZ(7,"ion-fab-button",2),e.NdJ("click",function(){return e.CHM(n),e.oxw().onEndDraw()}),e._UZ(8,"ion-icon",6),e.qZA(),e.BQk()}}function Ja(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"ion-fab-button",9),e.TgZ(1,"ion-icon",10),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onDisableEditMode()}),e.qZA(),e.qZA()}}function Ya(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"ion-fab-button",11),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onUndo()}),e._UZ(1,"ion-icon",12),e.qZA()}}function Ga(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"ion-fab-button",11),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onDelete()}),e._UZ(1,"ion-icon",13),e.qZA()}}function Qa(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"ion-fab-button",11),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).onSave()}),e._UZ(1,"ion-icon",14),e.qZA()}}function Ba(t,r){if(1&t&&(e.ynx(0),e.YNc(1,Ja,2,0,"ion-fab-button",7),e.ALo(2,"async"),e.YNc(3,Ya,2,0,"ion-fab-button",8),e.ALo(4,"async"),e.YNc(5,Ga,2,0,"ion-fab-button",8),e.ALo(6,"async"),e.YNc(7,Qa,2,0,"ion-fab-button",8),e.ALo(8,"async"),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,n.drawConfig$).showBack),e.xp6(2),e.Q6J("ngIf","Point"!==n.drawGeometry&&e.lcZ(4,6,n.drawConfig$).showUndo),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,8,n.drawConfig$).showDelete),e.xp6(2),e.Q6J("ngIf",e.lcZ(8,10,n.drawConfig$).showSave)}}function za(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"ion-header"),e._UZ(1,"ion-toolbar",15),e.qZA(),e.TgZ(2,"ion-content"),e.TgZ(3,"form",16),e.NdJ("ngSubmit",function(){return e.CHM(n),e.oxw().onAddFeature()}),e.TgZ(4,"ion-item"),e._UZ(5,"ion-input",17),e.qZA(),e.TgZ(6,"ion-item"),e._UZ(7,"ion-textarea",18),e.qZA(),e.TgZ(8,"ion-button",19),e._uU(9,"Gem geometri"),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(3),e.Q6J("formGroup",n.featureProperties)}}const Ha=function(){return[0,.4,.5]};let Wa=(()=>{class t{constructor(n,o,a){this.mapService=n,this.fb=o,this.store=a,this.showModal=!1,this.drawConfig$=this.store.select("drawTool")}ngOnInit(){this.store.dispatch(ot.T_()),this.featureProperties=this.fb.group({name:["",[E.kI.required]],description:[""]})}onStartDraw(n){this.mapService.removeClickInfo(),this.mapService.removeDrawTool(),this.drawGeometry=n,this.mapService.activateDrawTool(n),this.store.dispatch(ot.vs({change:{prop:"inEditMode",value:!0}}))}onEndDraw(){this.store.dispatch(tn.lu({tool:"draw"})),this.mapService.removeDrawTool(),this.mapService.addClickInfo()}onDisableEditMode(){this.store.dispatch(ot.vs({change:{prop:"inEditMode",value:!1}}))}onUndo(){this.mapService.removeLastDrawPoint()}onDelete(){this.mapService.removeDrawTool(),this.onStartDraw(this.drawGeometry)}onSave(){this.mapService.finishDrawing(),this.mapService.changeLayerStyle("draw",Ra.l.default),this.onDisableEditMode(),this.showModal=!0}onAddFeature(){this.store.dispatch(ot.TN({properties:this.featureProperties.value})),this.showModal=!1}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(re.S),e.Y36(E.qu),e.Y36(oe.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-map-draw-tool"]],decls:6,vars:10,consts:[[4,"ngIf"],[3,"isOpen","initialBreakpoint","breakpoints"],["size","small","color","primary",3,"click"],[1,"fg-point","fg-lg"],[1,"fg-polyline-pt","fg-lg"],[1,"fg-polygon-pt","fg-lg"],["name","close"],["size","small","color","secondary",4,"ngIf"],["size","small","color","secondary",3,"click",4,"ngIf"],["size","small","color","secondary"],["name","arrow-back-outline",3,"click"],["size","small","color","secondary",3,"click"],["name","arrow-undo-circle-outline"],["name","trash"],["name","save"],["color","primary"],[3,"formGroup","ngSubmit"],["placeholder","Navn","formControlName","name"],["placeholder","Beskrivelse","rows","3","formControlName","description"],["type","submit","size","large","expand","full","color","primary"]],template:function(n,o){1&n&&(e.YNc(0,Fa,9,0,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Ba,9,12,"ng-container",0),e.ALo(3,"async"),e.TgZ(4,"ion-modal",1),e.YNc(5,za,10,1,"ng-template"),e.qZA()),2&n&&(e.Q6J("ngIf",!1===e.lcZ(1,5,o.drawConfig$).inEditMode),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,7,o.drawConfig$).inEditMode),e.xp6(2),e.Q6J("isOpen",o.showModal)("initialBreakpoint",.4)("breakpoints",e.DdM(9,Ha)))},directives:[M.O5,f.ki,f.W4,f.gu,f.Gu,f.sr,f.W2,E._Y,E.JL,E.sg,f.Ie,f.pK,f.j9,E.JJ,E.u,f.g2,f.YG],pipes:[M.Ov],styles:[""],changeDetection:0}),t})();var Wn=x(6939);let Xa=(()=>{class t{constructor(n){this.store=n}ngOnInit(){this.store.dispatch(Xt.js())}onApprovePosition(){this.store.dispatch(Wn.Yw()),this.store.dispatch(Wn.Kl())}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(oe.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-photo-tool"]],decls:2,vars:0,consts:[["size","large","color","tertiary",1,"ion-margin",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-button",0),e.NdJ("click",function(){return o.onApprovePosition()}),e._uU(1," V\xc6LG PLACERING\n"),e.qZA())},directives:[f.YG],styles:["ion-segment[_ngcontent-%COMP%]{background-color:var(--ion-color-tertiary)}"],changeDetection:0}),t})();var Va=x(760),Ka=x(1086),ei=x(7224),ti=x(1406),ni=x(8780),ri=x(8241),oi=x(2111);function ai(t,r){1&t&&(e.TgZ(0,"ion-badge"),e._uU(1,"Zoom ind for at v\xe6lge matrikler"),e.qZA())}function ii(t,r){1&t&&(e.TgZ(0,"ion-badge"),e._uU(1,"Tryk p\xe5 kortet for at tegne"),e.qZA())}function si(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"ion-fab",6),e.TgZ(1,"ion-fab-button",7),e.NdJ("click",function(){return e.CHM(n),e.oxw().toggleModal()}),e._UZ(2,"ion-icon",8),e.qZA(),e.qZA()}}function ci(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"ion-header"),e._UZ(1,"ion-toolbar",9),e.qZA(),e.TgZ(2,"ion-content"),e.TgZ(3,"form",10),e.NdJ("ngSubmit",function(){return e.CHM(n),e.oxw().onCreateProject()}),e.TgZ(4,"ion-item"),e._UZ(5,"ion-input",11),e.qZA(),e.TgZ(6,"ion-item"),e._UZ(7,"ion-textarea",12),e.qZA(),e.TgZ(8,"ion-button",13),e._uU(9,"Opret projekt"),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(3),e.Q6J("formGroup",n.project)}}const li=function(){return[0,.4,.5]};let ui=(()=>{class t{constructor(n,o,a,i,c,d,u,m){this.router=n,this.fb=o,this.mapService=a,this.mapStore=i,this.projectStore=c,this.uiState=d,this.dawaService=u,this.store=m,this.showModal=!1,this.selectedArea$=this.store.select("map","selectedFeatures"),this.drawnGeometry$=this.store.select("map","drawnFeature")}ngOnInit(){this.project=this.fb.group({name:["",[E.kI.required]],description:[""]}),this.disableMatrikel$=this.store.select("map","viewParams").pipe((0,G.U)(n=>(null==n?void 0:n.zoom)<15))}ngOnDestroy(){this.mapService.removeLayer("jordstykke")}toggleModal(){let n;switch(this.showModal=!this.showModal,this.geomSource){case"jordstykke":n=this.store.select("map","selectedFeatures").pipe((0,G.U)(o=>o[0].feature.getGeometry().getExtent()));break;case"draw":n=this.mapStore.drawnGeometry$;break;case"bounds":n=(0,Ka.of)(this.mapService.getViewExtent().getGeometry().getExtent())}n.pipe((0,ei.P)(),(0,G.U)(o=>this.mapService.transform((0,Va.qg)(o),"EPSG:3857","EPSG:4326")),(0,ti.b)(o=>this.dawaService.reverseGeocode(o[0],o[1])),(0,Ze.b)(o=>this.project.patchValue({name:`${o.vejnavn} ${o.husnr}`,description:`N\xe6r ${o.adressebetegnelse} - Matrikel: ${o.matrikelnr}, ${o.ejerlav.navn}`}))).subscribe()}selectionMethodChanged(n){switch(this.geomSource=n.detail.value,this.geomSource){case"jordstykke":this.mapService.removeDrawTool(),this.mapService.removeLayer("jordstykke"),this.mapService.addMatrikelWithinViewExtent(),this.uiState.removeMapTool("draw");break;case"draw":this.uiState.updateDrawUiState("inEditMode",!0),this.uiState.updateDrawUiState("showBack",!1),this.uiState.updateDrawUiState("showSave",!1),this.mapService.removeLayer("jordstykke"),this.mapService.removeDrawTool(),this.mapService.activateDrawTool("Polygon"),this.uiState.addMapTool("draw");break;case"bounds":this.mapService.removeLayer("jordstykke"),this.uiState.removeMapTool("draw"),this.mapService.removeDrawTool()}}onCreateProject(){"draw"===this.geomSource&&(this.mapService.finishDrawing(),this.uiState.removeMapTool("draw")),this.toggleModal(),this.mapService.removeDrawTool(),this.mapService.removeLayer("jordstykke"),setTimeout(()=>{this.uiState.removeAllMapTools(),this.projectStore.addProject(this.project.value,this.geomSource),this.router.navigateByUrl("/app/projects")},250)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(we.F0),e.Y36(E.qu),e.Y36(re.S),e.Y36(lt.C),e.Y36(ni.c),e.Y36(ri.J),e.Y36(oi.r),e.Y36(oe.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-save-project"]],decls:15,vars:14,consts:[[4,"ngIf"],["vertical","bottom","horizontal","center","slot","fixed",4,"ngIf"],["mode","md",3,"ionChange"],["value","jordstykke",3,"disabled"],["value","bounds"],[3,"isOpen","initialBreakpoint","breakpoints"],["vertical","bottom","horizontal","center","slot","fixed"],[3,"click"],["name","checkmark-outline"],["color","primary"],[3,"formGroup","ngSubmit"],["placeholder","Navn","formControlName","name"],["placeholder","Beskrivelse","rows","3","formControlName","description"],["type","submit","size","large","expand","full","color","primary"]],template:function(n,o){1&n&&(e.YNc(0,ai,2,0,"ion-badge",0),e.ALo(1,"async"),e.YNc(2,ii,2,0,"ion-badge",0),e.YNc(3,si,3,0,"ion-fab",1),e.ALo(4,"async"),e.TgZ(5,"ion-segment",2),e.NdJ("ionChange",function(i){return o.selectionMethodChanged(i)}),e.TgZ(6,"ion-segment-button",3),e.ALo(7,"async"),e.TgZ(8,"ion-label"),e._uU(9,"Matrikel"),e.qZA(),e.qZA(),e.TgZ(10,"ion-segment-button",4),e.TgZ(11,"ion-label"),e._uU(12,"Kortudsnit"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"ion-modal",5),e.YNc(14,ci,10,1,"ng-template"),e.qZA()),2&n&&(e.Q6J("ngIf",e.lcZ(1,7,o.disableMatrikel$)&&void 0===o.geomSource),e.xp6(2),e.Q6J("ngIf","draw"===o.geomSource),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,9,o.selectedArea$)&&"jordstykke"===o.geomSource||"draw"===o.geomSource||"bounds"===o.geomSource),e.xp6(3),e.Q6J("disabled",e.lcZ(7,11,o.disableMatrikel$)),e.xp6(7),e.Q6J("isOpen",o.showModal)("initialBreakpoint",.4)("breakpoints",e.DdM(13,li)))},directives:[M.O5,f.cJ,f.QI,f.GO,f.Q$,f.ki,f.yp,f.IJ,f.W4,f.gu,f.Gu,f.sr,f.W2,E._Y,E.JL,E.sg,f.Ie,f.pK,f.j9,E.JJ,E.u,f.g2,f.YG],pipes:[M.Ov],styles:["ion-segment[_ngcontent-%COMP%]{background-color:var(--ion-color-tertiary)}.fab-vertical-bottom[_ngcontent-%COMP%]{bottom:55px}"],changeDetection:0}),t})();function pi(t,r){1&t&&e._UZ(0,"ion-progress-bar",4)}function fi(t,r){1&t&&e._UZ(0,"app-geo-search")}function di(t,r){1&t&&e._UZ(0,"app-info-tool",5)}function vi(t,r){1&t&&e._UZ(0,"app-map-geolocation")}function mi(t,r){1&t&&e._UZ(0,"app-map-draw-tool")}function gi(t,r){1&t&&e._UZ(0,"app-photo-tool",5)}function hi(t,r){1&t&&e._UZ(0,"app-save-project",5)}function _i(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"ion-chip",7),e.TgZ(2,"ion-label"),e._uU(3),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"ion-icon",8),e.NdJ("click",function(){return e.CHM(n),e.oxw().onClearProject()}),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,1,n.selectedProject$).name)}}const yi=[{path:"",component:(()=>{class t{constructor(n,o,a,i,c,d){this.rounter=n,this.route=o,this.mapStore=a,this.mapService=i,this.modalController=c,this.store=d,this.abandon$=new Ht.xQ,this.loading$=this.mapStore.mapstate$.pipe((0,G.U)(({loadingFeatureInfo:u,loadingLayer:m})=>({loadingFeatureInfo:u,loadingLayer:m})),(0,G.U)(u=>Object.values(u).some(m=>m))),this.activatedMapTools$=this.store.select("mapTools","activatedMapTools"),this.selectedProject$=this.store.select("project","selectedProject")}ngOnInit(){this.mapStore.mapstate$.pipe((0,Wt.R)(this.abandon$),(0,Ue.j)("loadingFeatureInfo")).subscribe(),this.route.queryParams.pipe((0,pr.q)(1),(0,Ze.b)(o=>{const a=[Number(o.x),Number(o.y)],i=Number(o.zoom);a[0]&&setTimeout(()=>{this.mapService.setView({center:a,zoom:i})},3e3)})).subscribe(),this.mapStore.mapstate$.pipe((0,Ue.j)("view"),(0,G.U)(o=>({x:null==o?void 0:o.center[0],y:null==o?void 0:o.center[1],zoom:null==o?void 0:o.zoom}))).pipe((0,Wt.R)(this.abandon$),(0,Ze.b)(o=>{this.rounter.navigate([],{relativeTo:this.route,queryParams:o})})).subscribe()}ngOnDestroy(){this.abandon$.next()}ionViewDidEnter(){this.mapService.resize()}onClearProject(){this.store.dispatch(fr._G()),this.store.dispatch(Xt.jd())}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(we.F0),e.Y36(we.gz),e.Y36(lt.C),e.Y36(re.S),e.Y36(f.IN),e.Y36(oe.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-tap-map"]],decls:22,vars:24,consts:[["type","indeterminate","color","tertiary",4,"ngIf"],[4,"ngIf"],["class","full-width-bottom-tool",4,"ngIf"],["class","current-project",4,"ngIf"],["type","indeterminate","color","tertiary"],[1,"full-width-bottom-tool"],[1,"current-project"],["color","primary","outline","",1,"project-chip"],["name","close-circle",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-content"),e.YNc(1,pi,1,0,"ion-progress-bar",0),e.ALo(2,"async"),e.TgZ(3,"app-map"),e._UZ(4,"app-map-layers-control"),e._UZ(5,"app-map-legend-fab"),e._UZ(6,"app-map-feature-info"),e.TgZ(7,"app-map-tools"),e.YNc(8,fi,1,0,"app-geo-search",1),e.ALo(9,"async"),e.YNc(10,di,1,0,"app-info-tool",2),e.ALo(11,"async"),e.YNc(12,vi,1,0,"app-map-geolocation",1),e.ALo(13,"async"),e.YNc(14,mi,1,0,"app-map-draw-tool",1),e.ALo(15,"async"),e.YNc(16,gi,1,0,"app-photo-tool",2),e.ALo(17,"async"),e.YNc(18,hi,1,0,"app-save-project",2),e.ALo(19,"async"),e.qZA(),e.qZA(),e.YNc(20,_i,6,3,"div",3),e.ALo(21,"async"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,8,o.loading$)),e.xp6(7),e.Q6J("ngIf",e.lcZ(9,10,o.activatedMapTools$).includes("geoSearch")),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,12,o.activatedMapTools$).includes("addressInfo")),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(13,14,o.activatedMapTools$).includes("saveProject")),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,16,o.activatedMapTools$).includes("draw")),e.xp6(2),e.Q6J("ngIf",e.lcZ(17,18,o.activatedMapTools$).includes("takePhoto")),e.xp6(2),e.Q6J("ngIf",e.lcZ(19,20,o.activatedMapTools$).includes("saveProject")),e.xp6(2),e.Q6J("ngIf",null!==e.lcZ(21,22,o.selectedProject$)))},directives:[f.W2,M.O5,mr,Cr,Zr,Fr,Gr,f.X7,Da,Ea,qa,Wa,Xa,ui,f.hM,f.Q$,f.gu],pipes:[M.Ov],styles:[".current-project[_ngcontent-%COMP%]{position:fixed;z-index:100;top:10px;width:100%;text-align:center}.project-chip[_ngcontent-%COMP%]{background:rgba(255,255,255,.4)}ion-progress-bar[_ngcontent-%COMP%]{position:fixed;top:0px;z-index:100}app-map-draw-tool[_ngcontent-%COMP%]{position:fixed;top:calc(50% - 76px);z-index:100;background-color:rgba(var(--ion-color-tertiary-rgb),.8);border-radius:28px}.full-width-bottom-tool[_ngcontent-%COMP%]{position:fixed;z-index:10;bottom:0;width:100%}app-info-tool[_ngcontent-%COMP%], app-photo-tool[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),t})()}];let bi=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[we.Bz.forChild(yi)],we.Bz]}),t})(),Ti=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[f.Pc,M.ez,E.u5,E.UX,bi]]}),t})()}}]);