(self.webpackChunkbesigt=self.webpackChunkbesigt||[]).push([[7914],{7914:(i,e,t)=>{"use strict";t.r(e),t.d(e,{LoginPageModule:()=>g});var o=t(6274),n=t(3324),s=t(1862),r=t(1515),a=t(1855),c=t(7272),u=t(7681),d=t(9450);const p=[{path:"",component:(()=>{class i{constructor(i,e,t,o){this.supabase=i,this.fb=e,this.router=t,this.userNotificationService=o}ngOnInit(){this.credentials=this.fb.group({email:["",[n.kI.required,n.kI.email]],password:["",n.kI.required]})}login(){this.userNotificationService.presentLoading(null).subscribe(),this.supabase.signIn(this.credentials.value).then(()=>(0,a.mG)(this,void 0,void 0,function*(){this.userNotificationService.dismissLoading(),this.router.navigateByUrl("/app/map",{replaceUrl:!0})}),i=>(0,a.mG)(this,void 0,void 0,function*(){this.userNotificationService.dismissLoading(),this.showError("Login fejlede",i.message)}))}signUp(){return(0,a.mG)(this,void 0,void 0,function*(){this.userNotificationService.presentLoading(null).subscribe(),this.supabase.signUp(this.credentials.value).then(()=>(0,a.mG)(this,void 0,void 0,function*(){this.userNotificationService.dismissLoading(),this.router.navigateByUrl("/app/map",{replaceUrl:!0})}),i=>(0,a.mG)(this,void 0,void 0,function*(){this.userNotificationService.dismissLoading(),this.showError("Sign up fejlede",i.message)}))})}showError(i,e){this.userNotificationService.presentToast({color:"danger",header:i,message:e,duration:3e3,position:"top"})}}return i.\u0275fac=function(e){return new(e||i)(c.Y36(u.T),c.Y36(n.qu),c.Y36(r.F0),c.Y36(d.w))},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-login"]],decls:15,vars:2,consts:[["color","primary",1,"ion-text-center"],["slot","end"],["defaultHref","app/map"],["fullscreen",""],[3,"formGroup","ngSubmit"],[1,"input-group"],["placeholder","Email","formControlName","email"],["type","password","placeholder","password","formControlName","password"],["type","submit","expand","block","color","primary",3,"disabled"],["type","button","expand","block","color","secondary",3,"click"]],template:function(i,e){1&i&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar",0),c.TgZ(2,"ion-buttons",1),c._UZ(3,"ion-back-button",2),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"ion-content",3),c.TgZ(5,"form",4),c.NdJ("ngSubmit",function(){return e.login()}),c.TgZ(6,"div",5),c.TgZ(7,"ion-item"),c._UZ(8,"ion-input",6),c.qZA(),c.TgZ(9,"ion-item"),c._UZ(10,"ion-input",7),c.qZA(),c.qZA(),c.TgZ(11,"ion-button",8),c._uU(12,"Log in"),c.qZA(),c.TgZ(13,"ion-button",9),c.NdJ("click",function(){return e.signUp()}),c._uU(14,"Sign up! "),c.qZA(),c.qZA(),c.qZA()),2&i&&(c.xp6(5),c.Q6J("formGroup",e.credentials),c.xp6(6),c.Q6J("disabled",!e.credentials.valid))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.W2,n._Y,n.JL,n.sg,s.Ie,s.pK,s.j9,n.JJ,n.u,s.YG],styles:["ion-content[_ngcontent-%COMP%]{--padding-top:40%;--padding-start:10%;--padding-end:10%}.errors[_ngcontent-%COMP%]{font-size:small;color:#fff;background:var(--ion-color-danger);padding-left:15px;padding-top:5px;padding-bottom:5px}"]}),i})()}];let l=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[r.Bz.forChild(p)],r.Bz]}),i})(),g=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[o.ez,n.u5,s.Pc,l,n.UX]]}),i})()}}]);