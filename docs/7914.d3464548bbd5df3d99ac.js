(self.webpackChunkbesigt=self.webpackChunkbesigt||[]).push([[7914],{7914:(i,e,t)=>{"use strict";t.r(e),t.d(e,{LoginPageModule:()=>g});var n=t(6274),o=t(3324),s=t(4683),r=t(4337),a=t(1855),d=t(7272),c=t(7681),p=t(9450);const l=[{path:"",component:(()=>{class i{constructor(i,e,t,n){this.supabase=i,this.fb=e,this.router=t,this.userNotificationService=n}ngOnInit(){this.credentials=this.fb.group({email:["",[o.kI.required,o.kI.email]],password:["",o.kI.required]})}login(){return(0,a.mG)(this,void 0,void 0,function*(){const i=yield this.userNotificationService.presentLoading(null);this.supabase.signIn(this.credentials.value).then(()=>(0,a.mG)(this,void 0,void 0,function*(){yield i.dismiss(),this.router.navigateByUrl("/app/map",{replaceUrl:!0})}),e=>(0,a.mG)(this,void 0,void 0,function*(){yield i.dismiss(),this.showError("Login fejlede",e.message)}))})}signUp(){return(0,a.mG)(this,void 0,void 0,function*(){const i=yield this.userNotificationService.presentLoading(null);this.supabase.signUp(this.credentials.value).then(()=>(0,a.mG)(this,void 0,void 0,function*(){yield i.dismiss(),this.router.navigateByUrl("/app/map",{replaceUrl:!0})}),e=>(0,a.mG)(this,void 0,void 0,function*(){yield i.dismiss(),this.showError("Sign up fejlede",e.message)}))})}showError(i,e){this.userNotificationService.presentToast({color:"danger",header:i,message:e,duration:3e3,position:"top"})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(c.T),d.Y36(o.qu),d.Y36(r.F0),d.Y36(p.w))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-login"]],decls:15,vars:2,consts:[["color","primary",1,"ion-text-center"],["slot","end"],["defaultHref","app/map"],["fullscreen",""],[3,"formGroup","ngSubmit"],[1,"input-group"],["placeholder","Email","formControlName","email"],["type","password","placeholder","password","formControlName","password"],["type","submit","expand","block","color","primary",3,"disabled"],["type","button","expand","block","color","secondary",3,"click"]],template:function(i,e){1&i&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar",0),d.TgZ(2,"ion-buttons",1),d._UZ(3,"ion-back-button",2),d.qZA(),d.qZA(),d.qZA(),d.TgZ(4,"ion-content",3),d.TgZ(5,"form",4),d.NdJ("ngSubmit",function(){return e.login()}),d.TgZ(6,"div",5),d.TgZ(7,"ion-item"),d._UZ(8,"ion-input",6),d.qZA(),d.TgZ(9,"ion-item"),d._UZ(10,"ion-input",7),d.qZA(),d.qZA(),d.TgZ(11,"ion-button",8),d._uU(12,"Log in"),d.qZA(),d.TgZ(13,"ion-button",9),d.NdJ("click",function(){return e.signUp()}),d._uU(14,"Sign up! "),d.qZA(),d.qZA(),d.qZA()),2&i&&(d.xp6(5),d.Q6J("formGroup",e.credentials),d.xp6(6),d.Q6J("disabled",!e.credentials.valid))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.W2,o._Y,o.JL,o.sg,s.Ie,s.pK,s.j9,o.JJ,o.u,s.YG],styles:["ion-content[_ngcontent-%COMP%]{--padding-top:40%;--padding-start:10%;--padding-end:10%}.errors[_ngcontent-%COMP%]{font-size:small;color:#fff;background:var(--ion-color-danger);padding-left:15px;padding-top:5px;padding-bottom:5px}"]}),i})()}];let u=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[r.Bz.forChild(l)],r.Bz]}),i})(),g=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[n.ez,o.u5,s.Pc,u,o.UX]]}),i})()}}]);