"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6345],{6345:(I,h,a)=>{a.r(h),a.d(h,{ProjectDetailPageModule:()=>O});var r=a(9808),d=a(3075),o=a(3349),m=a(618),P=a(655),Z=a(7545),f=a(4850),j=a(2994),T=a(567),t=a(5e3),v=a(8780),x=a(7914),D=a(2313),A=a(9385);function M(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"ion-card"),t.TgZ(2,"ion-card-header"),t.TgZ(3,"ion-card-subtitle"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"ion-card-title"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"ion-card-content"),t._uU(9),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(4),t.hij("Oprettet: ",t.lcZ(5,3,n.inserted_at)," "),t.xp6(3),t.Oqu(n.name),t.xp6(2),t.hij(" ",n.description," ")}}function U(e,i){1&e&&t._UZ(0,"img",13),2&e&&t.Q6J("src",i.$implicit,t.LSH)}function b(e,i){if(1&e&&(t.ynx(0),t.YNc(1,U,1,1,"img",12),t.ALo(2,"async"),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,n.photos$))}}function y(e,i){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"ion-header"),t.TgZ(2,"ion-toolbar",1),t.TgZ(3,"ion-buttons",2),t._UZ(4,"ion-back-button",3),t.qZA(),t.TgZ(5,"ion-title"),t._uU(6),t.qZA(),t.TgZ(7,"ion-buttons",4),t.TgZ(8,"ion-button"),t._UZ(9,"ion-icon",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"ion-segment",6),t.NdJ("ionChange",function(s){return t.CHM(n),t.oxw().onTabChange(s)})("ngModelChange",function(s){return t.CHM(n),t.oxw().selectedTab=s}),t.TgZ(11,"ion-segment-button",7),t._UZ(12,"ion-icon",8),t.qZA(),t.TgZ(13,"ion-segment-button",9),t._UZ(14,"ion-icon",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"ion-content",11),t.YNc(16,M,10,5,"ng-container",0),t.YNc(17,b,3,3,"ng-container",0),t.qZA(),t.BQk()}if(2&e){const n=i.ngIf,c=t.oxw();t.xp6(6),t.Oqu(n.name),t.xp6(4),t.Q6J("ngModel",c.selectedTab),t.xp6(6),t.Q6J("ngIf","detail"===c.selectedTab),t.xp6(1),t.Q6J("ngIf","photos"===c.selectedTab)}}const C=[{path:"",component:(()=>{class e{constructor(n,c,s,u,Q){this.projectStore=n,this.route=c,this.supabase=s,this.domSanitizer=u,this.notification=Q,this.selectedTab="detail",this.project$=this.route.paramMap.pipe((0,Z.w)(l=>this.projectStore.projects$.pipe((0,f.U)(g=>g.find(p=>p.id===l.get("id")))))),this.photos$=this.project$.pipe((0,j.b)(()=>(0,P.mG)(this,void 0,void 0,function*(){})),(0,f.U)(l=>l.images.map(g=>g.file_name.replace("images/",""))),(0,Z.w)(l=>{const g=l.map(p=>this.supabase.downloadImage(p));return(0,T.D)(g).pipe((0,f.U)(p=>p.map(Y=>this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(Y.data)))))}),(0,j.b)(()=>(0,P.mG)(this,void 0,void 0,function*(){})))}ngOnInit(){}onTabChange(n){this.selectedTab=n.detail.value}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.c),t.Y36(m.gz),t.Y36(x.T),t.Y36(D.H7),t.Y36(A.w))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-project-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],["color","primary",1,"ion-text-center"],["slot","start"],["aria-label","Tilbage","mode","md","defaultHref","/app/projects"],["slot","end"],["name","pencil"],["color","secondary",3,"ngModel","ionChange","ngModelChange"],["value","detail"],["name","information-circle"],["value","photos"],["name","camera"],["fullscreen",""],[3,"src",4,"ngFor","ngForOf"],[3,"src"]],template:function(n,c){1&n&&(t.YNc(0,y,18,4,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,c.project$))},directives:[r.O5,o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.YG,o.gu,o.cJ,o.QI,d.JJ,d.On,o.GO,o.W2,o.PM,o.Zi,o.tO,o.Dq,o.FN,r.sg],pipes:[r.Ov,r.uU],styles:["ion-segment[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}"],changeDetection:0}),e})()}];let J=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.Bz.forChild(C)],m.Bz]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.ez,d.u5,o.Pc,J]]}),e})()}}]);