"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6345],{6345:(U,d,r)=>{r.r(d),r.d(d,{ProjectDetailPageModule:()=>v});var s=r(9808),g=r(3075),o=r(3349),p=r(5330),m=r(7545),u=r(4850),f=r(567),e=r(5e3),Z=r(7914),P=r(2313),_=r(5094);function h(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"ion-card"),e.TgZ(2,"ion-card-header"),e.TgZ(3,"ion-card-subtitle"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"ion-card-title"),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"ion-card-content"),e._uU(9),e.qZA(),e.qZA(),e.BQk()),2&t){const n=e.oxw().ngIf;e.xp6(4),e.hij("Oprettet: ",e.lcZ(5,3,n.inserted_at)," "),e.xp6(3),e.Oqu(n.name),e.xp6(2),e.hij(" ",n.description," ")}}function T(t,i){1&t&&e._UZ(0,"img",15),2&t&&e.Q6J("src",i.$implicit,e.LSH)}function j(t,i){if(1&t&&(e.ynx(0),e.YNc(1,T,1,1,"img",14),e.BQk()),2&t){const n=i.ngIf;e.xp6(1),e.Q6J("ngForOf",n)}}function x(t,i){1&t&&(e.TgZ(0,"div",16),e._UZ(1,"ion-spinner",17),e._UZ(2,"br"),e.TgZ(3,"ion-text",18),e._uU(4,"Henter billede..."),e.qZA(),e.qZA())}function A(t,i){if(1&t&&(e.ynx(0),e.YNc(1,j,2,1,"ng-container",12),e.ALo(2,"async"),e.YNc(3,x,5,0,"ng-template",null,13,e.W1O),e.BQk()),2&t){const n=e.MAs(4),a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,a.photos$))("ngIfElse",n)}}function D(t,i){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-header"),e.TgZ(2,"ion-toolbar",1),e.TgZ(3,"ion-buttons",2),e._UZ(4,"ion-back-button",3),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6),e.qZA(),e.TgZ(7,"ion-buttons",4),e.TgZ(8,"ion-button"),e._UZ(9,"ion-icon",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"ion-segment",6),e.NdJ("ionChange",function(c){return e.CHM(n),e.oxw().onTabChange(c)})("ngModelChange",function(c){return e.CHM(n),e.oxw().selectedTab=c}),e.TgZ(11,"ion-segment-button",7),e._UZ(12,"ion-icon",8),e.qZA(),e.TgZ(13,"ion-segment-button",9),e.ALo(14,"async"),e._UZ(15,"ion-icon",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"ion-content",11),e.YNc(17,h,10,5,"ng-container",0),e.YNc(18,A,5,4,"ng-container",0),e.qZA(),e.BQk()}if(2&t){const n=i.ngIf,a=e.oxw();let c;e.xp6(6),e.Oqu(n.name),e.xp6(4),e.Q6J("ngModel",a.selectedTab),e.xp6(3),e.Q6J("disabled",0===(null==(c=e.lcZ(14,5,a.photos$))?null:c.length)),e.xp6(4),e.Q6J("ngIf","detail"===a.selectedTab),e.xp6(1),e.Q6J("ngIf","photos"===a.selectedTab)}}const y=[{path:"",component:(()=>{class t{constructor(n,a,c,l){this.route=n,this.supabase=a,this.domSanitizer=c,this.store=l,this.selectedTab="detail"}ngOnInit(){this.project$=this.route.paramMap.pipe((0,m.w)(n=>this.store.select("project","projects").pipe((0,u.U)(a=>a.find(c=>c.id===n.get("id")))))),this.photos$=this.project$.pipe((0,u.U)(n=>n.images.map(a=>a.file_name.replace("images/",""))),(0,m.w)(n=>{const a=n.map(c=>this.supabase.downloadImage(c));return(0,f.D)(a).pipe((0,u.U)(c=>c.map(l=>this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(l.data)))))}))}onTabChange(n){this.selectedTab=n.detail.value}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p.gz),e.Y36(Z.T),e.Y36(P.H7),e.Y36(_.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-project-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],["color","primary",1,"ion-text-center"],["slot","start"],["aria-label","Tilbage","mode","md","defaultHref","/app/projects"],["slot","end"],["name","pencil"],["mode","md","color","secondary",3,"ngModel","ionChange","ngModelChange"],["value","detail"],["name","information-circle"],["value","photos",3,"disabled"],["name","camera"],["fullscreen",""],[4,"ngIf","ngIfElse"],["loading",""],[3,"src",4,"ngFor","ngForOf"],[3,"src"],[1,"ion-text-center","ion-margin-top"],["color","primary"],["color","medium"]],template:function(n,a){1&n&&(e.YNc(0,D,19,7,"ng-container",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,a.project$))},directives:[s.O5,o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.YG,o.gu,o.cJ,o.QI,g.JJ,g.On,o.GO,o.W2,o.PM,o.Zi,o.tO,o.Dq,o.FN,s.sg,o.PQ,o.yW],pipes:[s.Ov,s.uU],styles:["ion-segment[_ngcontent-%COMP%]{background-color:var(--ion-color-light)}"],changeDetection:0}),t})()}];let b=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.Bz.forChild(y)],p.Bz]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,g.u5,o.Pc,b]]}),t})()}}]);