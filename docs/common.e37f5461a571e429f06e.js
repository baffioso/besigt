(self.webpackChunkbesigt=self.webpackChunkbesigt||[]).push([[8592],{7658:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(5133),i=n(6887),a=n(4366);const s=(e,t)=>{let n,s;const o=(e,r,i)=>{if("undefined"==typeof document)return;const a=document.elementFromPoint(e,r);a&&t(a)?a!==n&&(c(),l(a,i)):c()},l=(e,t)=>{n=e,s||(s=n);const i=n;(0,r.c)(()=>i.classList.add("ion-activated")),t()},c=(e=!1)=>{if(!n)return;const t=n;(0,r.c)(()=>t.classList.remove("ion-activated")),e&&s!==n&&n.click(),n=void 0};return(0,a.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>o(e.currentX,e.currentY,i.a),onMove:e=>o(e.currentX,e.currentY,i.b),onEnd:()=>{c(!0),(0,i.h)(),s=void 0}})}},4369:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,d:()=>a});var r=n(5392);const i=async(e,t,n,i,a)=>{if(e)return e.attachViewToDom(t,n,a,i);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof n?t.ownerDocument&&t.ownerDocument.createElement(n):n;return i&&i.forEach(e=>s.classList.add(e)),a&&Object.assign(s,a),t.appendChild(s),await new Promise(e=>(0,r.c)(s,e)),s},a=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},6887:(e,t,n)=>{"use strict";n.d(t,{a:()=>a,b:()=>s,c:()=>i,d:()=>l,h:()=>o});const r={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:n})},notification(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},i=()=>{r.selection()},a=()=>{r.selectionStart()},s=()=>{r.selectionChanged()},o=()=>{r.selectionEnd()},l=e=>{r.impact(e)}},8085:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});const r=e=>{try{if(e instanceof class{constructor(e){this.value=e}})return e.value;if(!s()||"string"!=typeof e||""===e)return e;const t=document.createDocumentFragment(),n=document.createElement("div");t.appendChild(n),n.innerHTML=e,l.forEach(e=>{const n=t.querySelectorAll(e);for(let r=n.length-1;r>=0;r--){const e=n[r];e.parentNode?e.parentNode.removeChild(e):t.removeChild(e);const s=a(e);for(let t=0;t<s.length;t++)i(s[t])}});const r=a(t);for(let e=0;e<r.length;e++)i(r[e]);const o=document.createElement("div");o.appendChild(t);const c=o.querySelector("div");return null!==c?c.innerHTML:o.innerHTML}catch(t){return console.error(t),""}},i=e=>{if(e.nodeType&&1!==e.nodeType)return;for(let n=e.attributes.length-1;n>=0;n--){const t=e.attributes.item(n),r=t.name;if(!o.includes(r.toLowerCase())){e.removeAttribute(r);continue}const i=t.value;null!=i&&i.toLowerCase().includes("javascript:")&&e.removeAttribute(r)}const t=a(e);for(let n=0;n<t.length;n++)i(t[n])},a=e=>null!=e.children?e.children:e.childNodes,s=()=>{const e=window,t=e&&e.Ionic&&e.Ionic.config;return!t||(t.get?t.get("sanitizerEnabled",!0):!0===t.sanitizerEnabled||void 0===t.sanitizerEnabled)},o=["class","id","href","src","name","slot"],l=["script","style","iframe","meta","link","object","embed"]},977:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});const r={bubbles:{dur:1e3,circles:9,fn:(e,t,n)=>{const r=e*t/n-e+"ms",i=2*Math.PI*t/n;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":r}}}},circles:{dur:1e3,circles:8,fn:(e,t,n)=>{const r=t/n,i=e*r-e+"ms",a=2*Math.PI*r;return{r:5,style:{top:9*Math.sin(a)+"px",left:9*Math.cos(a)+"px","animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})}}},9046:(e,t,n)=>{"use strict";n.d(t,{c:()=>i,g:()=>a,h:()=>r,o:()=>o});const r=(e,t)=>null!==t.closest(e),i=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,a=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},s=/^[a-z][a-z0-9+\-.]*:/,o=async(e,t,n,r)=>{if(null!=e&&"#"!==e[0]&&!s.test(e)){const i=document.querySelector("ion-router");if(i)return null!=t&&t.preventDefault(),i.push(e,n,r)}return!1}},7522:(e,t,n)=>{"use strict";n.d(t,{K:()=>m});var r=n(3606),i=n(5401),a=n(9923);let s=(()=>{class e{constructor(){this._layers$=new a.X([{name:"Danmarks arealinformation",type:"wms",url:"https://arealinformation.miljoeportal.dk/gis/services/DAIdb/MapServer/WMSServer",layers:[{name:"BES_VANDLOEB",label:"Beskyttede vandl\xf8b",addedToMap:!1},{name:"BES_NATURTYPER",label:"Beskyttede naturtyper",addedToMap:!1},{name:"SOE_BES_LINJER",label:"S\xf8beskyttelseslinjer",addedToMap:!1},{name:"AA_BES_LINJER",label:"\xc5beskyttelseslinjer",addedToMap:!1},{name:"BES_STEN_JORDDIGER",label:"Beskyttede sten og jorddiger",addedToMap:!1},{name:"FREDEDE_OMR",label:"Fredede omr\xe5der",addedToMap:!1},{name:"FREDEDE_OMR_FORSLAG",label:"Fredede omr\xe5der (forslag)",addedToMap:!1},{name:"RAASTOFOMR",label:"R\xe5stofomr\xe5der",addedToMap:!1}]},{name:"Grundvand",type:"wms",url:"https://miljoegis.mim.dk/wms?servicename=grundvand_wms",layers:[{name:"gvkort_drikkevandsinteresser",label:"Drikkevandsinteresser, vedtaget",addedToMap:!1},{name:"gvkort_indvindingsoplande_i_osd",label:"Indvindingsoplande inden for OSD",addedToMap:!1},{name:"gvkort_indvindingsoplande_udenfor_osd",label:"Indvindingsoplande uden for OSD, vedtaget",addedToMap:!1},{name:"gvkort_foelsommeindvindingsomraader",label:"F\xf8lsomme indvindingsomr\xe5der, vedtaget",addedToMap:!1},{name:"gvkort_bnbo",label:"Boringsn\xe6re beskyttelsesomr\xe5der (BNBO)",addedToMap:!1}]}]),this.layers$=this._layers$.asObservable()}changeAddedToMapState(e,t,n){const r=this._layers$.value.map(r=>{if(r.name===e){const e=r.layers.map(e=>e.name===t?Object.assign(Object.assign({},e),{addedToMap:n}):e);return Object.assign(Object.assign({},r),{layers:e})}return r});this._layers$.next(r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var o=n(78),l=n(6274);function c(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ion-item"),r.TgZ(1,"ion-label"),r._uU(2),r.qZA(),r.TgZ(3,"ion-toggle",7),r.NdJ("ionChange",function(t){const n=r.CHM(e).$implicit,i=r.oxw().$implicit;return r.oxw().onLayerToggle(t,i,n)}),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit;r.xp6(2),r.Oqu(e.label),r.xp6(1),r.Q6J("name",e.name)("checked",e.addedToMap)}}function d(e,t){if(1&e&&(r.TgZ(0,"ion-list"),r.TgZ(1,"ion-list-header",5),r.TgZ(2,"ion-label",6),r._uU(3),r.qZA(),r.qZA(),r.YNc(4,c,4,3,"ion-item",1),r.qZA()),2&e){const e=t.$implicit,n=r.oxw();r.xp6(3),r.hij(" ",e.name," "),r.xp6(1),r.Q6J("ngForOf",e.layers)("ngForTrackBy",n.trackItems)}}let m=(()=>{class e{constructor(e,t,n){this.modalController=e,this.mapLayersService=t,this.mapService=n,this.layersSources$=this.mapLayersService.layers$}ngOnInit(){}onLayerToggle(e,t,n){this.mapLayersService.changeAddedToMapState(t.name,n.name,e.detail.checked),e.detail.checked?this.mapService.addLayer(t.url,n):this.mapService.removeLayer(n.name)}dismiss(){this.modalController.dismiss()}trackItems(e,t){return t.name}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(i.IN),r.Y36(s),r.Y36(o.S))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-map-layers-control-modal"]],decls:10,vars:4,consts:[["color","primary",1,"ion-text-center"],[4,"ngFor","ngForOf","ngForTrackBy"],["vertical","bottom","horizontal","center","slot","fixed"],["size","small","color","primary",3,"click"],["name","checkmark"],["color","light"],["role","heading","aria-level","2"],["slot","end",3,"name","checked","ionChange"]],template:function(e,t){1&e&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar",0),r.TgZ(2,"ion-title"),r._uU(3,"Lag"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(4,"ion-content"),r.YNc(5,d,5,3,"ion-list",1),r.ALo(6,"async"),r.qZA(),r.TgZ(7,"ion-fab",2),r.TgZ(8,"ion-fab-button",3),r.NdJ("click",function(){return t.dismiss()}),r._UZ(9,"ion-icon",4),r.qZA(),r.qZA()),2&e&&(r.xp6(5),r.Q6J("ngForOf",r.lcZ(6,2,t.layersSources$))("ngForTrackBy",t.trackItems))},directives:[i.Gu,i.sr,i.wd,i.W2,l.sg,i.IJ,i.W4,i.gu,i.q_,i.yh,i.Q$,i.Ie,i.ho,i.w],pipes:[l.Ov],styles:[""]}),e})()}}]);