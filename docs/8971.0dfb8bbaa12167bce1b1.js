(self.webpackChunkbesigt=self.webpackChunkbesigt||[]).push([[8971],{8971:(t,n,e)=>{"use strict";e.r(n),e.d(n,{MapPageModule:()=>k});var o=e(5401),c=e(6274),r=e(4988),i=e(6015),a=e(3606),s=e(78);let l=(()=>{class t{constructor(t){this.mapService=t}ngAfterViewInit(){this.mapService.createMap(),setTimeout(()=>{this.mapService.resize()},500)}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(s.S))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-map"]],decls:1,vars:0,consts:[["id","ol-map",1,"map-container"]],template:function(t,n){1&t&&a._UZ(0,"div",0)},styles:[".map-container[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})();function p(t,n,e,o){return new(e||(e=Promise))(function(c,r){function i(t){try{s(o.next(t))}catch(n){r(n)}}function a(t){try{s(o.throw(t))}catch(n){r(n)}}function s(t){var n;t.done?c(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,a)}s((o=o.apply(t,n||[])).next())})}var u=e(7522);let m=(()=>{class t{constructor(t){this.modalController=t}ngOnInit(){}onShowLayersControl(){return p(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:u.K,cssClass:"my-custom-class"});return yield t.present()})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(o.IN))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-map-layers-control"]],decls:3,vars:0,consts:[["horizontal","end","vertical","top","slot","fixed"],["color","primary",3,"click"],["name","layers-outline"]],template:function(t,n){1&t&&(a.TgZ(0,"ion-fab",0),a.TgZ(1,"ion-fab-button",1),a.NdJ("click",function(){return n.onShowLayersControl()}),a._UZ(2,"ion-icon",2),a.qZA(),a.qZA())},directives:[o.IJ,o.W4,o.gu],styles:[""]}),t})();var f=e(4689);let g=(()=>{class t{constructor(t){this.modalController=t}ngOnInit(){}onShowGeoSearch(){return p(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:f.p,cssClass:"my-custom-class"});return yield t.present()})}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(o.IN))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-map-geosearch"]],decls:2,vars:0,consts:[["size","small","color","light",3,"click"],["name","search"]],template:function(t,n){1&t&&(a.TgZ(0,"ion-fab-button",0),a.NdJ("click",function(){return n.onShowGeoSearch()}),a._UZ(1,"ion-icon",1),a.qZA())},directives:[o.W4,o.gu],styles:[""]}),t})(),h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-map-tools"]],decls:13,vars:0,consts:[["horizontal","start","vertical","top","slot","fixed"],["color","primary"],["name","construct-outline"],["color","light"],["name","analytics"],["name","camera"],["name","footsteps"],["name","bookmark"]],template:function(t,n){1&t&&(a.TgZ(0,"ion-fab",0),a.TgZ(1,"ion-fab-button",1),a._UZ(2,"ion-icon",2),a.qZA(),a.TgZ(3,"ion-fab-list"),a._UZ(4,"app-map-geosearch"),a.TgZ(5,"ion-fab-button",3),a._UZ(6,"ion-icon",4),a.qZA(),a.TgZ(7,"ion-fab-button",3),a._UZ(8,"ion-icon",5),a.qZA(),a.TgZ(9,"ion-fab-button",3),a._UZ(10,"ion-icon",6),a.qZA(),a.TgZ(11,"ion-fab-button",3),a._UZ(12,"ion-icon",7),a.qZA(),a.qZA(),a.qZA())},directives:[o.IJ,o.W4,o.gu,o.zq,g],styles:[""]}),t})();var d=e(8561);function Z(...t){const n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return e=>(0,d.U)(function(t,n){return e=>{let o=e;for(let c=0;c<n;c++){const n=null!=o?o[t[c]]:void 0;if(void 0===n)return;o=n}return o}}(t,n))(e)}var v=e(2329);function y(t,n){1&t&&a._UZ(0,"ion-spinner",4)}let b=(()=>{class t{constructor(t,n){this.mapService=t,this.mapStoreService=n,this.tracking$=this.mapStoreService.mapstate$.pipe(Z("tracking")),this.locating$=this.mapStoreService.mapstate$.pipe(Z("locating")),this.tracking=!1}ngOnInit(){}onToggleGeolocate(){this.tracking?(this.tracking=!1,this.mapService.stopTracking()):(this.tracking=!0,this.mapService.startTracking())}}return t.\u0275fac=function(n){return new(n||t)(a.Y36(s.S),a.Y36(v.C))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-map-geolocation"]],decls:5,vars:4,consts:[["horizontal","end","vertical","bottom","slot","fixed"],[3,"color","click"],["name","navigate-outline"],["color","medium",4,"ngIf"],["color","medium"]],template:function(t,n){1&t&&(a.TgZ(0,"ion-fab",0),a.TgZ(1,"ion-fab-button",1),a.NdJ("click",function(){return n.onToggleGeolocate()}),a._UZ(2,"ion-icon",2),a.YNc(3,y,1,0,"ion-spinner",3),a.ALo(4,"async"),a.qZA(),a.qZA()),2&t&&(a.xp6(1),a.Q6J("color",n.tracking?"warning":"primary"),a.xp6(2),a.Q6J("ngIf",a.lcZ(4,2,n.locating$)))},directives:[o.IJ,o.W4,o.gu,c.O5,o.PQ],pipes:[c.Ov],styles:[""]}),t})();const w=[{path:"",component:(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-tap-map"]],decls:5,vars:0,template:function(t,n){1&t&&(a.TgZ(0,"ion-content"),a._UZ(1,"app-map"),a._UZ(2,"app-map-layers-control"),a._UZ(3,"app-map-tools"),a._UZ(4,"app-map-geolocation"),a.qZA())},directives:[o.W2,l,m,h,b],styles:[""]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[i.Bz.forChild(w)],i.Bz]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[o.Pc,c.ez,r.u5,S]]}),t})()}}]);