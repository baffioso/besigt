(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{76:(Ye,fe,p)=>{"use strict";p.d(fe,{oK:()=>i,GW:()=>D,dk:()=>G});var i=(()=>{return(ne=i||(i={})).Prompt="PROMPT",ne.Camera="CAMERA",ne.Photos="PHOTOS",i;var ne})(),D=(()=>{return(ne=D||(D={})).Rear="REAR",ne.Front="FRONT",D;var ne})(),G=(()=>{return(ne=G||(G={})).Uri="uri",ne.Base64="base64",ne.DataUrl="dataUrl",G;var ne})()},7423:(Ye,fe,p)=>{"use strict";p.d(fe,{xz:()=>P,Uw:()=>O,fo:()=>T});var i=p(5861);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var S=(()=>{return(B=S||(S={})).Unimplemented="UNIMPLEMENTED",B.Unavailable="UNAVAILABLE",S;var B})();class P extends Error{constructor(F,M){super(F),this.message=F,this.code=M}}const w=B=>{var F,M,y,R,z;const re=B.CapacitorCustomPlatform||null,le=B.Capacitor||{},he=le.Plugins=le.Plugins||{},xe=B.CapacitorPlatforms,W=(null===(F=null==xe?void 0:xe.currentPlatform)||void 0===F?void 0:F.getPlatform)||(()=>null!==re?re.name:(B=>{var F,M;return(null==B?void 0:B.androidBridge)?"android":(null===(M=null===(F=null==B?void 0:B.webkit)||void 0===F?void 0:F.messageHandlers)||void 0===M?void 0:M.bridge)?"ios":"web"})(B)),oe=(null===(M=null==xe?void 0:xe.currentPlatform)||void 0===M?void 0:M.isNativePlatform)||(()=>"web"!==W()),Ie=(null===(y=null==xe?void 0:xe.currentPlatform)||void 0===y?void 0:y.isPluginAvailable)||(Ce=>{const ke=Ge.get(Ce);return!(!(null==ke?void 0:ke.platforms.has(W()))&&!_e(Ce))}),_e=(null===(R=null==xe?void 0:xe.currentPlatform)||void 0===R?void 0:R.getPluginHeader)||(Ce=>{var ke;return null===(ke=le.PluginHeaders)||void 0===ke?void 0:ke.find(qe=>qe.name===Ce)}),Ge=new Map,Be=(null===(z=null==xe?void 0:xe.currentPlatform)||void 0===z?void 0:z.registerPlugin)||((Ce,ke={})=>{const qe=Ge.get(Ce);if(qe)return console.warn(`Capacitor plugin "${Ce}" already registered. Cannot register plugins twice.`),qe.proxy;const at=W(),Gt=_e(Ce);let Tt;const Ht=function(){var Lt=(0,i.Z)(function*(){return!Tt&&at in ke?Tt=Tt="function"==typeof ke[at]?yield ke[at]():ke[at]:null!==re&&!Tt&&"web"in ke&&(Tt=Tt="function"==typeof ke.web?yield ke.web():ke.web),Tt});return function(){return Lt.apply(this,arguments)}}(),fn=Lt=>{let vn;const Pn=(...kt)=>{const dt=Ht().then(ht=>{const ot=((Lt,vn)=>{var Pn,kt;if(!Gt){if(Lt)return null===(kt=Lt[vn])||void 0===kt?void 0:kt.bind(Lt);throw new P(`"${Ce}" plugin is not implemented on ${at}`,S.Unimplemented)}{const dt=null==Gt?void 0:Gt.methods.find(ht=>vn===ht.name);if(dt)return"promise"===dt.rtype?ht=>le.nativePromise(Ce,vn.toString(),ht):(ht,ot)=>le.nativeCallback(Ce,vn.toString(),ht,ot);if(Lt)return null===(Pn=Lt[vn])||void 0===Pn?void 0:Pn.bind(Lt)}})(ht,Lt);if(ot){const _t=ot(...kt);return vn=null==_t?void 0:_t.remove,_t}throw new P(`"${Ce}.${Lt}()" is not implemented on ${at}`,S.Unimplemented)});return"addListener"===Lt&&(dt.remove=(0,i.Z)(function*(){return vn()})),dt};return Pn.toString=()=>`${Lt.toString()}() { [capacitor code] }`,Object.defineProperty(Pn,"name",{value:Lt,writable:!1,configurable:!1}),Pn},He=fn("addListener"),bt=fn("removeListener"),nt=(Lt,vn)=>{const Pn=He({eventName:Lt},vn),kt=function(){var ht=(0,i.Z)(function*(){const ot=yield Pn;bt({eventName:Lt,callbackId:ot},vn)});return function(){return ht.apply(this,arguments)}}(),dt=new Promise(ht=>Pn.then(()=>ht({remove:kt})));return dt.remove=(0,i.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield kt()}),dt},Ut=new Proxy({},{get(Lt,vn){switch(vn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Gt?nt:He;case"removeListener":return bt;default:return fn(vn)}}});return he[Ce]=Ut,Ge.set(Ce,{name:Ce,proxy:Ut,platforms:new Set([...Object.keys(ke),...Gt?[at]:[]])}),Ut});return le.convertFileSrc||(le.convertFileSrc=Ce=>Ce),le.getPlatform=W,le.handleError=Ce=>B.console.error(Ce),le.isNativePlatform=oe,le.isPluginAvailable=Ie,le.pluginMethodNoop=(Ce,ke,qe)=>Promise.reject(`${qe} does not have an implementation of "${ke}".`),le.registerPlugin=Be,le.Exception=P,le.DEBUG=!!le.DEBUG,le.isLoggingEnabled=!!le.isLoggingEnabled,le.platform=le.getPlatform(),le.isNative=le.isNativePlatform(),le},m=(B=>B.Capacitor=w(B))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),T=m.registerPlugin;class O{constructor(F){this.listeners={},this.windowListeners={},F&&(console.warn(`Capacitor WebPlugin "${F.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=F)}addListener(F,M){var y=this;this.listeners[F]||(this.listeners[F]=[]),this.listeners[F].push(M);const z=this.windowListeners[F];z&&!z.registered&&this.addWindowListener(z);const re=function(){var he=(0,i.Z)(function*(){return y.removeListener(F,M)});return function(){return he.apply(this,arguments)}}(),le=Promise.resolve({remove:re});return Object.defineProperty(le,"remove",{value:(he=(0,i.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield re()}),function(){return he.apply(this,arguments)})}),le;var he}removeAllListeners(){var F=this;return(0,i.Z)(function*(){F.listeners={};for(const M in F.windowListeners)F.removeWindowListener(F.windowListeners[M]);F.windowListeners={}})()}notifyListeners(F,M){const y=this.listeners[F];y&&y.forEach(R=>R(M))}hasListeners(F){return!!this.listeners[F].length}registerWindowListener(F,M){this.windowListeners[M]={registered:!1,windowEventName:F,pluginEventName:M,handler:y=>{this.notifyListeners(M,y)}}}unimplemented(F="not implemented"){return new m.Exception(F,S.Unimplemented)}unavailable(F="not available"){return new m.Exception(F,S.Unavailable)}removeListener(F,M){var y=this;return(0,i.Z)(function*(){const R=y.listeners[F];if(!R)return;const z=R.indexOf(M);y.listeners[F].splice(z,1),y.listeners[F].length||y.removeWindowListener(y.windowListeners[F])})()}addWindowListener(F){window.addEventListener(F.windowEventName,F.handler),F.registered=!0}removeWindowListener(F){!F||(window.removeEventListener(F.windowEventName,F.handler),F.registered=!1)}}},3349:(Ye,fe,p)=>{"use strict";p.d(fe,{Br:()=>ge,w:()=>qe,dr:()=>vn,oU:()=>kt,cs:()=>Xn,yp:()=>ht,YG:()=>$t,Sm:()=>Rt,PM:()=>Wt,FN:()=>_n,Zi:()=>Gn,tO:()=>en,Dq:()=>Hn,hM:()=>Vn,W2:()=>er,IJ:()=>kn,W4:()=>Ar,zq:()=>ni,Gu:()=>zr,gu:()=>or,pK:()=>Qr,Ie:()=>Rr,Q$:()=>tr,q_:()=>pr,yh:()=>ct,ki:()=>hi,X7:()=>Un,B7:()=>Mn,se:()=>cn,jP:()=>xn,cJ:()=>Fe,GO:()=>et,PQ:()=>Zt,yq:()=>Je,ZU:()=>je,UN:()=>Zn,yW:()=>it,g2:()=>Ot,wd:()=>Vt,ho:()=>an,sr:()=>yn,Pc:()=>Ni,r4:()=>ui,HT:()=>Z,IN:()=>pe,Dh:()=>vt,U5:()=>Gt,YI:()=>Tr,QI:()=>Tt,j9:()=>Ht,yF:()=>on});var i=p(5e3),D=p(3075),G=p(655),ne=p(3753),H=p(8929),L=p(591),$=p(618),w=(p(939),p(773),p(1363),p(7639)),C=p(6499),m=p(2098),g=(p(7313),p(3257)),O=(p(2733),p(9533));p(2335);var z=p(2198),re=p(7545),le=p(5778),he=p(9808);const A=w.i,oe=["*"],Te=["outlet"],Ie=[[["","slot","top"]],"*"],ae=["[slot=top]","*"];function _e(N,De){if(1&N&&i.GkF(0,1),2&N){const U=i.oxw();i.Q6J("ngTemplateOutlet",U.template)}}const Pe=N=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(N):"function"==typeof requestAnimationFrame?requestAnimationFrame(N):setTimeout(N);let Ge=(()=>{class N{constructor(U,be){this.injector=U,this.el=be,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(U){this.el.nativeElement.value=this.lastValue=null==U?"":U,Ue(this.el)}handleChangeEvent(U,be){U===this.el.nativeElement&&(be!==this.lastValue&&(this.lastValue=be,this.onChange(be)),Ue(this.el))}_handleBlurEvent(U){U===this.el.nativeElement&&(this.onTouched(),Ue(this.el))}registerOnChange(U){this.onChange=U}registerOnTouched(U){this.onTouched=U}setDisabledState(U){this.el.nativeElement.disabled=U}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let U;try{U=this.injector.get(D.a5)}catch(Qe){}if(!U)return;U.statusChanges&&(this.statusChanges=U.statusChanges.subscribe(()=>Ue(this.el)));const be=U.control;be&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(mn=>{if(be.get(mn)){const nr=be[mn].bind(be);be[mn]=(..._r)=>{nr(..._r),Ue(this.el)}}})}}return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.zs3),i.Y36(i.SBq))},N.\u0275dir=i.lG2({type:N,hostBindings:function(U,be){1&U&&i.NdJ("ionBlur",function(mn){return be._handleBlurEvent(mn.target)})}}),N})();const Ue=N=>{Pe(()=>{const De=N.nativeElement,U=Be(De);Ce(De,U);const be=De.closest("ion-item");be&&Ce(be,U)})},Be=N=>{const De=N.classList,U=[];for(let be=0;be<De.length;be++){const Qe=De.item(be);null!==Qe&&ke(Qe,"ng-")&&U.push(`ion-${Qe.substr(3)}`)}return U},Ce=(N,De)=>{const U=N.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(be=>U.remove(be)),De.forEach(be=>U.add(be))},ke=(N,De)=>N.substr(0,De.length)===De;let qe=(()=>{class N extends Ge{constructor(U,be){super(U,be)}writeValue(U){this.el.nativeElement.checked=this.lastValue=null!=U&&U,Ue(this.el)}_handleIonChange(U){this.handleChangeEvent(U,U.checked)}}return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.zs3),i.Y36(i.SBq))},N.\u0275dir=i.lG2({type:N,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(U,be){1&U&&i.NdJ("ionChange",function(mn){return be._handleIonChange(mn.target)})},features:[i._Bn([{provide:D.JU,useExisting:N,multi:!0}]),i.qOj]}),N})(),Gt=(()=>{class N extends Ge{constructor(U,be){super(U,be)}_handleIonSelect(U){this.handleChangeEvent(U,U.checked)}}return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.zs3),i.Y36(i.SBq))},N.\u0275dir=i.lG2({type:N,selectors:[["ion-radio"]],hostBindings:function(U,be){1&U&&i.NdJ("ionSelect",function(mn){return be._handleIonSelect(mn.target)})},features:[i._Bn([{provide:D.JU,useExisting:N,multi:!0}]),i.qOj]}),N})(),Tt=(()=>{class N extends Ge{constructor(U,be){super(U,be)}_handleChangeEvent(U){this.handleChangeEvent(U,U.value)}}return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.zs3),i.Y36(i.SBq))},N.\u0275dir=i.lG2({type:N,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(U,be){1&U&&i.NdJ("ionChange",function(mn){return be._handleChangeEvent(mn.target)})},features:[i._Bn([{provide:D.JU,useExisting:N,multi:!0}]),i.qOj]}),N})(),Ht=(()=>{class N extends Ge{constructor(U,be){super(U,be)}_handleInputEvent(U){this.handleChangeEvent(U,U.value)}}return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.zs3),i.Y36(i.SBq))},N.\u0275dir=i.lG2({type:N,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(U,be){1&U&&i.NdJ("ionChange",function(mn){return be._handleInputEvent(mn.target)})},features:[i._Bn([{provide:D.JU,useExisting:N,multi:!0}]),i.qOj]}),N})();const wn=(N,De)=>{const U=N.prototype;De.forEach(be=>{Object.defineProperty(U,be,{get(){return this.el[be]},set(Qe){this.z.runOutsideAngular(()=>this.el[be]=Qe)}})})},fn=(N,De)=>{const U=N.prototype;De.forEach(be=>{U[be]=function(){const Qe=arguments;return this.z.runOutsideAngular(()=>this.el[be].apply(this.el,Qe))}})},He=(N,De,U)=>{U.forEach(be=>N[be]=(0,ne.R)(De,be))};function nt(N){return function(U){const{defineCustomElementFn:be,inputs:Qe,methods:mn}=N;return void 0!==be&&be(),Qe&&wn(U,Qe),mn&&fn(U,mn),U}}let vn=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-app"]],ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0})],N),N})(),kt=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],N),N})(),ht=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","mode"]})],N),N})(),$t=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement,He(this,this.el,["ionFocus","ionBlur"])}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],N),N})(),Rt=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["collapse"]})],N),N})(),Wt=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],N),N})(),_n=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["mode"]})],N),N})(),Gn=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],N),N})(),en=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","mode"]})],N),N})(),Hn=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","mode"]})],N),N})(),Vn=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","disabled","mode","outline"]})],N),N})(),er=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement,He(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],N),N})(),kn=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],N),N})(),Ar=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement,He(this,this.el,["ionFocus","ionBlur"])}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],N),N})(),ni=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["activated","side"]})],N),N})(),zr=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],N),N})(),or=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],N),N})(),Qr=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement,He(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],N),N})(),Rr=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["button","color","counter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],N),N})(),tr=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],N),N})(),pr=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],N),N})(),ct=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],N),N})(),Un=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["buffer","color","mode","reversed","type","value"]})],N),N})(),Mn=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement,He(this,this.el,["ionFocus","ionBlur"])}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-radio"]],inputs:{color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","disabled","mode","name","value"]})],N),N})(),cn=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement,He(this,this.el,["ionChange"])}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",name:"name",value:"value"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["allowEmptySelection","name","value"]})],N),N})(),Fe=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement,He(this,this.el,["ionChange"])}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],N),N})(),et=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["disabled","layout","mode","type","value"]})],N),N})(),Zt=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],N),N})(),Je=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],N),N})(),je=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],N),N})(),it=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","mode"]})],N),N})(),Ot=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement,He(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],N),N})(),Vt=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","size"]})],N),N})(),an=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement,He(this,this.el,["ionChange","ionFocus","ionBlur"])}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","mode","name","value"]})],N),N})(),yn=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,U.detach(),this.el=be.nativeElement}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:oe,decls:1,vars:0,template:function(U,be){1&U&&(i.F$t(),i.Hsn(0))},encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({defineCustomElementFn:void 0,inputs:["color","mode"]})],N),N})();class Cn{constructor(De={}){this.data=De}get(De){return this.data[De]}}let Wn=(()=>{class N{constructor(U,be){this.zone=U,this.appRef=be}create(U,be,Qe){return new mr(U,be,Qe,this.appRef,this.zone)}}return N.\u0275fac=function(U){return new(U||N)(i.LFG(i.R0b),i.LFG(i.z2F))},N.\u0275prov=i.Yz7({token:N,factory:N.\u0275fac}),N})();class mr{constructor(De,U,be,Qe,mn){this.resolver=De,this.injector=U,this.location=be,this.appRef=Qe,this.zone=mn,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(De,U,be,Qe){return this.zone.run(()=>new Promise(mn=>{mn(Lr(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,De,U,be,Qe))}))}removeViewFromDom(De,U){return this.zone.run(()=>new Promise(be=>{const Qe=this.elRefMap.get(U);if(Qe){Qe.destroy(),this.elRefMap.delete(U);const mn=this.elEventsMap.get(U);mn&&(mn(),this.elEventsMap.delete(U))}be()}))}}const Lr=(N,De,U,be,Qe,mn,nr,_r,pn,yr,Ri)=>{const Nr=De.resolveComponentFactory(pn),po=i.zs3.create({providers:Ai(yr),parent:U}),$o=be?be.createComponent(Nr,be.length,po):Nr.create(po),qi=$o.instance,Xi=$o.location.nativeElement;if(yr&&Object.assign(qi,yr),Ri)for(const ns of Ri)Xi.classList.add(ns);const js=xi(N,qi,Xi);return _r.appendChild(Xi),be||Qe.attachView($o.hostView),$o.changeDetectorRef.reattach(),mn.set(Xi,$o),nr.set(Xi,js),Xi},Or=[m.L,m.a,m.b,m.c,m.d],xi=(N,De,U)=>N.run(()=>{const be=Or.filter(Qe=>"function"==typeof De[Qe]).map(Qe=>{const mn=nr=>De[Qe](nr.detail);return U.addEventListener(Qe,mn),()=>U.removeEventListener(Qe,mn)});return()=>be.forEach(Qe=>Qe())}),Fi=new i.OlP("NavParamsToken"),Ai=N=>[{provide:Fi,useValue:N},{provide:Cn,useFactory:Io,deps:[Fi]}],Io=N=>new Cn(N),fo=(N,De)=>((N=N.filter(U=>U.stackId!==De.stackId)).push(De),N),bo=(N,De)=>{const U=N.createUrlTree(["."],{relativeTo:De});return N.serializeUrl(U)},ts=(N,De)=>{if(!N)return;const U=xo(De);for(let be=0;be<U.length;be++){if(be>=N.length)return U[be];if(U[be]!==N[be])return}},xo=N=>N.split("/").map(De=>De.trim()).filter(De=>""!==De),ao=N=>{N&&(N.ref.destroy(),N.unlistenEvents())};class ye{constructor(De,U,be,Qe,mn,nr){this.containerEl=U,this.router=be,this.navCtrl=Qe,this.zone=mn,this.location=nr,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==De?xo(De):void 0}createView(De,U){var be;const Qe=bo(this.router,U),mn=null===(be=null==De?void 0:De.location)||void 0===be?void 0:be.nativeElement,nr=xi(this.zone,De.instance,mn);return{id:this.nextId++,stackId:ts(this.tabsPrefix,Qe),unlistenEvents:nr,element:mn,ref:De,url:Qe}}getExistingView(De){const U=bo(this.router,De),be=this.views.find(Qe=>Qe.url===U);return be&&be.ref.changeDetectorRef.reattach(),be}setActive(De){var U,be;const Qe=this.navCtrl.consumeTransition();let{direction:mn,animation:nr,animationBuilder:_r}=Qe;const pn=this.activeView,yr=((N,De)=>!De||N.stackId!==De.stackId)(De,pn);yr&&(mn="back",nr=void 0);const Ri=this.views.slice();let Nr;const po=this.router;po.getCurrentNavigation?Nr=po.getCurrentNavigation():(null===(U=po.navigations)||void 0===U?void 0:U.value)&&(Nr=po.navigations.value),(null===(be=null==Nr?void 0:Nr.extras)||void 0===be?void 0:be.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const $o=this.views.includes(De),qi=this.insertView(De,mn);$o||De.ref.changeDetectorRef.detectChanges();const Xi=De.animationBuilder;return void 0===_r&&"back"===mn&&!yr&&void 0!==Xi&&(_r=Xi),pn&&(pn.animationBuilder=_r),this.zone.runOutsideAngular(()=>this.wait(()=>(pn&&pn.ref.changeDetectorRef.detach(),De.ref.changeDetectorRef.reattach(),this.transition(De,pn,nr,this.canGoBack(1),!1,_r).then(()=>we(De,qi,Ri,this.location)).then(()=>({enteringView:De,direction:mn,animation:nr,tabSwitch:yr})))))}canGoBack(De,U=this.getActiveStackId()){return this.getStack(U).length>De}pop(De,U=this.getActiveStackId()){return this.zone.run(()=>{var be,Qe;const mn=this.getStack(U);if(mn.length<=De)return Promise.resolve(!1);const nr=mn[mn.length-De-1];let _r=nr.url;const pn=nr.savedData;if(pn){const Ri=pn.get("primary");(null===(Qe=null===(be=null==Ri?void 0:Ri.route)||void 0===be?void 0:be._routerState)||void 0===Qe?void 0:Qe.snapshot.url)&&(_r=Ri.route._routerState.snapshot.url)}const{animationBuilder:yr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(_r,Object.assign(Object.assign({},nr.savedExtras),{animation:yr})).then(()=>!0)})}startBackTransition(){const De=this.activeView;if(De){const U=this.getStack(De.stackId),be=U[U.length-2],Qe=be.animationBuilder;return this.wait(()=>this.transition(be,De,"back",this.canGoBack(2),!0,Qe))}return Promise.resolve()}endBackTransition(De){De?(this.skipTransition=!0,this.pop(1)):this.activeView&&$e(this.activeView,this.views,this.views,this.location)}getLastUrl(De){const U=this.getStack(De);return U.length>0?U[U.length-1]:void 0}getRootUrl(De){const U=this.getStack(De);return U.length>0?U[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ao),this.activeView=void 0,this.views=[]}getStack(De){return this.views.filter(U=>U.stackId===De)}insertView(De,U){return this.activeView=De,this.views=((N,De,U)=>"root"===U?fo(N,De):"forward"===U?((N,De)=>(N.indexOf(De)>=0?N=N.filter(be=>be.stackId!==De.stackId||be.id<=De.id):N.push(De),N))(N,De):((N,De)=>N.indexOf(De)>=0?N.filter(be=>be.stackId!==De.stackId||be.id<=De.id):fo(N,De))(N,De))(this.views,De,U),this.views.slice()}transition(De,U,be,Qe,mn,nr){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(U===De)return Promise.resolve(!1);const _r=De?De.element:void 0,pn=U?U.element:void 0,yr=this.containerEl;return _r&&_r!==pn&&(_r.classList.add("ion-page"),_r.classList.add("ion-page-invisible"),_r.parentElement!==yr&&yr.appendChild(_r),yr.commit)?yr.commit(_r,pn,{deepWait:!0,duration:void 0===be?0:void 0,direction:be,showGoBack:Qe,progressAnimation:mn,animationBuilder:nr}):Promise.resolve(!1)}wait(De){return(0,G.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const U=this.runningTask=De();return U.finally(()=>this.runningTask=void 0),U})}}const we=(N,De,U,be)=>"function"==typeof requestAnimationFrame?new Promise(Qe=>{requestAnimationFrame(()=>{$e(N,De,U,be),Qe()})}):Promise.resolve(),$e=(N,De,U,be)=>{U.filter(Qe=>!De.includes(Qe)).forEach(ao),De.forEach(Qe=>{const nr=be.path().split("?")[0].split("#")[0];if(Qe!==N&&Qe.url!==nr){const _r=Qe.element;_r.setAttribute("aria-hidden","true"),_r.classList.add("ion-page-hidden"),Qe.ref.changeDetectorRef.detach()}})};let Ze=(()=>{class N{get(U,be){const Qe=Pt();return Qe?Qe.get(U,be):null}getBoolean(U,be){const Qe=Pt();return!!Qe&&Qe.getBoolean(U,be)}getNumber(U,be){const Qe=Pt();return Qe?Qe.getNumber(U,be):0}}return N.\u0275fac=function(U){return new(U||N)},N.\u0275prov=i.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const At=new i.OlP("USERCONFIG"),Pt=()=>{if("undefined"!=typeof window){const N=window.Ionic;if(null==N?void 0:N.config)return N.config}return null};let bn=(()=>{class N{constructor(U,be){this.doc=U,this.backButton=new H.xQ,this.keyboardDidShow=new H.xQ,this.keyboardDidHide=new H.xQ,this.pause=new H.xQ,this.resume=new H.xQ,this.resize=new H.xQ,be.run(()=>{var Qe;let mn;this.win=U.defaultView,this.backButton.subscribeWithPriority=function(nr,_r){return this.subscribe(pn=>pn.register(nr,yr=>be.run(()=>_r(yr))))},Kn(this.pause,U,"pause"),Kn(this.resume,U,"resume"),Kn(this.backButton,U,"ionBackButton"),Kn(this.resize,this.win,"resize"),Kn(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Kn(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(nr=>{mn=nr}),(null===(Qe=this.win)||void 0===Qe?void 0:Qe.cordova)?U.addEventListener("deviceready",()=>{mn("cordova")},{once:!0}):mn("dom")})}is(U){return(0,w.a)(this.win,U)}platforms(){return(0,w.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(U){return hn(this.win.location.href,U)}isLandscape(){return!this.isPortrait()}isPortrait(){var U,be;return null===(be=(U=this.win).matchMedia)||void 0===be?void 0:be.call(U,"(orientation: portrait)").matches}testUserAgent(U){const be=this.win.navigator;return!!((null==be?void 0:be.userAgent)&&be.userAgent.indexOf(U)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return N.\u0275fac=function(U){return new(U||N)(i.LFG(he.K0),i.LFG(i.R0b))},N.\u0275prov=i.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const hn=(N,De)=>{De=De.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const be=new RegExp("[\\?&]"+De+"=([^&#]*)").exec(N);return be?decodeURIComponent(be[1].replace(/\+/g," ")):null},Kn=(N,De,U)=>{De&&De.addEventListener(U,be=>{N.next(null!=be?be.detail:void 0)})};let Xe=(()=>{class N{constructor(U,be,Qe,mn){this.location=be,this.serializer=Qe,this.router=mn,this.direction=ut,this.animated=Xt,this.guessDirection="forward",this.lastNavId=-1,mn&&mn.events.subscribe(nr=>{if(nr instanceof $.OD){const _r=nr.restoredState?nr.restoredState.navigationId:nr.id;this.guessDirection=_r<this.lastNavId?"back":"forward",this.guessAnimation=nr.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?nr.id:_r}}),U.backButton.subscribeWithPriority(0,nr=>{this.pop(),nr()})}navigateForward(U,be={}){return this.setDirection("forward",be.animated,be.animationDirection,be.animation),this.navigate(U,be)}navigateBack(U,be={}){return this.setDirection("back",be.animated,be.animationDirection,be.animation),this.navigate(U,be)}navigateRoot(U,be={}){return this.setDirection("root",be.animated,be.animationDirection,be.animation),this.navigate(U,be)}back(U={animated:!0,animationDirection:"back"}){return this.setDirection("back",U.animated,U.animationDirection,U.animation),this.location.back()}pop(){return(0,G.mG)(this,void 0,void 0,function*(){let U=this.topOutlet;for(;U&&!(yield U.pop());)U=U.parentOutlet})}setDirection(U,be,Qe,mn){this.direction=U,this.animated=st(U,be,Qe),this.animationBuilder=mn}setTopOutlet(U){this.topOutlet=U}consumeTransition(){let be,U="root";const Qe=this.animationBuilder;return"auto"===this.direction?(U=this.guessDirection,be=this.guessAnimation):(be=this.animated,U=this.direction),this.direction=ut,this.animated=Xt,this.animationBuilder=void 0,{direction:U,animation:be,animationBuilder:Qe}}navigate(U,be){if(Array.isArray(U))return this.router.navigate(U,be);{const Qe=this.serializer.parse(U.toString());return void 0!==be.queryParams&&(Qe.queryParams=Object.assign({},be.queryParams)),void 0!==be.fragment&&(Qe.fragment=be.fragment),this.router.navigateByUrl(Qe,be)}}}return N.\u0275fac=function(U){return new(U||N)(i.LFG(bn),i.LFG(he.Ye),i.LFG($.Hx),i.LFG($.F0,8))},N.\u0275prov=i.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const st=(N,De,U)=>{if(!1!==De){if(void 0!==U)return U;if("forward"===N||"back"===N)return N;if("root"===N&&!0===De)return"forward"}},ut="auto",Xt=void 0;let xn=(()=>{class N{constructor(U,be,Qe,mn,nr,_r,pn,yr,Ri,Nr,po,$o,qi){this.parentContexts=U,this.location=be,this.resolver=Qe,this.config=_r,this.navCtrl=pn,this.parentOutlet=qi,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new L.X(null),this.stackEvents=new i.vpe,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.nativeEl=Ri.nativeElement,this.name=mn||$.eC,this.tabsPrefix="true"===nr?bo(Nr,$o):void 0,this.stackCtrl=new ye(this.tabsPrefix,this.nativeEl,Nr,pn,po,yr),U.onChildOutletCreated(this.name,this)}set animation(U){this.nativeEl.animation=U}set animated(U){this.nativeEl.animated=U}set swipeGesture(U){this._swipeGesture=U,this.nativeEl.swipeHandler=U?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:be=>this.stackCtrl.endBackTransition(be)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const U=this.getContext();(null==U?void 0:U.route)&&this.activateWith(U.route,U.resolver||null)}new Promise(U=>(0,C.c)(this.nativeEl,U)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(U,be){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const be=this.getContext();this.activatedView.savedData=new Map(be.children.contexts);const Qe=this.activatedView.savedData.get("primary");if(Qe&&be.route&&(Qe.route=Object.assign({},be.route)),this.activatedView.savedExtras={},be.route){const mn=be.route.snapshot;this.activatedView.savedExtras.queryParams=mn.queryParams,this.activatedView.savedExtras.fragment=mn.fragment}}const U=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(U)}}activateWith(U,be){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=U;let Qe,mn=this.stackCtrl.getExistingView(U);if(mn){Qe=this.activated=mn.ref;const nr=mn.savedData;nr&&(this.getContext().children.contexts=nr),this.updateActivatedRouteProxy(Qe.instance,U)}else{const pn=(be=be||this.resolver).resolveComponentFactory(U._futureSnapshot.routeConfig.component),yr=this.parentContexts.getOrCreateContext(this.name).children,Ri=new L.X(null),Nr=this.createActivatedRouteProxy(Ri,U),po=new Nn(Nr,yr,this.location.injector);Qe=this.activated=this.location.createComponent(pn,this.location.length,po),Ri.next(Qe.instance),mn=this.stackCtrl.createView(this.activated,U),this.proxyMap.set(Qe.instance,Nr),this.currentActivatedRoute$.next({component:Qe.instance,activatedRoute:U})}this.activatedView=mn,this.stackCtrl.setActive(mn).then(nr=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(Qe.instance),this.stackEvents.emit(nr)})}canGoBack(U=1,be){return this.stackCtrl.canGoBack(U,be)}pop(U=1,be){return this.stackCtrl.pop(U,be)}getLastUrl(U){const be=this.stackCtrl.getLastUrl(U);return be?be.url:void 0}getLastRouteView(U){return this.stackCtrl.getLastUrl(U)}getRootView(U){return this.stackCtrl.getRootUrl(U)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(U,be){const Qe=new $.gz;return Qe._futureSnapshot=be._futureSnapshot,Qe._routerState=be._routerState,Qe.snapshot=be.snapshot,Qe.outlet=be.outlet,Qe.component=be.component,Qe._paramMap=this.proxyObservable(U,"paramMap"),Qe._queryParamMap=this.proxyObservable(U,"queryParamMap"),Qe.url=this.proxyObservable(U,"url"),Qe.params=this.proxyObservable(U,"params"),Qe.queryParams=this.proxyObservable(U,"queryParams"),Qe.fragment=this.proxyObservable(U,"fragment"),Qe.data=this.proxyObservable(U,"data"),Qe}proxyObservable(U,be){return U.pipe((0,z.h)(Qe=>!!Qe),(0,re.w)(Qe=>this.currentActivatedRoute$.pipe((0,z.h)(mn=>null!==mn&&mn.component===Qe),(0,re.w)(mn=>mn&&mn.activatedRoute[be]),(0,le.x)())))}updateActivatedRouteProxy(U,be){const Qe=this.proxyMap.get(U);if(!Qe)throw new Error("Could not find activated route proxy for view");Qe._futureSnapshot=be._futureSnapshot,Qe._routerState=be._routerState,Qe.snapshot=be.snapshot,Qe.outlet=be.outlet,Qe.component=be.component,this.currentActivatedRoute$.next({component:U,activatedRoute:be})}}return N.\u0275fac=function(U){return new(U||N)(i.Y36($.y6),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.$8M("tabs"),i.Y36(Ze),i.Y36(Xe),i.Y36(he.Ye),i.Y36(i.SBq),i.Y36($.F0),i.Y36(i.R0b),i.Y36($.gz),i.Y36(N,12))},N.\u0275dir=i.lG2({type:N,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),N})();class Nn{constructor(De,U,be){this.route=De,this.childContexts=U,this.parent=be}get(De,U){return De===$.gz?this.route:De===$.y6?this.childContexts:this.parent.get(De,U)}}let Zn=(()=>{class N{constructor(U){this.navCtrl=U,this.ionTabsWillChange=new i.vpe,this.ionTabsDidChange=new i.vpe}onPageSelected(U){const be=U.enteringView.stackId;U.tabSwitch&&void 0!==be&&(this.tabBar&&(this.tabBar.selectedTab=be),this.ionTabsWillChange.emit({tab:be}),this.ionTabsDidChange.emit({tab:be}))}select(U){const be="string"==typeof U,Qe=be?U:U.detail.tab,mn=this.outlet.getActiveStackId()===Qe,nr=`${this.outlet.tabsPrefix}/${Qe}`;if(be||U.stopPropagation(),mn){const _r=this.outlet.getActiveStackId(),pn=this.outlet.getLastRouteView(_r);if((null==pn?void 0:pn.url)===nr)return;const yr=this.outlet.getRootView(Qe);return this.navCtrl.navigateRoot(nr,Object.assign(Object.assign({},yr&&nr===yr.url&&yr.savedExtras),{animated:!0,animationDirection:"back"}))}{const _r=this.outlet.getLastRouteView(Qe);return this.navCtrl.navigateRoot((null==_r?void 0:_r.url)||nr,Object.assign(Object.assign({},null==_r?void 0:_r.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return N.\u0275fac=function(U){return new(U||N)(i.Y36(Xe))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-tabs"]],contentQueries:function(U,be,Qe){if(1&U&&i.Suo(Qe,Je,5),2&U){let mn;i.iGM(mn=i.CRH())&&(be.tabBar=mn.first)}},viewQuery:function(U,be){if(1&U&&i.Gf(Te,5,xn),2&U){let Qe;i.iGM(Qe=i.CRH())&&(be.outlet=Qe.first)}},hostBindings:function(U,be){1&U&&i.NdJ("ionTabButtonClick",function(mn){return be.select(mn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:ae,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(U,be){1&U&&(i.F$t(Ie),i.Hsn(0),i.TgZ(1,"div",0),i.TgZ(2,"ion-router-outlet",1,2),i.NdJ("stackEvents",function(mn){return be.onPageSelected(mn)}),i.qZA(),i.qZA(),i.Hsn(4,1))},directives:[xn],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),N})(),Xn=(()=>{class N{constructor(U,be,Qe){this.routerOutlet=U,this.navCtrl=be,this.config=Qe}onClick(U){var be;const Qe=this.defaultHref||this.config.get("backButtonDefaultHref");(null===(be=this.routerOutlet)||void 0===be?void 0:be.canGoBack())?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),U.preventDefault()):null!=Qe&&(this.navCtrl.navigateBack(Qe,{animation:this.routerAnimation}),U.preventDefault())}}return N.\u0275fac=function(U){return new(U||N)(i.Y36(xn,8),i.Y36(Xe),i.Y36(Ze))},N.\u0275dir=i.lG2({type:N,selectors:[["ion-back-button"]],hostBindings:function(U,be){1&U&&i.NdJ("click",function(mn){return be.onClick(mn)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),N})(),Tr=(()=>{class N{constructor(U,be,Qe,mn,nr){this.locationStrategy=U,this.navCtrl=be,this.elementRef=Qe,this.router=mn,this.routerLink=nr,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateTargetUrlAndHref(){if(this.routerLink){const U=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=U}}onClick(U){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),U.preventDefault()}}return N.\u0275fac=function(U){return new(U||N)(i.Y36(he.S$),i.Y36(Xe),i.Y36(i.SBq),i.Y36($.F0),i.Y36($.rH,8))},N.\u0275dir=i.lG2({type:N,selectors:[["","routerLink",""]],hostBindings:function(U,be){1&U&&i.NdJ("click",function(mn){return be.onClick(mn)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[i.TTD]}),N})(),hi=(()=>{let N=class{constructor(U,be,Qe){this.z=Qe,this.isCmpOpen=!1,U.detach(),this.el=be.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,U.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,U.detectChanges()}),He(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return N.\u0275fac=function(U){return new(U||N)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i.R0b))},N.\u0275cmp=i.Xpm({type:N,selectors:[["ion-modal"]],contentQueries:function(U,be,Qe){if(1&U&&i.Suo(Qe,i.Rgc,5),2&U){let mn;i.iGM(mn=i.CRH())&&(be.template=mn.first)}},inputs:{animated:"animated",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",swipeToClose:"swipeToClose",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(U,be){1&U&&i.YNc(0,_e,1,1,"ng-container",0),2&U&&i.Q6J("ngIf",be.isCmpOpen)},directives:[he.O5,he.tP],encapsulation:2,changeDetection:0}),N=(0,G.gn)([nt({inputs:["animated","backdropBreakpoint","backdropDismiss","breakpoints","cssClass","enterAnimation","event","handle","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","swipeToClose","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],N),N})();class lo{constructor(De){this.ctrl=De}create(De){return this.ctrl.create(De||{})}dismiss(De,U,be){return this.ctrl.dismiss(De,U,be)}getTop(){return this.ctrl.getTop()}}let ge=(()=>{class N extends lo{constructor(){super(g.a)}}return N.\u0275fac=function(U){return new(U||N)},N.\u0275prov=i.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Z=(()=>{class N extends lo{constructor(){super(g.l)}}return N.\u0275fac=function(U){return new(U||N)},N.\u0275prov=i.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),pe=(()=>{class N extends lo{constructor(U,be,Qe){super(g.m),this.angularDelegate=U,this.resolver=be,this.injector=Qe}create(U){return super.create(Object.assign(Object.assign({},U),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return N.\u0275fac=function(U){return new(U||N)(i.LFG(Wn),i.LFG(i._Vd),i.LFG(i.zs3))},N.\u0275prov=i.Yz7({token:N,factory:N.\u0275fac}),N})(),vt=(()=>{class N extends lo{constructor(U,be,Qe){super(g.c),this.angularDelegate=U,this.resolver=be,this.injector=Qe}create(U){return super.create(Object.assign(Object.assign({},U),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return N.\u0275fac=function(U){return new(U||N)(i.LFG(Wn),i.LFG(i._Vd),i.LFG(i.zs3))},N.\u0275prov=i.Yz7({token:N,factory:N.\u0275fac}),N})(),on=(()=>{class N extends lo{constructor(){super(g.t)}}return N.\u0275fac=function(U){return new(U||N)},N.\u0275prov=i.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();class ui{shouldDetach(De){return!1}shouldAttach(De){return!1}store(De,U){}retrieve(De){return null}shouldReuseRoute(De,U){if(De.routeConfig!==U.routeConfig)return!1;const be=De.params,Qe=U.params,mn=Object.keys(be),nr=Object.keys(Qe);if(mn.length!==nr.length)return!1;for(const _r of mn)if(Qe[_r]!==be[_r])return!1;return!0}}const Ei=(N,De,U)=>()=>{if(De.defaultView&&"undefined"!=typeof window){(N=>{const De=window,U=De.Ionic;U&&U.config&&"Object"!==U.config.constructor.name||(De.Ionic=De.Ionic||{},De.Ionic.config=Object.assign(Object.assign({},De.Ionic.config),N))})(Object.assign(Object.assign({},N),{_zoneGate:mn=>U.run(mn)}));const Qe="__zone_symbol__addEventListener"in De.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var N=[];if("undefined"!=typeof window){var De=window;(!De.customElements||De.Element&&(!De.Element.prototype.closest||!De.Element.prototype.matches||!De.Element.prototype.remove||!De.Element.prototype.getRootNode))&&N.push(p.e(6748).then(p.t.bind(p,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||De.NodeList&&!De.NodeList.prototype.forEach||!De.fetch||!function(){try{var be=new URL("b","http://a");return be.pathname="c%20d","http://a/c%20d"===be.href&&be.searchParams}catch(Qe){return!1}}()||"undefined"==typeof WeakMap)&&N.push(p.e(2214).then(p.t.bind(p,4144,23)))}return Promise.all(N)}().then(()=>((N,De)=>"undefined"==typeof window?Promise.resolve():(0,O.p)().then(()=>(A(),(0,O.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]]]'),De))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Pe,jmp:mn=>U.runOutsideAngular(mn),ael(mn,nr,_r,pn){mn[Qe](nr,_r,pn)},rel(mn,nr,_r,pn){mn.removeEventListener(nr,_r,pn)}}))}};let Ni=(()=>{class N{static forRoot(U){return{ngModule:N,providers:[{provide:At,useValue:U},{provide:i.ip1,useFactory:Ei,multi:!0,deps:[At,he.K0,i.R0b]}]}}}return N.\u0275fac=function(U){return new(U||N)},N.\u0275mod=i.oAB({type:N}),N.\u0275inj=i.cJS({providers:[Wn,pe,vt],imports:[[he.ez]]}),N})()},5508:(Ye,fe,p)=>{"use strict";p.d(fe,{c:()=>g});var i=p(6499);let D;const ne=v=>v.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H=v=>{if(void 0===D){const k=void 0!==v.style.webkitAnimationName;D=void 0===v.style.animationName&&k?"-webkit-":""}return D},L=(v,O,k)=>{const B=O.startsWith("animation")?H(v):"";v.style.setProperty(B+O,k)},$=(v,O)=>{const k=O.startsWith("animation")?H(v):"";v.style.removeProperty(k+O)},x=[],T=(v=[],O)=>{if(void 0!==O){const k=Array.isArray(O)?O:[O];return[...v,...k]}return v},g=v=>{let O,k,B,F,M,y,he,ae,_e,Ee,Pe,Ce,ke,R=[],z=[],re=[],le=!1,xe={},A=[],W=[],te={},oe=0,Te=!1,Ie=!1,Ge=!0,Ue=!1,Be=!0;const qe=v,at=[],Gt=[],Tt=[],Ht=[],wn=[],fn=[],He=[],bt=[],nt=[],Ut=[],Lt="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,vn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Lt,kt=()=>Ut,_t=(je,it)=>((it&&it.oneTimeCallback?Gt:at).push({c:je,o:it}),ke),Rt=()=>{if(vn)Ut.forEach(je=>{je.cancel()}),Ut.length=0;else{const je=Tt.slice();(0,i.r)(()=>{je.forEach(it=>{$(it,"animation-name"),$(it,"animation-duration"),$(it,"animation-timing-function"),$(it,"animation-iteration-count"),$(it,"animation-delay"),$(it,"animation-play-state"),$(it,"animation-fill-mode"),$(it,"animation-direction")})})}},Wt=()=>{wn.forEach(je=>{je&&je.parentNode&&je.parentNode.removeChild(je)}),wn.length=0},Gr=()=>void 0!==M?M:he?he.getFill():"both",Vr=()=>void 0!==_e?_e:void 0!==y?y:he?he.getDirection():"normal",zr=()=>Te?"linear":void 0!==B?B:he?he.getEasing():"linear",or=()=>Ie?0:void 0!==Ee?Ee:void 0!==k?k:he?he.getDuration():0,Wr=()=>void 0!==F?F:he?he.getIterations():1,oi=()=>void 0!==Pe?Pe:void 0!==O?O:he?he.getDelay():0,un=()=>{0!==oe&&(oe--,0===oe&&((()=>{Fe(),bt.forEach(Vt=>Vt()),nt.forEach(Vt=>Vt());const je=Ge?1:0,it=A,Ot=W,xt=te;Tt.forEach(Vt=>{const an=Vt.classList;it.forEach(yn=>an.add(yn)),Ot.forEach(yn=>an.remove(yn));for(const yn in xt)xt.hasOwnProperty(yn)&&L(Vt,yn,xt[yn])}),at.forEach(Vt=>Vt.c(je,ke)),Gt.forEach(Vt=>Vt.c(je,ke)),Gt.length=0,Be=!0,Ge&&(Ue=!0),Ge=!0})(),he&&he.animationFinish()))},En=(je=!0)=>{Wt();const it=(v=>(v.forEach(O=>{for(const k in O)if(O.hasOwnProperty(k)){const B=O[k];if("easing"===k)O["animation-timing-function"]=B,delete O[k];else{const F=ne(k);F!==k&&(O[F]=B,delete O[k])}}}),v))(R);Tt.forEach(Ot=>{if(it.length>0){const xt=((v=[])=>v.map(O=>{const k=O.offset,B=[];for(const F in O)O.hasOwnProperty(F)&&"offset"!==F&&B.push(`${F}: ${O[F]};`);return`${100*k}% { ${B.join(" ")} }`}).join(" "))(it);Ce=void 0!==v?v:(v=>{let O=x.indexOf(v);return O<0&&(O=x.push(v)-1),`ion-animation-${O}`})(xt);const Vt=((v,O,k)=>{const B=(v=>{const O=v.getRootNode();return O.head||O})(k),F=H(k),M=B.querySelector("#"+v);if(M)return M;const y=(k.ownerDocument||document).createElement("style");return y.id=v,y.textContent=`@${F}keyframes ${v} { ${O} } @${F}keyframes ${v}-alt { ${O} }`,B.appendChild(y),y})(Ce,xt,Ot);wn.push(Vt),L(Ot,"animation-duration",`${or()}ms`),L(Ot,"animation-timing-function",zr()),L(Ot,"animation-delay",`${oi()}ms`),L(Ot,"animation-fill-mode",Gr()),L(Ot,"animation-direction",Vr());const an=Wr()===1/0?"infinite":Wr().toString();L(Ot,"animation-iteration-count",an),L(Ot,"animation-play-state","paused"),je&&L(Ot,"animation-name",`${Vt.id}-alt`),(0,i.r)(()=>{L(Ot,"animation-name",Vt.id||null)})}})},Un=(je=!0)=>{(()=>{fn.forEach(xt=>xt()),He.forEach(xt=>xt());const je=z,it=re,Ot=xe;Tt.forEach(xt=>{const Vt=xt.classList;je.forEach(an=>Vt.add(an)),it.forEach(an=>Vt.remove(an));for(const an in Ot)Ot.hasOwnProperty(an)&&L(xt,an,Ot[an])})})(),R.length>0&&(vn?(Tt.forEach(je=>{const it=je.animate(R,{id:qe,delay:oi(),duration:or(),easing:zr(),iterations:Wr(),fill:Gr(),direction:Vr()});it.pause(),Ut.push(it)}),Ut.length>0&&(Ut[0].onfinish=()=>{un()})):En(je)),le=!0},Mn=je=>{if(je=Math.min(Math.max(je,0),.9999),vn)Ut.forEach(it=>{it.currentTime=it.effect.getComputedTiming().delay+or()*je,it.pause()});else{const it=`-${or()*je}ms`;Tt.forEach(Ot=>{R.length>0&&(L(Ot,"animation-delay",it),L(Ot,"animation-play-state","paused"))})}},cn=je=>{Ut.forEach(it=>{it.effect.updateTiming({delay:oi(),duration:or(),easing:zr(),iterations:Wr(),fill:Gr(),direction:Vr()})}),void 0!==je&&Mn(je)},Bn=(je=!0,it)=>{(0,i.r)(()=>{Tt.forEach(Ot=>{L(Ot,"animation-name",Ce||null),L(Ot,"animation-duration",`${or()}ms`),L(Ot,"animation-timing-function",zr()),L(Ot,"animation-delay",void 0!==it?`-${it*or()}ms`:`${oi()}ms`),L(Ot,"animation-fill-mode",Gr()||null),L(Ot,"animation-direction",Vr()||null);const xt=Wr()===1/0?"infinite":Wr().toString();L(Ot,"animation-iteration-count",xt),je&&L(Ot,"animation-name",`${Ce}-alt`),(0,i.r)(()=>{L(Ot,"animation-name",Ce||null)})})})},ar=(je=!1,it=!0,Ot)=>(je&&Ht.forEach(xt=>{xt.update(je,it,Ot)}),vn?cn(Ot):Bn(it,Ot),ke),Et=()=>{le&&(vn?Ut.forEach(je=>{je.pause()}):Tt.forEach(je=>{L(je,"animation-play-state","paused")}))},ce=()=>{ae=void 0,un()},Fe=()=>{ae&&clearTimeout(ae)},St=je=>new Promise(it=>{je&&je.sync&&(Ie=!0,_t(()=>Ie=!1,{oneTimeCallback:!0})),le||Un(),Ue&&(vn?(Mn(0),cn()):Bn(),Ue=!1),Be&&(oe=Ht.length+1,Be=!1),_t(()=>it(),{oneTimeCallback:!0}),Ht.forEach(Ot=>{Ot.play()}),vn?(Ut.forEach(je=>{je.play()}),(0===R.length||0===Tt.length)&&un()):(()=>{if(Fe(),(0,i.r)(()=>{Tt.forEach(je=>{R.length>0&&L(je,"animation-play-state","running")})}),0===R.length||0===Tt.length)un();else{const je=oi()||0,it=or()||0,Ot=Wr()||1;isFinite(Ot)&&(ae=setTimeout(ce,je+it*Ot+100)),((v,O)=>{let k;const B={passive:!0},M=y=>{v===y.target&&(k&&k(),Fe(),(0,i.r)(()=>{Tt.forEach(je=>{$(je,"animation-duration"),$(je,"animation-delay"),$(je,"animation-play-state")}),(0,i.r)(un)}))};v&&(v.addEventListener("webkitAnimationEnd",M,B),v.addEventListener("animationend",M,B),k=()=>{v.removeEventListener("webkitAnimationEnd",M,B),v.removeEventListener("animationend",M,B)})})(Tt[0])}})()}),Zt=(je,it)=>{const Ot=R[0];return void 0===Ot||void 0!==Ot.offset&&0!==Ot.offset?R=[{offset:0,[je]:it},...R]:Ot[je]=it,ke};return ke={parentAnimation:he,elements:Tt,childAnimations:Ht,id:qe,animationFinish:un,from:Zt,to:(je,it)=>{const Ot=R[R.length-1];return void 0===Ot||void 0!==Ot.offset&&1!==Ot.offset?R=[...R,{offset:1,[je]:it}]:Ot[je]=it,ke},fromTo:(je,it,Ot)=>Zt(je,it).to(je,Ot),parent:je=>(he=je,ke),play:St,pause:()=>(Ht.forEach(je=>{je.pause()}),Et(),ke),stop:()=>{Ht.forEach(je=>{je.stop()}),le&&(Rt(),le=!1),Te=!1,Ie=!1,Be=!0,_e=void 0,Ee=void 0,Pe=void 0,oe=0,Ue=!1,Ge=!0},destroy:je=>(Ht.forEach(it=>{it.destroy(je)}),(je=>{Rt(),je&&Wt()})(je),Tt.length=0,Ht.length=0,R.length=0,at.length=0,Gt.length=0,le=!1,Be=!0,ke),keyframes:je=>{const it=R!==je;return R=je,it&&(je=>{vn?kt().forEach(it=>{if(it.effect.setKeyframes)it.effect.setKeyframes(je);else{const Ot=new KeyframeEffect(it.effect.target,je,it.effect.getTiming());it.effect=Ot}}):En()})(R),ke},addAnimation:je=>{if(null!=je)if(Array.isArray(je))for(const it of je)it.parent(ke),Ht.push(it);else je.parent(ke),Ht.push(je);return ke},addElement:je=>{if(null!=je)if(1===je.nodeType)Tt.push(je);else if(je.length>=0)for(let it=0;it<je.length;it++)Tt.push(je[it]);else console.error("Invalid addElement value");return ke},update:ar,fill:je=>(M=je,ar(!0),ke),direction:je=>(y=je,ar(!0),ke),iterations:je=>(F=je,ar(!0),ke),duration:je=>(!vn&&0===je&&(je=1),k=je,ar(!0),ke),easing:je=>(B=je,ar(!0),ke),delay:je=>(O=je,ar(!0),ke),getWebAnimations:kt,getKeyframes:()=>R,getFill:Gr,getDirection:Vr,getDelay:oi,getIterations:Wr,getEasing:zr,getDuration:or,afterAddRead:je=>(bt.push(je),ke),afterAddWrite:je=>(nt.push(je),ke),afterClearStyles:(je=[])=>{for(const it of je)te[it]="";return ke},afterStyles:(je={})=>(te=je,ke),afterRemoveClass:je=>(W=T(W,je),ke),afterAddClass:je=>(A=T(A,je),ke),beforeAddRead:je=>(fn.push(je),ke),beforeAddWrite:je=>(He.push(je),ke),beforeClearStyles:(je=[])=>{for(const it of je)xe[it]="";return ke},beforeStyles:(je={})=>(xe=je,ke),beforeRemoveClass:je=>(re=T(re,je),ke),beforeAddClass:je=>(z=T(z,je),ke),onFinish:_t,progressStart:(je=!1,it)=>(Ht.forEach(Ot=>{Ot.progressStart(je,it)}),Et(),Te=je,le||Un(),ar(!1,!0,it),ke),progressStep:je=>(Ht.forEach(it=>{it.progressStep(je)}),Mn(je),ke),progressEnd:(je,it,Ot)=>(Te=!1,Ht.forEach(xt=>{xt.progressEnd(je,it,Ot)}),void 0!==Ot&&(Ee=Ot),Ue=!1,Ge=!0,0===je?(_e="reverse"===Vr()?"normal":"reverse","reverse"===_e&&(Ge=!1),vn?(ar(),Mn(1-it)):(Pe=(1-it)*or()*-1,ar(!1,!1))):1===je&&(vn?(ar(),Mn(it)):(Pe=it*or()*-1,ar(!1,!1))),void 0!==je&&(_t(()=>{Ee=void 0,_e=void 0,Pe=void 0},{oneTimeCallback:!0}),he||St()),ke)}}},7438:(Ye,fe,p)=>{"use strict";p.d(fe,{g:()=>i});const i=(L,$,S,P,x)=>G(L[1],$[1],S[1],P[1],x).map(w=>D(L[0],$[0],S[0],P[0],w)),D=(L,$,S,P,x)=>x*(3*$*Math.pow(x-1,2)+x*(-3*S*x+3*S+P*x))-L*Math.pow(x-1,3),G=(L,$,S,P,x)=>H((P-=x)-3*(S-=x)+3*($-=x)-(L-=x),3*S-6*$+3*L,3*$-3*L,L).filter(C=>C>=0&&C<=1),H=(L,$,S,P)=>{if(0===L)return((L,$,S)=>{const P=$*$-4*L*S;return P<0?[]:[(-$+Math.sqrt(P))/(2*L),(-$-Math.sqrt(P))/(2*L)]})($,S,P);const x=(3*(S/=L)-($/=L)*$)/3,w=(2*$*$*$-9*$*S+27*(P/=L))/27;if(0===x)return[Math.pow(-w,1/3)];if(0===w)return[Math.sqrt(-x),-Math.sqrt(-x)];const C=Math.pow(w/2,2)+Math.pow(x/3,3);if(0===C)return[Math.pow(w/2,.5)-$/3];if(C>0)return[Math.pow(-w/2+Math.sqrt(C),1/3)-Math.pow(w/2+Math.sqrt(C),1/3)-$/3];const m=Math.sqrt(Math.pow(-x/3,3)),T=Math.acos(-w/(2*Math.sqrt(Math.pow(-x/3,3)))),g=2*Math.pow(m,1/3);return[g*Math.cos(T/3)-$/3,g*Math.cos((T+2*Math.PI)/3)-$/3,g*Math.cos((T+4*Math.PI)/3)-$/3]}},940:(Ye,fe,p)=>{"use strict";p.d(fe,{C:()=>H,a:()=>G,d:()=>ne});var i=p(5861),D=p(6499);const G=function(){var L=(0,i.Z)(function*($,S,P,x,w,C){if($)return $.attachViewToDom(S,P,w,x);if(!(C||"string"==typeof P||P instanceof HTMLElement))throw new Error("framework delegate is missing");const m="string"==typeof P?S.ownerDocument&&S.ownerDocument.createElement(P):P;return x&&x.forEach(T=>m.classList.add(T)),w&&Object.assign(m,w),S.appendChild(m),yield new Promise(T=>(0,D.c)(m,T)),m});return function(S,P,x,w,C,m){return L.apply(this,arguments)}}(),ne=(L,$)=>{if($){if(L)return L.removeViewFromDom($.parentElement,$);$.remove()}return Promise.resolve()},H=()=>{let L,$;return{attachViewToDom:function(){var x=(0,i.Z)(function*(w,C,m={},T=[]){if(L=w,C){const v="string"==typeof C?L.ownerDocument&&L.ownerDocument.createElement(C):C;T.forEach(O=>v.classList.add(O)),Object.assign(v,m),L.appendChild(v),yield new Promise(O=>(0,D.c)(v,O))}const g=document.querySelector("ion-app")||document.body;return $=document.createComment("ionic teleport"),L.parentNode.insertBefore($,L),g.appendChild(L),L});return function(C,m){return x.apply(this,arguments)}}(),removeViewFromDom:()=>(L&&$&&($.parentNode.insertBefore(L,$),$.remove()),Promise.resolve())}}},2733:(Ye,fe,p)=>{"use strict";p.d(fe,{G:()=>H});class D{constructor($,S,P,x,w){this.id=S,this.name=P,this.disableScroll=w,this.priority=1e6*x+S,this.ctrl=$}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const $=this.ctrl.capture(this.name,this.id,this.priority);return $&&this.disableScroll&&this.ctrl.disableScroll(this.id),$}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class G{constructor($,S,P,x){this.id=S,this.disable=P,this.disableScroll=x,this.ctrl=$}block(){if(this.ctrl){if(this.disable)for(const $ of this.disable)this.ctrl.disableGesture($,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const $ of this.disable)this.ctrl.enableGesture($,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ne="backdrop-no-scroll",H=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture($){return new D(this,this.newID(),$.name,$.priority||0,!!$.disableScroll)}createBlocker($={}){return new G(this,this.newID(),$.disable,!!$.disableScroll)}start($,S,P){return this.canStart($)?(this.requestedStart.set(S,P),!0):(this.requestedStart.delete(S),!1)}capture($,S,P){if(!this.start($,S,P))return!1;const x=this.requestedStart;let w=-1e4;if(x.forEach(C=>{w=Math.max(w,C)}),w===P){this.capturedId=S,x.clear();const C=new CustomEvent("ionGestureCaptured",{detail:{gestureName:$}});return document.dispatchEvent(C),!0}return x.delete(S),!1}release($){this.requestedStart.delete($),this.capturedId===$&&(this.capturedId=void 0)}disableGesture($,S){let P=this.disabledGestures.get($);void 0===P&&(P=new Set,this.disabledGestures.set($,P)),P.add(S)}enableGesture($,S){const P=this.disabledGestures.get($);void 0!==P&&P.delete(S)}disableScroll($){this.disabledScroll.add($),1===this.disabledScroll.size&&document.body.classList.add(ne)}enableScroll($){this.disabledScroll.delete($),0===this.disabledScroll.size&&document.body.classList.remove(ne)}canStart($){return!(void 0!==this.capturedId||this.isDisabled($))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled($){const S=this.disabledGestures.get($);return!!(S&&S.size>0)}newID(){return this.gestureId++,this.gestureId}}},2335:(Ye,fe,p)=>{"use strict";p.d(fe,{a:()=>G,b:()=>ne,c:()=>D,d:()=>L,h:()=>H});const i={getEngine(){const $=window;return $.TapticEngine||$.Capacitor&&$.Capacitor.isPluginAvailable("Haptics")&&$.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact($){const S=this.getEngine();if(!S)return;const P=this.isCapacitor()?$.style.toUpperCase():$.style;S.impact({style:P})},notification($){const S=this.getEngine();if(!S)return;const P=this.isCapacitor()?$.style.toUpperCase():$.style;S.notification({style:P})},selection(){this.impact({style:"light"})},selectionStart(){const $=this.getEngine();!$||(this.isCapacitor()?$.selectionStart():$.gestureSelectionStart())},selectionChanged(){const $=this.getEngine();!$||(this.isCapacitor()?$.selectionChanged():$.gestureSelectionChanged())},selectionEnd(){const $=this.getEngine();!$||(this.isCapacitor()?$.selectionEnd():$.gestureSelectionEnd())}},D=()=>{i.selection()},G=()=>{i.selectionStart()},ne=()=>{i.selectionChanged()},H=()=>{i.selectionEnd()},L=$=>{i.impact($)}},527:(Ye,fe,p)=>{"use strict";p.r(fe),p.d(fe,{MENU_BACK_BUTTON_PRIORITY:()=>H,OVERLAY_BACK_BUTTON_PRIORITY:()=>ne,blockHardwareBackButton:()=>D,startHardwareBackButton:()=>G});var i=p(5861);const D=()=>{document.addEventListener("backbutton",()=>{})},G=()=>{const L=document;let $=!1;L.addEventListener("backbutton",()=>{if($)return;let S=0,P=[];const x=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(m,T){P.push({priority:m,handler:T,id:S++})}}});L.dispatchEvent(x);const w=function(){var m=(0,i.Z)(function*(T){try{if(T&&T.handler){const g=T.handler(C);null!=g&&(yield g)}}catch(g){console.error(g)}});return function(g){return m.apply(this,arguments)}}(),C=()=>{if(P.length>0){let m={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};P.forEach(T=>{T.priority>=m.priority&&(m=T)}),$=!0,P=P.filter(T=>T.id!==m.id),w(m).then(()=>$=!1)}};C()})},ne=100,H=99},6499:(Ye,fe,p)=>{"use strict";p.d(fe,{a:()=>H,b:()=>L,c:()=>G,d:()=>T,e:()=>C,f:()=>w,g:()=>$,h:()=>m,i:()=>ne,j:()=>B,k:()=>x,l:()=>P,m:()=>g,n:()=>k,o:()=>F,p:()=>O,q:()=>v,r:()=>S,t:()=>i});const i=(M,y=0)=>new Promise(R=>{D(M,y,R)}),D=(M,y=0,R)=>{let z,re;const le={passive:!0},xe=()=>{z&&z()},A=W=>{(void 0===W||M===W.target)&&(xe(),R(W))};return M&&(M.addEventListener("webkitTransitionEnd",A,le),M.addEventListener("transitionend",A,le),re=setTimeout(A,y+500),z=()=>{re&&(clearTimeout(re),re=void 0),M.removeEventListener("webkitTransitionEnd",A,le),M.removeEventListener("transitionend",A,le)}),xe},G=(M,y)=>{M.componentOnReady?M.componentOnReady().then(R=>y(R)):S(()=>y(M))},ne=(M,y=[])=>{const R={};return y.forEach(z=>{M.hasAttribute(z)&&(null!==M.getAttribute(z)&&(R[z]=M.getAttribute(z)),M.removeAttribute(z))}),R},H=(M,y,R,z)=>{if("undefined"!=typeof window){const re=window,le=re&&re.Ionic&&re.Ionic.config;if(le){const he=le.get("_ael");if(he)return he(M,y,R,z);if(le._ael)return le._ael(M,y,R,z)}}return M.addEventListener(y,R,z)},L=(M,y,R,z)=>{if("undefined"!=typeof window){const re=window,le=re&&re.Ionic&&re.Ionic.config;if(le){const he=le.get("_rel");if(he)return he(M,y,R,z);if(le._rel)return le._rel(M,y,R,z)}}return M.removeEventListener(y,R,z)},$=(M,y=M)=>M.shadowRoot||y,S=M=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(M):"function"==typeof requestAnimationFrame?requestAnimationFrame(M):setTimeout(M),P=M=>!!M.shadowRoot&&!!M.attachShadow,x=M=>{const y=M.closest("ion-item");return y?y.querySelector("ion-label"):null},w=M=>{if(M.focus(),M.classList.contains("ion-focusable")){const y=M.closest("ion-app");y&&y.setFocus([M])}},C=(M,y)=>{let R;const z=M.getAttribute("aria-labelledby"),re=M.id;let le=null!==z&&""!==z.trim()?z:y+"-lbl",he=null!==z&&""!==z.trim()?document.getElementById(z):x(M);return he?(null===z&&(he.id=le),R=he.textContent,he.setAttribute("aria-hidden","true")):""!==re.trim()&&(he=document.querySelector(`label[for="${re}"]`),he&&(""!==he.id?le=he.id:he.id=le=`${re}-lbl`,R=he.textContent)),{label:he,labelId:le,labelText:R}},m=(M,y,R,z,re)=>{if(M||P(y)){let le=y.querySelector("input.aux-input");le||(le=y.ownerDocument.createElement("input"),le.type="hidden",le.classList.add("aux-input"),y.appendChild(le)),le.disabled=re,le.name=R,le.value=z||""}},T=(M,y,R)=>Math.max(M,Math.min(y,R)),g=(M,y)=>{if(!M){const R="ASSERT: "+y;throw console.error(R),new Error(R)}},v=M=>M.timeStamp||Date.now(),O=M=>{if(M){const y=M.changedTouches;if(y&&y.length>0){const R=y[0];return{x:R.clientX,y:R.clientY}}if(void 0!==M.pageX)return{x:M.pageX,y:M.pageY}}return{x:0,y:0}},k=M=>{const y="rtl"===document.dir;switch(M){case"start":return y;case"end":return!y;default:throw new Error(`"${M}" is not a valid value for [side]. Use "start" or "end" instead.`)}},B=(M,y)=>{const R=M._original||M;return{_original:M,emit:F(R.emit.bind(R),y)}},F=(M,y=0)=>{let R;return(...z)=>{clearTimeout(R),R=setTimeout(M,y,...z)}}},9533:(Ye,fe,p)=>{"use strict";p.d(fe,{B:()=>Zt,H:()=>wn,a:()=>Ue,b:()=>En,c:()=>Ft,e:()=>gr,f:()=>St,g:()=>Be,h:()=>Tt,i:()=>er,j:()=>Wr,k:()=>dn,p:()=>v,r:()=>cn,s:()=>T});var i=p(5861);let G,ne,H,L=!1,$=!1,S=!1,P=!1,x=!1;const w="undefined"!=typeof window?window:{},C=w.document||{head:{}},m={$flags$:0,$resourcesUrl$:"",jmp:Se=>Se(),raf:Se=>requestAnimationFrame(Se),ael:(Se,Je,je,it)=>Se.addEventListener(Je,je,it),rel:(Se,Je,je,it)=>Se.removeEventListener(Je,je,it),ce:(Se,Je)=>new CustomEvent(Se,Je)},T=Se=>{Object.assign(m,Se)},v=Se=>Promise.resolve(Se),O=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(Se){}return!1})(),k=(Se,Je,je,it)=>{je&&je.map(([Ot,xt,Vt])=>{const an=F(Se,Ot),yn=B(Je,Vt),Cn=M(Ot);m.ael(an,xt,yn,Cn),(Je.$rmListeners$=Je.$rmListeners$||[]).push(()=>m.rel(an,xt,yn,Cn))})},B=(Se,Je)=>je=>{try{256&Se.$flags$?Se.$lazyInstance$[Je](je):(Se.$queuedListeners$=Se.$queuedListeners$||[]).push([Je,je])}catch(it){$r(it)}},F=(Se,Je)=>4&Je?C:8&Je?w:16&Je?C.body:Se,M=Se=>0!=(2&Se),le="s-id",he="sty-id",W="http://www.w3.org/1999/xlink",Te=new WeakMap,Ie=(Se,Je,je)=>{let it=Et.get(Se);O&&je?(it=it||new CSSStyleSheet,it.replace(Je)):it=Je,Et.set(Se,it)},ae=(Se,Je,je,it)=>{let Ot=Ee(Je,je),xt=Et.get(Ot);if(Se=11===Se.nodeType?Se:C,xt)if("string"==typeof xt){let an,Vt=Te.get(Se=Se.head||Se);Vt||Te.set(Se,Vt=new Set),Vt.has(Ot)||(Se.host&&(an=Se.querySelector(`[${he}="${Ot}"]`))?an.innerHTML=xt:(an=C.createElement("style"),an.innerHTML=xt,Se.insertBefore(an,Se.querySelector("link"))),Vt&&Vt.add(Ot))}else Se.adoptedStyleSheets.includes(xt)||(Se.adoptedStyleSheets=[...Se.adoptedStyleSheets,xt]);return Ot},Ee=(Se,Je)=>"sc-"+(Je&&32&Se.$flags$?Se.$tagName$+"-"+Je:Se.$tagName$),Pe=Se=>Se.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ue=Se=>ue.push(Se),Be=Se=>Mn(Se).$modeName$,Ce={},Gt=Se=>"object"==(Se=typeof Se)||"function"===Se,Tt=(Se,Je,...je)=>{let it=null,Ot=null,xt=null,Vt=!1,an=!1,yn=[];const Cn=mr=>{for(let Lr=0;Lr<mr.length;Lr++)it=mr[Lr],Array.isArray(it)?Cn(it):null!=it&&"boolean"!=typeof it&&((Vt="function"!=typeof Se&&!Gt(it))&&(it=String(it)),Vt&&an?yn[yn.length-1].$text$+=it:yn.push(Vt?Ht(null,it):it),an=Vt)};if(Cn(je),Je){Je.key&&(Ot=Je.key),Je.name&&(xt=Je.name);{const mr=Je.className||Je.class;mr&&(Je.class="object"!=typeof mr?mr:Object.keys(mr).filter(Lr=>mr[Lr]).join(" "))}}if("function"==typeof Se)return Se(null===Je?{}:Je,yn,He);const Wn=Ht(Se,null);return Wn.$attrs$=Je,yn.length>0&&(Wn.$children$=yn),Wn.$key$=Ot,Wn.$name$=xt,Wn},Ht=(Se,Je)=>({$flags$:0,$tag$:Se,$text$:Je,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),wn={},He={forEach:(Se,Je)=>Se.map(bt).forEach(Je),map:(Se,Je)=>Se.map(bt).map(Je).map(nt)},bt=Se=>({vattrs:Se.$attrs$,vchildren:Se.$children$,vkey:Se.$key$,vname:Se.$name$,vtag:Se.$tag$,vtext:Se.$text$}),nt=Se=>{if("function"==typeof Se.vtag){const je=Object.assign({},Se.vattrs);return Se.vkey&&(je.key=Se.vkey),Se.vname&&(je.name=Se.vname),Tt(Se.vtag,je,...Se.vchildren||[])}const Je=Ht(Se.vtag,Se.vtext);return Je.$attrs$=Se.vattrs,Je.$children$=Se.vchildren,Je.$key$=Se.vkey,Je.$name$=Se.vname,Je},Ut=(Se,Je,je,it,Ot,xt)=>{if(je!==it){let Vt=ar(Se,Je),an=Je.toLowerCase();if("class"===Je){const yn=Se.classList,Cn=vn(je),Wn=vn(it);yn.remove(...Cn.filter(mr=>mr&&!Wn.includes(mr))),yn.add(...Wn.filter(mr=>mr&&!Cn.includes(mr)))}else if("style"===Je){for(const yn in je)(!it||null==it[yn])&&(yn.includes("-")?Se.style.removeProperty(yn):Se.style[yn]="");for(const yn in it)(!je||it[yn]!==je[yn])&&(yn.includes("-")?Se.style.setProperty(yn,it[yn]):Se.style[yn]=it[yn])}else if("key"!==Je)if("ref"===Je)it&&it(Se);else if(Vt||"o"!==Je[0]||"n"!==Je[1]){const yn=Gt(it);if((Vt||yn&&null!==it)&&!Ot)try{if(Se.tagName.includes("-"))Se[Je]=it;else{let Wn=null==it?"":it;"list"===Je?Vt=!1:(null==je||Se[Je]!=Wn)&&(Se[Je]=Wn)}}catch(Wn){}let Cn=!1;an!==(an=an.replace(/^xlink\:?/,""))&&(Je=an,Cn=!0),null==it||!1===it?(!1!==it||""===Se.getAttribute(Je))&&(Cn?Se.removeAttributeNS(W,Je):Se.removeAttribute(Je)):(!Vt||4&xt||Ot)&&!yn&&(it=!0===it?"":it,Cn?Se.setAttributeNS(W,Je,it):Se.setAttribute(Je,it))}else Je="-"===Je[2]?Je.slice(3):ar(w,an)?an.slice(2):an[2]+Je.slice(3),je&&m.rel(Se,Je,je,!1),it&&m.ael(Se,Je,it,!1)}},Lt=/\s/,vn=Se=>Se?Se.split(Lt):[],Pn=(Se,Je,je,it)=>{const Ot=11===Je.$elm$.nodeType&&Je.$elm$.host?Je.$elm$.host:Je.$elm$,xt=Se&&Se.$attrs$||Ce,Vt=Je.$attrs$||Ce;for(it in xt)it in Vt||Ut(Ot,it,xt[it],void 0,je,Je.$flags$);for(it in Vt)Ut(Ot,it,xt[it],Vt[it],je,Je.$flags$)},kt=(Se,Je,je,it)=>{let Vt,an,yn,Ot=Je.$children$[je],xt=0;if(L||(S=!0,"slot"===Ot.$tag$&&(G&&it.classList.add(G+"-s"),Ot.$flags$|=Ot.$children$?2:1)),null!==Ot.$text$)Vt=Ot.$elm$=C.createTextNode(Ot.$text$);else if(1&Ot.$flags$)Vt=Ot.$elm$=C.createTextNode("");else{if(P||(P="svg"===Ot.$tag$),Vt=Ot.$elm$=C.createElementNS(P?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ot.$flags$?"slot-fb":Ot.$tag$),P&&"foreignObject"===Ot.$tag$&&(P=!1),Pn(null,Ot,P),(Se=>null!=Se)(G)&&Vt["s-si"]!==G&&Vt.classList.add(Vt["s-si"]=G),Ot.$children$)for(xt=0;xt<Ot.$children$.length;++xt)an=kt(Se,Ot,xt,Vt),an&&Vt.appendChild(an);"svg"===Ot.$tag$?P=!1:"foreignObject"===Vt.tagName&&(P=!0)}return Vt["s-hn"]=H,3&Ot.$flags$&&(Vt["s-sr"]=!0,Vt["s-cr"]=ne,Vt["s-sn"]=Ot.$name$||"",yn=Se&&Se.$children$&&Se.$children$[je],yn&&yn.$tag$===Ot.$tag$&&Se.$elm$&&dt(Se.$elm$,!1)),Vt},dt=(Se,Je)=>{m.$flags$|=1;const je=Se.childNodes;for(let it=je.length-1;it>=0;it--){const Ot=je[it];Ot["s-hn"]!==H&&Ot["s-ol"]&&(Wt(Ot).insertBefore(Ot,Rt(Ot)),Ot["s-ol"].remove(),Ot["s-ol"]=void 0,S=!0),Je&&dt(Ot,Je)}m.$flags$&=-2},ht=(Se,Je,je,it,Ot,xt)=>{let an,Vt=Se["s-cr"]&&Se["s-cr"].parentNode||Se;for(Vt.shadowRoot&&Vt.tagName===H&&(Vt=Vt.shadowRoot);Ot<=xt;++Ot)it[Ot]&&(an=kt(null,je,Ot,Se),an&&(it[Ot].$elm$=an,Vt.insertBefore(an,Rt(Je))))},ot=(Se,Je,je,it,Ot)=>{for(;Je<=je;++Je)(it=Se[Je])&&(Ot=it.$elm$,Vn(it),$=!0,Ot["s-ol"]?Ot["s-ol"].remove():dt(Ot,!0),Ot.remove())},$t=(Se,Je)=>Se.$tag$===Je.$tag$&&("slot"===Se.$tag$?Se.$name$===Je.$name$:Se.$key$===Je.$key$),Rt=Se=>Se&&Se["s-ol"]||Se,Wt=Se=>(Se["s-ol"]?Se["s-ol"]:Se).parentNode,_n=(Se,Je)=>{const je=Je.$elm$=Se.$elm$,it=Se.$children$,Ot=Je.$children$,xt=Je.$tag$,Vt=Je.$text$;let an;null===Vt?(P="svg"===xt||"foreignObject"!==xt&&P,"slot"===xt||Pn(Se,Je,P),null!==it&&null!==Ot?((Se,Je,je,it)=>{let xi,Fi,Ot=0,xt=0,Vt=0,an=0,yn=Je.length-1,Cn=Je[0],Wn=Je[yn],mr=it.length-1,Lr=it[0],Or=it[mr];for(;Ot<=yn&&xt<=mr;)if(null==Cn)Cn=Je[++Ot];else if(null==Wn)Wn=Je[--yn];else if(null==Lr)Lr=it[++xt];else if(null==Or)Or=it[--mr];else if($t(Cn,Lr))_n(Cn,Lr),Cn=Je[++Ot],Lr=it[++xt];else if($t(Wn,Or))_n(Wn,Or),Wn=Je[--yn],Or=it[--mr];else if($t(Cn,Or))("slot"===Cn.$tag$||"slot"===Or.$tag$)&&dt(Cn.$elm$.parentNode,!1),_n(Cn,Or),Se.insertBefore(Cn.$elm$,Wn.$elm$.nextSibling),Cn=Je[++Ot],Or=it[--mr];else if($t(Wn,Lr))("slot"===Cn.$tag$||"slot"===Or.$tag$)&&dt(Wn.$elm$.parentNode,!1),_n(Wn,Lr),Se.insertBefore(Wn.$elm$,Cn.$elm$),Wn=Je[--yn],Lr=it[++xt];else{for(Vt=-1,an=Ot;an<=yn;++an)if(Je[an]&&null!==Je[an].$key$&&Je[an].$key$===Lr.$key$){Vt=an;break}Vt>=0?(Fi=Je[Vt],Fi.$tag$!==Lr.$tag$?xi=kt(Je&&Je[xt],je,Vt,Se):(_n(Fi,Lr),Je[Vt]=void 0,xi=Fi.$elm$),Lr=it[++xt]):(xi=kt(Je&&Je[xt],je,xt,Se),Lr=it[++xt]),xi&&Wt(Cn.$elm$).insertBefore(xi,Rt(Cn.$elm$))}Ot>yn?ht(Se,null==it[mr+1]?null:it[mr+1].$elm$,je,it,xt,mr):xt>mr&&ot(Je,Ot,yn)})(je,it,Je,Ot):null!==Ot?(null!==Se.$text$&&(je.textContent=""),ht(je,null,Je,Ot,0,Ot.length-1)):null!==it&&ot(it,0,it.length-1),P&&"svg"===xt&&(P=!1)):(an=je["s-cr"])?an.parentNode.textContent=Vt:Se.$text$!==Vt&&(je.data=Vt)},Gn=Se=>{let je,it,Ot,xt,Vt,an,Je=Se.childNodes;for(it=0,Ot=Je.length;it<Ot;it++)if(je=Je[it],1===je.nodeType){if(je["s-sr"])for(Vt=je["s-sn"],je.hidden=!1,xt=0;xt<Ot;xt++)if(an=Je[xt].nodeType,Je[xt]["s-hn"]!==je["s-hn"]||""!==Vt){if(1===an&&Vt===Je[xt].getAttribute("slot")){je.hidden=!0;break}}else if(1===an||3===an&&""!==Je[xt].textContent.trim()){je.hidden=!0;break}Gn(je)}},en=[],Hn=Se=>{let Je,je,it,Ot,xt,Vt,an=0,yn=Se.childNodes,Cn=yn.length;for(;an<Cn;an++){if(Je=yn[an],Je["s-sr"]&&(je=Je["s-cr"])&&je.parentNode)for(it=je.parentNode.childNodes,Ot=Je["s-sn"],Vt=it.length-1;Vt>=0;Vt--)je=it[Vt],!je["s-cn"]&&!je["s-nr"]&&je["s-hn"]!==Je["s-hn"]&&(On(je,Ot)?(xt=en.find(Wn=>Wn.$nodeToRelocate$===je),$=!0,je["s-sn"]=je["s-sn"]||Ot,xt?xt.$slotRefNode$=Je:en.push({$slotRefNode$:Je,$nodeToRelocate$:je}),je["s-sr"]&&en.map(Wn=>{On(Wn.$nodeToRelocate$,je["s-sn"])&&(xt=en.find(mr=>mr.$nodeToRelocate$===je),xt&&!Wn.$slotRefNode$&&(Wn.$slotRefNode$=xt.$slotRefNode$))})):en.some(Wn=>Wn.$nodeToRelocate$===je)||en.push({$nodeToRelocate$:je}));1===Je.nodeType&&Hn(Je)}},On=(Se,Je)=>1===Se.nodeType?null===Se.getAttribute("slot")&&""===Je||Se.getAttribute("slot")===Je:Se["s-sn"]===Je||""===Je,Vn=Se=>{Se.$attrs$&&Se.$attrs$.ref&&Se.$attrs$.ref(null),Se.$children$&&Se.$children$.map(Vn)},er=Se=>Mn(Se).$hostElement$,gr=(Se,Je,je)=>{const it=er(Se);return{emit:Ot=>kn(it,Je,{bubbles:!!(4&je),composed:!!(2&je),cancelable:!!(1&je),detail:Ot})}},kn=(Se,Je,je)=>{const it=m.ce(Je,je);return Se.dispatchEvent(it),it},Ar=(Se,Je)=>{Je&&!Se.$onRenderResolve$&&Je["s-p"]&&Je["s-p"].push(new Promise(je=>Se.$onRenderResolve$=je))},ni=(Se,Je)=>{if(Se.$flags$|=16,!(4&Se.$flags$))return Ar(Se,Se.$ancestorComponent$),Ft(()=>Gr(Se,Je));Se.$flags$|=512},Gr=(Se,Je)=>{const it=Se.$lazyInstance$;let Ot;return Je&&(Se.$flags$|=256,Se.$queuedListeners$&&(Se.$queuedListeners$.map(([xt,Vt])=>Mr(it,xt,Vt)),Se.$queuedListeners$=null),Ot=Mr(it,"componentWillLoad")),Ot=Qr(Ot,()=>Mr(it,"componentWillRender")),Qr(Ot,()=>Vr(Se,it,Je))},Vr=function(){var Se=(0,i.Z)(function*(Je,je,it){const Ot=Je.$hostElement$,Vt=Ot["s-rc"];it&&(Se=>{const Je=Se.$cmpMeta$,je=Se.$hostElement$,it=Je.$flags$,xt=ae(je.shadowRoot?je.shadowRoot:je.getRootNode(),Je,Se.$modeName$);10&it&&(je["s-sc"]=xt,je.classList.add(xt+"-h"),2&it&&je.classList.add(xt+"-s"))})(Je);zr(Je,je),Vt&&(Vt.map(yn=>yn()),Ot["s-rc"]=void 0);{const yn=Ot["s-p"],Cn=()=>or(Je);0===yn.length?Cn():(Promise.all(yn).then(Cn),Je.$flags$|=4,yn.length=0)}});return function(je,it,Ot){return Se.apply(this,arguments)}}(),zr=(Se,Je,je)=>{try{Je=Je.render&&Je.render(),Se.$flags$&=-17,Se.$flags$|=2,((Se,Je)=>{const je=Se.$hostElement$,it=Se.$cmpMeta$,Ot=Se.$vnode$||Ht(null,null),xt=(Se=>Se&&Se.$tag$===wn)(Je)?Je:Tt(null,null,Je);if(H=je.tagName,it.$attrsToReflect$&&(xt.$attrs$=xt.$attrs$||{},it.$attrsToReflect$.map(([Vt,an])=>xt.$attrs$[an]=je[Vt])),xt.$tag$=null,xt.$flags$|=4,Se.$vnode$=xt,xt.$elm$=Ot.$elm$=je.shadowRoot||je,G=je["s-sc"],ne=je["s-cr"],L=0!=(1&it.$flags$),$=!1,_n(Ot,xt),m.$flags$|=1,S){Hn(xt.$elm$);let Vt,an,yn,Cn,Wn,mr,Lr=0;for(;Lr<en.length;Lr++)Vt=en[Lr],an=Vt.$nodeToRelocate$,an["s-ol"]||(yn=C.createTextNode(""),yn["s-nr"]=an,an.parentNode.insertBefore(an["s-ol"]=yn,an));for(Lr=0;Lr<en.length;Lr++)if(Vt=en[Lr],an=Vt.$nodeToRelocate$,Vt.$slotRefNode$){for(Cn=Vt.$slotRefNode$.parentNode,Wn=Vt.$slotRefNode$.nextSibling,yn=an["s-ol"];yn=yn.previousSibling;)if(mr=yn["s-nr"],mr&&mr["s-sn"]===an["s-sn"]&&Cn===mr.parentNode&&(mr=mr.nextSibling,!mr||!mr["s-nr"])){Wn=mr;break}(!Wn&&Cn!==an.parentNode||an.nextSibling!==Wn)&&an!==Wn&&(!an["s-hn"]&&an["s-ol"]&&(an["s-hn"]=an["s-ol"].parentNode.nodeName),Cn.insertBefore(an,Wn))}else 1===an.nodeType&&(an.hidden=!0)}$&&Gn(xt.$elm$),m.$flags$&=-2,en.length=0})(Se,Je)}catch(it){$r(it,Se.$hostElement$)}return null},or=Se=>{const je=Se.$hostElement$,Ot=Se.$lazyInstance$,xt=Se.$ancestorComponent$;64&Se.$flags$?Mr(Ot,"componentDidUpdate"):(Se.$flags$|=64,Rr(je),Mr(Ot,"componentDidLoad"),Se.$onReadyResolve$(je),xt||oi()),Se.$onInstanceResolve$(je),Se.$onRenderResolve$&&(Se.$onRenderResolve$(),Se.$onRenderResolve$=void 0),512&Se.$flags$&&Ct(()=>ni(Se,!1)),Se.$flags$&=-517},Wr=Se=>{{const Je=Mn(Se),je=Je.$hostElement$.isConnected;return je&&2==(18&Je.$flags$)&&ni(Je,!1),je}},oi=Se=>{Rr(C.documentElement),Ct(()=>kn(w,"appload",{detail:{namespace:"ionic"}}))},Mr=(Se,Je,je)=>{if(Se&&Se[Je])try{return Se[Je](je)}catch(it){$r(it)}},Qr=(Se,Je)=>Se&&Se.then?Se.then(Je):Je(),Rr=Se=>Se.classList.add("hydrated"),Dt=(Se,Je,je,it,Ot,xt,Vt)=>{let an,yn,Cn,Wn;if(1===xt.nodeType){for(an=xt.getAttribute("c-id"),an&&(yn=an.split("."),(yn[0]===Vt||"0"===yn[0])&&(Cn={$flags$:0,$hostId$:yn[0],$nodeId$:yn[1],$depth$:yn[2],$index$:yn[3],$tag$:xt.tagName.toLowerCase(),$elm$:xt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Je.push(Cn),xt.removeAttribute("c-id"),Se.$children$||(Se.$children$=[]),Se.$children$[Cn.$index$]=Cn,Se=Cn,it&&"0"===Cn.$depth$&&(it[Cn.$index$]=Cn.$elm$))),Wn=xt.childNodes.length-1;Wn>=0;Wn--)Dt(Se,Je,je,it,Ot,xt.childNodes[Wn],Vt);if(xt.shadowRoot)for(Wn=xt.shadowRoot.childNodes.length-1;Wn>=0;Wn--)Dt(Se,Je,je,it,Ot,xt.shadowRoot.childNodes[Wn],Vt)}else if(8===xt.nodeType)yn=xt.nodeValue.split("."),(yn[1]===Vt||"0"===yn[1])&&(an=yn[0],Cn={$flags$:0,$hostId$:yn[1],$nodeId$:yn[2],$depth$:yn[3],$index$:yn[4],$elm$:xt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===an?(Cn.$elm$=xt.nextSibling,Cn.$elm$&&3===Cn.$elm$.nodeType&&(Cn.$text$=Cn.$elm$.textContent,Je.push(Cn),xt.remove(),Se.$children$||(Se.$children$=[]),Se.$children$[Cn.$index$]=Cn,it&&"0"===Cn.$depth$&&(it[Cn.$index$]=Cn.$elm$))):Cn.$hostId$===Vt&&("s"===an?(Cn.$tag$="slot",xt["s-sn"]=yn[5]?Cn.$name$=yn[5]:"",xt["s-sr"]=!0,it&&(Cn.$elm$=C.createElement(Cn.$tag$),Cn.$name$&&Cn.$elm$.setAttribute("name",Cn.$name$),xt.parentNode.insertBefore(Cn.$elm$,xt),xt.remove(),"0"===Cn.$depth$&&(it[Cn.$index$]=Cn.$elm$)),je.push(Cn),Se.$children$||(Se.$children$=[]),Se.$children$[Cn.$index$]=Cn):"r"===an&&(it?xt.remove():(Ot["s-cr"]=xt,xt["s-cn"]=!0))));else if(Se&&"style"===Se.$tag$){const mr=Ht(null,xt.textContent);mr.$elm$=xt,mr.$index$="0",Se.$children$=[mr]}},lt=(Se,Je)=>{if(1===Se.nodeType){let je=0;for(;je<Se.childNodes.length;je++)lt(Se.childNodes[je],Je);if(Se.shadowRoot)for(je=0;je<Se.shadowRoot.childNodes.length;je++)lt(Se.shadowRoot.childNodes[je],Je)}else if(8===Se.nodeType){const je=Se.nodeValue.split(".");"o"===je[0]&&(Je.set(je[1]+"."+je[2],Se),Se.nodeValue="",Se["s-en"]=je[3])}},pr=(Se,Je,je)=>{if(Je.$members$){Se.watchers&&(Je.$watchers$=Se.watchers);const it=Object.entries(Je.$members$),Ot=Se.prototype;if(it.map(([xt,[Vt]])=>{31&Vt||2&je&&32&Vt?Object.defineProperty(Ot,xt,{get(){return((Se,Je)=>Mn(this).$instanceValues$.get(Je))(0,xt)},set(an){((Se,Je,je,it)=>{const Ot=Mn(Se),xt=Ot.$hostElement$,Vt=Ot.$instanceValues$.get(Je),an=Ot.$flags$,yn=Ot.$lazyInstance$;if(je=((Se,Je)=>null==Se||Gt(Se)?Se:4&Je?"false"!==Se&&(""===Se||!!Se):2&Je?parseFloat(Se):1&Je?String(Se):Se)(je,it.$members$[Je][0]),(!(8&an)||void 0===Vt)&&je!==Vt&&(Ot.$instanceValues$.set(Je,je),yn)){if(it.$watchers$&&128&an){const Cn=it.$watchers$[Je];Cn&&Cn.map(Wn=>{try{yn[Wn](je,Vt,Je)}catch(mr){$r(mr,xt)}})}2==(18&an)&&ni(Ot,!1)}})(this,xt,an,Je)},configurable:!0,enumerable:!0}):1&je&&64&Vt&&Object.defineProperty(Ot,xt,{value(...an){const yn=Mn(this);return yn.$onInstancePromise$.then(()=>yn.$lazyInstance$[xt](...an))}})}),1&je){const xt=new Map;Ot.attributeChangedCallback=function(Vt,an,yn){m.jmp(()=>{const Cn=xt.get(Vt);if(this.hasOwnProperty(Cn))yn=this[Cn],delete this[Cn];else if(Ot.hasOwnProperty(Cn)&&"number"==typeof this[Cn]&&this[Cn]==yn)return;this[Cn]=(null!==yn||"boolean"!=typeof this[Cn])&&yn})},Se.observedAttributes=it.filter(([Vt,an])=>15&an[0]).map(([Vt,an])=>{const yn=an[1]||Vt;return xt.set(yn,Vt),512&an[0]&&Je.$attrsToReflect$.push([Vt,yn]),yn})}}return Se},ct=function(){var Se=(0,i.Z)(function*(Je,je,it,Ot,xt){if(0==(32&je.$flags$)){{if(je.$flags$|=32,(xt=Dr(it)).then){const Cn=()=>{};xt=yield xt,Cn()}xt.isProxied||(it.$watchers$=xt.watchers,pr(xt,it,2),xt.isProxied=!0);const yn=()=>{};je.$flags$|=8;try{new xt(je)}catch(Cn){$r(Cn)}je.$flags$&=-9,je.$flags$|=128,yn(),gt(je.$lazyInstance$)}if(xt.style){let yn=xt.style;"string"!=typeof yn&&(yn=yn[je.$modeName$=(Se=>ue.map(Je=>Je(Se)).find(Je=>!!Je))(Je)]);const Cn=Ee(it,je.$modeName$);if(!Et.has(Cn)){const Wn=()=>{};Ie(Cn,yn,!!(1&it.$flags$)),Wn()}}}const Vt=je.$ancestorComponent$,an=()=>ni(je,!0);Vt&&Vt["s-rc"]?Vt["s-rc"].push(an):an()});return function(je,it,Ot,xt,Vt){return Se.apply(this,arguments)}}(),gt=Se=>{Mr(Se,"connectedCallback")},zt=Se=>{const Je=Se["s-cr"]=C.createComment("");Je["s-cn"]=!0,Se.insertBefore(Je,Se.firstChild)},En=(Se,Je={})=>{const it=[],Ot=Je.exclude||[],xt=w.customElements,Vt=C.head,an=Vt.querySelector("meta[charset]"),yn=C.createElement("style"),Cn=[],Wn=C.querySelectorAll(`[${he}]`);let mr,Lr=!0,Or=0;for(Object.assign(m,Je),m.$resourcesUrl$=new URL(Je.resourcesUrl||"./",C.baseURI).href,m.$flags$|=2;Or<Wn.length;Or++)Ie(Wn[Or].getAttribute(he),Pe(Wn[Or].innerHTML),!0);Se.map(xi=>{xi[1].map(Fi=>{const Ai={$flags$:Fi[0],$tagName$:Fi[1],$members$:Fi[2],$listeners$:Fi[3]};Ai.$members$=Fi[2],Ai.$listeners$=Fi[3],Ai.$attrsToReflect$=[],Ai.$watchers$={};const Io=Ai.$tagName$,so=class extends HTMLElement{constructor(fo){super(fo),Bn(fo=this,Ai),1&Ai.$flags$&&fo.attachShadow({mode:"open",delegatesFocus:!!(16&Ai.$flags$)})}connectedCallback(){mr&&(clearTimeout(mr),mr=null),Lr?Cn.push(this):m.jmp(()=>(Se=>{if(0==(1&m.$flags$)){const Je=Mn(Se),je=Je.$cmpMeta$,it=()=>{};if(1&Je.$flags$)k(Se,Je,je.$listeners$),gt(Je.$lazyInstance$);else{let Ot;if(Je.$flags$|=1,Ot=Se.getAttribute(le),Ot){if(1&je.$flags$){const xt=ae(Se.shadowRoot,je,Se.getAttribute("s-mode"));Se.classList.remove(xt+"-h",xt+"-s")}((Se,Je,je,it)=>{const xt=Se.shadowRoot,Vt=[],yn=xt?[]:null,Cn=it.$vnode$=Ht(Je,null);m.$orgLocNodes$||lt(C.body,m.$orgLocNodes$=new Map),Se[le]=je,Se.removeAttribute(le),Dt(Cn,Vt,[],yn,Se,Se,je),Vt.map(Wn=>{const mr=Wn.$hostId$+"."+Wn.$nodeId$,Lr=m.$orgLocNodes$.get(mr),Or=Wn.$elm$;Lr&&""===Lr["s-en"]&&Lr.parentNode.insertBefore(Or,Lr.nextSibling),xt||(Or["s-hn"]=Je,Lr&&(Or["s-ol"]=Lr,Or["s-ol"]["s-nr"]=Or)),m.$orgLocNodes$.delete(mr)}),xt&&yn.map(Wn=>{Wn&&xt.appendChild(Wn)})})(Se,je.$tagName$,Ot,Je)}Ot||12&je.$flags$&&zt(Se);{let xt=Se;for(;xt=xt.parentNode||xt.host;)if(1===xt.nodeType&&xt.hasAttribute("s-id")&&xt["s-p"]||xt["s-p"]){Ar(Je,Je.$ancestorComponent$=xt);break}}je.$members$&&Object.entries(je.$members$).map(([xt,[Vt]])=>{if(31&Vt&&Se.hasOwnProperty(xt)){const an=Se[xt];delete Se[xt],Se[xt]=an}}),Ct(()=>ct(Se,Je,je))}it()}})(this))}disconnectedCallback(){m.jmp(()=>(Se=>{if(0==(1&m.$flags$)){const Je=Mn(this),je=Je.$lazyInstance$;Je.$rmListeners$&&(Je.$rmListeners$.map(it=>it()),Je.$rmListeners$=void 0),Mr(je,"disconnectedCallback")}})())}componentOnReady(){return Mn(this).$onReadyPromise$}};Ai.$lazyBundleId$=xi[0],!Ot.includes(Io)&&!xt.get(Io)&&(it.push(Io),xt.define(Io,pr(so,Ai,1)))})}),yn.innerHTML=it+"{visibility:hidden}.hydrated{visibility:inherit}",yn.setAttribute("data-styles",""),Vt.insertBefore(yn,an?an.nextSibling:Vt.firstChild),Lr=!1,Cn.length?Cn.map(xi=>xi.connectedCallback()):m.jmp(()=>mr=setTimeout(oi,30))},dn=Se=>{const Je=new URL(Se,m.$resourcesUrl$);return Je.origin!==w.location.origin?Je.href:Je.pathname},Un=new WeakMap,Mn=Se=>Un.get(Se),cn=(Se,Je)=>Un.set(Je.$lazyInstance$=Se,Je),Bn=(Se,Je)=>{const je={$flags$:0,$hostElement$:Se,$cmpMeta$:Je,$instanceValues$:new Map};return je.$onInstancePromise$=new Promise(it=>je.$onInstanceResolve$=it),je.$onReadyPromise$=new Promise(it=>je.$onReadyResolve$=it),Se["s-p"]=[],Se["s-rc"]=[],k(Se,je,Je.$listeners$),Un.set(Se,je)},ar=(Se,Je)=>Je in Se,$r=(Se,Je)=>(0,console.error)(Se,Je),gi=new Map,Dr=(Se,Je,je)=>{const it=Se.$tagName$.replace(/-/g,"_"),Ot=Se.$lazyBundleId$,xt=gi.get(Ot);return xt?xt[it]:p(863)(`./${Ot}.entry.js`).then(Vt=>(gi.set(Ot,Vt),Vt[it]),$r)},Et=new Map,ue=[],ce=[],Fe=[],et=(Se,Je)=>je=>{Se.push(je),x||(x=!0,Je&&4&m.$flags$?Ct(Le):m.raf(Le))},It=Se=>{for(let Je=0;Je<Se.length;Je++)try{Se[Je](performance.now())}catch(je){$r(je)}Se.length=0},Le=()=>{It(ce),It(Fe),(x=ce.length>0)&&m.raf(Le)},Ct=Se=>v().then(Se),St=et(ce,!1),Ft=et(Fe,!0),Zt={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},1363:(Ye,fe,p)=>{"use strict";p.r(fe),p.d(fe,{GESTURE_CONTROLLER:()=>i.G,createGesture:()=>P});var i=p(2733);const D=(m,T,g,v)=>{const O=G(m)?{capture:!!v.capture,passive:!!v.passive}:!!v.capture;let k,B;return m.__zone_symbol__addEventListener?(k="__zone_symbol__addEventListener",B="__zone_symbol__removeEventListener"):(k="addEventListener",B="removeEventListener"),m[k](T,g,O),()=>{m[B](T,g,O)}},G=m=>{if(void 0===ne)try{const T=Object.defineProperty({},"passive",{get:()=>{ne=!0}});m.addEventListener("optsTest",()=>{},T)}catch(T){ne=!1}return!!ne};let ne;const $=m=>m instanceof Document?m:m.ownerDocument,P=m=>{let T=!1,g=!1,v=!0,O=!1;const k=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},m),B=k.canStart,F=k.onWillStart,M=k.onStart,y=k.onEnd,R=k.notCaptured,z=k.onMove,re=k.threshold,le=k.passive,he=k.blurOnStart,xe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},A=((m,T,g)=>{const v=g*(Math.PI/180),O="x"===m,k=Math.cos(v),B=T*T;let F=0,M=0,y=!1,R=0;return{start(z,re){F=z,M=re,R=0,y=!0},detect(z,re){if(!y)return!1;const le=z-F,he=re-M,xe=le*le+he*he;if(xe<B)return!1;const A=Math.sqrt(xe),W=(O?le:he)/A;return R=W>k?1:W<-k?-1:0,y=!1,!0},isGesture:()=>0!==R,getDirection:()=>R}})(k.direction,k.threshold,k.maxAngle),W=i.G.createGesture({name:m.gestureName,priority:m.gesturePriority,disableScroll:m.disableScroll}),Te=()=>{!T||(O=!1,z&&z(xe))},Ie=()=>!(W&&!W.capture()||(T=!0,v=!1,xe.startX=xe.currentX,xe.startY=xe.currentY,xe.startTime=xe.currentTime,F?F(xe).then(_e):_e(),0)),_e=()=>{he&&(()=>{if("undefined"!=typeof document){const Be=document.activeElement;null!==Be&&Be.blur&&Be.blur()}})(),M&&M(xe),v=!0},Ee=()=>{T=!1,g=!1,O=!1,v=!0,W.release()},Pe=Be=>{const Ce=T,ke=v;if(Ee(),ke){if(x(xe,Be),Ce)return void(y&&y(xe));R&&R(xe)}},Ge=((m,T,g,v,O)=>{let k,B,F,M,y,R,z,re=0;const le=ae=>{re=Date.now()+2e3,T(ae)&&(!B&&g&&(B=D(m,"touchmove",g,O)),F||(F=D(ae.target,"touchend",xe,O)),M||(M=D(ae.target,"touchcancel",xe,O)))},he=ae=>{re>Date.now()||!T(ae)||(!R&&g&&(R=D($(m),"mousemove",g,O)),z||(z=D($(m),"mouseup",A,O)))},xe=ae=>{W(),v&&v(ae)},A=ae=>{te(),v&&v(ae)},W=()=>{B&&B(),F&&F(),M&&M(),B=F=M=void 0},te=()=>{R&&R(),z&&z(),R=z=void 0},oe=()=>{W(),te()},Te=(ae=!0)=>{ae?(k||(k=D(m,"touchstart",le,O)),y||(y=D(m,"mousedown",he,O))):(k&&k(),y&&y(),k=y=void 0,oe())};return{enable:Te,stop:oe,destroy:()=>{Te(!1),v=g=T=void 0}}})(k.el,Be=>{const Ce=C(Be);return!(g||!v||(w(Be,xe),xe.startX=xe.currentX,xe.startY=xe.currentY,xe.startTime=xe.currentTime=Ce,xe.velocityX=xe.velocityY=xe.deltaX=xe.deltaY=0,xe.event=Be,B&&!1===B(xe))||(W.release(),!W.start()))&&(g=!0,0===re?Ie():(A.start(xe.startX,xe.startY),!0))},Be=>{T?!O&&v&&(O=!0,x(xe,Be),requestAnimationFrame(Te)):(x(xe,Be),A.detect(xe.currentX,xe.currentY)&&(!A.isGesture()||!Ie())&&Ue())},Pe,{capture:!1,passive:le}),Ue=()=>{Ee(),Ge.stop(),R&&R(xe)};return{enable(Be=!0){Be||(T&&Pe(void 0),Ee()),Ge.enable(Be)},destroy(){W.destroy(),Ge.destroy()}}},x=(m,T)=>{if(!T)return;const g=m.currentX,v=m.currentY,O=m.currentTime;w(T,m);const k=m.currentX,B=m.currentY,M=(m.currentTime=C(T))-O;if(M>0&&M<100){const R=(B-v)/M;m.velocityX=(k-g)/M*.7+.3*m.velocityX,m.velocityY=.7*R+.3*m.velocityY}m.deltaX=k-m.startX,m.deltaY=B-m.startY,m.event=T},w=(m,T)=>{let g=0,v=0;if(m){const O=m.changedTouches;if(O&&O.length>0){const k=O[0];g=k.clientX,v=k.clientY}else void 0!==m.pageX&&(g=m.pageX,v=m.pageY)}T.currentX=g,T.currentY=v},C=m=>m.timeStamp||Date.now()},7313:(Ye,fe,p)=>{"use strict";p.d(fe,{m:()=>w});var i=p(5861),D=p(527),G=p(6499),ne=p(7639),H=p(5508);const L=C=>(0,H.c)().duration(C?400:300),$=C=>{let m,T;const g=C.width+8,v=(0,H.c)(),O=(0,H.c)();C.isEndSide?(m=g+"px",T="0px"):(m=-g+"px",T="0px"),v.addElement(C.menuInnerEl).fromTo("transform",`translateX(${m})`,`translateX(${T})`);const B="ios"===(0,ne.b)(C),F=B?.2:.25;return O.addElement(C.backdropEl).fromTo("opacity",.01,F),L(B).addAnimation([v,O])},S=C=>{let m,T;const g=(0,ne.b)(C),v=C.width;C.isEndSide?(m=-v+"px",T=v+"px"):(m=v+"px",T=-v+"px");const O=(0,H.c)().addElement(C.menuInnerEl).fromTo("transform",`translateX(${T})`,"translateX(0px)"),k=(0,H.c)().addElement(C.contentEl).fromTo("transform","translateX(0px)",`translateX(${m})`),B=(0,H.c)().addElement(C.backdropEl).fromTo("opacity",.01,.32);return L("ios"===g).addAnimation([O,k,B])},P=C=>{const m=(0,ne.b)(C),T=C.width*(C.isEndSide?-1:1)+"px",g=(0,H.c)().addElement(C.contentEl).fromTo("transform","translateX(0px)",`translateX(${T})`);return L("ios"===m).addAnimation(g)},w=(()=>{const C=new Map,m=[],T=function(){var _e=(0,i.Z)(function*(Ee){const Pe=yield M(Ee);return!!Pe&&Pe.open()});return function(Pe){return _e.apply(this,arguments)}}(),g=function(){var _e=(0,i.Z)(function*(Ee){const Pe=yield void 0!==Ee?M(Ee):y();return void 0!==Pe&&Pe.close()});return function(Pe){return _e.apply(this,arguments)}}(),v=function(){var _e=(0,i.Z)(function*(Ee){const Pe=yield M(Ee);return!!Pe&&Pe.toggle()});return function(Pe){return _e.apply(this,arguments)}}(),O=function(){var _e=(0,i.Z)(function*(Ee,Pe){const Ge=yield M(Pe);return Ge&&(Ge.disabled=!Ee),Ge});return function(Pe,Ge){return _e.apply(this,arguments)}}(),k=function(){var _e=(0,i.Z)(function*(Ee,Pe){const Ge=yield M(Pe);return Ge&&(Ge.swipeGesture=Ee),Ge});return function(Pe,Ge){return _e.apply(this,arguments)}}(),B=function(){var _e=(0,i.Z)(function*(Ee){if(null!=Ee){const Pe=yield M(Ee);return void 0!==Pe&&Pe.isOpen()}return void 0!==(yield y())});return function(Pe){return _e.apply(this,arguments)}}(),F=function(){var _e=(0,i.Z)(function*(Ee){const Pe=yield M(Ee);return!!Pe&&!Pe.disabled});return function(Pe){return _e.apply(this,arguments)}}(),M=function(){var _e=(0,i.Z)(function*(Ee){return yield ae(),"start"===Ee||"end"===Ee?Ie(Ue=>Ue.side===Ee&&!Ue.disabled)||Ie(Ue=>Ue.side===Ee):null!=Ee?Ie(Ge=>Ge.menuId===Ee):Ie(Ge=>!Ge.disabled)||(m.length>0?m[0].el:void 0)});return function(Pe){return _e.apply(this,arguments)}}(),y=function(){var _e=(0,i.Z)(function*(){return yield ae(),te()});return function(){return _e.apply(this,arguments)}}(),R=function(){var _e=(0,i.Z)(function*(){return yield ae(),oe()});return function(){return _e.apply(this,arguments)}}(),z=function(){var _e=(0,i.Z)(function*(){return yield ae(),Te()});return function(){return _e.apply(this,arguments)}}(),re=(_e,Ee)=>{C.set(_e,Ee)},xe=_e=>{const Ee=_e.side;m.filter(Pe=>Pe.side===Ee&&Pe!==_e).forEach(Pe=>Pe.disabled=!0)},A=function(){var _e=(0,i.Z)(function*(Ee,Pe,Ge){if(Te())return!1;if(Pe){const Ue=yield y();Ue&&Ee.el!==Ue&&(yield Ue.setOpen(!1,!1))}return Ee._setOpen(Pe,Ge)});return function(Pe,Ge,Ue){return _e.apply(this,arguments)}}(),te=()=>Ie(_e=>_e._isOpen),oe=()=>m.map(_e=>_e.el),Te=()=>m.some(_e=>_e.isAnimating),Ie=_e=>{const Ee=m.find(_e);if(void 0!==Ee)return Ee.el},ae=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(_e=>new Promise(Ee=>(0,G.c)(_e,Ee))));return re("reveal",P),re("push",S),re("overlay",$),"undefined"!=typeof document&&document.addEventListener("ionBackButton",_e=>{const Ee=te();Ee&&_e.detail.register(D.MENU_BACK_BUTTON_PRIORITY,()=>Ee.close())}),{registerAnimation:re,get:M,getMenus:R,getOpen:y,isEnabled:F,swipeGesture:k,isAnimating:z,isOpen:B,enable:O,toggle:v,close:g,open:T,_getOpenSync:te,_createAnimation:(_e,Ee)=>{const Pe=C.get(_e);if(!Pe)throw new Error("animation not registered");return Pe(Ee)},_register:_e=>{m.indexOf(_e)<0&&(_e.disabled||xe(_e),m.push(_e))},_unregister:_e=>{const Ee=m.indexOf(_e);Ee>-1&&m.splice(Ee,1)},_setOpen:A,_setActiveMenu:xe}})()},6665:(Ye,fe,p)=>{"use strict";p.d(fe,{s:()=>i});const i=S=>{try{if(S instanceof class{constructor(P){this.value=P}})return S.value;if(!ne()||"string"!=typeof S||""===S)return S;const P=document.createDocumentFragment(),x=document.createElement("div");P.appendChild(x),x.innerHTML=S,L.forEach(T=>{const g=P.querySelectorAll(T);for(let v=g.length-1;v>=0;v--){const O=g[v];O.parentNode?O.parentNode.removeChild(O):P.removeChild(O);const k=G(O);for(let B=0;B<k.length;B++)D(k[B])}});const w=G(P);for(let T=0;T<w.length;T++)D(w[T]);const C=document.createElement("div");C.appendChild(P);const m=C.querySelector("div");return null!==m?m.innerHTML:C.innerHTML}catch(P){return console.error(P),""}},D=S=>{if(S.nodeType&&1!==S.nodeType)return;for(let x=S.attributes.length-1;x>=0;x--){const w=S.attributes.item(x),C=w.name;if(!H.includes(C.toLowerCase())){S.removeAttribute(C);continue}const m=w.value;null!=m&&m.toLowerCase().includes("javascript:")&&S.removeAttribute(C)}const P=G(S);for(let x=0;x<P.length;x++)D(P[x])},G=S=>null!=S.children?S.children:S.childNodes,ne=()=>{const S=window,P=S&&S.Ionic&&S.Ionic.config;return!P||(P.get?P.get("sanitizerEnabled",!0):!0===P.sanitizerEnabled||void 0===P.sanitizerEnabled)},H=["class","id","href","src","name","slot"],L=["script","style","iframe","meta","link","object","embed"]},2098:(Ye,fe,p)=>{"use strict";p.d(fe,{L:()=>ne,a:()=>H,b:()=>L,c:()=>$,d:()=>S,e:()=>re,g:()=>xe,l:()=>R,s:()=>le,t:()=>w});var i=p(5861),D=p(9533),G=p(6499);const ne="ionViewWillEnter",H="ionViewDidEnter",L="ionViewWillLeave",$="ionViewDidLeave",S="ionViewWillUnload",w=A=>new Promise((W,te)=>{(0,D.c)(()=>{C(A),m(A).then(oe=>{oe.animation&&oe.animation.destroy(),T(A),W(oe)},oe=>{T(A),te(oe)})})}),C=A=>{const W=A.enteringEl,te=A.leavingEl;he(W,te,A.direction),A.showGoBack?W.classList.add("can-go-back"):W.classList.remove("can-go-back"),le(W,!1),W.style.setProperty("pointer-events","none"),te&&(le(te,!1),te.style.setProperty("pointer-events","none"))},m=function(){var A=(0,i.Z)(function*(W){const te=yield g(W);return te&&D.B.isBrowser?v(te,W):O(W)});return function(te){return A.apply(this,arguments)}}(),T=A=>{const W=A.enteringEl,te=A.leavingEl;W.classList.remove("ion-page-invisible"),W.style.removeProperty("pointer-events"),void 0!==te&&(te.classList.remove("ion-page-invisible"),te.style.removeProperty("pointer-events"))},g=function(){var A=(0,i.Z)(function*(W){return W.leavingEl&&W.animated&&0!==W.duration?W.animationBuilder?W.animationBuilder:"ios"===W.mode?(yield Promise.resolve().then(p.bind(p,939))).iosTransitionAnimation:(yield Promise.resolve().then(p.bind(p,773))).mdTransitionAnimation:void 0});return function(te){return A.apply(this,arguments)}}(),v=function(){var A=(0,i.Z)(function*(W,te){yield k(te,!0);const oe=W(te.baseEl,te);M(te.enteringEl,te.leavingEl);const Te=yield F(oe,te);return te.progressCallback&&te.progressCallback(void 0),Te&&y(te.enteringEl,te.leavingEl),{hasCompleted:Te,animation:oe}});return function(te,oe){return A.apply(this,arguments)}}(),O=function(){var A=(0,i.Z)(function*(W){const te=W.enteringEl,oe=W.leavingEl;return yield k(W,!1),M(te,oe),y(te,oe),{hasCompleted:!0}});return function(te){return A.apply(this,arguments)}}(),k=function(){var A=(0,i.Z)(function*(W,te){const Te=(void 0!==W.deepWait?W.deepWait:te)?[re(W.enteringEl),re(W.leavingEl)]:[z(W.enteringEl),z(W.leavingEl)];yield Promise.all(Te),yield B(W.viewIsReady,W.enteringEl)});return function(te,oe){return A.apply(this,arguments)}}(),B=function(){var A=(0,i.Z)(function*(W,te){W&&(yield W(te))});return function(te,oe){return A.apply(this,arguments)}}(),F=(A,W)=>{const te=W.progressCallback,oe=new Promise(Te=>{A.onFinish(Ie=>Te(1===Ie))});return te?(A.progressStart(!0),te(A)):A.play(),oe},M=(A,W)=>{R(W,L),R(A,ne)},y=(A,W)=>{R(A,H),R(W,$)},R=(A,W)=>{if(A){const te=new CustomEvent(W,{bubbles:!1,cancelable:!1});A.dispatchEvent(te)}},z=A=>A?new Promise(W=>(0,G.c)(A,W)):Promise.resolve(),re=function(){var A=(0,i.Z)(function*(W){const te=W;if(te){if(null!=te.componentOnReady){if(null!=(yield te.componentOnReady()))return}else if(null!=te.__registerHost)return void(yield new Promise(Te=>(0,G.r)(Te)));yield Promise.all(Array.from(te.children).map(re))}});return function(te){return A.apply(this,arguments)}}(),le=(A,W)=>{W?(A.setAttribute("aria-hidden","true"),A.classList.add("ion-page-hidden")):(A.hidden=!1,A.removeAttribute("aria-hidden"),A.classList.remove("ion-page-hidden"))},he=(A,W,te)=>{void 0!==A&&(A.style.zIndex="back"===te?"99":"101"),void 0!==W&&(W.style.zIndex="100")},xe=A=>A.classList.contains("ion-page")?A:A.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||A},7639:(Ye,fe,p)=>{"use strict";p.d(fe,{a:()=>w,b:()=>Te,c:()=>G,g:()=>x,i:()=>Ie});var i=p(9533);class D{constructor(){this.m=new Map}reset(_e){this.m=new Map(Object.entries(_e))}get(_e,Ee){const Pe=this.m.get(_e);return void 0!==Pe?Pe:Ee}getBoolean(_e,Ee=!1){const Pe=this.m.get(_e);return void 0===Pe?Ee:"string"==typeof Pe?"true"===Pe:!!Pe}getNumber(_e,Ee){const Pe=parseFloat(this.m.get(_e));return isNaN(Pe)?void 0!==Ee?Ee:NaN:Pe}set(_e,Ee){this.m.set(_e,Ee)}}const G=new D,S="ionic:",P="ionic-persist-config",x=ae=>C(ae),w=(ae,_e)=>("string"==typeof ae&&(_e=ae,ae=void 0),x(ae).includes(_e)),C=(ae=window)=>{if(void 0===ae)return[];ae.Ionic=ae.Ionic||{};let _e=ae.Ionic.platforms;return null==_e&&(_e=ae.Ionic.platforms=m(ae),_e.forEach(Ee=>ae.document.documentElement.classList.add(`plt-${Ee}`))),_e},m=ae=>{const _e=G.get("platform");return Object.keys(te).filter(Ee=>{const Pe=_e&&_e[Ee];return"function"==typeof Pe?Pe(ae):te[Ee](ae)})},g=ae=>!!(A(ae,/iPad/i)||A(ae,/Macintosh/i)&&y(ae)),k=ae=>A(ae,/android|sink/i),y=ae=>W(ae,"(any-pointer:coarse)"),z=ae=>re(ae)||le(ae),re=ae=>!!(ae.cordova||ae.phonegap||ae.PhoneGap),le=ae=>{const _e=ae.Capacitor;return!(!_e||!_e.isNative)},A=(ae,_e)=>_e.test(ae.navigator.userAgent),W=(ae,_e)=>ae.matchMedia&&ae.matchMedia(_e).matches,te={ipad:g,iphone:ae=>A(ae,/iPhone/i),ios:ae=>A(ae,/iPhone|iPod/i)||g(ae),android:k,phablet:ae=>{const _e=ae.innerWidth,Ee=ae.innerHeight,Pe=Math.min(_e,Ee),Ge=Math.max(_e,Ee);return Pe>390&&Pe<520&&Ge>620&&Ge<800},tablet:ae=>{const _e=ae.innerWidth,Ee=ae.innerHeight,Pe=Math.min(_e,Ee),Ge=Math.max(_e,Ee);return g(ae)||(ae=>k(ae)&&!A(ae,/mobile/i))(ae)||Pe>460&&Pe<820&&Ge>780&&Ge<1400},cordova:re,capacitor:le,electron:ae=>A(ae,/electron/i),pwa:ae=>!!(ae.matchMedia&&ae.matchMedia("(display-mode: standalone)").matches||ae.navigator.standalone),mobile:y,mobileweb:ae=>y(ae)&&!z(ae),desktop:ae=>!y(ae),hybrid:z};let oe;const Te=ae=>ae&&(0,i.g)(ae)||oe,Ie=(ae={})=>{if("undefined"==typeof window)return;const _e=window.document,Ee=window,Pe=Ee.Ionic=Ee.Ionic||{},Ge={};ae._ael&&(Ge.ael=ae._ael),ae._rel&&(Ge.rel=ae._rel),ae._ce&&(Ge.ce=ae._ce),(0,i.s)(Ge);const Ue=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ae=>{try{const _e=ae.sessionStorage.getItem(P);return null!==_e?JSON.parse(_e):{}}catch(_e){return{}}})(Ee)),{persistConfig:!1}),Pe.config),(ae=>{const _e={};return ae.location.search.slice(1).split("&").map(Ee=>Ee.split("=")).map(([Ee,Pe])=>[decodeURIComponent(Ee),decodeURIComponent(Pe)]).filter(([Ee])=>((ae,_e)=>ae.substr(0,_e.length)===_e)(Ee,S)).map(([Ee,Pe])=>[Ee.slice(S.length),Pe]).forEach(([Ee,Pe])=>{_e[Ee]=Pe}),_e})(Ee)),ae);G.reset(Ue),G.getBoolean("persistConfig")&&((ae,_e)=>{try{ae.sessionStorage.setItem(P,JSON.stringify(_e))}catch(Ee){return}})(Ee,Ue),C(Ee),Pe.config=G,Pe.mode=oe=G.get("mode",_e.documentElement.getAttribute("mode")||(w(Ee,"ios")?"ios":"md")),G.set("mode",oe),_e.documentElement.setAttribute("mode",oe),_e.documentElement.classList.add(oe),G.getBoolean("_testing")&&G.set("animated",!1);const Be=ke=>ke.tagName&&ke.tagName.startsWith("ION-"),Ce=ke=>["ios","md"].includes(ke);(0,i.a)(ke=>{for(;ke;){const qe=ke.mode||ke.getAttribute("mode");if(qe){if(Ce(qe))return qe;Be(ke)&&console.warn('Invalid ionic mode: "'+qe+'", expected: "ios" or "md"')}ke=ke.parentElement}return oe})}},939:(Ye,fe,p)=>{"use strict";p.r(fe),p.d(fe,{iosTransitionAnimation:()=>C,shadow:()=>L});var i=p(5508),D=p(2098);p(9533);const H=m=>document.querySelector(`${m}.ion-cloned-element`),L=m=>m.shadowRoot||m,$=m=>{const T="ION-TABS"===m.tagName?m:m.querySelector("ion-tabs"),g="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=T){const v=T.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=v?v.querySelector(g):null}return m.querySelector(g)},S=(m,T)=>{const g="ION-TABS"===m.tagName?m:m.querySelector("ion-tabs");let v=[];if(null!=g){const O=g.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=O&&(v=O.querySelectorAll("ion-buttons"))}else v=m.querySelectorAll("ion-buttons");for(const O of v){const k=O.closest("ion-header"),B=k&&!k.classList.contains("header-collapse-condense-inactive"),F=O.querySelector("ion-back-button"),M=O.classList.contains("buttons-collapse"),y="start"===O.slot||""===O.slot;if(null!==F&&y&&(M&&B&&T||!M))return F}return null},x=(m,T,g,v,O,k)=>{const B=T?`calc(100% - ${k.right+4}px)`:k.left-4+"px",F=T?"7px":"-7px",M=T?"-4px":"4px",y=T?"-4px":"4px",R=T?"right":"left",z=T?"left":"right",he=g?[{offset:0,opacity:1,transform:`translate3d(${M}, ${k.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${F}, ${O.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${F}, ${O.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${M}, ${k.top-46}px, 0) scale(1)`}],W=g?[{offset:0,opacity:1,transform:`translate3d(${y}, ${k.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${y}, ${k.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${y}, ${k.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${y}, ${k.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${y}, ${k.top-46}px, 0) scale(1)`}],te=(0,i.c)(),oe=(0,i.c)(),Te=H("ion-back-button"),Ie=L(Te).querySelector(".button-text"),ae=L(Te).querySelector("ion-icon");Te.text=v.text,Te.mode=v.mode,Te.icon=v.icon,Te.color=v.color,Te.disabled=v.disabled,Te.style.setProperty("display","block"),Te.style.setProperty("position","fixed"),oe.addElement(ae),te.addElement(Ie),te.beforeStyles({"transform-origin":`${R} center`}).beforeAddWrite(()=>{v.style.setProperty("display","none"),Te.style.setProperty(R,B)}).afterAddWrite(()=>{v.style.setProperty("display",""),Te.style.setProperty("display","none"),Te.style.removeProperty(R)}).keyframes(he),oe.beforeStyles({"transform-origin":`${z} center`}).keyframes(W),m.addAnimation([te,oe])},w=(m,T,g,v,O,k)=>{const B=T?`calc(100% - ${O.right}px)`:`${O.left}px`,F=T?"-18px":"18px",M=T?"right":"left",z=g?[{offset:0,opacity:0,transform:`translate3d(${F}, ${k.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${O.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${O.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${F}, ${k.top-4}px, 0) scale(0.5)`}],re=H("ion-title"),le=(0,i.c)();re.innerText=v.innerText,re.size=v.size,re.color=v.color,le.addElement(re),le.beforeStyles({"transform-origin":`${M} center`,height:"46px",display:"",position:"relative",[M]:B}).beforeAddWrite(()=>{v.style.setProperty("display","none")}).afterAddWrite(()=>{v.style.setProperty("display",""),re.style.setProperty("display","none")}).keyframes(z),m.addAnimation(le)},C=(m,T)=>{try{const g="cubic-bezier(0.32,0.72,0,1)",v="opacity",O="transform",k="0%",B=.8,F="rtl"===m.ownerDocument.dir,M=F?"-99.5%":"99.5%",y=F?"33%":"-33%",R=T.enteringEl,z=T.leavingEl,re="back"===T.direction,le=R.querySelector(":scope > ion-content"),he=R.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),xe=R.querySelectorAll(":scope > ion-header > ion-toolbar"),A=(0,i.c)(),W=(0,i.c)();if(A.addElement(R).duration(T.duration||540).easing(T.easing||g).fill("both").beforeRemoveClass("ion-page-invisible"),z&&m){const Ie=(0,i.c)();Ie.addElement(m),A.addAnimation(Ie)}if(le||0!==xe.length||0!==he.length?(W.addElement(le),W.addElement(he)):W.addElement(R.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),A.addAnimation(W),re?W.beforeClearStyles([v]).fromTo("transform",`translateX(${y})`,`translateX(${k})`).fromTo(v,B,1):W.beforeClearStyles([v]).fromTo("transform",`translateX(${M})`,`translateX(${k})`),le){const Ie=L(le).querySelector(".transition-effect");if(Ie){const ae=Ie.querySelector(".transition-cover"),_e=Ie.querySelector(".transition-shadow"),Ee=(0,i.c)(),Pe=(0,i.c)(),Ge=(0,i.c)();Ee.addElement(Ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Pe.addElement(ae).beforeClearStyles([v]).fromTo(v,0,.1),Ge.addElement(_e).beforeClearStyles([v]).fromTo(v,.03,.7),Ee.addAnimation([Pe,Ge]),W.addAnimation([Ee])}}const te=R.querySelector("ion-header.header-collapse-condense"),{forward:oe,backward:Te}=((m,T,g,v,O)=>{const k=S(v,g),B=$(O),F=$(v),M=S(O,g),y=null!==k&&null!==B&&!g,R=null!==F&&null!==M&&g;if(y){const z=B.getBoundingClientRect(),re=k.getBoundingClientRect();w(m,T,g,B,z,re),x(m,T,g,k,z,re)}else if(R){const z=F.getBoundingClientRect(),re=M.getBoundingClientRect();w(m,T,g,F,z,re),x(m,T,g,M,z,re)}return{forward:y,backward:R}})(A,F,re,R,z);if(xe.forEach(Ie=>{const ae=(0,i.c)();ae.addElement(Ie),A.addAnimation(ae);const _e=(0,i.c)();_e.addElement(Ie.querySelector("ion-title"));const Ee=(0,i.c)(),Pe=Array.from(Ie.querySelectorAll("ion-buttons,[menuToggle]")),Ge=Ie.closest("ion-header"),Ue=Ge&&Ge.classList.contains("header-collapse-condense-inactive");let Be;Be=Pe.filter(re?Gt=>{const Tt=Gt.classList.contains("buttons-collapse");return Tt&&!Ue||!Tt}:Gt=>!Gt.classList.contains("buttons-collapse")),Ee.addElement(Be);const Ce=(0,i.c)();Ce.addElement(Ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const ke=(0,i.c)();ke.addElement(L(Ie).querySelector(".toolbar-background"));const qe=(0,i.c)(),at=Ie.querySelector("ion-back-button");if(at&&qe.addElement(at),ae.addAnimation([_e,Ee,Ce,ke,qe]),Ee.fromTo(v,.01,1),Ce.fromTo(v,.01,1),re)Ue||_e.fromTo("transform",`translateX(${y})`,`translateX(${k})`).fromTo(v,.01,1),Ce.fromTo("transform",`translateX(${y})`,`translateX(${k})`),qe.fromTo(v,.01,1);else if(te||_e.fromTo("transform",`translateX(${M})`,`translateX(${k})`).fromTo(v,.01,1),Ce.fromTo("transform",`translateX(${M})`,`translateX(${k})`),ke.beforeClearStyles([v,"transform"]),(null==Ge?void 0:Ge.translucent)?ke.fromTo("transform",F?"translateX(-100%)":"translateX(100%)","translateX(0px)"):ke.fromTo(v,.01,"var(--opacity)"),oe||qe.fromTo(v,.01,1),at&&!oe){const Tt=(0,i.c)();Tt.addElement(L(at).querySelector(".button-text")).fromTo("transform",F?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ae.addAnimation(Tt)}}),z){const Ie=(0,i.c)(),ae=z.querySelector(":scope > ion-content"),_e=z.querySelectorAll(":scope > ion-header > ion-toolbar"),Ee=z.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ae||0!==_e.length||0!==Ee.length?(Ie.addElement(ae),Ie.addElement(Ee)):Ie.addElement(z.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),A.addAnimation(Ie),re){Ie.beforeClearStyles([v]).fromTo("transform",`translateX(${k})`,F?"translateX(-100%)":"translateX(100%)");const Pe=(0,D.g)(z);A.afterAddWrite(()=>{"normal"===A.getDirection()&&Pe.style.setProperty("display","none")})}else Ie.fromTo("transform",`translateX(${k})`,`translateX(${y})`).fromTo(v,1,B);if(ae){const Pe=L(ae).querySelector(".transition-effect");if(Pe){const Ge=Pe.querySelector(".transition-cover"),Ue=Pe.querySelector(".transition-shadow"),Be=(0,i.c)(),Ce=(0,i.c)(),ke=(0,i.c)();Be.addElement(Pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ce.addElement(Ge).beforeClearStyles([v]).fromTo(v,.1,0),ke.addElement(Ue).beforeClearStyles([v]).fromTo(v,.7,.03),Be.addAnimation([Ce,ke]),Ie.addAnimation([Be])}}_e.forEach(Pe=>{const Ge=(0,i.c)();Ge.addElement(Pe);const Ue=(0,i.c)();Ue.addElement(Pe.querySelector("ion-title"));const Be=(0,i.c)(),Ce=Pe.querySelectorAll("ion-buttons,[menuToggle]"),ke=Pe.closest("ion-header"),qe=ke&&ke.classList.contains("header-collapse-condense-inactive"),at=Array.from(Ce).filter(He=>{const bt=He.classList.contains("buttons-collapse");return bt&&!qe||!bt});Be.addElement(at);const Gt=(0,i.c)(),Tt=Pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Tt.length>0&&Gt.addElement(Tt);const Ht=(0,i.c)();Ht.addElement(L(Pe).querySelector(".toolbar-background"));const wn=(0,i.c)(),fn=Pe.querySelector("ion-back-button");if(fn&&wn.addElement(fn),Ge.addAnimation([Ue,Be,Gt,wn,Ht]),A.addAnimation(Ge),wn.fromTo(v,.99,0),Be.fromTo(v,.99,0),Gt.fromTo(v,.99,0),re){if(qe||Ue.fromTo("transform",`translateX(${k})`,F?"translateX(-100%)":"translateX(100%)").fromTo(v,.99,0),Gt.fromTo("transform",`translateX(${k})`,F?"translateX(-100%)":"translateX(100%)"),Ht.beforeClearStyles([v,"transform"]),(null==ke?void 0:ke.translucent)?Ht.fromTo("transform","translateX(0px)",F?"translateX(-100%)":"translateX(100%)"):Ht.fromTo(v,"var(--opacity)",0),fn&&!Te){const bt=(0,i.c)();bt.addElement(L(fn).querySelector(".button-text")).fromTo("transform",`translateX(${k})`,`translateX(${(F?-124:124)+"px"})`),Ge.addAnimation(bt)}}else qe||Ue.fromTo("transform",`translateX(${k})`,`translateX(${y})`).fromTo(v,.99,0).afterClearStyles([O,v]),Gt.fromTo("transform",`translateX(${k})`,`translateX(${y})`).afterClearStyles([O,v]),wn.afterClearStyles([v]),Ue.afterClearStyles([v]),Be.afterClearStyles([v])})}return A}catch(g){throw g}}},773:(Ye,fe,p)=>{"use strict";p.r(fe),p.d(fe,{mdTransitionAnimation:()=>ne});var i=p(5508),D=p(2098);p(9533);const ne=(H,L)=>{const P="back"===L.direction,w=L.leavingEl,C=(0,D.g)(L.enteringEl),m=C.querySelector("ion-toolbar"),T=(0,i.c)();if(T.addElement(C).fill("both").beforeRemoveClass("ion-page-invisible"),P?T.duration(L.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):T.duration(L.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),m){const g=(0,i.c)();g.addElement(m),T.addAnimation(g)}if(w&&P){T.duration(L.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const g=(0,i.c)();g.addElement((0,D.g)(w)).onFinish(v=>{1===v&&g.elements.length>0&&g.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),T.addAnimation(g)}return T}},3257:(Ye,fe,p)=>{"use strict";p.d(fe,{A:()=>M,L:()=>Pe,M:()=>vn,P:()=>Mn,T:()=>ce,a:()=>Ct,b:()=>St,c:()=>Je,d:()=>A,e:()=>On,f:()=>ot,l:()=>Ft,m:()=>Zt,s:()=>xo,t:()=>je});var i=p(5861),D=p(9533),G=p(7639),ne=p(2335),H=p(1363),L=p(6665),$=p(7300),S=p(5508),P=p(940),x=p(6499),w=p(2098),C=p(7438),m=p(527);const T=(ye,we)=>{let $e,Ze;const At=(hn,Kn,Xe)=>{if("undefined"==typeof document)return;const st=document.elementFromPoint(hn,Kn);st&&we(st)?st!==$e&&(bn(),Pt(st,Xe)):bn()},Pt=(hn,Kn)=>{$e=hn,Ze||(Ze=$e);const Xe=$e;(0,D.c)(()=>Xe.classList.add("ion-activated")),Kn()},bn=(hn=!1)=>{if(!$e)return;const Kn=$e;(0,D.c)(()=>Kn.classList.remove("ion-activated")),hn&&Ze!==$e&&$e.click(),$e=void 0};return(0,H.createGesture)({el:ye,gestureName:"buttonActiveDrag",threshold:0,onStart:hn=>At(hn.currentX,hn.currentY,ne.a),onMove:hn=>At(hn.currentX,hn.currentY,ne.b),onEnd:()=>{bn(!0),(0,ne.h)(),Ze=void 0}})},g=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Ze.addElement(ye.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),we.addElement(ye).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([$e,Ze])},v=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),Ze.addElement(ye.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),we.addElement(ye).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([$e,Ze])},O=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Ze.addElement(ye.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),we.addElement(ye).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([$e,Ze])},k=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),Ze.addElement(ye.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),we.addElement(ye).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([$e,Ze])};let M=class{constructor(ye){(0,D.r)(this,ye),this.didPresent=(0,D.e)(this,"ionActionSheetDidPresent",7),this.willPresent=(0,D.e)(this,"ionActionSheetWillPresent",7),this.willDismiss=(0,D.e)(this,"ionActionSheetWillDismiss",7),this.didDismiss=(0,D.e)(this,"ionActionSheetDidDismiss",7),this.presented=!1,this.keyboardClose=!0,this.buttons=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.onBackdropTap=()=>{this.dismiss(void 0,ao)},this.dispatchCancelHandler=we=>{if(Eo(we.detail.role)){const Ze=this.getButtons().find(At=>"cancel"===At.role);this.callButtonHandler(Ze)}}}present(){return Ai(this,"actionSheetEnter",g,O)}connectedCallback(){it(this.el)}dismiss(ye,we){return so(this,ye,we,"actionSheetLeave",v,k)}onDidDismiss(){return Bi(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return Bi(this.el,"ionActionSheetWillDismiss")}buttonClick(ye){var we=this;return(0,i.Z)(function*(){const $e=ye.role;return Eo($e)?we.dismiss(ye.data,$e):(yield we.callButtonHandler(ye))?we.dismiss(ye.data,ye.role):Promise.resolve()})()}callButtonHandler(ye){return(0,i.Z)(function*(){return!(ye&&!1===(yield xo(ye.handler)))})()}getButtons(){return this.buttons.map(ye=>"string"==typeof ye?{text:ye}:ye)}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){const{groupEl:ye,wrapperEl:we}=this;this.gesture||"md"===(0,G.b)(this)||!we||!ye||(0,D.f)(()=>{ye.scrollHeight>ye.clientHeight||(this.gesture=T(we,Ze=>Ze.classList.contains("action-sheet-button")),this.gesture.enable(!0))})}render(){const{htmlAttributes:ye}=this,we=(0,G.b)(this),$e=this.getButtons(),Ze=$e.find(Pt=>"cancel"===Pt.role),At=$e.filter(Pt=>"cancel"!==Pt.role);return(0,D.h)(D.H,Object.assign({role:"dialog","aria-modal":"true",tabindex:"-1"},ye,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({[we]:!0},(0,$.g)(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),(0,D.h)("ion-backdrop",{tappable:this.backdropDismiss}),(0,D.h)("div",{tabindex:"0"}),(0,D.h)("div",{class:"action-sheet-wrapper ion-overlay-wrapper",role:"dialog",ref:Pt=>this.wrapperEl=Pt},(0,D.h)("div",{class:"action-sheet-container"},(0,D.h)("div",{class:"action-sheet-group",ref:Pt=>this.groupEl=Pt},void 0!==this.header&&(0,D.h)("div",{class:{"action-sheet-title":!0,"action-sheet-has-sub-title":void 0!==this.subHeader}},this.header,this.subHeader&&(0,D.h)("div",{class:"action-sheet-sub-title"},this.subHeader)),At.map(Pt=>(0,D.h)("button",{type:"button",id:Pt.id,class:y(Pt),onClick:()=>this.buttonClick(Pt)},(0,D.h)("span",{class:"action-sheet-button-inner"},Pt.icon&&(0,D.h)("ion-icon",{icon:Pt.icon,lazy:!1,class:"action-sheet-icon"}),Pt.text),"md"===we&&(0,D.h)("ion-ripple-effect",null)))),Ze&&(0,D.h)("div",{class:"action-sheet-group action-sheet-group-cancel"},(0,D.h)("button",{type:"button",class:y(Ze),onClick:()=>this.buttonClick(Ze)},(0,D.h)("span",{class:"action-sheet-button-inner"},Ze.icon&&(0,D.h)("ion-icon",{icon:Ze.icon,lazy:!1,class:"action-sheet-icon"}),Ze.text),"md"===we&&(0,D.h)("ion-ripple-effect",null))))),(0,D.h)("div",{tabindex:"0"}))}get el(){return(0,D.i)(this)}};const y=ye=>Object.assign({"action-sheet-button":!0,"ion-activatable":!0,"ion-focusable":!0,[`action-sheet-${ye.role}`]:void 0!==ye.role},(0,$.g)(ye.cssClass));M.style={ios:'.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color, #fff));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-400, #999999);text-align:center}.action-sheet-container.sc-ion-action-sheet-ios{padding-left:8px;padding-right:8px;padding-top:0;padding-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-container.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{padding-left:10px;padding-right:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, #999999));font-size:13px;font-weight:400;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:13px;font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{padding-left:18px;padding-right:18px;padding-top:18px;padding-bottom:18px;height:56px;font-size:20px;contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:18px;padding-inline-start:18px;-webkit-padding-end:18px;padding-inline-end:18px}}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:0.3em;font-size:28px;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #eb445a)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #eb445a)}}',md:'.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, #262626);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-title.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:16px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:14px}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:0}.action-sheet-button.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:0;position:relative;height:52px;font-size:16px;text-align:start;contain:strict;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-icon.sc-ion-action-sheet-md{padding-bottom:4px;margin-left:0;margin-right:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-icon.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px}}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}'};const R=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Ze.addElement(ye.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),we.addElement(ye).easing("ease-in-out").duration(200).addAnimation([$e,Ze])},z=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),Ze.addElement(ye.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),we.addElement(ye).easing("ease-in-out").duration(200).addAnimation([$e,Ze])},re=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Ze.addElement(ye.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),we.addElement(ye).easing("ease-in-out").duration(150).addAnimation([$e,Ze])},le=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),Ze.addElement(ye.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),we.addElement(ye).easing("ease-in-out").duration(150).addAnimation([$e,Ze])};let A=class{constructor(ye){(0,D.r)(this,ye),this.didPresent=(0,D.e)(this,"ionAlertDidPresent",7),this.willPresent=(0,D.e)(this,"ionAlertWillPresent",7),this.willDismiss=(0,D.e)(this,"ionAlertWillDismiss",7),this.didDismiss=(0,D.e)(this,"ionAlertDidDismiss",7),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.keyboardClose=!0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.onBackdropTap=()=>{this.dismiss(void 0,ao)},this.dispatchCancelHandler=we=>{if(Eo(we.detail.role)){const Ze=this.processedButtons.find(At=>"cancel"===At.role);this.callButtonHandler(Ze)}}}onKeydown(ye){if(!new Set(this.processedInputs.map(bn=>bn.type)).has("radio")||ye.target&&!this.el.contains(ye.target)||ye.target.classList.contains("alert-button"))return;const $e=this.el.querySelectorAll(".alert-radio"),Ze=Array.from($e).filter(bn=>!bn.disabled),At=Ze.findIndex(bn=>bn.id===ye.target.id);let Pt;if(["ArrowDown","ArrowRight"].includes(ye.code)&&(Pt=At===Ze.length-1?Ze[0]:Ze[At+1]),["ArrowUp","ArrowLeft"].includes(ye.code)&&(Pt=0===At?Ze[Ze.length-1]:Ze[At-1]),Pt&&Ze.includes(Pt)){const bn=this.processedInputs.find(hn=>hn.id===(null==Pt?void 0:Pt.id));bn&&(this.rbClick(bn),Pt.focus())}}buttonsChanged(){this.processedButtons=this.buttons.map(we=>"string"==typeof we?{text:we,role:"cancel"===we.toLowerCase()?"cancel":void 0}:we)}inputsChanged(){const ye=this.inputs,we=ye.find(Pt=>!Pt.disabled),Ze=ye.find(Pt=>Pt.checked&&!Pt.disabled)||we,At=new Set(ye.map(Pt=>Pt.type));At.has("checkbox")&&At.has("radio")&&console.warn(`Alert cannot mix input types: ${Array.from(At.values()).join("/")}. Please see alert docs for more info.`),this.inputType=At.values().next().value,this.processedInputs=ye.map((Pt,bn)=>({type:Pt.type||"text",name:Pt.name||`${bn}`,placeholder:Pt.placeholder||"",value:Pt.value,label:Pt.label,checked:!!Pt.checked,disabled:!!Pt.disabled,id:Pt.id||`alert-input-${this.overlayIndex}-${bn}`,handler:Pt.handler,min:Pt.min,max:Pt.max,cssClass:Pt.cssClass||"",attributes:Pt.attributes||{},tabindex:"radio"===Pt.type&&Pt!==Ze?-1:0}))}connectedCallback(){it(this.el)}componentWillLoad(){this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){this.gesture||"md"===(0,G.b)(this)||!this.wrapperEl||(this.gesture=T(this.wrapperEl,ye=>ye.classList.contains("alert-button")),this.gesture.enable(!0))}present(){return Ai(this,"alertEnter",R,re)}dismiss(ye,we){return so(this,ye,we,"alertLeave",z,le)}onDidDismiss(){return Bi(this.el,"ionAlertDidDismiss")}onWillDismiss(){return Bi(this.el,"ionAlertWillDismiss")}rbClick(ye){for(const we of this.processedInputs)we.checked=we===ye,we.tabindex=we===ye?0:-1;this.activeId=ye.id,xo(ye.handler,ye),(0,D.j)(this)}cbClick(ye){ye.checked=!ye.checked,xo(ye.handler,ye),(0,D.j)(this)}buttonClick(ye){const we=ye.role,$e=this.getValues();if(Eo(we))return this.dismiss({values:$e},we);const Ze=this.callButtonHandler(ye,$e);return!1!==Ze?this.dismiss(Object.assign({values:$e},Ze),ye.role):Promise.resolve(!1)}callButtonHandler(ye,we){if(ye&&ye.handler){const $e=xo(ye.handler,we);if(!1===$e)return!1;if("object"==typeof $e)return $e}return{}}getValues(){if(0===this.processedInputs.length)return;if("radio"===this.inputType){const we=this.processedInputs.find($e=>!!$e.checked);return we?we.value:void 0}if("checkbox"===this.inputType)return this.processedInputs.filter(we=>we.checked).map(we=>we.value);const ye={};return this.processedInputs.forEach(we=>{ye[we.name]=we.value||""}),ye}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const ye=this.processedInputs,we=(0,G.b)(this);return 0===ye.length?null:(0,D.h)("div",{class:"alert-checkbox-group"},ye.map($e=>(0,D.h)("button",{type:"button",onClick:()=>this.cbClick($e),"aria-checked":`${$e.checked}`,id:$e.id,disabled:$e.disabled,tabIndex:$e.tabindex,role:"checkbox",class:Object.assign(Object.assign({},(0,$.g)($e.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":$e.disabled||!1})},(0,D.h)("div",{class:"alert-button-inner"},(0,D.h)("div",{class:"alert-checkbox-icon"},(0,D.h)("div",{class:"alert-checkbox-inner"})),(0,D.h)("div",{class:"alert-checkbox-label"},$e.label)),"md"===we&&(0,D.h)("ion-ripple-effect",null))))}renderRadio(){const ye=this.processedInputs;return 0===ye.length?null:(0,D.h)("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},ye.map(we=>(0,D.h)("button",{type:"button",onClick:()=>this.rbClick(we),"aria-checked":`${we.checked}`,disabled:we.disabled,id:we.id,tabIndex:we.tabindex,class:Object.assign(Object.assign({},(0,$.g)(we.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":we.disabled||!1}),role:"radio"},(0,D.h)("div",{class:"alert-button-inner"},(0,D.h)("div",{class:"alert-radio-icon"},(0,D.h)("div",{class:"alert-radio-inner"})),(0,D.h)("div",{class:"alert-radio-label"},we.label)))))}renderInput(){const ye=this.processedInputs;return 0===ye.length?null:(0,D.h)("div",{class:"alert-input-group"},ye.map(we=>{var $e,Ze,At,Pt;return(0,D.h)("div",{class:"alert-input-wrapper"},"textarea"===we.type?(0,D.h)("textarea",Object.assign({placeholder:we.placeholder,value:we.value,id:we.id,tabIndex:we.tabindex},we.attributes,{disabled:null!==(Ze=null===($e=we.attributes)||void 0===$e?void 0:$e.disabled)&&void 0!==Ze?Ze:we.disabled,class:W(we),onInput:bn=>{var hn;we.value=bn.target.value,(null===(hn=we.attributes)||void 0===hn?void 0:hn.onInput)&&we.attributes.onInput(bn)}})):(0,D.h)("input",Object.assign({placeholder:we.placeholder,type:we.type,min:we.min,max:we.max,value:we.value,id:we.id,tabIndex:we.tabindex},we.attributes,{disabled:null!==(Pt=null===(At=we.attributes)||void 0===At?void 0:At.disabled)&&void 0!==Pt?Pt:we.disabled,class:W(we),onInput:bn=>{var hn;we.value=bn.target.value,(null===(hn=we.attributes)||void 0===hn?void 0:hn.onInput)&&we.attributes.onInput(bn)}})))}))}renderAlertButtons(){const ye=this.processedButtons,we=(0,G.b)(this);return(0,D.h)("div",{class:{"alert-button-group":!0,"alert-button-group-vertical":ye.length>2}},ye.map(Ze=>(0,D.h)("button",{type:"button",id:Ze.id,class:te(Ze),tabIndex:0,onClick:()=>this.buttonClick(Ze)},(0,D.h)("span",{class:"alert-button-inner"},Ze.text),"md"===we&&(0,D.h)("ion-ripple-effect",null))))}render(){const{overlayIndex:ye,header:we,subHeader:$e,htmlAttributes:Ze}=this,At=(0,G.b)(this),Pt=`alert-${ye}-hdr`,bn=`alert-${ye}-sub-hdr`,hn=`alert-${ye}-msg`;return(0,D.h)(D.H,Object.assign({role:this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert","aria-modal":"true",tabindex:"-1"},Ze,{style:{zIndex:`${2e4+ye}`},class:Object.assign(Object.assign({},(0,$.g)(this.cssClass)),{[At]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),(0,D.h)("ion-backdrop",{tappable:this.backdropDismiss}),(0,D.h)("div",{tabindex:"0"}),(0,D.h)("div",{class:"alert-wrapper ion-overlay-wrapper",ref:Xe=>this.wrapperEl=Xe},(0,D.h)("div",{class:"alert-head"},we&&(0,D.h)("h2",{id:Pt,class:"alert-title"},we),$e&&(0,D.h)("h2",{id:bn,class:"alert-sub-title"},$e)),(0,D.h)("div",{id:hn,class:"alert-message",innerHTML:(0,L.s)(this.message)}),this.renderAlertInputs(),this.renderAlertButtons()),(0,D.h)("div",{tabindex:"0"}))}get el(){return(0,D.i)(this)}static get watchers(){return{buttons:["buttonsChanged"],inputs:["inputsChanged"]}}};const W=ye=>{var we,$e,Ze;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":(null!==($e=null===(we=ye.attributes)||void 0===we?void 0:we.disabled)&&void 0!==$e?$e:ye.disabled)||!1},(0,$.g)(ye.cssClass)),(0,$.g)(ye.attributes?null===(Ze=ye.attributes.class)||void 0===Ze?void 0:Ze.toString():""))},te=ye=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,[`alert-button-role-${ye.role}`]:void 0!==ye.role},(0,$.g)(ye.cssClass));A.style={ios:".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:12px;padding-bottom:7px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;padding-left:6px;padding-right:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-input.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{height:44px}.alert-radio-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px;top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}.alert-checkbox-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;margin-left:16px;margin-right:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-icon.sc-ion-alert-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px}}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px;top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}.alert-button-group.sc-ion-alert-ios{margin-right:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-ios{margin-right:unset;-webkit-margin-end:-0.55px;margin-inline-end:-0.55px}}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}",md:".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{padding-left:23px;padding-right:23px;padding-top:20px;padding-bottom:15px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px}}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:24px;padding-right:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;height:48px;overflow:hidden}.alert-radio-label.sc-ion-alert-md{padding-left:52px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-radio-icon.sc-ion-alert-md{left:26px;top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}.alert-radio-inner.sc-ion-alert-md{left:3px;top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{padding-left:53px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-checkbox-icon.sc-ion-alert-md{left:26px;top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px;top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}.alert-button-group.sc-ion-alert-md{padding-left:8px;padding-right:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.alert-button.sc-ion-alert-md{border-radius:2px;margin-left:0;margin-right:8px;margin-top:0;margin-bottom:0;padding-left:10px;padding-right:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}"};const oe=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Ze.addElement(ye.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),we.addElement(ye).easing("ease-in-out").duration(200).addAnimation([$e,Ze])},Te=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),Ze.addElement(ye.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),we.addElement(ye).easing("ease-in-out").duration(200).addAnimation([$e,Ze])},Ie=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Ze.addElement(ye.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),we.addElement(ye).easing("ease-in-out").duration(200).addAnimation([$e,Ze])},ae=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),Ze.addElement(ye.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),we.addElement(ye).easing("ease-in-out").duration(200).addAnimation([$e,Ze])};let Pe=class{constructor(ye){(0,D.r)(this,ye),this.didPresent=(0,D.e)(this,"ionLoadingDidPresent",7),this.willPresent=(0,D.e)(this,"ionLoadingWillPresent",7),this.willDismiss=(0,D.e)(this,"ionLoadingWillDismiss",7),this.didDismiss=(0,D.e)(this,"ionLoadingDidDismiss",7),this.presented=!1,this.keyboardClose=!0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.onBackdropTap=()=>{this.dismiss(void 0,ao)}}connectedCallback(){it(this.el)}componentWillLoad(){if(void 0===this.spinner){const ye=(0,G.b)(this);this.spinner=G.c.get("loadingSpinner",G.c.get("spinner","ios"===ye?"lines":"crescent"))}}present(){var ye=this;return(0,i.Z)(function*(){yield Ai(ye,"loadingEnter",oe,Ie,void 0),ye.duration>0&&(ye.durationTimeout=setTimeout(()=>ye.dismiss(),ye.duration+10))})()}dismiss(ye,we){return this.durationTimeout&&clearTimeout(this.durationTimeout),so(this,ye,we,"loadingLeave",Te,ae)}onDidDismiss(){return Bi(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return Bi(this.el,"ionLoadingWillDismiss")}render(){const{message:ye,spinner:we,htmlAttributes:$e}=this,Ze=(0,G.b)(this);return(0,D.h)(D.H,Object.assign({tabindex:"-1"},$e,{style:{zIndex:`${4e4+this.overlayIndex}`},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},(0,$.g)(this.cssClass)),{[Ze]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),(0,D.h)("ion-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss}),(0,D.h)("div",{tabindex:"0"}),(0,D.h)("div",{class:"loading-wrapper ion-overlay-wrapper",role:"dialog"},we&&(0,D.h)("div",{class:"loading-spinner"},(0,D.h)("ion-spinner",{name:we,"aria-hidden":"true"})),ye&&(0,D.h)("div",{class:"loading-content",innerHTML:(0,L.s)(ye)})),(0,D.h)("div",{tabindex:"0"}))}get el(){return(0,D.i)(this)}};Pe.style={ios:".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-ios,.spinner-lines-small.sc-ion-loading-ios,.spinner-bubbles.sc-ion-loading-ios,.spinner-circles.sc-ion-loading-ios,.spinner-crescent.sc-ion-loading-ios,.spinner-dots.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, #666666);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:14px}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;padding-left:34px;padding-right:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}",md:".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-md,.spinner-lines-small.sc-ion-loading-md,.spinner-bubbles.sc-ion-loading-md,.spinner-circles.sc-ion-loading-md,.spinner-crescent.sc-ion-loading-md,.spinner-dots.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, #f2f2f2);--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #3880ff);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, #262626);font-size:14px}.loading-wrapper.sc-ion-loading-md{border-radius:2px;padding-left:24px;padding-right:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}"};const Ce=(ye,we)=>{const $e=1/(1-we);return ye*$e+-we*$e},ke=ye=>{const{currentBreakpoint:we,backdropBreakpoint:$e}=ye,At=void 0===$e||$e<we?`calc(var(--backdrop-opacity) * ${we})`:"0",Pt=(0,S.c)("backdropAnimation").fromTo("opacity",0,At);return{wrapperAnimation:(0,S.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-100*we}%)`}]),backdropAnimation:Pt}},qe=ye=>{const{currentBreakpoint:we,backdropBreakpoint:$e}=ye,Ze=`calc(var(--backdrop-opacity) * ${Ce(we,$e)})`,At=[{offset:0,opacity:Ze},{offset:1,opacity:0}],Pt=[{offset:0,opacity:Ze},{offset:$e,opacity:0},{offset:1,opacity:0}],bn=(0,S.c)("backdropAnimation").keyframes(0!==$e?Pt:At);return{wrapperAnimation:(0,S.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-100*we}%)`},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:bn}},Gt=(ye,we)=>{const{presentingEl:$e,currentBreakpoint:Ze}=we,At=(0,x.g)(ye),{wrapperAnimation:Pt,backdropAnimation:bn}=void 0!==Ze?ke(we):{backdropAnimation:(0,S.c)().fromTo("opacity",.01,"var(--backdrop-opacity)"),wrapperAnimation:(0,S.c)().fromTo("transform","translateY(100vh)","translateY(0vh)")};bn.addElement(At.querySelector("ion-backdrop")).beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Pt.addElement(At.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const hn=(0,S.c)("entering-base").addElement(ye).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(Pt);if($e){const Kn=window.innerWidth<768,Xe="ION-MODAL"===$e.tagName&&void 0!==$e.presentingElement,st=(0,x.g)($e),ut=(0,S.c)().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),Xt=document.body;if(Kn){const xn=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",Xn=`translateY(${Xe?"-10px":xn}) scale(0.93)`;ut.afterStyles({transform:Xn}).beforeAddWrite(()=>Xt.style.setProperty("background-color","black")).addElement($e).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:Xn,borderRadius:"10px 10px 0 0"}]),hn.addAnimation(ut)}else if(hn.addAnimation(bn),Xe){const Nn=`translateY(-10px) scale(${Xe?.93:1})`;ut.afterStyles({transform:Nn}).addElement(st.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:Nn}]);const Zn=(0,S.c)().afterStyles({transform:Nn}).addElement(st.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:Nn}]);hn.addAnimation([ut,Zn])}else Pt.fromTo("opacity","0","1")}else hn.addAnimation(bn);return hn},Ht=(ye,we,$e=500)=>{const{presentingEl:Ze,currentBreakpoint:At}=we,Pt=(0,x.g)(ye),{wrapperAnimation:bn,backdropAnimation:hn}=void 0!==At?qe(we):{backdropAnimation:(0,S.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,S.c)().fromTo("transform","translateY(0vh)","translateY(100vh)")};hn.addElement(Pt.querySelector("ion-backdrop")),bn.addElement(Pt.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const Kn=(0,S.c)("leaving-base").addElement(ye).easing("cubic-bezier(0.32,0.72,0,1)").duration($e).addAnimation(bn);if(Ze){const Xe=window.innerWidth<768,st="ION-MODAL"===Ze.tagName&&void 0!==Ze.presentingElement,ut=(0,x.g)(Ze),Xt=(0,S.c)().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(Nn=>{1===Nn&&(Ze.style.setProperty("overflow",""),Array.from(xn.querySelectorAll("ion-modal")).filter(Xn=>void 0!==Xn.presentingElement).length<=1&&xn.style.setProperty("background-color",""))}),xn=document.body;if(Xe){const Nn=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",wr=`translateY(${st?"-10px":Nn}) scale(0.93)`;Xt.addElement(Ze).keyframes([{offset:0,filter:"contrast(0.85)",transform:wr,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),Kn.addAnimation(Xt)}else if(Kn.addAnimation(hn),st){const Zn=`translateY(-10px) scale(${st?.93:1})`;Xt.addElement(ut.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:Zn},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const Xn=(0,S.c)().addElement(ut.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:Zn},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);Kn.addAnimation([Xt,Xn])}else bn.fromTo("opacity","1","0")}else Kn.addAnimation(hn);return Kn},fn=(ye,we)=>{const{currentBreakpoint:$e}=we,Ze=(0,x.g)(ye),{wrapperAnimation:At,backdropAnimation:Pt}=void 0!==$e?ke(we):{backdropAnimation:(0,S.c)().fromTo("opacity",.01,"var(--backdrop-opacity)"),wrapperAnimation:(0,S.c)().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}])};return Pt.addElement(Ze.querySelector("ion-backdrop")).beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),At.addElement(Ze.querySelector(".modal-wrapper")),(0,S.c)().addElement(ye).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([Pt,At])},bt=(ye,we)=>{const{currentBreakpoint:$e}=we,Ze=(0,x.g)(ye),{wrapperAnimation:At,backdropAnimation:Pt}=void 0!==$e?qe(we):{backdropAnimation:(0,S.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,S.c)().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}])};return Pt.addElement(Ze.querySelector("ion-backdrop")),At.addElement(Ze.querySelector(".modal-wrapper")),(0,S.c)().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([Pt,At])};let vn=class{constructor(ye){(0,D.r)(this,ye),this.didPresent=(0,D.e)(this,"ionModalDidPresent",7),this.willPresent=(0,D.e)(this,"ionModalWillPresent",7),this.willDismiss=(0,D.e)(this,"ionModalWillDismiss",7),this.didDismiss=(0,D.e)(this,"ionModalDidDismiss",7),this.didPresentShorthand=(0,D.e)(this,"didPresent",7),this.willPresentShorthand=(0,D.e)(this,"willPresent",7),this.willDismissShorthand=(0,D.e)(this,"willDismiss",7),this.didDismissShorthand=(0,D.e)(this,"didDismiss",7),this.modalIndex=kt++,this.coreDelegate=(0,P.C)(),this.isSheetModal=!1,this.inline=!1,this.gestureAnimationDismissing=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.backdropBreakpoint=0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.swipeToClose=!1,this.isOpen=!1,this.configureTriggerInteraction=()=>{const{trigger:we,el:$e,destroyTriggerInteraction:Ze}=this;Ze&&Ze();const At=void 0!==we?document.getElementById(we):null;At&&(this.destroyTriggerInteraction=((bn,hn)=>{const Kn=()=>{hn.present()};return bn.addEventListener("click",Kn),()=>{bn.removeEventListener("click",Kn)}})(At,$e))},this.onBackdropTap=()=>{this.dismiss(void 0,ao)},this.onDismiss=we=>{we.stopPropagation(),we.preventDefault(),this.dismiss()},this.onLifecycle=we=>{const $e=this.usersElement,Ze=Pn[we.type];if($e&&Ze){const At=new CustomEvent(Ze,{bubbles:!1,cancelable:!1,detail:we.detail});$e.dispatchEvent(At)}}}onIsOpenChange(ye,we){!0===ye&&!1===we?this.present():!1===ye&&!0===we&&this.dismiss()}onTriggerChange(){this.configureTriggerInteraction()}swipeToCloseChanged(ye){this.gesture?this.gesture.enable(ye):ye&&this.initSwipeToClose()}connectedCallback(){it(this.el)}componentWillLoad(){const{breakpoints:ye,initialBreakpoint:we}=this;this.modalId=this.el.hasAttribute("id")?this.el.getAttribute("id"):`ion-modal-${this.modalIndex}`,this.isSheetModal=void 0!==ye&&void 0!==we,void 0!==ye&&void 0!==we&&!ye.includes(we)&&console.warn("[Ionic Warning]: Your breakpoints array must include the initialBreakpoint value.")}componentDidLoad(){!0===this.isOpen&&(0,x.r)(()=>this.present()),this.configureTriggerInteraction()}getDelegate(ye=!1){if(this.workingDelegate&&!ye)return{delegate:this.workingDelegate,inline:this.inline};const $e=this.inline=null!==this.el.parentNode&&!this.hasController;return{inline:$e,delegate:this.workingDelegate=$e?this.delegate||this.coreDelegate:this.delegate}}present(){var ye=this;return(0,i.Z)(function*(){if(ye.presented)return;void 0!==ye.currentTransition&&(yield ye.currentTransition);const we=Object.assign(Object.assign({},ye.componentProps),{modal:ye.el}),{inline:$e,delegate:Ze}=ye.getDelegate(!0);ye.usersElement=yield(0,P.a)(Ze,ye.el,ye.component,["ion-page"],we,$e),yield(0,w.e)(ye.usersElement),(0,D.c)(()=>ye.el.classList.add("show-modal")),ye.currentTransition=Ai(ye,"modalEnter",Gt,fn,{presentingEl:ye.presentingElement,currentBreakpoint:ye.initialBreakpoint,backdropBreakpoint:ye.backdropBreakpoint}),yield ye.currentTransition,ye.isSheetModal?ye.initSheetGesture():ye.swipeToClose&&ye.initSwipeToClose(),ye.currentTransition=void 0})()}initSwipeToClose(){var ye=this;if("ios"!==(0,G.b)(this))return;const we=this.leaveAnimation||G.c.get("modalLeave",Ht),$e=this.animation=we(this.el,{presentingEl:this.presentingElement});this.gesture=((ye,we,$e)=>{const Ze=ye.offsetHeight;let At=!1;const Xe=(0,H.createGesture)({el:ye,gestureName:"modalSwipeToClose",gesturePriority:40,direction:"y",threshold:10,canStart:st=>{const ut=st.event.target;return null===ut||!ut.closest||null===ut.closest("ion-content, ion-footer")},onStart:()=>{we.progressStart(!0,At?1:0)},onMove:st=>{const ut=(0,x.d)(1e-4,st.deltaY/Ze,.9999);we.progressStep(ut)},onEnd:st=>{const ut=st.velocityY,Xt=(0,x.d)(1e-4,st.deltaY/Ze,.9999),Nn=(st.deltaY+1e3*ut)/Ze>=.5;let Zn=Nn?-.001:.001;Nn?(we.easing("cubic-bezier(0.32, 0.72, 0, 1)"),Zn+=(0,C.g)([0,0],[.32,.72],[0,1],[1,1],Xt)[0]):(we.easing("cubic-bezier(1, 0, 0.68, 0.28)"),Zn+=(0,C.g)([0,0],[1,0],[.68,.28],[1,1],Xt)[0]);const Xn=((ye,we)=>(0,x.d)(400,ye/Math.abs(1.1*we),500))(Nn?Xt*Ze:(1-Xt)*Ze,ut);At=Nn,Xe.enable(!1),we.onFinish(()=>{Nn||Xe.enable(!0)}).progressEnd(Nn?1:0,Zn,Xn),Nn&&$e()}});return Xe})(this.el,$e,()=>{this.gestureAnimationDismissing=!0,this.animation.onFinish((0,i.Z)(function*(){yield ye.dismiss(void 0,"gesture"),ye.gestureAnimationDismissing=!1}))}),this.gesture.enable(!0)}initSheetGesture(){var we,ye=this;const{wrapperEl:$e,initialBreakpoint:Ze,backdropBreakpoint:At}=this;if(!$e||void 0===Ze)return;const Pt=this.enterAnimation||G.c.get("modalEnter",Gt),bn=this.animation=Pt(this.el,{presentingEl:this.presentingElement,currentBreakpoint:Ze,backdropBreakpoint:At});bn.progressStart(!0,1);const hn=(null===(we=this.breakpoints)||void 0===we?void 0:we.sort((Kn,Xe)=>Kn-Xe))||[];this.gesture=((ye,we,$e,Ze,At,Pt,bn=[],hn,Kn)=>{const ut={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:0!==At?[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-At,opacity:0},{offset:1,opacity:0}]:[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}]},Xt=this.el.querySelector("ion-content"),xn=$e.clientHeight;let Nn=Ze,Zn=0;const Xn=Pt.childAnimations.find(hi=>"wrapperAnimation"===hi.id),wr=Pt.childAnimations.find(hi=>"backdropAnimation"===hi.id),Tr=bn[bn.length-1];Xn&&wr&&(Xn.keyframes([...ut.WRAPPER_KEYFRAMES]),wr.keyframes([...ut.BACKDROP_KEYFRAMES]),Pt.progressStart(!0,1-Nn),we.style.setProperty("pointer-events",Nn>At?"auto":"none")),Xt&&Nn!==Tr&&(Xt.scrollY=!1);const Ci=(0,H.createGesture)({el:$e,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:hi=>{const kr=hi.event.target.closest("ion-content");return!(1===Nn&&kr)},onStart:()=>{Xt&&(Xt.scrollY=!1),Pt.progressStart(!0,1-Nn)},onMove:hi=>{Zn=(0,x.d)(1e-4,1-Nn+hi.deltaY/xn,.9999),Pt.progressStep(Zn)},onEnd:hi=>{const $i=Nn-(hi.deltaY+100*hi.velocityY)/xn,ge=bn.reduce((I,j)=>Math.abs(j-$i)<Math.abs(I-$i)?j:I),Z=0!==ge;Nn=0,Xn&&wr&&(Xn.keyframes([{offset:0,transform:`translateY(${100*Zn}%)`},{offset:1,transform:`translateY(${100*(1-ge)}%)`}]),wr.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${Ce(1-Zn,At)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${Ce(ge,At)})`}]),Pt.progressStep(0)),Ci.enable(!1),Pt.onFinish(()=>{Z&&(Xn&&wr?(0,x.r)(()=>{Xn.keyframes([...ut.WRAPPER_KEYFRAMES]),wr.keyframes([...ut.BACKDROP_KEYFRAMES]),Pt.progressStart(!0,1-ge),Nn=ge,Kn(Nn),Xt&&Nn===bn[bn.length-1]&&(Xt.scrollY=!0),we.style.setProperty("pointer-events",Nn>At?"auto":"none"),Ci.enable(!0)}):Ci.enable(!0))},{oneTimeCallback:!0}).progressEnd(1,0,500),Z||hn()}});return Ci})(0,this.backdropEl,$e,Ze,At,bn,hn,()=>{this.gestureAnimationDismissing=!0,this.animation.onFinish((0,i.Z)(function*(){yield ye.dismiss(void 0,"gesture"),ye.gestureAnimationDismissing=!1}))},Kn=>{this.currentBreakpoint=Kn}),this.gesture.enable(!0)}dismiss(ye,we){var $e=this;return(0,i.Z)(function*(){if($e.gestureAnimationDismissing&&"gesture"!==we)return!1;void 0!==$e.currentTransition&&(yield $e.currentTransition);const Ze=It.get($e)||[];$e.currentTransition=so($e,ye,we,"modalLeave",Ht,bt,{presentingEl:$e.presentingElement,currentBreakpoint:$e.currentBreakpoint||$e.initialBreakpoint,backdropBreakpoint:$e.backdropBreakpoint});const At=yield $e.currentTransition;if(At){const{delegate:Pt}=$e.getDelegate();$e.inline&&(yield(0,P.d)(Pt,$e.usersElement)),$e.animation&&$e.animation.destroy(),$e.gesture&&$e.gesture.destroy(),Ze.forEach(bn=>bn.destroy())}return $e.currentTransition=void 0,$e.animation=void 0,At})()}onDidDismiss(){return Bi(this.el,"ionModalDidDismiss")}onWillDismiss(){return Bi(this.el,"ionModalWillDismiss")}render(){const{handle:ye,isSheetModal:we,presentingElement:$e,htmlAttributes:Ze}=this,At=!1!==ye&&we,Pt=(0,G.b)(this),{presented:bn,modalId:hn}=this,Kn=void 0!==$e&&"ios"===Pt;return(0,D.h)(D.H,Object.assign({"no-router":!0,"aria-modal":"true",tabindex:"-1"},Ze,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[Pt]:!0,"modal-default":!Kn&&!we,"modal-card":Kn,"modal-sheet":we,"overlay-hidden":!0,"modal-interactive":bn},(0,$.g)(this.cssClass)),id:hn,onIonBackdropTap:this.onBackdropTap,onIonDismiss:this.onDismiss,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),(0,D.h)("ion-backdrop",{ref:Xe=>this.backdropEl=Xe,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),"ios"===Pt&&(0,D.h)("div",{class:"modal-shadow"}),(0,D.h)("div",{role:"dialog",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:Xe=>this.wrapperEl=Xe},At&&(0,D.h)("div",{class:"modal-handle",part:"handle"}),(0,D.h)("slot",null)))}get el(){return(0,D.i)(this)}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["onTriggerChange"],swipeToClose:["swipeToCloseChanged"]}}};const Pn={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};let kt=0;vn.style={ios:":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}",md:":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}"};let ot=class{constructor(ye){(0,D.r)(this,ye),this.ionPickerColChange=(0,D.e)(this,"ionPickerColChange",7),this.optHeight=0,this.rotateFactor=0,this.scaleFactor=1,this.velocity=0,this.y=0,this.noAnimate=!0}colChanged(){this.refresh()}connectedCallback(){var ye=this;return(0,i.Z)(function*(){let we=0,$e=.81;"ios"===(0,G.b)(ye)&&(we=-.46,$e=1),ye.rotateFactor=we,ye.scaleFactor=$e,ye.gesture=(yield Promise.resolve().then(p.bind(p,1363))).createGesture({el:ye.el,gestureName:"picker-swipe",gesturePriority:100,threshold:0,passive:!1,onStart:At=>ye.onStart(At),onMove:At=>ye.onMove(At),onEnd:At=>ye.onEnd(At)}),ye.gesture.enable(),ye.tmrId=setTimeout(()=>{ye.noAnimate=!1,ye.refresh(!0)},250)})()}componentDidLoad(){const ye=this.optsEl;ye&&(this.optHeight=ye.firstElementChild?ye.firstElementChild.clientHeight:0),this.refresh()}disconnectedCallback(){cancelAnimationFrame(this.rafId),clearTimeout(this.tmrId),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}emitColChange(){this.ionPickerColChange.emit(this.col)}setSelected(ye,we){const $e=ye>-1?-ye*this.optHeight:0;this.velocity=0,cancelAnimationFrame(this.rafId),this.update($e,we,!0),this.emitColChange()}update(ye,we,$e){if(!this.optsEl)return;let Ze=0,At=0;const{col:Pt,rotateFactor:bn}=this,hn=Pt.selectedIndex=this.indexForY(-ye),Kn=0===we?"":we+"ms",Xe=`scale(${this.scaleFactor})`,st=this.optsEl.children;for(let ut=0;ut<st.length;ut++){const Xt=st[ut],xn=Pt.options[ut],Nn=ut*this.optHeight+ye;let Zn="";if(0!==bn){const wr=Nn*bn;Math.abs(wr)<=90?(Ze=0,At=90,Zn=`rotateX(${wr}deg) `):Ze=-9999}else At=0,Ze=Nn;const Xn=hn===ut;Zn+=`translate3d(0px,${Ze}px,${At}px) `,1!==this.scaleFactor&&!Xn&&(Zn+=Xe),this.noAnimate?(xn.duration=0,Xt.style.transitionDuration=""):we!==xn.duration&&(xn.duration=we,Xt.style.transitionDuration=Kn),Zn!==xn.transform&&(xn.transform=Zn,Xt.style.transform=Zn),Xn!==xn.selected&&(xn.selected=Xn,Xn?Xt.classList.add(_t):Xt.classList.remove(_t))}this.col.prevSelected=hn,$e&&(this.y=ye),this.lastIndex!==hn&&((0,ne.b)(),this.lastIndex=hn)}decelerate(){if(0!==this.velocity){this.velocity*=$t,this.velocity=this.velocity>0?Math.max(this.velocity,1):Math.min(this.velocity,-1);let ye=this.y+this.velocity;ye>this.minY?(ye=this.minY,this.velocity=0):ye<this.maxY&&(ye=this.maxY,this.velocity=0),this.update(ye,0,!0),Math.round(ye)%this.optHeight!=0||Math.abs(this.velocity)>1?this.rafId=requestAnimationFrame(()=>this.decelerate()):(this.velocity=0,this.emitColChange(),(0,ne.h)())}else if(this.y%this.optHeight!=0){const ye=Math.abs(this.y%this.optHeight);this.velocity=ye>this.optHeight/2?1:-1,this.decelerate()}}indexForY(ye){return Math.min(Math.max(Math.abs(Math.round(ye/this.optHeight)),0),this.col.options.length-1)}onStart(ye){ye.event.cancelable&&ye.event.preventDefault(),ye.event.stopPropagation(),(0,ne.a)(),cancelAnimationFrame(this.rafId);const we=this.col.options;let $e=we.length-1,Ze=0;for(let At=0;At<we.length;At++)we[At].disabled||($e=Math.min($e,At),Ze=Math.max(Ze,At));this.minY=-$e*this.optHeight,this.maxY=-Ze*this.optHeight}onMove(ye){ye.event.cancelable&&ye.event.preventDefault(),ye.event.stopPropagation();let we=this.y+ye.deltaY;we>this.minY?(we=Math.pow(we,.8),this.bounceFrom=we):we<this.maxY?(we+=Math.pow(this.maxY-we,.9),this.bounceFrom=we):this.bounceFrom=0,this.update(we,0,!1)}onEnd(ye){if(this.bounceFrom>0)return this.update(this.minY,100,!0),void this.emitColChange();if(this.bounceFrom<0)return this.update(this.maxY,100,!0),void this.emitColChange();if(this.velocity=(0,x.d)(-Rt,23*ye.velocityY,Rt),0===this.velocity&&0===ye.deltaY){const we=ye.event.target.closest(".picker-opt");we&&we.hasAttribute("opt-index")&&this.setSelected(parseInt(we.getAttribute("opt-index"),10),Wt)}else{if(this.y+=ye.deltaY,Math.abs(ye.velocityY)<.05){const we=ye.deltaY>0,$e=Math.abs(this.y)%this.optHeight/this.optHeight;we&&$e>.5?this.velocity=-1*Math.abs(this.velocity):!we&&$e<=.5&&(this.velocity=Math.abs(this.velocity))}this.decelerate()}}refresh(ye){let we=this.col.options.length-1,$e=0;const Ze=this.col.options;for(let Pt=0;Pt<Ze.length;Pt++)Ze[Pt].disabled||(we=Math.min(we,Pt),$e=Math.max($e,Pt));if(0!==this.velocity)return;const At=(0,x.d)(we,this.col.selectedIndex||0,$e);if(this.col.prevSelected!==At||ye){const Pt=At*this.optHeight*-1;this.velocity=0,this.update(Pt,Wt,!0)}}render(){const ye=this.col,$e=(0,G.b)(this);return(0,D.h)(D.H,{class:{[$e]:!0,"picker-col":!0,"picker-opts-left":"left"===this.col.align,"picker-opts-right":"right"===this.col.align},style:{"max-width":this.col.columnWidth}},ye.prefix&&(0,D.h)("div",{class:"picker-prefix",style:{width:ye.prefixWidth}},ye.prefix),(0,D.h)("div",{class:"picker-opts",style:{maxWidth:ye.optionsWidth},ref:Ze=>this.optsEl=Ze},ye.options.map((Ze,At)=>(0,D.h)("button",{type:"button",class:{"picker-opt":!0,"picker-opt-disabled":!!Ze.disabled},"opt-index":At},Ze.text))),ye.suffix&&(0,D.h)("div",{class:"picker-suffix",style:{width:ye.suffixWidth}},ye.suffix))}get el(){return(0,D.i)(this)}static get watchers(){return{col:["colChanged"]}}};const _t="picker-opt-selected",$t=.97,Rt=90,Wt=150;ot.style={ios:".picker-col{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-box-sizing:content-box;box-sizing:content-box;contain:content}.picker-opts{position:relative;-ms-flex:1;flex:1;max-width:100%}.picker-opt{left:0;top:0;display:block;position:absolute;width:100%;border:0;text-align:center;text-overflow:ellipsis;white-space:nowrap;contain:strict;overflow:hidden;will-change:transform}[dir=rtl] .picker-opt,:host-context([dir=rtl]) .picker-opt{left:unset;right:unset;right:0}.picker-opt.picker-opt-disabled{pointer-events:none}.picker-opt-disabled{opacity:0}.picker-opts-left{-ms-flex-pack:start;justify-content:flex-start}.picker-opts-right{-ms-flex-pack:end;justify-content:flex-end}.picker-opt:active,.picker-opt:focus{outline:none}.picker-prefix{position:relative;-ms-flex:1;flex:1;text-align:end;white-space:nowrap}.picker-suffix{position:relative;-ms-flex:1;flex:1;text-align:start;white-space:nowrap}.picker-col{padding-left:4px;padding-right:4px;padding-top:0;padding-bottom:0;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-col{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px}}.picker-prefix,.picker-suffix,.picker-opts{top:77px;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;color:inherit;font-size:20px;line-height:42px;pointer-events:none}.picker-opt{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:center center;transform-origin:center center;height:46px;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;background:transparent;color:inherit;font-size:20px;line-height:42px;-webkit-backface-visibility:hidden;backface-visibility:hidden;pointer-events:auto}[dir=rtl] .picker-opt,:host-context([dir=rtl]) .picker-opt{-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}",md:".picker-col{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-box-sizing:content-box;box-sizing:content-box;contain:content}.picker-opts{position:relative;-ms-flex:1;flex:1;max-width:100%}.picker-opt{left:0;top:0;display:block;position:absolute;width:100%;border:0;text-align:center;text-overflow:ellipsis;white-space:nowrap;contain:strict;overflow:hidden;will-change:transform}[dir=rtl] .picker-opt,:host-context([dir=rtl]) .picker-opt{left:unset;right:unset;right:0}.picker-opt.picker-opt-disabled{pointer-events:none}.picker-opt-disabled{opacity:0}.picker-opts-left{-ms-flex-pack:start;justify-content:flex-start}.picker-opts-right{-ms-flex-pack:end;justify-content:flex-end}.picker-opt:active,.picker-opt:focus{outline:none}.picker-prefix{position:relative;-ms-flex:1;flex:1;text-align:end;white-space:nowrap}.picker-suffix{position:relative;-ms-flex:1;flex:1;text-align:start;white-space:nowrap}.picker-col{padding-left:8px;padding-right:8px;padding-top:0;padding-bottom:0;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-col{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.picker-prefix,.picker-suffix,.picker-opts{top:77px;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;color:inherit;font-size:22px;line-height:42px;pointer-events:none}.picker-opt{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;height:43px;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;background:transparent;color:inherit;font-size:22px;line-height:42px;-webkit-backface-visibility:hidden;backface-visibility:hidden;pointer-events:auto}.picker-prefix,.picker-suffix,.picker-opt.picker-opt-selected{color:var(--ion-color-primary, #3880ff)}"};const _n=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Ze.addElement(ye.querySelector(".picker-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),we.addElement(ye).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([$e,Ze])},Gn=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),Ze=(0,S.c)();return $e.addElement(ye.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",.01),Ze.addElement(ye.querySelector(".picker-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),we.addElement(ye).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([$e,Ze])};let On=class{constructor(ye){(0,D.r)(this,ye),this.didPresent=(0,D.e)(this,"ionPickerDidPresent",7),this.willPresent=(0,D.e)(this,"ionPickerWillPresent",7),this.willDismiss=(0,D.e)(this,"ionPickerWillDismiss",7),this.didDismiss=(0,D.e)(this,"ionPickerDidDismiss",7),this.presented=!1,this.keyboardClose=!0,this.buttons=[],this.columns=[],this.duration=0,this.showBackdrop=!0,this.backdropDismiss=!0,this.animated=!0,this.onBackdropTap=()=>{this.dismiss(void 0,ao)},this.dispatchCancelHandler=we=>{if(Eo(we.detail.role)){const Ze=this.buttons.find(At=>"cancel"===At.role);this.callButtonHandler(Ze)}}}connectedCallback(){it(this.el)}present(){var ye=this;return(0,i.Z)(function*(){yield Ai(ye,"pickerEnter",_n,_n,void 0),ye.duration>0&&(ye.durationTimeout=setTimeout(()=>ye.dismiss(),ye.duration))})()}dismiss(ye,we){return this.durationTimeout&&clearTimeout(this.durationTimeout),so(this,ye,we,"pickerLeave",Gn,Gn)}onDidDismiss(){return Bi(this.el,"ionPickerDidDismiss")}onWillDismiss(){return Bi(this.el,"ionPickerWillDismiss")}getColumn(ye){return Promise.resolve(this.columns.find(we=>we.name===ye))}buttonClick(ye){var we=this;return(0,i.Z)(function*(){const $e=ye.role;return Eo($e)?we.dismiss(void 0,$e):(yield we.callButtonHandler(ye))?we.dismiss(we.getSelected(),ye.role):Promise.resolve()})()}callButtonHandler(ye){var we=this;return(0,i.Z)(function*(){return!(ye&&!1===(yield xo(ye.handler,we.getSelected())))})()}getSelected(){const ye={};return this.columns.forEach((we,$e)=>{const Ze=void 0!==we.selectedIndex?we.options[we.selectedIndex]:void 0;ye[we.name]={text:Ze?Ze.text:void 0,value:Ze?Ze.value:void 0,columnIndex:$e}}),ye}render(){const{htmlAttributes:ye}=this,we=(0,G.b)(this);return(0,D.h)(D.H,Object.assign({"aria-modal":"true",tabindex:"-1"},ye,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[we]:!0,[`picker-${we}`]:!0,"overlay-hidden":!0},(0,$.g)(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonPickerWillDismiss:this.dispatchCancelHandler}),(0,D.h)("ion-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss}),(0,D.h)("div",{tabindex:"0"}),(0,D.h)("div",{class:"picker-wrapper ion-overlay-wrapper",role:"dialog"},(0,D.h)("div",{class:"picker-toolbar"},this.buttons.map($e=>(0,D.h)("div",{class:Vn($e)},(0,D.h)("button",{type:"button",onClick:()=>this.buttonClick($e),class:Fn($e)},$e.text)))),(0,D.h)("div",{class:"picker-columns"},(0,D.h)("div",{class:"picker-above-highlight"}),this.presented&&this.columns.map($e=>(0,D.h)("ion-picker-column",{col:$e})),(0,D.h)("div",{class:"picker-below-highlight"}))),(0,D.h)("div",{tabindex:"0"}))}get el(){return(0,D.i)(this)}};const Vn=ye=>({[`picker-toolbar-${ye.role}`]:void 0!==ye.role,"picker-toolbar-button":!0}),Fn=ye=>Object.assign({"picker-button":!0,"ion-activatable":!0},(0,$.g)(ye.cssClass));On.style={ios:".sc-ion-picker-ios-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-ios-h,[dir=rtl] .sc-ion-picker-ios-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-ios-h{display:none}.picker-wrapper.sc-ion-picker-ios{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-ios{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-ios{border:0;font-family:inherit}.picker-button.sc-ion-picker-ios:active,.picker-button.sc-ion-picker-ios:focus{outline:none}.picker-columns.sc-ion-picker-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-ios,.picker-below-highlight.sc-ion-picker-ios{display:none;pointer-events:none}.sc-ion-picker-ios-h{--background:var(--ion-background-color, #fff);--border-width:1px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-ios{display:-ms-flexbox;display:flex;height:44px;border-bottom:0.55px solid var(--border-color)}.picker-toolbar-button.sc-ion-picker-ios{-ms-flex:1;flex:1;text-align:end}.picker-toolbar-button.sc-ion-picker-ios:last-child .picker-button.sc-ion-picker-ios{font-weight:600}.picker-toolbar-button.sc-ion-picker-ios:first-child{font-weight:normal;text-align:start}.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1em;padding-right:1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:1em;padding-inline-start:1em;-webkit-padding-end:1em;padding-inline-end:1em}}.picker-columns.sc-ion-picker-ios{height:215px;-webkit-perspective:1000px;perspective:1000px}.picker-above-highlight.sc-ion-picker-ios{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:81px;border-bottom:1px solid var(--border-color);background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to bottom, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-ios .picker-above-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-ios{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:119px;border-top:1px solid var(--border-color);background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to top, var(--background, var(--ion-background-color, #fff)) 30%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-ios .picker-below-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}",md:".sc-ion-picker-md-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-md-h,[dir=rtl] .sc-ion-picker-md-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-md-h{display:none}.picker-wrapper.sc-ion-picker-md{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-md{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-md{border:0;font-family:inherit}.picker-button.sc-ion-picker-md:active,.picker-button.sc-ion-picker-md:focus{outline:none}.picker-columns.sc-ion-picker-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-md,.picker-below-highlight.sc-ion-picker-md{display:none;pointer-events:none}.sc-ion-picker-md-h{--background:var(--ion-background-color, #fff);--border-width:0.55px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-md{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;height:44px}.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1.1em;padding-right:1.1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:14px;font-weight:500;text-transform:uppercase;-webkit-box-shadow:none;box-shadow:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{padding-left:unset;padding-right:unset;-webkit-padding-start:1.1em;padding-inline-start:1.1em;-webkit-padding-end:1.1em;padding-inline-end:1.1em}}.picker-columns.sc-ion-picker-md{height:216px;-webkit-perspective:1800px;perspective:1800px}.picker-above-highlight.sc-ion-picker-md{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:81px;border-bottom:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to bottom, var(--ion-background-color, #fff) 20%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-md .picker-above-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-md{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:119px;border-top:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to top, var(--ion-background-color, #fff) 30%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-md .picker-below-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}"};const gr=(ye,we,$e)=>{const Ze=we.getBoundingClientRect(),At=Ze.height;let Pt=Ze.width;return"cover"===ye&&$e&&(Pt=$e.getBoundingClientRect().width),{contentWidth:Pt,contentHeight:At}},Ar=(ye,we,$e)=>{let Ze=[];switch(we){case"hover":let At;Ze=[{eventName:"mouseenter",callback:(Pt=(0,i.Z)(function*(bn){bn.stopPropagation(),At&&clearTimeout(At),At=setTimeout(()=>{(0,x.r)(()=>{$e.presentFromTrigger(bn),At=void 0})},100)}),function(hn){return Pt.apply(this,arguments)})},{eventName:"mouseleave",callback:Pt=>{At&&clearTimeout(At);const bn=Pt.relatedTarget;!bn||bn.closest("ion-popover")!==$e&&$e.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:Pt=>Pt.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:Pt=>$e.presentFromTrigger(Pt,!0)}];break;case"context-menu":Ze=[{eventName:"contextmenu",callback:Pt=>{Pt.preventDefault(),$e.presentFromTrigger(Pt)}},{eventName:"click",callback:Pt=>Pt.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:Pt=>$e.presentFromTrigger(Pt,!0)}];break;default:Ze=[{eventName:"click",callback:Pt=>$e.presentFromTrigger(Pt)},{eventName:"ionPopoverActivateTrigger",callback:Pt=>$e.presentFromTrigger(Pt,!0)}]}var Pt;return Ze.forEach(({eventName:At,callback:Pt})=>ye.addEventListener(At,Pt)),ye.setAttribute("data-ion-popover-trigger","true"),()=>{Ze.forEach(({eventName:At,callback:Pt})=>ye.removeEventListener(At,Pt)),ye.removeAttribute("data-ion-popover-trigger")}},ni=(ye,we)=>we&&"ION-ITEM"===we.tagName?ye.findIndex($e=>$e===we):-1,zr=ye=>{const $e=(0,x.g)(ye).querySelector("button");$e&&(0,x.r)(()=>$e.focus())},Wr=ye=>{const we=function(){var $e=(0,i.Z)(function*(Ze){const At=document.activeElement;let Pt=[];try{Pt=Array.from(ye.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(bn){}switch(Ze.key){case"ArrowLeft":(yield ye.getParentPopover())&&ye.dismiss(void 0,void 0,!1);break;case"ArrowDown":Ze.preventDefault();const hn=((ye,we)=>ye[ni(ye,we)+1])(Pt,At);void 0!==hn&&zr(hn);break;case"ArrowUp":Ze.preventDefault();const Kn=((ye,we)=>ye[ni(ye,we)-1])(Pt,At);void 0!==Kn&&zr(Kn);break;case"Home":Ze.preventDefault();const Xe=Pt[0];void 0!==Xe&&zr(Xe);break;case"End":Ze.preventDefault();const st=Pt[Pt.length-1];void 0!==st&&zr(st);break;case"ArrowRight":case" ":case"Enter":if(At&&(ye=>ye.hasAttribute("data-ion-popover-trigger"))(At)){const ut=new CustomEvent("ionPopoverActivateTrigger");At.dispatchEvent(ut)}}});return function(At){return $e.apply(this,arguments)}}();return ye.addEventListener("keydown",we),()=>ye.removeEventListener("keydown",we)},oi=(ye,we,$e,Ze,At,Pt,bn,hn,Kn,Xe,st)=>{var ut;let Xt={top:0,left:0,width:0,height:0};if("event"===Pt){if(!st)return Kn;Xt={top:st.clientY,left:st.clientX,width:1,height:1}}else{const li=st,Ci=Xe||(null===(ut=null==li?void 0:li.detail)||void 0===ut?void 0:ut.ionShadowTarget)||(null==li?void 0:li.target);if(!Ci)return Kn;const hi=Ci.getBoundingClientRect();Xt={top:hi.top,left:hi.left,width:hi.width,height:hi.height}}const xn=Dt(bn,Xt,we,$e,Ze,At,ye),Nn=lt(hn,bn,Xt,we,$e),Zn=xn.top+Nn.top,Xn=xn.left+Nn.left,{arrowTop:wr,arrowLeft:Tr}=Qt(bn,Ze,At,Zn,Xn,we,$e,ye),{originX:Fr,originY:wi}=Mr(bn,hn,ye);return{top:Zn,left:Xn,referenceCoordinates:Xt,arrowTop:wr,arrowLeft:Tr,originX:Fr,originY:wi}},Mr=(ye,we,$e)=>{switch(ye){case"top":return{originX:Qr(we),originY:"bottom"};case"bottom":return{originX:Qr(we),originY:"top"};case"left":return{originX:"right",originY:Rr(we)};case"right":return{originX:"left",originY:Rr(we)};case"start":return{originX:$e?"left":"right",originY:Rr(we)};case"end":return{originX:$e?"right":"left",originY:Rr(we)}}},Qr=ye=>{switch(ye){case"start":return"left";case"center":return"center";case"end":return"right"}},Rr=ye=>{switch(ye){case"start":return"top";case"center":return"center";case"end":return"bottom"}},Qt=(ye,we,$e,Ze,At,Pt,bn,hn)=>{const Kn={arrowTop:Ze+bn/2-we/2,arrowLeft:At+Pt-we/2},Xe={arrowTop:Ze+bn/2-we/2,arrowLeft:At-1.5*we};switch(ye){case"top":return{arrowTop:Ze+bn,arrowLeft:At+Pt/2-we/2};case"bottom":return{arrowTop:Ze-$e,arrowLeft:At+Pt/2-we/2};case"left":return Kn;case"right":return Xe;case"start":return hn?Xe:Kn;case"end":return hn?Kn:Xe;default:return{arrowTop:0,arrowLeft:0}}},Dt=(ye,we,$e,Ze,At,Pt,bn)=>{const hn={top:we.top,left:we.left-$e-At},Kn={top:we.top,left:we.left+we.width+At};switch(ye){case"top":return{top:we.top-Ze-Pt,left:we.left};case"right":return Kn;case"bottom":return{top:we.top+we.height+Pt,left:we.left};case"left":return hn;case"start":return bn?Kn:hn;case"end":return bn?hn:Kn}},lt=(ye,we,$e,Ze,At)=>{switch(ye){case"center":return gn(we,$e,Ze,At);case"end":return jt(we,$e,Ze,At);default:return{top:0,left:0}}},jt=(ye,we,$e,Ze)=>{switch(ye){case"start":case"end":case"left":case"right":return{top:-(Ze-we.height),left:0};default:return{top:0,left:-($e-we.width)}}},gn=(ye,we,$e,Ze)=>{switch(ye){case"start":case"end":case"left":case"right":return{top:-(Ze/2-we.height/2),left:0};default:return{top:0,left:-($e/2-we.width/2)}}},tr=(ye,we,$e,Ze,At,Pt,bn,hn,Kn,Xe,st,ut,Xt=0,xn=0,Nn=0)=>{let Fr,Zn=Xt,wr=$e,Tr=we,wi=Xe,ei=st,li=!1,Ci=!1;const hi=ut?ut.top+ut.height:Pt/2-hn/2,kr=ut?ut.height:0;let lo=!1;return wr<Ze+Kn?(wr=Ze,li=!0,wi="left"):bn+Ze+wr+Kn>At&&(Ci=!0,wr=At-bn-Ze,wi="right"),hi+kr+hn>Pt&&("top"===ye||"bottom"===ye)&&(hi-hn>0?(Tr=hi-hn-kr-(Nn-1),Zn=Tr+hn,ei="bottom",lo=!0):Fr=Ze),{top:Tr,left:wr,bottom:Fr,originX:wi,originY:ei,checkSafeAreaLeft:li,checkSafeAreaRight:Ci,arrowTop:Zn,arrowLeft:xn,addPopoverBottomClass:lo}},gt=(ye,we)=>{var $e;const{event:Ze,size:At,trigger:Pt,reference:bn,side:hn,align:Kn}=we,Xe=ye.ownerDocument,st="rtl"===Xe.dir,ut=Xe.defaultView.innerWidth,Xt=Xe.defaultView.innerHeight,xn=(0,x.g)(ye),Nn=xn.querySelector(".popover-content"),Zn=xn.querySelector(".popover-arrow"),Xn=Pt||(null===($e=null==Ze?void 0:Ze.detail)||void 0===$e?void 0:$e.ionShadowTarget)||(null==Ze?void 0:Ze.target),{contentWidth:wr,contentHeight:Tr}=gr(At,Nn,Xn),{arrowWidth:Fr,arrowHeight:wi}=(ye=>{if(!ye)return{arrowWidth:0,arrowHeight:0};const{width:we,height:$e}=ye.getBoundingClientRect();return{arrowWidth:we,arrowHeight:$e}})(Zn),li=oi(st,wr,Tr,Fr,wi,bn,hn,Kn,{top:Xt/2-Tr/2,left:ut/2-wr/2,originX:st?"right":"left",originY:"top"},Pt,Ze),Ci="cover"===At?0:5,hi="cover"===At?0:25,{originX:kr,originY:lo,top:$i,left:ge,bottom:Z,checkSafeAreaLeft:I,checkSafeAreaRight:j,arrowTop:pe,arrowLeft:vt,addPopoverBottomClass:on}=tr(hn,li.top,li.left,Ci,ut,Xt,wr,Tr,hi,li.originX,li.originY,li.referenceCoordinates,li.arrowTop,li.arrowLeft,wi),Yn=(0,S.c)(),Sr=(0,S.c)(),fi=(0,S.c)();return Sr.addElement(xn.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),fi.addElement(xn.querySelector(".popover-wrapper")).fromTo("opacity",.01,1),Yn.easing("ease").duration(100).beforeAddWrite(()=>{"cover"===At&&ye.style.setProperty("--width",`${wr}px`),on&&ye.classList.add("popover-bottom"),void 0!==Z&&Nn.style.setProperty("bottom",`${Z}px`);let Ei=`${ge}px`;I&&(Ei=`${ge}px + var(--ion-safe-area-left, 0)`),j&&(Ei=`${ge}px - var(--ion-safe-area-right, 0)`),Nn.style.setProperty("top",`calc(${$i}px + var(--offset-y, 0))`),Nn.style.setProperty("left",`calc(${Ei} + var(--offset-x, 0))`),Nn.style.setProperty("transform-origin",`${lo} ${kr}`),null!==Zn&&(((ye,we=!1,$e,Ze)=>!(!$e&&!Ze||"top"!==ye&&"bottom"!==ye&&we))(hn,li.top!==$i||li.left!==ge,Ze,Pt)?(Zn.style.setProperty("top",`calc(${pe}px + var(--offset-y, 0))`),Zn.style.setProperty("left",`calc(${vt}px + var(--offset-x, 0))`)):Zn.style.setProperty("display","none"))}).addAnimation([Sr,fi])},ln=ye=>{const we=(0,x.g)(ye),$e=we.querySelector(".popover-content"),Ze=we.querySelector(".popover-arrow"),At=(0,S.c)(),Pt=(0,S.c)(),bn=(0,S.c)();return Pt.addElement(we.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),bn.addElement(we.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),At.easing("ease").afterAddWrite(()=>{ye.style.removeProperty("--width"),ye.classList.remove("popover-bottom"),$e.style.removeProperty("top"),$e.style.removeProperty("left"),$e.style.removeProperty("bottom"),$e.style.removeProperty("transform-origin"),Ze&&(Ze.style.removeProperty("top"),Ze.style.removeProperty("left"),Ze.style.removeProperty("display"))}).duration(300).addAnimation([Pt,bn])},un=(ye,we)=>{var $e;const{event:Ze,size:At,trigger:Pt,reference:bn,side:hn,align:Kn}=we,Xe=ye.ownerDocument,st="rtl"===Xe.dir,ut=Xe.defaultView.innerWidth,Xt=Xe.defaultView.innerHeight,xn=(0,x.g)(ye),Nn=xn.querySelector(".popover-content"),Zn=Pt||(null===($e=null==Ze?void 0:Ze.detail)||void 0===$e?void 0:$e.ionShadowTarget)||(null==Ze?void 0:Ze.target),{contentWidth:Xn,contentHeight:wr}=gr(At,Nn,Zn),Fr=oi(st,Xn,wr,0,0,bn,hn,Kn,{top:Xt/2-wr/2,left:ut/2-Xn/2,originX:st?"right":"left",originY:"top"},Pt,Ze),wi="cover"===At?0:12,{originX:ei,originY:li,top:Ci,left:hi,bottom:kr}=tr(hn,Fr.top,Fr.left,wi,ut,Xt,Xn,wr,0,Fr.originX,Fr.originY,Fr.referenceCoordinates),lo=(0,S.c)(),$i=(0,S.c)(),ge=(0,S.c)(),Z=(0,S.c)(),I=(0,S.c)();return $i.addElement(xn.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),ge.addElement(xn.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),Z.addElement(Nn).beforeStyles({top:`calc(${Ci}px + var(--offset-y, 0px))`,left:`calc(${hi}px + var(--offset-x, 0px))`,"transform-origin":`${li} ${ei}`}).beforeAddWrite(()=>{void 0!==kr&&Nn.style.setProperty("bottom",`${kr}px`)}).fromTo("transform","scale(0.8)","scale(1)"),I.addElement(xn.querySelector(".popover-viewport")).fromTo("opacity",.01,1),lo.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{"cover"===At&&ye.style.setProperty("--width",`${Xn}px`),"bottom"===li&&ye.classList.add("popover-bottom")}).addAnimation([$i,ge,Z,I])},En=ye=>{const we=(0,x.g)(ye),$e=we.querySelector(".popover-content"),Ze=(0,S.c)(),At=(0,S.c)(),Pt=(0,S.c)();return At.addElement(we.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),Pt.addElement(we.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),Ze.easing("ease").afterAddWrite(()=>{ye.style.removeProperty("--width"),ye.classList.remove("popover-bottom"),$e.style.removeProperty("top"),$e.style.removeProperty("left"),$e.style.removeProperty("bottom"),$e.style.removeProperty("transform-origin")}).duration(150).addAnimation([At,Pt])};let Mn=class{constructor(ye){(0,D.r)(this,ye),this.didPresent=(0,D.e)(this,"ionPopoverDidPresent",7),this.willPresent=(0,D.e)(this,"ionPopoverWillPresent",7),this.willDismiss=(0,D.e)(this,"ionPopoverWillDismiss",7),this.didDismiss=(0,D.e)(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=(0,D.e)(this,"didPresent",7),this.willPresentShorthand=(0,D.e)(this,"willPresent",7),this.willDismissShorthand=(0,D.e)(this,"willDismiss",7),this.didDismissShorthand=(0,D.e)(this,"didDismiss",7),this.parentPopover=null,this.popoverIndex=Bn++,this.coreDelegate=(0,P.C)(),this.inline=!1,this.focusDescendantOnPresent=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.backdropDismiss=!0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.triggerAction="click",this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment="start",this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.onDismiss=we=>{we.stopPropagation(),we.preventDefault(),this.dismiss()},this.onBackdropTap=()=>{this.dismiss(void 0,ao)},this.onLifecycle=we=>{const $e=this.usersElement,Ze=cn[we.type];if($e&&Ze){const At=new CustomEvent(Ze,{bubbles:!1,cancelable:!1,detail:we.detail});$e.dispatchEvent(At)}},this.configureTriggerInteraction=()=>{const{trigger:we,triggerAction:$e,el:Ze,destroyTriggerInteraction:At}=this;At&&At();const Pt=this.triggerEl=void 0!==we?document.getElementById(we):null;!Pt||(this.destroyTriggerInteraction=Ar(Pt,$e,Ze))},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:we,el:$e}=this;we&&we(),this.destroyKeyboardInteraction=Wr($e)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:we,parentPopover:$e,triggerAction:Ze,triggerEl:At,el:Pt}=this;!$e||!At||(we&&we(),this.destroyDismissInteraction=((ye,we,$e,Ze)=>{let At=[];const bn=(0,x.g)(Ze).querySelector(".popover-content");return At="hover"===we?[{eventName:"mouseenter",callback:hn=>{document.elementFromPoint(hn.clientX,hn.clientY)!==ye&&$e.dismiss(void 0,void 0,!1)}}]:[{eventName:"click",callback:hn=>{hn.target.closest("[data-ion-popover-trigger]")!==ye?$e.dismiss(void 0,void 0,!1):hn.stopPropagation()}}],At.forEach(({eventName:hn,callback:Kn})=>bn.addEventListener(hn,Kn)),()=>{At.forEach(({eventName:hn,callback:Kn})=>bn.removeEventListener(hn,Kn))}})(At,Ze,Pt,$e))}}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(ye,we){!0===ye&&!1===we?this.present():!1===ye&&!0===we&&this.dismiss()}connectedCallback(){it(this.el)}componentWillLoad(){this.popoverId=this.el.hasAttribute("id")?this.el.getAttribute("id"):`ion-popover-${this.popoverIndex}`,this.parentPopover=this.el.closest(`ion-popover:not(#${this.popoverId})`)}componentDidLoad(){const{parentPopover:ye,isOpen:we}=this;!0===we&&(0,x.r)(()=>this.present()),ye&&(0,x.a)(ye,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}presentFromTrigger(ye,we=!1){var $e=this;return(0,i.Z)(function*(){$e.focusDescendantOnPresent=we,yield $e.present(ye),$e.focusDescendantOnPresent=!1})()}getDelegate(ye=!1){if(this.workingDelegate&&!ye)return{delegate:this.workingDelegate,inline:this.inline};const $e=this.inline=null!==this.el.parentNode&&!this.hasController;return{inline:$e,delegate:this.workingDelegate=$e?this.delegate||this.coreDelegate:this.delegate}}present(ye){var we=this;return(0,i.Z)(function*(){if(we.presented)return;void 0!==we.currentTransition&&(yield we.currentTransition);const $e=Object.assign(Object.assign({},we.componentProps),{popover:we.el}),{inline:Ze,delegate:At}=we.getDelegate(!0);we.usersElement=yield(0,P.a)(At,we.el,we.component,["popover-viewport"],$e,Ze),yield(0,w.e)(we.usersElement),we.keyboardEvents||we.configureKeyboardInteraction(),we.configureDismissInteraction(),we.currentTransition=Ai(we,"popoverEnter",gt,un,{event:ye||we.event,size:we.size,trigger:we.triggerEl,reference:we.reference,side:we.side,align:we.alignment}),yield we.currentTransition,we.currentTransition=void 0,we.focusDescendantOnPresent&&an(we.el,we.el)})()}dismiss(ye,we,$e=!0){var Ze=this;return(0,i.Z)(function*(){void 0!==Ze.currentTransition&&(yield Ze.currentTransition);const{destroyKeyboardInteraction:At,destroyDismissInteraction:Pt}=Ze;$e&&Ze.parentPopover&&Ze.parentPopover.dismiss(ye,we,$e),Ze.currentTransition=so(Ze,ye,we,"popoverLeave",ln,En,Ze.event);const bn=yield Ze.currentTransition;if(bn){At&&(At(),Ze.destroyKeyboardInteraction=void 0),Pt&&(Pt(),Ze.destroyDismissInteraction=void 0);const{delegate:hn}=Ze.getDelegate();yield(0,P.d)(hn,Ze.usersElement)}return Ze.currentTransition=void 0,bn})()}getParentPopover(){var ye=this;return(0,i.Z)(function*(){return ye.parentPopover})()}onDidDismiss(){return Bi(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return Bi(this.el,"ionPopoverWillDismiss")}render(){const ye=(0,G.b)(this),{onLifecycle:we,popoverId:$e,parentPopover:Ze,dismissOnSelect:At,presented:Pt,side:bn,arrow:hn,htmlAttributes:Kn}=this,Xe=(0,G.a)("desktop"),st=hn&&!Ze&&!Xe;return(0,D.h)(D.H,Object.assign({"aria-modal":"true","no-router":!0,tabindex:"-1"},Kn,{style:{zIndex:`${2e4+this.overlayIndex}`},id:$e,class:Object.assign(Object.assign({},(0,$.g)(this.cssClass)),{[ye]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-interactive":Pt,"popover-desktop":Xe,[`popover-side-${bn}`]:!0,"popover-nested":!!Ze}),onIonPopoverDidPresent:we,onIonPopoverWillPresent:we,onIonPopoverWillDismiss:we,onIonPopoverDidDismiss:we,onIonDismiss:this.onDismiss,onIonBackdropTap:this.onBackdropTap}),!Ze&&(0,D.h)("ion-backdrop",{tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),(0,D.h)("div",{class:"popover-wrapper ion-overlay-wrapper",onClick:At?()=>this.dismiss():void 0},st&&(0,D.h)("div",{class:"popover-arrow",part:"arrow"}),(0,D.h)("div",{class:"popover-content",part:"content"},(0,D.h)("slot",null))))}get el(){return(0,D.i)(this)}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}};const cn={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};let Bn=0;Mn.style={ios:':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, #e6e6e6)}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden}.popover-arrow::after{left:3px;top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}[dir=rtl] .popover-arrow::after,:host-context([dir=rtl]) .popover-arrow::after{left:unset;right:unset;right:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',md:":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}[dir=rtl] .popover-content,:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}"};const ar=(ye,we)=>{const $e=(0,S.c)(),Ze=(0,S.c)(),Pt=(0,x.g)(ye).querySelector(".toast-wrapper");switch(Ze.addElement(Pt),we){case"top":Ze.fromTo("transform","translateY(-100%)","translateY(calc(10px + var(--ion-safe-area-top, 0px)))");break;case"middle":const Kn=Math.floor(ye.clientHeight/2-Pt.clientHeight/2);Pt.style.top=`${Kn}px`,Ze.fromTo("opacity",.01,1);break;default:Ze.fromTo("transform","translateY(100%)","translateY(calc(-10px - var(--ion-safe-area-bottom, 0px)))")}return $e.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(Ze)},$r=(ye,we)=>{const $e=(0,S.c)(),Ze=(0,S.c)(),Pt=(0,x.g)(ye).querySelector(".toast-wrapper");switch(Ze.addElement(Pt),we){case"top":Ze.fromTo("transform","translateY(calc(10px + var(--ion-safe-area-top, 0px)))","translateY(-100%)");break;case"middle":Ze.fromTo("opacity",.99,0);break;default:Ze.fromTo("transform","translateY(calc(-10px - var(--ion-safe-area-bottom, 0px)))","translateY(100%)")}return $e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(Ze)},gi=(ye,we)=>{const $e=(0,S.c)(),Ze=(0,S.c)(),Pt=(0,x.g)(ye).querySelector(".toast-wrapper");switch(Ze.addElement(Pt),we){case"top":Pt.style.top="calc(8px + var(--ion-safe-area-top, 0px))",Ze.fromTo("opacity",.01,1);break;case"middle":const Kn=Math.floor(ye.clientHeight/2-Pt.clientHeight/2);Pt.style.top=`${Kn}px`,Ze.fromTo("opacity",.01,1);break;default:Pt.style.bottom="calc(8px + var(--ion-safe-area-bottom, 0px))",Ze.fromTo("opacity",.01,1)}return $e.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(Ze)},Dr=ye=>{const we=(0,S.c)(),$e=(0,S.c)(),At=(0,x.g)(ye).querySelector(".toast-wrapper");return $e.addElement(At).fromTo("opacity",.99,0),we.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation($e)};let ce=class{constructor(ye){(0,D.r)(this,ye),this.didPresent=(0,D.e)(this,"ionToastDidPresent",7),this.willPresent=(0,D.e)(this,"ionToastWillPresent",7),this.willDismiss=(0,D.e)(this,"ionToastWillDismiss",7),this.didDismiss=(0,D.e)(this,"ionToastDidDismiss",7),this.presented=!1,this.duration=0,this.keyboardClose=!1,this.position="bottom",this.translucent=!1,this.animated=!0,this.dispatchCancelHandler=we=>{if(Eo(we.detail.role)){const Ze=this.getButtons().find(At=>"cancel"===At.role);this.callButtonHandler(Ze)}}}connectedCallback(){it(this.el)}present(){var ye=this;return(0,i.Z)(function*(){yield Ai(ye,"toastEnter",ar,gi,ye.position),ye.duration>0&&(ye.durationTimeout=setTimeout(()=>ye.dismiss(void 0,"timeout"),ye.duration))})()}dismiss(ye,we){return this.durationTimeout&&clearTimeout(this.durationTimeout),so(this,ye,we,"toastLeave",$r,Dr,this.position)}onDidDismiss(){return Bi(this.el,"ionToastDidDismiss")}onWillDismiss(){return Bi(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(we=>"string"==typeof we?{text:we}:we):[]}buttonClick(ye){var we=this;return(0,i.Z)(function*(){const $e=ye.role;return Eo($e)||(yield we.callButtonHandler(ye))?we.dismiss(void 0,$e):Promise.resolve()})()}callButtonHandler(ye){return(0,i.Z)(function*(){if(ye&&ye.handler)try{if(!1===(yield xo(ye.handler)))return!1}catch(we){console.error(we)}return!0})()}renderButtons(ye,we){if(0===ye.length)return;const $e=(0,G.b)(this);return(0,D.h)("div",{class:{"toast-button-group":!0,[`toast-button-group-${we}`]:!0}},ye.map(At=>(0,D.h)("button",{type:"button",class:Fe(At),tabIndex:0,onClick:()=>this.buttonClick(At),part:"button"},(0,D.h)("div",{class:"toast-button-inner"},At.icon&&(0,D.h)("ion-icon",{icon:At.icon,slot:void 0===At.text?"icon-only":void 0,class:"toast-button-icon"}),At.text),"md"===$e&&(0,D.h)("ion-ripple-effect",{type:void 0!==At.icon&&void 0===At.text?"unbounded":"bounded"}))))}render(){const ye=this.getButtons(),we=ye.filter(bn=>"start"===bn.side),$e=ye.filter(bn=>"start"!==bn.side),Ze=(0,G.b)(this),At={"toast-wrapper":!0,[`toast-${this.position}`]:!0};return(0,D.h)(D.H,Object.assign({role:ye.length>0?"dialog":"status",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:`${6e4+this.overlayIndex}`},class:(0,$.c)(this.color,Object.assign(Object.assign({[Ze]:!0},(0,$.g)(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),(0,D.h)("div",{class:At},(0,D.h)("div",{class:"toast-container",part:"container"},this.renderButtons(we,"start"),void 0!==this.icon&&(0,D.h)("ion-icon",{class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),(0,D.h)("div",{class:"toast-content"},void 0!==this.header&&(0,D.h)("div",{class:"toast-header",part:"header"},this.header),void 0!==this.message&&(0,D.h)("div",{class:"toast-message",part:"message",innerHTML:(0,L.s)(this.message)})),this.renderButtons($e,"end"))))}get el(){return(0,D.i)(this)}};const Fe=ye=>Object.assign({"toast-button":!0,"toast-button-icon-only":void 0!==ye.icon&&void 0===ye.text,[`toast-button-${ye.role}`]:void 0!==ye.role,"ion-focusable":!0,"ion-activatable":!0},(0,$.g)(ye.cssClass));ce.style={ios:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--start:10px;--end:10px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:17px;font-weight:500;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",md:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.toast-content{padding-left:16px;padding-right:16px;padding-top:14px;padding-bottom:14px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.toast-header{margin-bottom:2px;font-weight:500;line-height:20px}.toast-message{line-height:20px}.toast-button-group-start{margin-left:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-start{margin-left:unset;-webkit-margin-start:8px;margin-inline-start:8px}}.toast-button-group-end{margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-end{margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:14px;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;padding-left:9px;padding-right:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-icon-only{padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}"};let et=0;const It=new WeakMap,Le=(ye,we,$e)=>({create:Ze=>Ot(ye,Ze,we,$e),dismiss:(Ze,At,Pt)=>mr(document,Ze,At,ye,Pt),getTop:()=>(0,i.Z)(function*(){return xi(document,ye)})()}),Ct=Le("ion-alert",A),St=Le("ion-action-sheet",M),Ft=Le("ion-loading",Pe),Zt=Le("ion-modal",vn),Je=Le("ion-popover",Mn),je=Le("ion-toast",ce),it=ye=>{"undefined"!=typeof document&&Wn(document);const we=et++;ye.overlayIndex=we,ye.hasAttribute("id")||(ye.id=`ion-overlay-${we}`)},Ot=(ye,we,$e,Ze)=>{if(void 0!==window.customElements){if("undefined"!=typeof window&&window.customElements&&(window.customElements.get(ye)||window.customElements.define(ye,$e),Ze))for(const At of Ze)window.customElements.get(At.tagName)||window.customElements.define(At.tagName,At.customElement);return window.customElements.whenDefined(ye).then(()=>{const At=document.createElement(ye);return At.classList.add("overlay-hidden"),Object.assign(At,Object.assign(Object.assign({},we),{hasController:!0})),fo(document).appendChild(At),new Promise(Pt=>(0,x.c)(At,Pt))})}return Promise.resolve()},xt='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Vt="input:not([type=hidden]), textarea, button, select",an=(ye,we)=>{let $e=ye.querySelector(xt);const Ze=$e&&$e.shadowRoot;Ze&&($e=Ze.querySelector(Vt)||$e),$e?(0,x.f)($e):we.focus()},yn=(ye,we)=>{const $e=Array.from(ye.querySelectorAll(xt));let Ze=$e.length>0?$e[$e.length-1]:null;const At=Ze&&Ze.shadowRoot;At&&(Ze=At.querySelector(Vt)||Ze),Ze?Ze.focus():we.focus()},Wn=ye=>{0===et&&(et=1,ye.addEventListener("focus",we=>((ye,we)=>{const $e=xi(we),Ze=ye.target;$e&&Ze&&($e.shadowRoot?(()=>{if($e.contains(Ze))$e.lastFocus=Ze;else{const bn=$e.lastFocus;an($e,$e),bn===we.activeElement&&yn($e,$e),$e.lastFocus=we.activeElement}})():(()=>{if($e===Ze)$e.lastFocus=void 0;else{const bn=(0,x.g)($e);if(!bn.contains(Ze))return;const hn=bn.querySelector(".ion-overlay-wrapper");if(!hn)return;if(hn.contains(Ze))$e.lastFocus=Ze;else{const Kn=$e.lastFocus;an(hn,$e),Kn===we.activeElement&&yn(hn,$e),$e.lastFocus=we.activeElement}}})())})(we,ye),!0),ye.addEventListener("ionBackButton",we=>{const $e=Or(ye);$e&&$e.backdropDismiss&&we.detail.register(m.OVERLAY_BACK_BUTTON_PRIORITY,()=>$e.dismiss(void 0,ao))}),ye.addEventListener("keyup",we=>{if("Escape"===we.key){const $e=Or(ye);$e&&$e.backdropDismiss&&$e.dismiss(void 0,ao)}}))},mr=(ye,we,$e,Ze,At)=>{const Pt=xi(ye,Ze,At);return Pt?Pt.dismiss(we,$e):Promise.reject("overlay does not exist")},Lr=(ye,we)=>(void 0===we&&(we="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ye.querySelectorAll(we)).filter($e=>$e.overlayIndex>0)),Or=ye=>{const we=Lr(ye);for(let $e=we.length-1;$e>=0;$e--){const Ze=we[$e];if(!Ze.classList.contains("overlay-hidden"))return Ze}},xi=(ye,we,$e)=>{const Ze=Lr(ye,we);return void 0===$e?Ze[Ze.length-1]:Ze.find(At=>At.id===$e)},Fi=(ye=!1)=>{const $e=fo(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!$e||(ye?$e.setAttribute("aria-hidden","true"):$e.removeAttribute("aria-hidden"))},Ai=function(){var ye=(0,i.Z)(function*(we,$e,Ze,At,Pt){var bn,hn;if(we.presented)return;Fi(!0),we.presented=!0,we.willPresent.emit(),null===(bn=we.willPresentShorthand)||void 0===bn||bn.emit();const Kn=(0,G.b)(we),Xe=we.enterAnimation?we.enterAnimation:G.c.get($e,"ios"===Kn?Ze:At);(yield to(we,Xe,we.el,Pt))&&(we.didPresent.emit(),null===(hn=we.didPresentShorthand)||void 0===hn||hn.emit()),"ION-TOAST"!==we.el.tagName&&Io(we.el),we.keyboardClose&&we.el.focus()});return function($e,Ze,At,Pt,bn){return ye.apply(this,arguments)}}(),Io=function(){var ye=(0,i.Z)(function*(we){let $e=document.activeElement;if(!$e)return;const Ze=$e&&$e.shadowRoot;Ze&&($e=Ze.querySelector(Vt)||$e),yield we.onDidDismiss(),$e.focus()});return function($e){return ye.apply(this,arguments)}}(),so=function(){var ye=(0,i.Z)(function*(we,$e,Ze,At,Pt,bn,hn){var Kn,Xe;if(!we.presented)return!1;Fi(!1),we.presented=!1;try{we.el.style.setProperty("pointer-events","none"),we.willDismiss.emit({data:$e,role:Ze}),null===(Kn=we.willDismissShorthand)||void 0===Kn||Kn.emit({data:$e,role:Ze});const st=(0,G.b)(we),ut=we.leaveAnimation?we.leaveAnimation:G.c.get(At,"ios"===st?Pt:bn);"gesture"!==Ze&&(yield to(we,ut,we.el,hn)),we.didDismiss.emit({data:$e,role:Ze}),null===(Xe=we.didDismissShorthand)||void 0===Xe||Xe.emit({data:$e,role:Ze}),It.delete(we),we.el.classList.add("overlay-hidden")}catch(st){console.error(st)}return we.el.remove(),!0});return function($e,Ze,At,Pt,bn,hn,Kn){return ye.apply(this,arguments)}}(),fo=ye=>ye.querySelector("ion-app")||ye.body,to=function(){var ye=(0,i.Z)(function*(we,$e,Ze,At){Ze.classList.remove("overlay-hidden");const bn=$e(we.el,At);(!we.animated||!G.c.getBoolean("animated",!0))&&bn.duration(0),we.keyboardClose&&bn.beforeAddWrite(()=>{const Kn=Ze.ownerDocument.activeElement;Kn&&Kn.matches("input,ion-input, ion-textarea")&&Kn.blur()});const hn=It.get(we)||[];return It.set(we,[...hn,bn]),yield bn.play(),!0});return function($e,Ze,At,Pt){return ye.apply(this,arguments)}}(),Bi=(ye,we)=>{let $e;const Ze=new Promise(At=>$e=At);return bo(ye,we,At=>{$e(At.detail)}),Ze},bo=(ye,we,$e)=>{const Ze=At=>{(0,x.b)(ye,we,Ze),$e(At)};(0,x.a)(ye,we,Ze)},Eo=ye=>"cancel"===ye||ye===ao,ts=ye=>ye(),xo=(ye,we)=>{if("function"==typeof ye)return G.c.get("_zoneGate",ts)(()=>{try{return ye(we)}catch(Ze){throw Ze}})},ao="backdrop"},7300:(Ye,fe,p)=>{"use strict";p.d(fe,{c:()=>G,g:()=>H,h:()=>D,o:()=>$});var i=p(5861);const D=(S,P)=>null!==P.closest(S),G=(S,P)=>"string"==typeof S&&S.length>0?Object.assign({"ion-color":!0,[`ion-color-${S}`]:!0},P):P,H=S=>{const P={};return(S=>void 0!==S?(Array.isArray(S)?S:S.split(" ")).filter(x=>null!=x).map(x=>x.trim()).filter(x=>""!==x):[])(S).forEach(x=>P[x]=!0),P},L=/^[a-z][a-z0-9+\-.]*:/,$=function(){var S=(0,i.Z)(function*(P,x,w,C){if(null!=P&&"#"!==P[0]&&!L.test(P)){const m=document.querySelector("ion-router");if(m)return null!=x&&x.preventDefault(),m.push(P,w,C)}return!1});return function(x,w,C,m){return S.apply(this,arguments)}}()},6738:(Ye,fe,p)=>{"use strict";p.d(fe,{H:()=>Ut,a:()=>Be,b:()=>lt,c:()=>jt,d:()=>tr,g:()=>pr,h:()=>bt,r:()=>k});var i=p(5861);let H,L,G=0,ne=!1,$=!1;const S="undefined"!=typeof window?window:{},P=S.CSS,x=S.document||{head:{}},w={$flags$:0,$resourcesUrl$:"",jmp:ct=>ct(),raf:ct=>requestAnimationFrame(ct),ael:(ct,gt,ln,zt)=>ct.addEventListener(gt,ln,zt),rel:(ct,gt,ln,zt)=>ct.removeEventListener(gt,ln,zt)},C=(()=>(x.head.attachShadow+"").indexOf("[native")>-1)(),m=ct=>Promise.resolve(ct),T=(()=>{try{return new CSSStyleSheet,!0}catch(ct){}return!1})(),g={},v=new WeakMap,O=ct=>v.get(ct),k=(ct,gt)=>v.set(gt.$lazyInstance$=ct,gt),F=(ct,gt)=>gt in ct,M=ct=>console.error(ct),y=new Map,z=new Map,re=[],le=[],he=[],xe=(ct,gt)=>ln=>{ct.push(ln),ne||(ne=!0,gt&&4&w.$flags$?oe(te):w.raf(te))},W=(ct,gt)=>{let ln=0,zt=0;for(;ln<ct.length&&(zt=performance.now())<gt;)try{ct[ln++](zt)}catch(un){M(un)}ln===ct.length?ct.length=0:0!==ln&&ct.splice(0,ln)},te=()=>{G++,(ct=>{for(let gt=0;gt<ct.length;gt++)try{ct[gt](performance.now())}catch(ln){M(ln)}ct.length=0})(re);const ct=2==(6&w.$flags$)?performance.now()+10*Math.ceil(G*(1/22)):1/0;W(le,ct),W(he,ct),le.length>0&&(he.push(...le),le.length=0),(ne=re.length+le.length+he.length>0)?w.raf(te):G=0},oe=ct=>m().then(ct),Te=xe(re,!1),Ie=xe(le,!0),ae={},Ge=ct=>"object"==(ct=typeof ct)||"function"===ct,Be=()=>P&&P.supports&&P.supports("color","var(--c)")?m():p.e(4952).then(p.t.bind(p,9723,23)).then(()=>(w.$cssShim$=S.__cssshim)?w.$cssShim$.i():0),Tt=new WeakMap,He=(ct,gt)=>"sc-"+ct,bt=(ct,gt,...ln)=>{let zt=null,un=!1,En=!1,dn=[];const Un=cn=>{for(let Bn=0;Bn<cn.length;Bn++)zt=cn[Bn],Array.isArray(zt)?Un(zt):null!=zt&&"boolean"!=typeof zt&&((un="function"!=typeof ct&&!Ge(zt))&&(zt=String(zt)),un&&En?dn[dn.length-1].$text$+=zt:dn.push(un?nt(null,zt):zt),En=un)};if(Un(ln),gt){const cn=gt.className||gt.class;cn&&(gt.class="object"!=typeof cn?cn:Object.keys(cn).filter(Bn=>cn[Bn]).join(" "))}const Mn=nt(ct,null);return Mn.$attrs$=gt,dn.length>0&&(Mn.$children$=dn),Mn},nt=(ct,gt)=>({$flags$:0,$tag$:ct,$text$:gt,$elm$:null,$children$:null,$attrs$:null}),Ut={},vn=(ct,gt,ln,zt,un,En)=>{if(ln!==zt){let dn=F(ct,gt),Un=gt.toLowerCase();if("class"===gt){const Mn=ct.classList,cn=kt(ln),Bn=kt(zt);Mn.remove(...cn.filter(ar=>ar&&!Bn.includes(ar))),Mn.add(...Bn.filter(ar=>ar&&!cn.includes(ar)))}else if("style"===gt){for(const Mn in ln)(!zt||null==zt[Mn])&&(Mn.includes("-")?ct.style.removeProperty(Mn):ct.style[Mn]="");for(const Mn in zt)(!ln||zt[Mn]!==ln[Mn])&&(Mn.includes("-")?ct.style.setProperty(Mn,zt[Mn]):ct.style[Mn]=zt[Mn])}else if("ref"===gt)zt&&zt(ct);else if(dn||"o"!==gt[0]||"n"!==gt[1]){const Mn=Ge(zt);if((dn||Mn&&null!==zt)&&!un)try{if(ct.tagName.includes("-"))ct[gt]=zt;else{let cn=null==zt?"":zt;"list"===gt?dn=!1:(null==ln||ct[gt]!=cn)&&(ct[gt]=cn)}}catch(cn){}null==zt||!1===zt?ct.removeAttribute(gt):(!dn||4&En||un)&&!Mn&&ct.setAttribute(gt,zt=!0===zt?"":zt)}else gt="-"===gt[2]?gt.slice(3):F(S,Un)?Un.slice(2):Un[2]+gt.slice(3),ln&&w.rel(ct,gt,ln,!1),zt&&w.ael(ct,gt,zt,!1)}},Pn=/\s/,kt=ct=>ct?ct.split(Pn):[],dt=(ct,gt,ln,zt)=>{const un=11===gt.$elm$.nodeType&&gt.$elm$.host?gt.$elm$.host:gt.$elm$,En=ct&&ct.$attrs$||ae,dn=gt.$attrs$||ae;for(zt in En)zt in dn||vn(un,zt,En[zt],void 0,ln,gt.$flags$);for(zt in dn)vn(un,zt,En[zt],dn[zt],ln,gt.$flags$)},ht=(ct,gt,ln,zt)=>{let dn,Un,un=gt.$children$[ln],En=0;if(null!==un.$text$)dn=un.$elm$=x.createTextNode(un.$text$);else{if($||($="svg"===un.$tag$),dn=un.$elm$=x.createElementNS($?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",un.$tag$),$&&"foreignObject"===un.$tag$&&($=!1),dt(null,un,$),(ct=>null!=ct)(H)&&dn["s-si"]!==H&&dn.classList.add(dn["s-si"]=H),un.$children$)for(En=0;En<un.$children$.length;++En)Un=ht(ct,un,En),Un&&dn.appendChild(Un);"svg"===un.$tag$?$=!1:"foreignObject"===dn.tagName&&($=!0)}return dn},ot=(ct,gt,ln,zt,un,En)=>{let Un,dn=ct;for(dn.shadowRoot&&dn.tagName===L&&(dn=dn.shadowRoot);un<=En;++un)zt[un]&&(Un=ht(null,ln,un),Un&&(zt[un].$elm$=Un,dn.insertBefore(Un,gt)))},_t=(ct,gt,ln,zt,un)=>{for(;gt<=ln;++gt)(zt=ct[gt])&&(un=zt.$elm$,_n(zt),un.remove())},Rt=(ct,gt)=>ct.$tag$===gt.$tag$,Wt=(ct,gt)=>{const ln=gt.$elm$=ct.$elm$,zt=ct.$children$,un=gt.$children$,En=gt.$tag$,dn=gt.$text$;null===dn?($="svg"===En||"foreignObject"!==En&&$,dt(ct,gt,$),null!==zt&&null!==un?((ct,gt,ln,zt)=>{let $r,un=0,En=0,dn=gt.length-1,Un=gt[0],Mn=gt[dn],cn=zt.length-1,Bn=zt[0],ar=zt[cn];for(;un<=dn&&En<=cn;)null==Un?Un=gt[++un]:null==Mn?Mn=gt[--dn]:null==Bn?Bn=zt[++En]:null==ar?ar=zt[--cn]:Rt(Un,Bn)?(Wt(Un,Bn),Un=gt[++un],Bn=zt[++En]):Rt(Mn,ar)?(Wt(Mn,ar),Mn=gt[--dn],ar=zt[--cn]):Rt(Un,ar)?(Wt(Un,ar),ct.insertBefore(Un.$elm$,Mn.$elm$.nextSibling),Un=gt[++un],ar=zt[--cn]):Rt(Mn,Bn)?(Wt(Mn,Bn),ct.insertBefore(Mn.$elm$,Un.$elm$),Mn=gt[--dn],Bn=zt[++En]):($r=ht(gt&&gt[En],ln,En),Bn=zt[++En],$r&&Un.$elm$.parentNode.insertBefore($r,Un.$elm$));un>dn?ot(ct,null==zt[cn+1]?null:zt[cn+1].$elm$,ln,zt,En,cn):En>cn&&_t(gt,un,dn)})(ln,zt,gt,un):null!==un?(null!==ct.$text$&&(ln.textContent=""),ot(ln,null,gt,un,0,un.length-1)):null!==zt&&_t(zt,0,zt.length-1),$&&"svg"===En&&($=!1)):ct.$text$!==dn&&(ln.data=dn)},_n=ct=>{ct.$attrs$&&ct.$attrs$.ref&&ct.$attrs$.ref(null),ct.$children$&&ct.$children$.forEach(_n)},en=(ct,gt)=>{gt&&!ct.$onRenderResolve$&&gt["s-p"].push(new Promise(ln=>ct.$onRenderResolve$=ln))},Hn=(ct,gt,ln,zt)=>{if(gt.$flags$|=16,4&gt.$flags$)return void(gt.$flags$|=512);const dn=gt.$lazyInstance$,Un=()=>On(ct,gt,ln,dn,zt);return en(gt,gt.$ancestorComponent$),zt&&(gt.$flags$|=256,gt.$queuedListeners$&&(gt.$queuedListeners$.forEach(([cn,Bn])=>kn(dn,cn,Bn)),gt.$queuedListeners$=null)),Ar(void 0,()=>Ie(Un))},On=(ct,gt,ln,zt,un)=>{const dn=ct["s-rc"];un&&((ct,gt,ln)=>{const un=((ct,gt,ln,zt)=>{let un=He(gt.$tagName$),En=z.get(un);if(ct=11===ct.nodeType?ct:x,En)if("string"==typeof En){let Un,dn=Tt.get(ct=ct.head||ct);if(dn||Tt.set(ct,dn=new Set),!dn.has(un)){if(w.$cssShim$){Un=w.$cssShim$.createHostStyle(zt,un,En,!!(10&gt.$flags$));const Mn=Un["s-sc"];Mn&&(un=Mn,dn=null)}else Un=x.createElement("style"),Un.innerHTML=En;ct.insertBefore(Un,ct.querySelector("link")),dn&&dn.add(un)}}else ct.adoptedStyleSheets.includes(En)||(ct.adoptedStyleSheets=[...ct.adoptedStyleSheets,En]);return un})(C&&ct.shadowRoot?ct.shadowRoot:ct.getRootNode(),gt,0,ct);10&gt.$flags$&&(ct["s-sc"]=un,ct.classList.add(un+"-h"))})(ct,ln);((ct,gt,ln,zt)=>{L=ct.tagName;const un=gt.$vnode$||nt(null,null),En=(ct=>ct&&ct.$tag$===Ut)(zt)?zt:bt(null,null,zt);En.$tag$=null,En.$flags$|=4,gt.$vnode$=En,En.$elm$=un.$elm$=ct.shadowRoot||ct,H=ct["s-sc"],Wt(un,En)})(ct,gt,0,Vn(zt)),w.$cssShim$&&w.$cssShim$.updateHost(ct),gt.$flags$&=-17,gt.$flags$|=2,dn&&(dn.forEach(Mn=>Mn()),ct["s-rc"]=void 0);{const Mn=ct["s-p"],cn=()=>Fn(ct,gt,ln);0===Mn.length?cn():(Promise.all(Mn).then(cn),gt.$flags$|=4,Mn.length=0)}},Vn=(ct,gt)=>{try{ct=ct.render()}catch(ln){M(ln)}return ct},Fn=(ct,gt,ln)=>{const un=gt.$lazyInstance$,En=gt.$ancestorComponent$;64&gt.$flags$||(gt.$flags$|=64,ni(ct),kn(un,"componentDidLoad"),gt.$onReadyResolve$(ct),En||gr()),gt.$onInstanceResolve$(ct),gt.$onRenderResolve$&&(gt.$onRenderResolve$(),gt.$onRenderResolve$=void 0),512&gt.$flags$&&oe(()=>Hn(ct,gt,ln,!1)),gt.$flags$&=-517},gr=ct=>{ni(x.documentElement),w.$flags$|=2},kn=(ct,gt,ln)=>{if(ct&&ct[gt])try{return ct[gt](ln)}catch(zt){M(zt)}},Ar=(ct,gt)=>ct&&ct.then?ct.then(gt):gt(),ni=ct=>ct.classList.add("hydrated"),Qr=(ct,gt,ln)=>{if(gt.$members$){const zt=Object.entries(gt.$members$),un=ct.prototype;if(zt.forEach(([En,[dn]])=>{31&dn||2&ln&&32&dn?Object.defineProperty(un,En,{get(){return((ct,gt)=>O(this).$instanceValues$.get(gt))(0,En)},set(Un){((ct,gt,ln,zt)=>{const un=O(ct),En=un.$hostElement$,dn=un.$instanceValues$.get(gt),Un=un.$flags$,Mn=un.$lazyInstance$;ln=((ct,gt)=>null==ct||Ge(ct)?ct:4&gt?"false"!==ct&&(""===ct||!!ct):2&gt?parseFloat(ct):1&gt?String(ct):ct)(ln,zt.$members$[gt][0]),ln!==dn&&(!(8&Un)||void 0===dn)&&(un.$instanceValues$.set(gt,ln),Mn&&2==(18&Un)&&Hn(En,un,zt,!1))})(this,En,Un,gt)},configurable:!0,enumerable:!0}):1&ln&&64&dn&&Object.defineProperty(un,En,{value(...Un){const Mn=O(this);return Mn.$onInstancePromise$.then(()=>Mn.$lazyInstance$[En](...Un))}})}),1&ln){const En=new Map;un.attributeChangedCallback=function(dn,Un,Mn){w.jmp(()=>{const cn=En.get(dn);this[cn]=(null!==Mn||"boolean"!=typeof this[cn])&&Mn})},ct.observedAttributes=zt.filter(([dn,Un])=>15&Un[0]).map(([dn,Un])=>{const Mn=Un[1]||dn;return En.set(Mn,dn),Mn})}}return ct},Rr=function(){var ct=(0,i.Z)(function*(gt,ln,zt,un,En){if(0==(32&ln.$flags$)){ln.$flags$|=32;{if(En=((ct,gt,ln)=>{const zt=ct.$tagName$.replace(/-/g,"_"),un=ct.$lazyBundleIds$,En=y.get(un);return En?En[zt]:p(5899)(`./${un}.entry.js`).then(dn=>(y.set(un,dn),dn[zt]),M)})(zt),En.then){const Bn=()=>{};En=yield En,Bn()}En.isProxied||(Qr(En,zt,2),En.isProxied=!0);const cn=()=>{};ln.$flags$|=8;try{new En(ln)}catch(Bn){M(Bn)}ln.$flags$&=-9,cn()}const Mn=He(zt.$tagName$);if(!z.has(Mn)&&En.style){const cn=()=>{};let Bn=En.style;8&zt.$flags$&&(Bn=yield p.e(5487).then(p.bind(p,5487)).then(ar=>ar.scopeCss(Bn,Mn,!1))),((ct,gt,ln)=>{let zt=z.get(ct);T&&ln?(zt=zt||new CSSStyleSheet,zt.replace(gt)):zt=gt,z.set(ct,zt)})(Mn,Bn,!!(1&zt.$flags$)),cn()}}const dn=ln.$ancestorComponent$,Un=()=>Hn(gt,ln,zt,!0);dn&&dn["s-rc"]?dn["s-rc"].push(Un):Un()});return function(ln,zt,un,En,dn){return ct.apply(this,arguments)}}(),Qt=(ct,gt)=>{if(0==(1&w.$flags$)){const ln=()=>{},zt=O(ct);if(gt.$listeners$&&(zt.$rmListeners$=((ct,gt,ln)=>{gt.$queuedListeners$=gt.$queuedListeners$||[];const zt=ln.map(([un,En,dn])=>{const Un=((ct,gt)=>32&gt?x.body:ct)(ct,un),Mn=((ct,gt)=>ln=>{256&ct.$flags$?ct.$lazyInstance$[gt](ln):ct.$queuedListeners$.push([gt,ln])})(gt,dn),cn=(ct=>0!=(2&ct))(un);return w.ael(Un,En,Mn,cn),()=>w.rel(Un,En,Mn,cn)});return()=>zt.forEach(un=>un())})(ct,zt,gt.$listeners$)),!(1&zt.$flags$)){zt.$flags$|=1;{let un=ct;for(;un=un.parentNode||un.host;)if(un["s-p"]){en(zt,zt.$ancestorComponent$=un);break}}gt.$members$&&Object.entries(gt.$members$).forEach(([un,[En]])=>{if(31&En&&ct.hasOwnProperty(un)){const dn=ct[un];delete ct[un],ct[un]=dn}}),oe(()=>Rr(ct,zt,gt))}ln()}},lt=(ct,gt={})=>{const zt=[],un=gt.exclude||[],En=S.customElements,dn=x.head,Un=dn.querySelector("meta[charset]"),Mn=x.createElement("style"),cn=[];let Bn,ar=!0;Object.assign(w,gt),w.$resourcesUrl$=new URL(gt.resourcesUrl||"./",x.baseURI).href,gt.syncQueue&&(w.$flags$|=4),ct.forEach($r=>$r[1].forEach(gi=>{const Dr={$flags$:gi[0],$tagName$:gi[1],$members$:gi[2],$listeners$:gi[3]};Dr.$members$=gi[2],Dr.$listeners$=gi[3],!C&&1&Dr.$flags$&&(Dr.$flags$|=8);const Et=Dr.$tagName$,ue=class extends HTMLElement{constructor(ce){super(ce),(ct=>{const gt={$flags$:0,$hostElement$:ct,$instanceValues$:new Map};gt.$onInstancePromise$=new Promise(ln=>gt.$onInstanceResolve$=ln),gt.$onReadyPromise$=new Promise(ln=>gt.$onReadyResolve$=ln),ct["s-p"]=[],ct["s-rc"]=[],v.set(ct,gt)})(ce=this),1&Dr.$flags$&&(C?ce.attachShadow({mode:"open"}):"shadowRoot"in ce||(ce.shadowRoot=ce))}connectedCallback(){Bn&&(clearTimeout(Bn),Bn=null),ar?cn.push(this):w.jmp(()=>Qt(this,Dr))}disconnectedCallback(){w.jmp(()=>(ct=>{if(0==(1&w.$flags$)){const gt=O(ct),ln=gt.$lazyInstance$;gt.$rmListeners$&&(gt.$rmListeners$(),gt.$rmListeners$=void 0),w.$cssShim$&&w.$cssShim$.removeHost(ct),kn(ln,"componentDidUnload")}})(this))}forceUpdate(){((ct,gt)=>{{const ln=O(ct);ln.$hostElement$.isConnected&&2==(18&ln.$flags$)&&Hn(ct,ln,gt,!1)}})(this,Dr)}componentOnReady(){return O(this).$onReadyPromise$}};Dr.$lazyBundleIds$=$r[0],!un.includes(Et)&&!En.get(Et)&&(zt.push(Et),En.define(Et,Qr(ue,Dr,1)))})),Mn.innerHTML=zt+"{visibility:hidden}.hydrated{visibility:inherit}",Mn.setAttribute("data-styles",""),dn.insertBefore(Mn,Un?Un.nextSibling:dn.firstChild),ar=!1,cn.length>0?cn.forEach($r=>$r.connectedCallback()):w.jmp(()=>Bn=setTimeout(gr,30))},jt=(ct,gt,ln)=>{const zt=pr(ct);return{emit:un=>{const En=new CustomEvent(gt,{bubbles:!!(4&ln),composed:!!(2&ln),cancelable:!!(1&ln),detail:un});return zt.dispatchEvent(En),En}}},tr=(ct,gt)=>gt in g?g[gt]:"window"===gt?S:"document"===gt?x:"isServer"!==gt&&"isPrerender"!==gt&&("isClient"===gt||("resourcesUrl"===gt||"publicPath"===gt?(ct=>{const gt=new URL(".",w.$resourcesUrl$);return gt.origin!==S.location.origin?gt.href:gt.pathname})():"queue"===gt?{write:Ie,read:Te,tick:{then:ln=>oe(ln)}}:void 0)),pr=ct=>O(ct).$hostElement$},8200:(Ye,fe,p)=>{"use strict";p.d(fe,{vs:()=>ne,T_:()=>H});var i=p(5094);const ne=(0,i.PH)("[DRAW TOOL COMPONENT] Change Draw Edit Mode",(0,i.Ky)()),H=(0,i.PH)("[DRAW TOOL COMPONENT] Reset Draw Tool")},6939:(Ye,fe,p)=>{"use strict";p.d(fe,{FI:()=>D,qd:()=>H,QU:()=>L,Yw:()=>S,Aj:()=>P,Kl:()=>w,j0:()=>C});var i=p(5094);const D="[Photo Tool] Photo Position",H="[Photo Tool] Take Project Photo",L="[Photo Tool] Take Project Photo Success",S=(0,i.PH)(D),P=(0,i.PH)("[Photo Tool] Photo Position Success",(0,i.Ky)()),w=((0,i.PH)("[Photo Tool] Photo Position Fail"),(0,i.PH)(H)),C=(0,i.PH)(L,(0,i.Ky)());(0,i.PH)("[Photo Tool] Take Project Photo Error")},5357:(Ye,fe,p)=>{"use strict";p.d(fe,{Z9:()=>$,DA:()=>S,mZ:()=>P,lu:()=>x,ZO:()=>w});var i=p(5094);const $=(0,i.PH)("[Map Page] Add Map Tool",(0,i.Ky)()),S=(0,i.PH)("[Map Page] Shift Map Tool",(0,i.Ky)()),P=(0,i.PH)("[Map Page] Toggle Map Tool",(0,i.Ky)()),x=(0,i.PH)("[Map Page] Remove Map Tool",(0,i.Ky)()),w=(0,i.PH)("[Map Page] Remove All Map Tools")},2111:(Ye,fe,p)=>{"use strict";p.d(fe,{r:()=>H});var i=p(2340),D=p(4850),G=p(5e3),ne=p(520);let H=(()=>{class L{constructor(S){this.http=S,this.baseUrl=i.N.dawaBaseUrl}reverseGeocode(S,P){return this.http.get(`${this.baseUrl}/adgangsadresser/reverse?x=${S}&y=${P}`).pipe((0,D.U)(w=>({id:w.id,vejnavn:w.vejstykke.navn,husnr:w.husnr,adressebetegnelse:w.adressebetegnelse,koordinater:w.adgangspunkt.koordinater,matrikelnr:w.matrikelnr,ejerlav:w.ejerlav})))}fetchMatriklerWithinPolygon(S){const P=JSON.stringify(S);return this.http.get(`${this.baseUrl}/jordstykker?format=geojson&polygon=${P}`)}fetchAdresserWithinPolygon(S){const P=JSON.stringify(S);return this.http.get(`${this.baseUrl}/adgangsadresser?format=geojson&polygon=${P}`)}}return L.\u0275fac=function(S){return new(S||L)(G.LFG(ne.eN))},L.\u0275prov=G.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},7042:(Ye,fe,p)=>{"use strict";p.d(fe,{_:()=>$});var i=p(655);const G=(0,p(7423).fo)("Geolocation",{web:()=>p.e(4561).then(p.bind(p,4561)).then(S=>new S.GeolocationWeb)});var ne=p(591),H=p(5254),L=p(5e3);let $=(()=>{class S{constructor(){this._trackingPositions$=new ne.X([]),this.trackingPositions$=this._trackingPositions$.asObservable(),this.trackinkIds=[],this.positionOptions={enableHighAccuracy:!0,timeout:6e4,maximumAge:1e4}}getPosition(){return(0,H.D)(G.getCurrentPosition(this.positionOptions))}startTracking(){return(0,i.mG)(this,void 0,void 0,function*(){const x=yield G.watchPosition(this.positionOptions,(w,C)=>{this._trackingPositions$.next([...this._trackingPositions$.value,w])});this.trackinkIds.push(x)})}stopTracking(){this.trackinkIds.forEach(x=>{G.clearWatch({id:x})})}clearTackingPosistions(){this._trackingPositions$.next([])}}return S.\u0275fac=function(x){return new(x||S)},S.\u0275prov=L.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},7037:(Ye,fe,p)=>{"use strict";p.d(fe,{Y:()=>Nh});var i=p(8214),D=p(9972),G=p(4096),ne=p(5569),H=p(4720),L=p(4410),$=p(6527),S=p(1751),P=p(610),x=p(41),w=p(8808),C=p(187),m=p(4173),T=p(3318),g=p(483),v=p(760),O=p(2456),k=p(2474),B=p(5478),F=p(410),M=p(6230),y=p(874),R=(0,g.Ue)(),z=function(){function d(c,u,b,Y,q){this.id_=q,this.type_=c,this.flatCoordinates_=u,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=b,this.properties_=Y}return d.prototype.get=function(c){return this.properties_[c]},d.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===L.Z.POINT?(0,v.HK)(this.flatCoordinates_):(0,v.GN)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},d.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var c=(0,v.qg)(this.getExtent());this.flatInteriorPoints_=(0,k.X)(this.flatCoordinates_,0,this.ends_,2,c,0)}return this.flatInteriorPoints_},d.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var c=(0,M.E)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,k.U)(this.flatCoordinates_,0,this.ends_,2,c)}return this.flatInteriorPoints_},d.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=(0,F.WW)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},d.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var c=this.flatCoordinates_,u=0,b=this.ends_,Y=0,q=b.length;Y<q;++Y){var de=b[Y],Oe=(0,F.WW)(c,u,de,2,.5);(0,O.l7)(this.flatMidpoints_,Oe),u=de}}return this.flatMidpoints_},d.prototype.getId=function(){return this.id_},d.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},d.prototype.getGeometry=function(){return this},d.prototype.getSimplifiedGeometry=function(c){return this},d.prototype.simplifyTransformed=function(c,u){return this},d.prototype.getProperties=function(){return this.properties_},d.prototype.getStride=function(){return 2},d.prototype.getStyleFunction=function(){return this.styleFunction},d.prototype.getType=function(){return this.type_},d.prototype.transform=function(c){var u=(c=(0,B.U2)(c)).getExtent(),b=c.getWorldExtent();if(u&&b){var Y=(0,v.Cr)(b)/(0,v.Cr)(u);(0,g.qC)(R,b[0],b[3],Y,-Y,0,0,0),(0,y.vT)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,R,this.flatCoordinates_)}},d.prototype.getEnds=function(){return this.ends_},d}();z.prototype.getEndss=z.prototype.getEnds,z.prototype.getFlatCoordinates=z.prototype.getOrientedFlatCoordinates;const re=z;var d,le=p(9849),he=p(1911),xe=p(1265),A=(d=function(c,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,Y){b.__proto__=Y}||function(b,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(b[q]=Y[q])})(c,u)},function(c,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function b(){this.constructor=c}d(c,u),c.prototype=null===u?Object.create(u):(b.prototype=u.prototype,new b)}),W=function(d){function c(u){var b=d.call(this)||this,Y=u||{};return b.dataProjection=new T.Z({code:"",units:le.ZP.TILE_PIXELS}),b.featureClass_=Y.featureClass?Y.featureClass:re,b.geometryName_=Y.geometryName,b.layerName_=Y.layerName?Y.layerName:"layer",b.layers_=Y.layers?Y.layers:null,b.idProperty_=Y.idProperty,b.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],b}return A(c,d),c.prototype.readRawGeometry_=function(u,b,Y,q){u.pos=b.geometry;for(var de=u.readVarint()+u.pos,Oe=1,Ve=0,Ne=0,mt=0,pt=0,Yt=0;u.pos<de;){if(!Ve){var rn=u.readVarint();Oe=7&rn,Ve=rn>>3}Ve--,1===Oe||2===Oe?(Ne+=u.readSVarint(),mt+=u.readSVarint(),1===Oe&&pt>Yt&&(q.push(pt),Yt=pt),Y.push(Ne,mt),pt+=2):7===Oe?pt>Yt&&(Y.push(Y[Yt],Y[Yt+1]),pt+=2):(0,he.h)(!1,59)}pt>Yt&&(q.push(pt),Yt=pt)},c.prototype.createFeature_=function(u,b,Y){var q=b.type;if(0===q)return null;var de,Ve,Oe=b.properties;this.idProperty_?(Ve=Oe[this.idProperty_],delete Oe[this.idProperty_]):Ve=b.id,Oe[this.layerName_]=b.layer.name;var Ne=[],mt=[];this.readRawGeometry_(u,b,Ne,mt);var pt=function(d,c){var u;return 1===d?u=1===c?L.Z.POINT:L.Z.MULTI_POINT:2===d?u=1===c?L.Z.LINE_STRING:L.Z.MULTI_LINE_STRING:3===d&&(u=L.Z.POLYGON),u}(q,mt.length);if(this.featureClass_===re)(de=new this.featureClass_(pt,Ne,mt,Oe,Ve)).transform(Y.dataProjection);else{var Yt=void 0;if(pt==L.Z.POLYGON){for(var rn=[],Kt=0,tn=0,sn=0,zn=mt.length;sn<zn;++sn){var qt=mt[sn];if((0,xe.bt)(Ne,Kt,qt,2)){if(0===rn.length)continue;rn[rn.length-1].push(mt[tn])}else rn.push(mt.slice(tn,sn+1));tn=sn+1,Kt=qt}Yt=rn.length>1?new x.Z(Ne,H.Z.XY,rn):new m.ZP(Ne,H.Z.XY,mt)}else Yt=pt===L.Z.POINT?new C.Z(Ne,H.Z.XY):pt===L.Z.LINE_STRING?new $.Z(Ne,H.Z.XY):pt===L.Z.POLYGON?new m.ZP(Ne,H.Z.XY,mt):pt===L.Z.MULTI_POINT?new P.Z(Ne,H.Z.XY):pt===L.Z.MULTI_LINE_STRING?new S.Z(Ne,H.Z.XY,mt):null;de=new(0,this.featureClass_),this.geometryName_&&de.setGeometryName(this.geometryName_);var Ln=(0,G.fI)(Yt,!1,Y);de.setGeometry(Ln),de.setId(Ve),de.setProperties(Oe,!0)}return de},c.prototype.getType=function(){return ne.Z.ARRAY_BUFFER},c.prototype.readFeatures=function(u,b){var Y=this.layers_,q=this.adaptOptions(b),de=(0,B.U2)(q.dataProjection);de.setWorldExtent(q.extent),q.dataProjection=de;var Oe=new w(u),Ve=Oe.readFields(te,{}),Ne=[];for(var mt in Ve)if(!Y||-1!=Y.indexOf(mt)){var pt=Ve[mt];de.setExtent(pt?[0,0,pt.extent,pt.extent]:null);for(var rn=0,Kt=pt.length;rn<Kt;++rn){var tn=Ie(Oe,pt,rn),sn=this.createFeature_(Oe,tn,q);null!==sn&&Ne.push(sn)}}return Ne},c.prototype.readProjection=function(u){return this.dataProjection},c.prototype.setLayers=function(u){this.layers_=u},c}(G.ZP);function te(d,c,u){if(3===d){var b={keys:[],values:[],features:[]},Y=u.readVarint()+u.pos;u.readFields(oe,b,Y),b.length=b.features.length,b.length&&(c[b.name]=b)}}function oe(d,c,u){if(15===d)c.version=u.readVarint();else if(1===d)c.name=u.readString();else if(5===d)c.extent=u.readVarint();else if(2===d)c.features.push(u.pos);else if(3===d)c.keys.push(u.readString());else if(4===d){for(var b=null,Y=u.readVarint()+u.pos;u.pos<Y;)b=1==(d=u.readVarint()>>3)?u.readString():2===d?u.readFloat():3===d?u.readDouble():4===d?u.readVarint64():5===d?u.readVarint():6===d?u.readSVarint():7===d?u.readBoolean():null;c.values.push(b)}}function Te(d,c,u){if(1==d)c.id=u.readVarint();else if(2==d)for(var b=u.readVarint()+u.pos;u.pos<b;){var Y=c.layer.keys[u.readVarint()],q=c.layer.values[u.readVarint()];c.properties[Y]=q}else 3==d?c.type=u.readVarint():4==d&&(c.geometry=u.pos)}function Ie(d,c,u){d.pos=c.features[u];var b=d.readVarint()+d.pos,Y={layer:c,type:0,properties:{}};return d.readFields(Te,Y,b),Y}const _e=W;var Ee=p(9454),Pe=p(4511),Ge=p(7400),Ue=p(6466),Be=p(8199),Ce=p(9555),ke=p(1999);var at=p(8587),Gt=p(8718),Tt=p(8377),Ht=p(119),wn=p(1750),fn=p(3481),He=function(){var d=function(c,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,Y){b.__proto__=Y}||function(b,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(b[q]=Y[q])})(c,u)};return function(c,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function b(){this.constructor=c}d(c,u),c.prototype=null===u?Object.create(u):(b.prototype=u.prototype,new b)}}(),bt={image:[Ce.Z.POLYGON,Ce.Z.CIRCLE,Ce.Z.LINE_STRING,Ce.Z.IMAGE,Ce.Z.TEXT],hybrid:[Ce.Z.POLYGON,Ce.Z.LINE_STRING],vector:[]},nt={hybrid:[Ce.Z.IMAGE,Ce.Z.TEXT,Ce.Z.DEFAULT],vector:[Ce.Z.POLYGON,Ce.Z.CIRCLE,Ce.Z.LINE_STRING,Ce.Z.IMAGE,Ce.Z.TEXT,Ce.Z.DEFAULT]},Ut=function(d){function c(u){var b=d.call(this,u)||this;return b.boundHandleStyleImageChange_=b.handleStyleImageChange_.bind(b),b.dirty_=!1,b.renderedPixelToCoordinateTransform_=null,b.tmpTransform_=(0,g.Ue)(),b}return He(c,d),c.prototype.prepareTile=function(u,b,Y){var q,de=u.getState();return(de===ke.Z.LOADED||de===ke.Z.ERROR)&&(this.updateExecutorGroup_(u,b,Y),this.tileImageNeedsRender_(u)&&(q=!0)),q},c.prototype.getTile=function(u,b,Y,q){var de=q.pixelRatio,Oe=q.viewState,Ve=Oe.resolution,Ne=Oe.projection,mt=this.getLayer(),pt=mt.getSource().getTile(u,b,Y,de,Ne),Yt=q.viewHints,rn=!(Yt[at.Z.ANIMATING]||Yt[at.Z.INTERACTING]);return(rn||!pt.wantedResolution)&&(pt.wantedResolution=Ve),this.prepareTile(pt,de,Ne)&&(rn||Date.now()-q.time<8)&&"vector"!==mt.getRenderMode()&&this.renderTileImage_(pt,q),d.prototype.getTile.call(this,u,b,Y,q)},c.prototype.isDrawableTile=function(u){var b=this.getLayer();return d.prototype.isDrawableTile.call(this,u)&&("vector"===b.getRenderMode()?(0,Ht.sq)(b)in u.executorGroups:u.hasContext(b))},c.prototype.getTileImage=function(u){return u.getImage(this.getLayer())},c.prototype.prepareFrame=function(u){var b=this.getLayer().getRevision();return this.renderedLayerRevision_!=b&&(this.renderedTiles.length=0),this.renderedLayerRevision_=b,d.prototype.prepareFrame.call(this,u)},c.prototype.updateExecutorGroup_=function(u,b,Y){var q=this.getLayer(),de=q.getRevision(),Oe=q.getRenderOrder()||null,Ve=u.wantedResolution,Ne=u.getReplayState(q);if(Ne.dirty||Ne.renderedResolution!==Ve||Ne.renderedRevision!=de||Ne.renderedRenderOrder!=Oe){var mt=q.getSource(),pt=q.getDeclutter(),Yt=mt.getTileGrid(),Kt=mt.getTileGridForProjection(Y).getTileCoordExtent(u.wrappedTileCoord),tn=mt.getSourceTiles(b,Y,u),sn=(0,Ht.sq)(q);delete u.hitDetectionImageData[sn],u.executorGroups[sn]=[],pt&&(u.declutterExecutorGroups[sn]=[]);for(var zn=function(Jn,lr){var fr=tn[Jn];if(fr.getState()!=ke.Z.LOADED)return"continue";var vr=Yt.getTileCoordExtent(fr.tileCoord),pi=(0,v.Ed)(Kt,vr),zi=(0,v.f3)(pi,q.getRenderBuffer()*Ve,qt.tmpExtent),Zi=(0,v.fS)(vr,pi)?null:zi;Ne.dirty=!1;var Mi=new Ge.Z(0,zi,Ve,b),Si=pt?new Ge.Z(0,pi,Ve,b):void 0,Yi=(0,Tt.se)(Ve,b),eo=function(Li){var ai,vo=Li.getStyleFunction()||q.getStyleFunction();if(vo&&(ai=vo(Li,Ve)),ai){var Do=this.renderFeature(Li,Yi,ai,Mi,Si);this.dirty_=this.dirty_||Do,Ne.dirty=Ne.dirty||Do}},Po=fr.getFeatures();Oe&&Oe!==Ne.renderedRenderOrder&&Po.sort(Oe);for(var ks=0,Ir=Po.length;ks<Ir;++ks){var $n=Po[ks];(!Zi||(0,v.kK)(Zi,$n.getGeometry().getExtent()))&&eo.call(qt,$n)}var In=Mi.finish(),Er="vector"!==q.getRenderMode()&&pt&&1===tn.length?null:pi,Di=new Ue.Z(Er,Ve,b,mt.getOverlaps(),In,q.getRenderBuffer());if(u.executorGroups[sn].push(Di),Si){var Oi=new Ue.Z(null,Ve,b,mt.getOverlaps(),Si.finish(),q.getRenderBuffer());u.declutterExecutorGroups[sn].push(Oi)}},qt=this,Rn=0,Ln=tn.length;Rn<Ln;++Rn)zn(Rn);Ne.renderedRevision=de,Ne.renderedRenderOrder=Oe,Ne.renderedResolution=Ve}},c.prototype.forEachFeatureAtCoordinate=function(u,b,Y,q,de){var Oe=b.viewState.resolution,Ve=b.viewState.rotation;Y=null==Y?0:Y;var Ne=this.getLayer(),pt=Ne.getSource().getTileGridForProjection(b.viewState.projection),Yt=(0,v.hI)([u]);(0,v.f3)(Yt,Oe*Y,Yt);for(var sn,rn={},Kt=function(Ln,Jn,lr){var fr=Ln.getId();void 0===fr&&(fr=(0,Ht.sq)(Ln));var qr=rn[fr];if(qr){if(!0!==qr&&lr<qr.distanceSq){if(0===lr)return rn[fr]=!0,de.splice(de.lastIndexOf(qr),1),q(Ln,Ne,Jn);qr.geometry=Jn,qr.distanceSq=lr}}else{if(0===lr)return rn[fr]=!0,q(Ln,Ne,Jn);de.push(rn[fr]={feature:Ln,layer:Ne,geometry:Jn,distanceSq:lr,callback:q})}},tn=this.renderedTiles,zn=function(Ln,Jn){var lr=tn[Ln],fr=pt.getTileCoordExtent(lr.wrappedTileCoord);if(!(0,v.kK)(fr,Yt))return"continue";var qr=(0,Ht.sq)(Ne),vr=[lr.executorGroups[qr]],pi=lr.declutterExecutorGroups[qr];pi&&vr.push(pi),vr.some(function(zi){for(var Zi=zi===pi?b.declutterTree.all().map(function(eo){return eo.value}):null,Mi=0,Si=zi.length;Mi<Si;++Mi)if(sn=zi[Mi].forEachFeatureAtCoordinate(u,Oe,Ve,Y,Kt,Zi))return!0})},qt=0,Rn=tn.length;!sn&&qt<Rn;++qt)zn(qt);return sn},c.prototype.getFeatures=function(u){return new Promise(function(b,Y){for(var Kt,q=this.getLayer(),de=(0,Ht.sq)(q),Oe=q.getSource(),Ve=this.renderedProjection,Ne=Ve.getExtent(),mt=this.renderedResolution,pt=Oe.getTileGridForProjection(Ve),Yt=(0,g.nn)(this.renderedPixelToCoordinateTransform_,u.slice()),rn=pt.getTileCoordForCoordAndResolution(Yt,mt),tn=0,sn=this.renderedTiles.length;tn<sn;++tn)if(rn.toString()===this.renderedTiles[tn].tileCoord.toString()){if((Kt=this.renderedTiles[tn]).getState()===ke.Z.LOADED){var zn=pt.getTileCoordExtent(Kt.tileCoord);Oe.getWrapX()&&Ve.canWrapX()&&!(0,v.r4)(Ne,zn)&&(0,fn.Cf)(Yt,Ve);break}Kt=void 0}if(!Kt||Kt.loadingSourceTiles>0)b([]);else{var qt=pt.getTileCoordExtent(Kt.wrappedTileCoord),Rn=(0,v.rL)(qt),Ln=[(Yt[0]-Rn[0])/mt,(Rn[1]-Yt[1])/mt],Jn=Kt.getSourceTiles().reduce(function(pi,zi){return pi.concat(zi.getFeatures())},[]),lr=Kt.hitDetectionImageData[de];if(!lr&&!this.animatingOrInteracting_){var fr=(0,wn.Pq)(pt.getTileSize(pt.getZForResolution(mt))),qr=this.renderedRotation_,vr=[this.getRenderTransform(pt.getTileCoordCenter(Kt.wrappedTileCoord),mt,0,Gt.UN,fr[0]*Gt.UN,fr[1]*Gt.UN,0)];lr=(0,Gt.TU)(fr,vr,Jn,q.getStyleFunction(),pt.getTileCoordExtent(Kt.wrappedTileCoord),Kt.getReplayState(q).renderedResolution,qr),Kt.hitDetectionImageData[de]=lr}b((0,Gt.ix)(Ln,Jn,lr))}}.bind(this))},c.prototype.handleFontsChanged=function(){var u=this.getLayer();u.getVisible()&&void 0!==this.renderedLayerRevision_&&u.changed()},c.prototype.handleStyleImageChange_=function(u){this.renderIfReadyAndVisible()},c.prototype.renderDeclutter=function(u){var b=this.context,Y=b.globalAlpha;b.globalAlpha=this.getLayer().getOpacity();for(var q=u.viewHints,de=!(q[at.Z.ANIMATING]||q[at.Z.INTERACTING]),Oe=this.renderedTiles,Ve=0,Ne=Oe.length;Ve<Ne;++Ve){var mt=Oe[Ve],pt=mt.declutterExecutorGroups[(0,Ht.sq)(this.getLayer())];if(pt)for(var Yt=pt.length-1;Yt>=0;--Yt)pt[Yt].execute(this.context,1,this.getTileRenderTransform(mt,u),u.viewState.rotation,de,void 0,u.declutterTree)}b.globalAlpha=Y},c.prototype.getTileRenderTransform=function(u,b){var Y=b.pixelRatio,q=b.viewState,de=q.center,Oe=q.resolution,Ve=q.rotation,Ne=b.size,mt=Math.round(Ne[0]*Y),pt=Math.round(Ne[1]*Y),rn=this.getLayer().getSource().getTileGridForProjection(b.viewState.projection),Kt=u.tileCoord,tn=rn.getTileCoordExtent(u.wrappedTileCoord),sn=rn.getTileCoordExtent(Kt,this.tmpExtent)[0]-tn[0];return(0,g.Jp)((0,g.bA)(this.inversePixelTransform.slice(),1/Y,1/Y),this.getRenderTransform(de,Oe,Ve,Y,mt,pt,sn))},c.prototype.renderFrame=function(u,b){var Y=u.viewHints,q=!(Y[at.Z.ANIMATING]||Y[at.Z.INTERACTING]);d.prototype.renderFrame.call(this,u,b),this.renderedPixelToCoordinateTransform_=u.pixelToCoordinateTransform.slice(),this.renderedRotation_=u.viewState.rotation;var de=this.getLayer(),Oe=de.getRenderMode(),Ve=this.context,Ne=Ve.globalAlpha;Ve.globalAlpha=de.getOpacity();for(var mt=nt[Oe],Yt=u.viewState.rotation,rn=this.renderedTiles,Kt=[],tn=[],sn=rn.length-1;sn>=0;--sn)for(var zn=rn[sn],qt=this.getTileRenderTransform(zn,u),Rn=zn.executorGroups[(0,Ht.sq)(de)],Ln=!1,Jn=0,lr=Rn.length;Jn<lr;++Jn){var fr=Rn[Jn];if(fr.hasExecutors(mt)){var qr=zn.tileCoord[0],vr=void 0;if(!Ln&&(vr=fr.getClipCoords(qt))){Ve.save();for(var pi=0,zi=Kt.length;pi<zi;++pi){var Zi=Kt[pi];qr<tn[pi]&&(Ve.beginPath(),Ve.moveTo(vr[0],vr[1]),Ve.lineTo(vr[2],vr[3]),Ve.lineTo(vr[4],vr[5]),Ve.lineTo(vr[6],vr[7]),Ve.moveTo(Zi[6],Zi[7]),Ve.lineTo(Zi[4],Zi[5]),Ve.lineTo(Zi[2],Zi[3]),Ve.lineTo(Zi[0],Zi[1]),Ve.clip())}}fr.execute(Ve,1,qt,Yt,q,mt),!Ln&&vr&&(Ve.restore(),Kt.push(vr),tn.push(qr),Ln=!0)}}return Ve.globalAlpha=Ne,this.container},c.prototype.renderFeature=function(u,b,Y,q,de){if(!Y)return!1;var Oe=!1;if(Array.isArray(Y))for(var Ve=0,Ne=Y.length;Ve<Ne;++Ve)Oe=(0,Tt.Pn)(q,u,Y[Ve],b,this.boundHandleStyleImageChange_,void 0,de)||Oe;else Oe=(0,Tt.Pn)(q,u,Y,b,this.boundHandleStyleImageChange_,void 0,de);return Oe},c.prototype.tileImageNeedsRender_=function(u){var b=this.getLayer();if("vector"===b.getRenderMode())return!1;var Y=u.getReplayState(b),q=b.getRevision();return Y.renderedTileResolution!==u.wantedResolution||Y.renderedTileRevision!==q},c.prototype.renderTileImage_=function(u,b){var Y=this.getLayer(),q=u.getReplayState(Y),de=Y.getRevision(),Oe=u.executorGroups[(0,Ht.sq)(Y)];q.renderedTileRevision=de;var Ve=u.wrappedTileCoord,Ne=Ve[0],mt=Y.getSource(),pt=b.pixelRatio,rn=b.viewState.projection,Kt=mt.getTileGridForProjection(rn),tn=Kt.getResolution(u.tileCoord[0]),sn=b.pixelRatio/u.wantedResolution*tn,zn=Kt.getResolution(Ne),qt=u.getContext(Y);pt=Math.round(Math.max(pt,sn/pt));var Rn=mt.getTilePixelSize(Ne,pt,rn);qt.canvas.width=Rn[0],qt.canvas.height=Rn[1];var Ln=pt/sn;if(1!==Ln){var Jn=(0,g.mc)(this.tmpTransform_);(0,g.bA)(Jn,Ln,Ln),qt.setTransform.apply(qt,Jn)}var lr=Kt.getTileCoordExtent(Ve,this.tmpExtent),fr=sn/zn,qr=(0,g.mc)(this.tmpTransform_);(0,g.bA)(qr,fr,-fr),(0,g.Iu)(qr,-lr[0],-lr[3]);for(var vr=0,pi=Oe.length;vr<pi;++vr)Oe[vr].execute(qt,Ln,qr,0,!0,bt[Y.getRenderMode()]);q.renderedTileResolution=u.wantedResolution},c}(Be.Z);const Lt=Ut;var vn=p(6442),Pn=p(9466),kt=function(){var d=function(c,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,Y){b.__proto__=Y}||function(b,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(b[q]=Y[q])})(c,u)};return function(c,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function b(){this.constructor=c}d(c,u),c.prototype=null===u?Object.create(u):(b.prototype=u.prototype,new b)}}(),dt=function(d){function c(u){var b=this,Y=u||{},q=(0,Pn.f0)({},Y);delete q.preload,delete q.useInterimTilesOnError,b=d.call(this,q)||this,"image"===Y.renderMode&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),Y.renderMode=void 0);var de=Y.renderMode||"hybrid";return(0,he.h)("hybrid"==de||"vector"==de,28),b.renderMode_=de,b.setPreload(Y.preload?Y.preload:0),b.setUseInterimTilesOnError(void 0===Y.useInterimTilesOnError||Y.useInterimTilesOnError),b}return kt(c,d),c.prototype.createRenderer=function(){return new Lt(this)},c.prototype.getFeatures=function(u){return d.prototype.getFeatures.call(this,u)},c.prototype.getRenderMode=function(){return this.renderMode_},c.prototype.getPreload=function(){return this.get(vn.Z.PRELOAD)},c.prototype.getUseInterimTilesOnError=function(){return this.get(vn.Z.USE_INTERIM_TILES_ON_ERROR)},c.prototype.setPreload=function(u){this.set(vn.Z.PRELOAD,u)},c.prototype.setUseInterimTilesOnError=function(u){this.set(vn.Z.USE_INTERIM_TILES_ON_ERROR,u)},c}(Pe.Z);const ht=dt;var ot=p(1299),_t=function(){var d=function(c,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,Y){b.__proto__=Y}||function(b,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(b[q]=Y[q])})(c,u)};return function(c,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function b(){this.constructor=c}d(c,u),c.prototype=null===u?Object.create(u):(b.prototype=u.prototype,new b)}}(),$t=function(d){function c(u,b,Y,q,de,Oe){var Ve=d.call(this,u,b,Oe)||this;return Ve.extent=null,Ve.format_=q,Ve.features_=null,Ve.projection=null,Ve.tileLoadFunction_=de,Ve.url_=Y,Ve.key=Y,Ve}return _t(c,d),c.prototype.getFormat=function(){return this.format_},c.prototype.getFeatures=function(){return this.features_},c.prototype.load=function(){this.state==ke.Z.IDLE&&(this.setState(ke.Z.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},c.prototype.onLoad=function(u,b){this.setFeatures(u)},c.prototype.onError=function(){this.setState(ke.Z.ERROR)},c.prototype.setFeatures=function(u){this.features_=u,this.setState(ke.Z.LOADED)},c.prototype.setLoader=function(u){this.loader_=u},c}(ot.Z);const Rt=$t;var Wt=p(8399),_n=p(8804),Gn=p(1992),en=function(){var d=function(c,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,Y){b.__proto__=Y}||function(b,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(b[q]=Y[q])})(c,u)};return function(c,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function b(){this.constructor=c}d(c,u),c.prototype=null===u?Object.create(u):(b.prototype=u.prototype,new b)}}(),Hn=[],On=function(d){function c(u,b,Y,q){var de=d.call(this,u,b,{transition:0})||this;return de.context_={},de.executorGroups={},de.declutterExecutorGroups={},de.loadingSourceTiles=0,de.hitDetectionImageData={},de.replayState_={},de.sourceTiles=[],de.errorTileKeys={},de.getSourceTiles=q.bind(void 0,de),de.wrappedTileCoord=Y,de}return en(c,d),c.prototype.getContext=function(u){var b=(0,Ht.sq)(u);return b in this.context_||(this.context_[b]=(0,Gn.E4)(1,1,Hn)),this.context_[b]},c.prototype.hasContext=function(u){return(0,Ht.sq)(u)in this.context_},c.prototype.getImage=function(u){return this.hasContext(u)?this.getContext(u).canvas:null},c.prototype.getReplayState=function(u){var b=(0,Ht.sq)(u);return b in this.replayState_||(this.replayState_[b]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[b]},c.prototype.load=function(){this.getSourceTiles()},c.prototype.release=function(){for(var u in this.context_)Hn.push(this.context_[u].canvas),delete this.context_[u];d.prototype.release.call(this)},c}(ot.Z);const Vn=On;var Fn=p(5162),er=p(6366),gr=p(507),kn=function(){var d=function(c,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,Y){b.__proto__=Y}||function(b,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(b[q]=Y[q])})(c,u)};return function(c,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function b(){this.constructor=c}d(c,u),c.prototype=null===u?Object.create(u):(b.prototype=u.prototype,new b)}}(),Ar=function(d){function c(u){var b=this,Y=u.projection||"EPSG:3857",q=u.extent||(0,Fn.Tl)(Y),de=u.tileGrid||(0,Fn.dl)({extent:q,maxResolution:u.maxResolution,maxZoom:void 0!==u.maxZoom?u.maxZoom:22,minZoom:u.minZoom,tileSize:u.tileSize||512});return(b=d.call(this,{attributions:u.attributions,attributionsCollapsible:u.attributionsCollapsible,cacheSize:u.cacheSize,interpolate:!0,opaque:!1,projection:Y,state:u.state,tileGrid:de,tileLoadFunction:u.tileLoadFunction?u.tileLoadFunction:Gr,tileUrlFunction:u.tileUrlFunction,url:u.url,urls:u.urls,wrapX:void 0===u.wrapX||u.wrapX,transition:u.transition,zDirection:void 0===u.zDirection?1:u.zDirection})||this).format_=u.format?u.format:null,b.sourceTileCache=new Wt.Z(b.tileCache.highWaterMark),b.overlaps_=null==u.overlaps||u.overlaps,b.tileClass=u.tileClass?u.tileClass:Rt,b.tileGrids_={},b}return kn(c,d),c.prototype.getFeaturesInExtent=function(u){var b=[],Y=this.tileCache;if(0===Y.getCount())return b;var q=(0,er.Ul)(Y.peekFirstKey())[0],de=this.tileGrid;return Y.forEach(function(Oe){if(Oe.tileCoord[0]===q&&Oe.getState()===ke.Z.LOADED)for(var Ve=Oe.getSourceTiles(),Ne=0,mt=Ve.length;Ne<mt;++Ne){var pt=Ve[Ne];if((0,v.kK)(u,de.getTileCoordExtent(pt.tileCoord))){var rn=pt.getFeatures();if(rn)for(var Kt=0,tn=rn.length;Kt<tn;++Kt){var sn=rn[Kt],zn=sn.getGeometry();(0,v.kK)(u,zn.getExtent())&&b.push(sn)}}}}),b},c.prototype.getOverlaps=function(){return this.overlaps_},c.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},c.prototype.expireCache=function(u,b){var Y=this.getTileCacheForProjection(u),q=Object.keys(b).reduce(function(de,Oe){var Ve=(0,er.MY)(Oe);if(Y.containsKey(Ve))for(var Ne=Y.get(Ve).sourceTiles,mt=0,pt=Ne.length;mt<pt;++mt)de[Ne[mt].getKey()]=!0;return de},{});d.prototype.expireCache.call(this,u,b),this.sourceTileCache.expireCache(q)},c.prototype.getSourceTiles=function(u,b,Y){var q=this;if(Y.getState()===ke.Z.IDLE){Y.setState(ke.Z.LOADING);var de=Y.wrappedTileCoord,Oe=this.getTileGridForProjection(b),Ve=Oe.getTileCoordExtent(de),mt=Oe.getResolution(de[0]);(0,v.f3)(Ve,-mt,Ve);var pt=this.tileGrid,Yt=pt.getExtent();Yt&&(0,v.Ed)(Ve,Yt,Ve);var rn=pt.getZForResolution(mt,1);pt.forEachTileCoord(Ve,rn,function(Kt){var tn=q.tileUrlFunction(Kt,u,b),sn=q.sourceTileCache.containsKey(tn)?q.sourceTileCache.get(tn):new q.tileClass(Kt,tn?ke.Z.IDLE:ke.Z.EMPTY,tn,q.format_,q.tileLoadFunction);Y.sourceTiles.push(sn);var zn=sn.getState();if(zn<ke.Z.LOADED){var qt=function(Rn){q.handleTileChange(Rn);var Ln=sn.getState();if(Ln===ke.Z.LOADED||Ln===ke.Z.ERROR){var Jn=sn.getKey();Jn in Y.errorTileKeys?sn.getState()===ke.Z.LOADED&&delete Y.errorTileKeys[Jn]:Y.loadingSourceTiles--,Ln===ke.Z.ERROR?Y.errorTileKeys[Jn]=!0:sn.removeEventListener(D.Z.CHANGE,qt),0===Y.loadingSourceTiles&&Y.setState((0,Pn.xb)(Y.errorTileKeys)?ke.Z.LOADED:ke.Z.ERROR)}};sn.addEventListener(D.Z.CHANGE,qt),Y.loadingSourceTiles++}zn===ke.Z.IDLE&&(sn.extent=pt.getTileCoordExtent(Kt),sn.projection=b,sn.resolution=pt.getResolution(Kt[0]),q.sourceTileCache.set(tn,sn),sn.load())}),Y.loadingSourceTiles||Y.setState(Y.sourceTiles.some(function(Kt){return Kt.getState()===ke.Z.ERROR})?ke.Z.ERROR:ke.Z.LOADED)}return Y.sourceTiles},c.prototype.getTile=function(u,b,Y,q,de){var Ne,Oe=(0,er.lg)(u,b,Y),Ve=this.getKey();if(this.tileCache.containsKey(Oe)&&(Ne=this.tileCache.get(Oe)).key===Ve)return Ne;var mt=[u,b,Y],pt=this.getTileCoordForTileUrlFunction(mt,de),Yt=this.getTileGrid().getExtent(),rn=this.getTileGridForProjection(de);if(pt&&Yt){var Kt=rn.getTileCoordExtent(pt);(0,v.f3)(Kt,-rn.getResolution(u),Kt),(0,v.kK)(Yt,Kt)||(pt=null)}var tn=!0;if(null!==pt){var sn=this.tileGrid,zn=rn.getResolution(u),qt=sn.getZForResolution(zn,1),Rn=rn.getTileCoordExtent(pt);(0,v.f3)(Rn,-zn,Rn),sn.forEachTileCoord(Rn,qt,function(Jn){tn=tn&&!this.tileUrlFunction(Jn,q,de)}.bind(this))}var Ln=new Vn(mt,tn?ke.Z.EMPTY:ke.Z.IDLE,pt,this.getSourceTiles.bind(this,q,de));return Ln.key=Ve,Ne?(Ln.interimTile=Ne,Ln.refreshInterimChain(),this.tileCache.replace(Oe,Ln)):this.tileCache.set(Oe,Ln),Ln},c.prototype.getTileGridForProjection=function(u){var b=u.getCode(),Y=this.tileGrids_[b];if(!Y){var q=this.tileGrid;Y=(0,Fn.RZ)(u,void 0,q?q.getTileSize(q.getMinZoom()):void 0),this.tileGrids_[b]=Y}return Y},c.prototype.getTilePixelRatio=function(u){return u},c.prototype.getTilePixelSize=function(u,b,Y){var q=this.getTileGridForProjection(Y),de=(0,wn.Pq)(q.getTileSize(u),this.tmpSize);return[Math.round(de[0]*b),Math.round(de[1]*b)]},c.prototype.updateCacheSize=function(u,b){d.prototype.updateCacheSize.call(this,2*u,b),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(b).highWaterMark},c}(_n.Z);const ni=Ar;function Gr(d,c){d.setLoader(function(u,b,Y){(0,gr.ov)(c,d.getFormat(),u,b,Y,d.onLoad.bind(d),d.onError.bind(d))})}var Vr=p(6802),zr=p(9308),or=p(8101),Wr=p(2867),oi=function(){var d=function(c,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,Y){b.__proto__=Y}||function(b,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(b[q]=Y[q])})(c,u)};return function(c,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function b(){this.constructor=c}d(c,u),c.prototype=null===u?Object.create(u):(b.prototype=u.prototype,new b)}}();(function(d){oi(function(u){var b=this;return(b=d.call(this,"Unexpected response status: "+u.status)||this).name="ResponseError",b.response=u,b},d)})(Error),function(d){oi(function(u){var b=d.call(this,"Failed to issue request")||this;return b.name="ClientError",b.client=u,b},d)}(Error);var tr=function(){var d=function(c,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,Y){b.__proto__=Y}||function(b,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(b[q]=Y[q])})(c,u)};return function(c,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function b(){this.constructor=c}d(c,u),c.prototype=null===u?Object.create(u):(b.prototype=u.prototype,new b)}}(),pr=function(d){function c(u){var b=this,Y=void 0===u.imageSmoothing||u.imageSmoothing;if(void 0!==u.interpolate&&(Y=u.interpolate),(b=d.call(this,{attributions:u.attributions,cacheSize:u.cacheSize,crossOrigin:u.crossOrigin,interpolate:Y,projection:(0,B.U2)("EPSG:3857"),reprojectionErrorThreshold:u.reprojectionErrorThreshold,state:Ee.Z.LOADING,tileLoadFunction:u.tileLoadFunction,wrapX:void 0===u.wrapX||u.wrapX,transition:u.transition,zDirection:u.zDirection})||this).tileJSON_=null,b.tileSize_=u.tileSize,u.url)if(u.jsonp)!function(d,c,u,b){var Y=document.createElement("script"),q="olc_"+(0,Ht.sq)(c);function de(){delete window[q],Y.parentNode.removeChild(Y)}Y.async=!0,Y.src=d+(-1==d.indexOf("?")?"?":"&")+"callback="+q;var Oe=setTimeout(function(){de(),u&&u()},1e4);window[q]=function(Ve){clearTimeout(Oe),de(),c(Ve)},document.getElementsByTagName("head")[0].appendChild(Y)}(u.url,b.handleTileJSONResponse.bind(b),b.handleTileJSONError.bind(b));else{var q=new XMLHttpRequest;q.addEventListener("load",b.onXHRLoad_.bind(b)),q.addEventListener("error",b.onXHRError_.bind(b)),q.open("GET",u.url),q.send()}else u.tileJSON?b.handleTileJSONResponse(u.tileJSON):(0,he.h)(!1,51);return b}return tr(c,d),c.prototype.onXHRLoad_=function(u){var b=u.target;if(!b.status||b.status>=200&&b.status<300){var Y=void 0;try{Y=JSON.parse(b.responseText)}catch(q){return void this.handleTileJSONError()}this.handleTileJSONResponse(Y)}else this.handleTileJSONError()},c.prototype.onXHRError_=function(u){this.handleTileJSONError()},c.prototype.getTileJSON=function(){return this.tileJSON_},c.prototype.handleTileJSONResponse=function(u){var q,b=(0,B.U2)("EPSG:4326"),Y=this.getProjection();if(void 0!==u.bounds){var de=(0,B.WO)(b,Y);q=(0,v.Ne)(u.bounds,de)}var Oe=(0,Fn.Tl)(Y),mt=(0,Fn.dl)({extent:Oe,maxZoom:u.maxzoom||22,minZoom:u.minzoom||0,tileSize:this.tileSize_});if(this.tileGrid=mt,this.tileUrlFunction=(0,Wr.uR)(u.tiles,mt),void 0!==u.attribution&&!this.getAttributions()){var pt=void 0!==q?q:Oe;this.setAttributions(function(Yt){return(0,v.kK)(pt,Yt.extent)?[u.attribution]:null})}this.tileJSON_=u,this.setState(Ee.Z.READY)},c.prototype.handleTileJSONError=function(){this.setState(Ee.Z.ERROR)},c}(or.Z);const ct=pr;var gt=p(3321),ln=p(949),zt=p(5044),un=p(9028),En=p(6785),dn=p(109),Un=p(9131),cn=function(){function d(c){var u=c||{};this.font_=u.font,this.rotation_=u.rotation,this.rotateWithView_=u.rotateWithView,this.scale_=u.scale,this.scaleArray_=(0,wn.Pq)(void 0!==u.scale?u.scale:1),this.text_=u.text,this.textAlign_=u.textAlign,this.textBaseline_=u.textBaseline,this.fill_=void 0!==u.fill?u.fill:new zt.Z({color:"#333"}),this.maxAngle_=void 0!==u.maxAngle?u.maxAngle:Math.PI/4,this.placement_=void 0!==u.placement?u.placement:Un.Z.POINT,this.overflow_=!!u.overflow,this.stroke_=void 0!==u.stroke?u.stroke:null,this.offsetX_=void 0!==u.offsetX?u.offsetX:0,this.offsetY_=void 0!==u.offsetY?u.offsetY:0,this.backgroundFill_=u.backgroundFill?u.backgroundFill:null,this.backgroundStroke_=u.backgroundStroke?u.backgroundStroke:null,this.padding_=void 0===u.padding?null:u.padding}return d.prototype.clone=function(){var c=this.getScale();return new d({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(c)?c.slice():c,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},d.prototype.getOverflow=function(){return this.overflow_},d.prototype.getFont=function(){return this.font_},d.prototype.getMaxAngle=function(){return this.maxAngle_},d.prototype.getPlacement=function(){return this.placement_},d.prototype.getOffsetX=function(){return this.offsetX_},d.prototype.getOffsetY=function(){return this.offsetY_},d.prototype.getFill=function(){return this.fill_},d.prototype.getRotateWithView=function(){return this.rotateWithView_},d.prototype.getRotation=function(){return this.rotation_},d.prototype.getScale=function(){return this.scale_},d.prototype.getScaleArray=function(){return this.scaleArray_},d.prototype.getStroke=function(){return this.stroke_},d.prototype.getText=function(){return this.text_},d.prototype.getTextAlign=function(){return this.textAlign_},d.prototype.getTextBaseline=function(){return this.textBaseline_},d.prototype.getBackgroundFill=function(){return this.backgroundFill_},d.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},d.prototype.getPadding=function(){return this.padding_},d.prototype.setOverflow=function(c){this.overflow_=c},d.prototype.setFont=function(c){this.font_=c},d.prototype.setMaxAngle=function(c){this.maxAngle_=c},d.prototype.setOffsetX=function(c){this.offsetX_=c},d.prototype.setOffsetY=function(c){this.offsetY_=c},d.prototype.setPlacement=function(c){this.placement_=c},d.prototype.setRotateWithView=function(c){this.rotateWithView_=c},d.prototype.setFill=function(c){this.fill_=c},d.prototype.setRotation=function(c){this.rotation_=c},d.prototype.setScale=function(c){this.scale_=c,this.scaleArray_=(0,wn.Pq)(void 0!==c?c:1)},d.prototype.setStroke=function(c){this.stroke_=c},d.prototype.setText=function(c){this.text_=c},d.prototype.setTextAlign=function(c){this.textAlign_=c},d.prototype.setTextBaseline=function(c){this.textBaseline_=c},d.prototype.setBackgroundFill=function(c){this.backgroundFill_=c},d.prototype.setBackgroundStroke=function(c){this.backgroundStroke_=c},d.prototype.setPadding=function(c){this.padding_=c},d}();const Bn=cn;var ar=p(3459),hn={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90\xb0 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},projection:{type:"projection",doc:"The projection the map should be rendered in. Suported projections are Albers, Equal Earth, Equirectangular (WGS84), Lambert conformal conic, Mercator, Natural Earth, and Winkel Tripel. Terrain, fog, sky and CustomLayerInterface are not supported for projections other than mercator.",example:{name:"albers",center:[-154,50],parallels:[55,65]}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean",default:!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`) \u2014 it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:'An expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `["feature-state", ...]` expression is not supported in filter expressions.  The `["pitch"]` and `["distance-from-center"]` expressions are supported only for filter expressions on the symbol layer.'},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},default:"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options. SDF images are not supported in formatted text and will be ignored.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesn\u2019t support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. For symbol with point placement, the order of elements in an array define priority order for the placement of an orientation variant. For symbol with line placement, the default text writing mode is either ['horizontal', 'vertical'] or ['vertical', 'horizontal'], the order doesn't affect the placement.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_symbol:{type:"boolean",doc:'Expression which determines whether or not to display a symbol. Symbols support dynamic filtering, meaning this expression can use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",doc:'Expression which determines whether or not to display a polygon. Fill layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",doc:'Expression which determines whether or not to display a Polygon or LineString. Line layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",doc:'Expression which determines whether or not to display a circle. Circle layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",doc:'Expression which determines whether or not to display a Polygon. Fill-extrusion layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",doc:'Expression used to determine whether a point is being displayed or not. Heatmap layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key] \u2260 value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key] \u2265 value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key] \u2264 value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key] \u2208 {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] \u2209 {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0 \u2227 ... \u2227 fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0 \u2228 ... \u2228 fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `\xacf0 \u2227 ... \u2227 \xacfn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string. In the specific case when the second and third arguments are string literals, you must wrap at least one of them in a [`literal`](#types-literal) expression to hint correct interpretation to the [type system](#type-system).",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first valid value is obtained. Invalid values are `null` and [`'image'`](#types-image) expressions that are unavailable in the style. If all values are invalid, `coalesce` returns the first value listed.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns a [`ResolvedImage`](/mapbox-gl-js/style-spec/types/#resolvedimage) for use in [`icon-image`](/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-image), `*-pattern` entries, and as a section in the [`'format'`](#types-format) expression. A [`'coalesce'`](#coalesce) expression containing `image` expressions will evaluate to the first listed image that is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `'image'` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a [`boolean`](#types-boolean), the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a [`color`](#color), it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. If the input is an [`\'image\'`](#types-image) expression, `\'to-string\'` returns the image name. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns `null` if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Returns the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Returns the feature properties object.  Note that in some cases, it may be more efficient to use `["get", "property_name"]` directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns `null` if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Returns the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`. `Multi*` feature types are only returned in GeoJSON sources. When working with vector tile sources, use the singular forms.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Returns the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Returns the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{doc:'Returns the current pitch in degrees. `["pitch"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0"}}},"distance-from-center":{doc:'Returns the distance of a `symbol` instance from the center of the map. The distance is measured in pixels divided by the height of the map container. It measures 0 at the center, decreases towards the camera and increase away from the camera. For example, if the height of the map is 1000px, a value of -1 means 1000px away from the center towards the camera, and a value of 1 means a distance of 1000px away from the camera from the center. `["distance-from-center"]` may only be used in the `filter` expression for a `symbol` layer.',group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0"}}},"heatmap-density":{doc:"Returns the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Returns the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Returns the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{doc:"Returns the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the fog. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the fog to the color of the sky. A value of zero leaves a sharp transition from fog to sky. Increasing the value blends the color of fog into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0"}}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0\xb0 (0\xb0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0\xb0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0\xb0, directly above, to 180\xb0, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},projection:{name:{type:"enum",values:{albers:{doc:"An Albers equal-area projection centered on the continental United States. You can configure the projection for a different region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},equalEarth:{doc:"An Equal Earth projection."},equirectangular:{doc:"An Equirectangular projection. This projection is very similar to the Plate Carr\xe9e projection."},lambertConformalConic:{doc:"A Lambert conformal conic projection. You can configure the projection for a region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},mercator:{doc:"The Mercator projection is the default projection."},naturalEarth:{doc:"A Natural Earth projection."},winkelTripel:{doc:"A Winkel Tripel projection."}},default:"mercator",doc:"The name of the projection to be used for rendering the map.",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,doc:"The reference longitude and latitude of the projection. `center` takes the form of [lng, lat]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic). All other projections are centered on [0, 0].",example:[-96,37.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,doc:"The standard parallels of the projection, denoting the desired latitude range with minimal distortion. `parallels` takes the form of [lat0, lat1]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic).",example:[29.5,45.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed. `queryRenderedFeatures` on heatmap layers will return points within this radius.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},default:"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0\xb0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0\xb0 is directly above, at zenith, and 90\xb0 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0\xb0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0\xb0 is directly above, at zenith, and 90\xb0 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}},Xt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function xn(d){var c={exports:{}};return d(c,c.exports),c.exports}function Nn(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var Zn=xn(function(d,c){!function(u){var b=c&&!c.nodeType&&c,Y=d&&!d.nodeType&&d,q="object"==typeof Xt&&Xt;(q.global===q||q.window===q||q.self===q)&&(u=q);var de,fr,Oe=2147483647,sn=/^xn--/,zn=/[^\x20-\x7E]/,qt=/[\x2E\u3002\uFF0E\uFF61]/g,Rn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Jn=Math.floor,lr=String.fromCharCode;function qr($n){throw RangeError(Rn[$n])}function vr($n,In){for(var Er=$n.length,Di=[];Er--;)Di[Er]=In($n[Er]);return Di}function pi($n,In){var Er=$n.split("@"),Di="";return Er.length>1&&(Di=Er[0]+"@",$n=Er[1]),Di+vr(($n=$n.replace(qt,".")).split("."),In).join(".")}function zi($n){for(var Oi,Li,In=[],Er=0,Di=$n.length;Er<Di;)(Oi=$n.charCodeAt(Er++))>=55296&&Oi<=56319&&Er<Di?56320==(64512&(Li=$n.charCodeAt(Er++)))?In.push(((1023&Oi)<<10)+(1023&Li)+65536):(In.push(Oi),Er--):In.push(Oi);return In}function Zi($n){return vr($n,function(In){var Er="";return In>65535&&(Er+=lr((In-=65536)>>>10&1023|55296),In=56320|1023&In),Er+lr(In)}).join("")}function Mi($n){return $n-48<10?$n-22:$n-65<26?$n-65:$n-97<26?$n-97:36}function Si($n,In){return $n+22+75*($n<26)-((0!=In)<<5)}function Yi($n,In,Er){var Di=0;for($n=Er?Jn($n/700):$n>>1,$n+=Jn($n/In);$n>455;Di+=36)$n=Jn($n/35);return Jn(Di+36*$n/($n+38))}function eo($n){var Di,vo,Do,Ao,ur,Ro,jo,Mo,Js,So,In=[],Er=$n.length,Oi=0,Li=128,ai=72;for((vo=$n.lastIndexOf("-"))<0&&(vo=0),Do=0;Do<vo;++Do)$n.charCodeAt(Do)>=128&&qr("not-basic"),In.push($n.charCodeAt(Do));for(Ao=vo>0?vo+1:0;Ao<Er;){for(ur=Oi,Ro=1,jo=36;Ao>=Er&&qr("invalid-input"),((Mo=Mi($n.charCodeAt(Ao++)))>=36||Mo>Jn((Oe-Oi)/Ro))&&qr("overflow"),Oi+=Mo*Ro,!(Mo<(Js=jo<=ai?1:jo>=ai+26?26:jo-ai));jo+=36)Ro>Jn(Oe/(So=36-Js))&&qr("overflow"),Ro*=So;ai=Yi(Oi-ur,Di=In.length+1,0==ur),Jn(Oi/Di)>Oe-Li&&qr("overflow"),Li+=Jn(Oi/Di),Oi%=Di,In.splice(Oi++,0,Li)}return Zi(In)}function Po($n){var In,Er,Di,Oi,Li,ai,vo,Do,Ao,ur,Ro,Mo,Js,So,qo,jo=[];for(Mo=($n=zi($n)).length,In=128,Er=0,Li=72,ai=0;ai<Mo;++ai)(Ro=$n[ai])<128&&jo.push(lr(Ro));for(Di=Oi=jo.length,Oi&&jo.push("-");Di<Mo;){for(vo=Oe,ai=0;ai<Mo;++ai)(Ro=$n[ai])>=In&&Ro<vo&&(vo=Ro);for(vo-In>Jn((Oe-Er)/(Js=Di+1))&&qr("overflow"),Er+=(vo-In)*Js,In=vo,ai=0;ai<Mo;++ai)if((Ro=$n[ai])<In&&++Er>Oe&&qr("overflow"),Ro==In){for(Do=Er,Ao=36;!(Do<(ur=Ao<=Li?1:Ao>=Li+26?26:Ao-Li));Ao+=36)jo.push(lr(Si(ur+(qo=Do-ur)%(So=36-ur),0))),Do=Jn(qo/So);jo.push(lr(Si(Do,0))),Li=Yi(Er,Js,Di==Oi),Er=0,++Di}++Er,++In}return jo.join("")}if(de={version:"1.3.2",ucs2:{decode:zi,encode:Zi},decode:eo,encode:Po,toASCII:function($n){return pi($n,function(In){return zn.test(In)?"xn--"+Po(In):In})},toUnicode:function($n){return pi($n,function(In){return sn.test(In)?eo(In.slice(4).toLowerCase()):In})}},b&&Y)if(d.exports==b)Y.exports=de;else for(fr in de)de.hasOwnProperty(fr)&&(b[fr]=de[fr]);else u.punycode=de}(Xt)}),Xn_isString=function(d){return"string"==typeof d},Xn_isObject=function(d){return"object"==typeof d&&null!==d},Xn_isNull=function(d){return null===d};function wr(d,c){return Object.prototype.hasOwnProperty.call(d,c)}var Tr=function(d,c,u,b){u=u||"=";var Y={};if("string"!=typeof d||0===d.length)return Y;var q=/\+/g;d=d.split(c=c||"&");var de=1e3;b&&"number"==typeof b.maxKeys&&(de=b.maxKeys);var Oe=d.length;de>0&&Oe>de&&(Oe=de);for(var Ve=0;Ve<Oe;++Ve){var pt,Yt,rn,Kt,Ne=d[Ve].replace(q,"%20"),mt=Ne.indexOf(u);mt>=0?(pt=Ne.substr(0,mt),Yt=Ne.substr(mt+1)):(pt=Ne,Yt=""),rn=decodeURIComponent(pt),Kt=decodeURIComponent(Yt),wr(Y,rn)?Array.isArray(Y[rn])?Y[rn].push(Kt):Y[rn]=[Y[rn],Kt]:Y[rn]=Kt}return Y},Fr=function(d){switch(typeof d){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}},wi=function(d,c,u,b){return c=c||"&",u=u||"=",null===d&&(d=void 0),"object"==typeof d?Object.keys(d).map(function(Y){var q=encodeURIComponent(Fr(Y))+u;return Array.isArray(d[Y])?d[Y].map(function(de){return q+encodeURIComponent(Fr(de))}).join(c):q+encodeURIComponent(Fr(d[Y]))}).join(c):b?encodeURIComponent(Fr(b))+u+encodeURIComponent(Fr(d)):""},ei=xn(function(d,c){c.decode=c.parse=Tr,c.encode=c.stringify=wi});function $i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ge=/^([a-z0-9.+-]+:)/i,Z=/:[0-9]*$/,I=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,pe=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),vt=["'"].concat(pe),on=["%","/","?",";","#"].concat(vt),Yn=["/","?","#"],fi=/^[+a-z0-9A-Z_-]{0,63}$/,mi=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ui={javascript:!0,"javascript:":!0},Ei={javascript:!0,"javascript:":!0},_i={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function qi(d,...c){for(const u of c)for(const b in u)d[b]=u[b];return d}$i.prototype.parse=function(d,c,u){if(!Xn_isString(d))throw new TypeError("Parameter 'url' must be a string, not "+typeof d);var b=d.indexOf("?"),Y=-1!==b&&b<d.indexOf("#")?"?":"#",q=d.split(Y);q[0]=q[0].replace(/\\/g,"/");var Oe=d=q.join(Y);if(Oe=Oe.trim(),!u&&1===d.split("#").length){var Ve=I.exec(Oe);if(Ve)return this.path=Oe,this.href=Oe,this.pathname=Ve[1],Ve[2]?(this.search=Ve[2],this.query=c?ei.parse(this.search.substr(1)):this.search.substr(1)):c&&(this.search="",this.query={}),this}var Ne=ge.exec(Oe);if(Ne){var mt=(Ne=Ne[0]).toLowerCase();this.protocol=mt,Oe=Oe.substr(Ne.length)}if(u||Ne||Oe.match(/^\/\/[^@\/]+@[^@\/]+/)){var pt="//"===Oe.substr(0,2);pt&&(!Ne||!Ei[Ne])&&(Oe=Oe.substr(2),this.slashes=!0)}if(!Ei[Ne]&&(pt||Ne&&!_i[Ne])){for(var Yt=-1,rn=0;rn<Yn.length;rn++)-1!==(Kt=Oe.indexOf(Yn[rn]))&&(-1===Yt||Kt<Yt)&&(Yt=Kt);var tn,sn;for(-1!==(sn=-1===Yt?Oe.lastIndexOf("@"):Oe.lastIndexOf("@",Yt))&&(tn=Oe.slice(0,sn),Oe=Oe.slice(sn+1),this.auth=decodeURIComponent(tn)),Yt=-1,rn=0;rn<on.length;rn++){var Kt;-1!==(Kt=Oe.indexOf(on[rn]))&&(-1===Yt||Kt<Yt)&&(Yt=Kt)}-1===Yt&&(Yt=Oe.length),this.host=Oe.slice(0,Yt),Oe=Oe.slice(Yt),this.parseHost(),this.hostname=this.hostname||"";var zn="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!zn)for(var qt=this.hostname.split(/\./),Rn=(rn=0,qt.length);rn<Rn;rn++){var Ln=qt[rn];if(Ln&&!Ln.match(fi)){for(var Jn="",lr=0,fr=Ln.length;lr<fr;lr++)Ln.charCodeAt(lr)>127?Jn+="x":Jn+=Ln[lr];if(!Jn.match(fi)){var qr=qt.slice(0,rn),vr=qt.slice(rn+1),pi=Ln.match(mi);pi&&(qr.push(pi[1]),vr.unshift(pi[2])),vr.length&&(Oe="/"+vr.join(".")+Oe),this.hostname=qr.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),zn||(this.hostname=Zn.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,zn&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==Oe[0]&&(Oe="/"+Oe))}if(!ui[mt])for(rn=0,Rn=vt.length;rn<Rn;rn++){var Mi=vt[rn];if(-1!==Oe.indexOf(Mi)){var Si=encodeURIComponent(Mi);Si===Mi&&(Si=escape(Mi)),Oe=Oe.split(Mi).join(Si)}}var Yi=Oe.indexOf("#");-1!==Yi&&(this.hash=Oe.substr(Yi),Oe=Oe.slice(0,Yi));var eo=Oe.indexOf("?");return-1!==eo?(this.search=Oe.substr(eo),this.query=Oe.substr(eo+1),c&&(this.query=ei.parse(this.query)),Oe=Oe.slice(0,eo)):c&&(this.search="",this.query={}),Oe&&(this.pathname=Oe),_i[mt]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},$i.prototype.format=function(){var d=this.auth||"";d&&(d=(d=encodeURIComponent(d)).replace(/%3A/i,":"),d+="@");var c=this.protocol||"",u=this.pathname||"",b=this.hash||"",Y=!1,q="";this.host?Y=d+this.host:this.hostname&&(Y=d+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Y+=":"+this.port)),this.query&&Xn_isObject(this.query)&&Object.keys(this.query).length&&(q=ei.stringify(this.query));var de=this.search||q&&"?"+q||"";return c&&":"!==c.substr(-1)&&(c+=":"),this.slashes||(!c||_i[c])&&!1!==Y?(Y="//"+(Y||""),u&&"/"!==u.charAt(0)&&(u="/"+u)):Y||(Y=""),b&&"#"!==b.charAt(0)&&(b="#"+b),de&&"?"!==de.charAt(0)&&(de="?"+de),c+Y+(u=u.replace(/[?#]/g,function(Oe){return encodeURIComponent(Oe)}))+(de=de.replace("#","%23"))+b},$i.prototype.resolve=function(d){return this.resolveObject(function(d,c,u){if(d&&Xn_isObject(d)&&d instanceof $i)return d;var b=new $i;return b.parse(d,c,u),b}(d,!1,!0)).format()},$i.prototype.resolveObject=function(d){if(Xn_isString(d)){var c=new $i;c.parse(d,!1,!0),d=c}for(var u=new $i,b=Object.keys(this),Y=0;Y<b.length;Y++){var q=b[Y];u[q]=this[q]}if(u.hash=d.hash,""===d.href)return u.href=u.format(),u;if(d.slashes&&!d.protocol){for(var de=Object.keys(d),Oe=0;Oe<de.length;Oe++){var Ve=de[Oe];"protocol"!==Ve&&(u[Ve]=d[Ve])}return _i[u.protocol]&&u.hostname&&!u.pathname&&(u.path=u.pathname="/"),u.href=u.format(),u}if(d.protocol&&d.protocol!==u.protocol){if(!_i[d.protocol]){for(var Ne=Object.keys(d),mt=0;mt<Ne.length;mt++){var pt=Ne[mt];u[pt]=d[pt]}return u.href=u.format(),u}if(u.protocol=d.protocol,d.host||Ei[d.protocol])u.pathname=d.pathname;else{for(var Rn=(d.pathname||"").split("/");Rn.length&&!(d.host=Rn.shift()););d.host||(d.host=""),d.hostname||(d.hostname=""),""!==Rn[0]&&Rn.unshift(""),Rn.length<2&&Rn.unshift(""),u.pathname=Rn.join("/")}return u.search=d.search,u.query=d.query,u.host=d.host||"",u.auth=d.auth,u.hostname=d.hostname||d.host,u.port=d.port,(u.pathname||u.search)&&(u.path=(u.pathname||"")+(u.search||"")),u.slashes=u.slashes||d.slashes,u.href=u.format(),u}var Kt=u.pathname&&"/"===u.pathname.charAt(0),tn=d.host||d.pathname&&"/"===d.pathname.charAt(0),sn=tn||Kt||u.host&&d.pathname,zn=sn,qt=u.pathname&&u.pathname.split("/")||[],Ln=(Rn=d.pathname&&d.pathname.split("/")||[],u.protocol&&!_i[u.protocol]);if(Ln&&(u.hostname="",u.port=null,u.host&&(""===qt[0]?qt[0]=u.host:qt.unshift(u.host)),u.host="",d.protocol&&(d.hostname=null,d.port=null,d.host&&(""===Rn[0]?Rn[0]=d.host:Rn.unshift(d.host)),d.host=null),sn=sn&&(""===Rn[0]||""===qt[0])),tn)u.host=d.host||""===d.host?d.host:u.host,u.hostname=d.hostname||""===d.hostname?d.hostname:u.hostname,u.search=d.search,u.query=d.query,qt=Rn;else if(Rn.length)qt||(qt=[]),qt.pop(),qt=qt.concat(Rn),u.search=d.search,u.query=d.query;else if(!function(d){return null==d}(d.search))return Ln&&(u.hostname=u.host=qt.shift(),(Jn=!!(u.host&&u.host.indexOf("@")>0)&&u.host.split("@"))&&(u.auth=Jn.shift(),u.host=u.hostname=Jn.shift())),u.search=d.search,u.query=d.query,(!Xn_isNull(u.pathname)||!Xn_isNull(u.search))&&(u.path=(u.pathname?u.pathname:"")+(u.search?u.search:"")),u.href=u.format(),u;if(!qt.length)return u.pathname=null,u.path=u.search?"/"+u.search:null,u.href=u.format(),u;for(var lr=qt.slice(-1)[0],fr=(u.host||d.host||qt.length>1)&&("."===lr||".."===lr)||""===lr,qr=0,vr=qt.length;vr>=0;vr--)"."===(lr=qt[vr])?qt.splice(vr,1):".."===lr?(qt.splice(vr,1),qr++):qr&&(qt.splice(vr,1),qr--);if(!sn&&!zn)for(;qr--;qr)qt.unshift("..");sn&&""!==qt[0]&&(!qt[0]||"/"!==qt[0].charAt(0))&&qt.unshift(""),fr&&"/"!==qt.join("/").substr(-1)&&qt.push("");var Jn,pi=""===qt[0]||qt[0]&&"/"===qt[0].charAt(0);return Ln&&(u.hostname=u.host=pi?"":qt.length?qt.shift():"",(Jn=!!(u.host&&u.host.indexOf("@")>0)&&u.host.split("@"))&&(u.auth=Jn.shift(),u.host=u.hostname=Jn.shift())),(sn=sn||u.host&&qt.length)&&!pi&&qt.unshift(""),qt.length?u.pathname=qt.join("/"):(u.pathname=null,u.path=null),(!Xn_isNull(u.pathname)||!Xn_isNull(u.search))&&(u.path=(u.pathname?u.pathname:"")+(u.search?u.search:"")),u.auth=d.auth||u.auth,u.slashes=u.slashes||d.slashes,u.href=u.format(),u},$i.prototype.parseHost=function(){var d=this.host,c=Z.exec(d);c&&(":"!==(c=c[0])&&(this.port=c.substr(1)),d=d.substr(0,d.length-c.length)),d&&(this.hostname=d)};class Xi extends Error{constructor(c,u){super(u),this.message=u,this.key=c}}class js{constructor(c,u=[]){this.parent=c,this.bindings={};for(const[b,Y]of u)this.bindings[b]=Y}concat(c){return new js(this,c)}get(c){if(this.bindings[c])return this.bindings[c];if(this.parent)return this.parent.get(c);throw new Error(`${c} not found in scope.`)}has(c){return!!this.bindings[c]||!!this.parent&&this.parent.has(c)}}const ns={kind:"null"},rr={kind:"number"},Ur={kind:"string"},Zr={kind:"boolean"},Ti={kind:"color"},Fo={kind:"object"},br={kind:"value"},rs={kind:"collator"},La={kind:"formatted"},ms={kind:"resolvedImage"};function wo(d,c){return{kind:"array",itemType:d,N:c}}function Ui(d){if("array"===d.kind){const c=Ui(d.itemType);return"number"==typeof d.N?`array<${c}, ${d.N}>`:"value"===d.itemType.kind?"array":`array<${c}>`}return d.kind}const Fa=[ns,rr,Ur,Zr,Ti,La,Fo,wo(br),ms];function is(d,c){if("error"===c.kind)return null;if("array"===d.kind){if("array"===c.kind&&(0===c.N&&"value"===c.itemType.kind||!is(d.itemType,c.itemType))&&("number"!=typeof d.N||d.N===c.N))return null}else{if(d.kind===c.kind)return null;if("value"===d.kind)for(const u of Fa)if(!is(u,c))return null}return`Expected ${Ui(d)} but found ${Ui(c)} instead.`}function Na(d,c){return c.some(u=>u.kind===d.kind)}function os(d,c){return c.some(u=>"null"===u?null===d:"array"===u?Array.isArray(d):"object"===u?d&&!Array.isArray(d)&&"object"==typeof d:u===typeof d)}var sl=xn(function(d,c){var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function b(Ne){return(Ne=Math.round(Ne))<0?0:Ne>255?255:Ne}function q(Ne){return b("%"===Ne[Ne.length-1]?parseFloat(Ne)/100*255:parseInt(Ne))}function de(Ne){return function(Ne){return Ne<0?0:Ne>1?1:Ne}("%"===Ne[Ne.length-1]?parseFloat(Ne)/100:parseFloat(Ne))}function Oe(Ne,mt,pt){return pt<0?pt+=1:pt>1&&(pt-=1),6*pt<1?Ne+(mt-Ne)*pt*6:2*pt<1?mt:3*pt<2?Ne+(mt-Ne)*(2/3-pt)*6:Ne}try{c.parseCSSColor=function(Ne){var pt,mt=Ne.replace(/ /g,"").toLowerCase();if(mt in u)return u[mt].slice();if("#"===mt[0])return 4===mt.length?(pt=parseInt(mt.substr(1),16))>=0&&pt<=4095?[(3840&pt)>>4|(3840&pt)>>8,240&pt|(240&pt)>>4,15&pt|(15&pt)<<4,1]:null:7===mt.length&&(pt=parseInt(mt.substr(1),16))>=0&&pt<=16777215?[(16711680&pt)>>16,(65280&pt)>>8,255&pt,1]:null;var Yt=mt.indexOf("("),rn=mt.indexOf(")");if(-1!==Yt&&rn+1===mt.length){var Kt=mt.substr(0,Yt),tn=mt.substr(Yt+1,rn-(Yt+1)).split(","),sn=1;switch(Kt){case"rgba":if(4!==tn.length)return null;sn=de(tn.pop());case"rgb":return 3!==tn.length?null:[q(tn[0]),q(tn[1]),q(tn[2]),sn];case"hsla":if(4!==tn.length)return null;sn=de(tn.pop());case"hsl":if(3!==tn.length)return null;var zn=(parseFloat(tn[0])%360+360)%360/360,qt=de(tn[1]),Rn=de(tn[2]),Ln=Rn<=.5?Rn*(qt+1):Rn+qt-Rn*qt,Jn=2*Rn-Ln;return[b(255*Oe(Jn,Ln,zn+1/3)),b(255*Oe(Jn,Ln,zn)),b(255*Oe(Jn,Ln,zn-1/3)),sn];default:return null}}return null}}catch(Ne){}});class vi{constructor(c,u,b,Y=1){this.r=c,this.g=u,this.b=b,this.a=Y}static parse(c){if(!c)return;if(c instanceof vi)return c;if("string"!=typeof c)return;const u=sl.parseCSSColor(c);return u?new vi(u[0]/255*u[3],u[1]/255*u[3],u[2]/255*u[3],u[3]):void 0}toString(){const[c,u,b,Y]=this.toArray();return`rgba(${Math.round(c)},${Math.round(u)},${Math.round(b)},${Y})`}toArray(){const{r:c,g:u,b,a:Y}=this;return 0===Y?[0,0,0,0]:[255*c/Y,255*u/Y,255*b/Y,Y]}}vi.black=new vi(0,0,0,1),vi.white=new vi(1,1,1,1),vi.transparent=new vi(0,0,0,0),vi.red=new vi(1,0,0,1),vi.blue=new vi(0,0,1,1);class ma{constructor(c,u,b){this.sensitivity=c?u?"variant":"case":u?"accent":"base",this.locale=b,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(c,u){return this.collator.compare(c,u)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class va{constructor(c,u,b,Y,q){this.text=c,this.image=u,this.scale=b,this.fontStack=Y,this.textColor=q}}class Uo{constructor(c){this.sections=c}static fromString(c){return new Uo([new va(c,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(c=>0!==c.text.length||c.image&&0!==c.image.name.length)}static factory(c){return c instanceof Uo?c:Uo.fromString(c)}toString(){return 0===this.sections.length?"":this.sections.map(c=>c.text).join("")}serialize(){const c=["format"];for(const u of this.sections){if(u.image){c.push(["image",u.image.name]);continue}c.push(u.text);const b={};u.fontStack&&(b["text-font"]=["literal",u.fontStack.split(",")]),u.scale&&(b["font-scale"]=u.scale),u.textColor&&(b["text-color"]=["rgba"].concat(u.textColor.toArray())),c.push(b)}return c}}class cs{constructor(c){this.name=c.name,this.available=c.available}toString(){return this.name}static fromString(c){return c?new cs({name:c,available:!1}):null}serialize(){return["image",this.name]}}function Fl(d,c,u,b){return"number"==typeof d&&d>=0&&d<=255&&"number"==typeof c&&c>=0&&c<=255&&"number"==typeof u&&u>=0&&u<=255?void 0===b||"number"==typeof b&&b>=0&&b<=1?null:`Invalid rgba value [${[d,c,u,b].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof b?[d,c,u,b]:[d,c,u]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ts(d){if(null===d)return!0;if("string"==typeof d)return!0;if("boolean"==typeof d)return!0;if("number"==typeof d)return!0;if(d instanceof vi)return!0;if(d instanceof ma)return!0;if(d instanceof Uo)return!0;if(d instanceof cs)return!0;if(Array.isArray(d)){for(const c of d)if(!Ts(c))return!1;return!0}if("object"==typeof d){for(const c in d)if(!Ts(d[c]))return!1;return!0}return!1}function uo(d){if(null===d)return ns;if("string"==typeof d)return Ur;if("boolean"==typeof d)return Zr;if("number"==typeof d)return rr;if(d instanceof vi)return Ti;if(d instanceof ma)return rs;if(d instanceof Uo)return La;if(d instanceof cs)return ms;if(Array.isArray(d)){const c=d.length;let u;for(const b of d){const Y=uo(b);if(u){if(u===Y)continue;u=br;break}u=Y}return wo(u||br,c)}return Fo}function ja(d){const c=typeof d;return null===d?"":"string"===c||"number"===c||"boolean"===c?String(d):d instanceof vi||d instanceof Uo||d instanceof cs?d.toString():JSON.stringify(d)}class no{constructor(c,u){this.type=c,this.value=u}static parse(c,u){if(2!==c.length)return u.error(`'literal' expression requires exactly one argument, but found ${c.length-1} instead.`);if(!Ts(c[1]))return u.error("invalid value");const b=c[1];let Y=uo(b);const q=u.expectedType;return"array"===Y.kind&&0===Y.N&&q&&"array"===q.kind&&("number"!=typeof q.N||0===q.N)&&(Y=q),new no(Y,b)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof vi?["rgba"].concat(this.value.toArray()):this.value instanceof Uo?this.value.serialize():this.value}}class Wi{constructor(c){this.name="ExpressionEvaluationError",this.message=c}toJSON(){return this.message}}const Vi={string:Ur,number:rr,boolean:Zr,object:Fo};class ss{constructor(c,u){this.type=c,this.args=u}static parse(c,u){if(c.length<2)return u.error("Expected at least one argument.");let Y,b=1;const q=c[0];if("array"===q){let Oe,Ve;if(c.length>2){const Ne=c[1];if("string"!=typeof Ne||!(Ne in Vi)||"object"===Ne)return u.error('The item type argument of "array" must be one of string, number, boolean',1);Oe=Vi[Ne],b++}else Oe=br;if(c.length>3){if(null!==c[2]&&("number"!=typeof c[2]||c[2]<0||c[2]!==Math.floor(c[2])))return u.error('The length argument to "array" must be a positive integer literal',2);Ve=c[2],b++}Y=wo(Oe,Ve)}else Y=Vi[q];const de=[];for(;b<c.length;b++){const Oe=u.parse(c[b],b,br);if(!Oe)return null;de.push(Oe)}return new ss(Y,de)}evaluate(c){for(let u=0;u<this.args.length;u++){const b=this.args[u].evaluate(c);if(!is(this.type,uo(b)))return b;if(u===this.args.length-1)throw new Wi(`Expected value to be of type ${Ui(this.type)}, but found ${Ui(uo(b))} instead.`)}return null}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){const c=this.type,u=[c.kind];if("array"===c.kind){const b=c.itemType;if("string"===b.kind||"number"===b.kind||"boolean"===b.kind){u.push(b.kind);const Y=c.N;("number"==typeof Y||this.args.length>1)&&u.push(Y)}}return u.concat(this.args.map(b=>b.serialize()))}}class Qs{constructor(c){this.type=La,this.sections=c}static parse(c,u){if(c.length<2)return u.error("Expected at least one argument.");const b=c[1];if(!Array.isArray(b)&&"object"==typeof b)return u.error("First argument must be an image or text section.");const Y=[];let q=!1;for(let de=1;de<=c.length-1;++de){const Oe=c[de];if(q&&"object"==typeof Oe&&!Array.isArray(Oe)){q=!1;let Ve=null;if(Oe["font-scale"]&&(Ve=u.parse(Oe["font-scale"],1,rr),!Ve))return null;let Ne=null;if(Oe["text-font"]&&(Ne=u.parse(Oe["text-font"],1,wo(Ur)),!Ne))return null;let mt=null;if(Oe["text-color"]&&(mt=u.parse(Oe["text-color"],1,Ti),!mt))return null;const pt=Y[Y.length-1];pt.scale=Ve,pt.font=Ne,pt.textColor=mt}else{const Ve=u.parse(c[de],1,br);if(!Ve)return null;const Ne=Ve.type.kind;if("string"!==Ne&&"value"!==Ne&&"null"!==Ne&&"resolvedImage"!==Ne)return u.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");q=!0,Y.push({content:Ve,scale:null,font:null,textColor:null})}}return new Qs(Y)}evaluate(c){return new Uo(this.sections.map(b=>{const Y=b.content.evaluate(c);return uo(Y)===ms?new va("",Y,null,null,null):new va(ja(Y),null,b.scale?b.scale.evaluate(c):null,b.font?b.font.evaluate(c).join(","):null,b.textColor?b.textColor.evaluate(c):null)}))}eachChild(c){for(const u of this.sections)c(u.content),u.scale&&c(u.scale),u.font&&c(u.font),u.textColor&&c(u.textColor)}outputDefined(){return!1}serialize(){const c=["format"];for(const u of this.sections){c.push(u.content.serialize());const b={};u.scale&&(b["font-scale"]=u.scale.serialize()),u.font&&(b["text-font"]=u.font.serialize()),u.textColor&&(b["text-color"]=u.textColor.serialize()),c.push(b)}return c}}class al{constructor(c){this.type=ms,this.input=c}static parse(c,u){if(2!==c.length)return u.error("Expected two arguments.");const b=u.parse(c[1],1,Ur);return b?new al(b):u.error("No image name provided.")}evaluate(c){const u=this.input.evaluate(c),b=cs.fromString(u);return b&&c.availableImages&&(b.available=c.availableImages.indexOf(u)>-1),b}eachChild(c){c(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Go={"to-boolean":Zr,"to-color":Ti,"to-number":rr,"to-string":Ur};class Bs{constructor(c,u){this.type=c,this.args=u}static parse(c,u){if(c.length<2)return u.error("Expected at least one argument.");const b=c[0];if(("to-boolean"===b||"to-string"===b)&&2!==c.length)return u.error("Expected one argument.");const Y=Go[b],q=[];for(let de=1;de<c.length;de++){const Oe=u.parse(c[de],de,br);if(!Oe)return null;q.push(Oe)}return new Bs(Y,q)}evaluate(c){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(c));if("color"===this.type.kind){let u,b;for(const Y of this.args){if(u=Y.evaluate(c),b=null,u instanceof vi)return u;if("string"==typeof u){const q=c.parseColor(u);if(q)return q}else if(Array.isArray(u)&&(b=u.length<3||u.length>4?`Invalid rbga value ${JSON.stringify(u)}: expected an array containing either three or four numeric values.`:Fl(u[0],u[1],u[2],u[3]),!b))return new vi(u[0]/255,u[1]/255,u[2]/255,u[3])}throw new Wi(b||`Could not parse color from value '${"string"==typeof u?u:String(JSON.stringify(u))}'`)}if("number"===this.type.kind){let u=null;for(const b of this.args){if(u=b.evaluate(c),null===u)return 0;const Y=Number(u);if(!isNaN(Y))return Y}throw new Wi(`Could not convert ${JSON.stringify(u)} to number.`)}return"formatted"===this.type.kind?Uo.fromString(ja(this.args[0].evaluate(c))):"resolvedImage"===this.type.kind?cs.fromString(ja(this.args[0].evaluate(c))):ja(this.args[0].evaluate(c))}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Qs([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new al(this.args[0]).serialize();const c=[`to-${this.type.kind}`];return this.eachChild(u=>{c.push(u.serialize())}),c}}const Ba=["Unknown","Point","LineString","Polygon"];class ri{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Ba[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const c=this.featureDistanceData.center,u=this.featureDistanceData.scale,{x:b,y:Y}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(b*u-c[0])+this.featureDistanceData.bearing[1]*(Y*u-c[1])}return 0}parseColor(c){let u=this._parseColorCache[c];return u||(u=this._parseColorCache[c]=vi.parse(c)),u}}class co{constructor(c,u,b,Y){this.name=c,this.type=u,this._evaluate=b,this.args=Y}evaluate(c){return this._evaluate(c,this.args)}eachChild(c){this.args.forEach(c)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(c=>c.serialize()))}static parse(c,u){const b=c[0],Y=co.definitions[b];if(!Y)return u.error(`Unknown expression "${b}". If you wanted a literal array, use ["literal", [...]].`,0);const q=Array.isArray(Y)?Y[0]:Y.type,de=Array.isArray(Y)?[[Y[1],Y[2]]]:Y.overloads,Oe=de.filter(([Ne])=>!Array.isArray(Ne)||Ne.length===c.length-1);let Ve=null;for(const[Ne,mt]of Oe){Ve=new Ae(u.registry,u.path,null,u.scope);const pt=[];let Yt=!1;for(let rn=1;rn<c.length;rn++){const Kt=c[rn],tn=Array.isArray(Ne)?Ne[rn-1]:Ne.type,sn=Ve.parse(Kt,1+pt.length,tn);if(!sn){Yt=!0;break}pt.push(sn)}if(!Yt){if(Array.isArray(Ne)&&Ne.length!==pt.length){Ve.error(`Expected ${Ne.length} arguments, but found ${pt.length} instead.`);continue}for(let rn=0;rn<pt.length;rn++){const Kt=Array.isArray(Ne)?Ne[rn]:Ne.type,tn=pt[rn];Ve.concat(rn+1).checkSubtype(Kt,tn.type)}if(0===Ve.errors.length)return new co(b,q,mt,pt)}}if(1===Oe.length)u.errors.push(...Ve.errors);else{const mt=(Oe.length?Oe:de).map(([Yt])=>function(d){return Array.isArray(d)?`(${d.map(Ui).join(", ")})`:`(${Ui(d.type)}...)`}(Yt)).join(" | "),pt=[];for(let Yt=1;Yt<c.length;Yt++){const rn=u.parse(c[Yt],1+pt.length);if(!rn)return null;pt.push(Ui(rn.type))}u.error(`Expected arguments of type ${mt}, but found (${pt.join(", ")}) instead.`)}return null}static register(c,u){co.definitions=u;for(const b in u)c[b]=co}}class ya{constructor(c,u,b){this.type=rs,this.locale=b,this.caseSensitive=c,this.diacriticSensitive=u}static parse(c,u){if(2!==c.length)return u.error("Expected one argument.");const b=c[1];if("object"!=typeof b||Array.isArray(b))return u.error("Collator options argument must be an object.");const Y=u.parse(void 0!==b["case-sensitive"]&&b["case-sensitive"],1,Zr);if(!Y)return null;const q=u.parse(void 0!==b["diacritic-sensitive"]&&b["diacritic-sensitive"],1,Zr);if(!q)return null;let de=null;return b.locale&&(de=u.parse(b.locale,1,Ur),!de)?null:new ya(Y,q,de)}evaluate(c){return new ma(this.caseSensitive.evaluate(c),this.diacriticSensitive.evaluate(c),this.locale?this.locale.evaluate(c):null)}eachChild(c){c(this.caseSensitive),c(this.diacriticSensitive),this.locale&&c(this.locale)}outputDefined(){return!1}serialize(){const c={};return c["case-sensitive"]=this.caseSensitive.serialize(),c["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(c.locale=this.locale.serialize()),["collator",c]}}const Ds=8192;function Nl(d,c){d[0]=Math.min(d[0],c[0]),d[1]=Math.min(d[1],c[1]),d[2]=Math.max(d[2],c[0]),d[3]=Math.max(d[3],c[1])}function ba(d,c){return!(d[0]<=c[0]||d[2]>=c[2]||d[1]<=c[1]||d[3]>=c[3])}function jl(d,c){const u=function(d){return(180+d)/360}(d[0]),b=function(d){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d*Math.PI/360)))/360}(d[1]),Y=Math.pow(2,c.z);return[Math.round(u*Y*Ds),Math.round(b*Y*Ds)]}function $a(d,c,u){const b=d[0]-c[0],Y=d[1]-c[1],q=d[0]-u[0],de=d[1]-u[1];return b*de-q*Y==0&&b*q<=0&&Y*de<=0}function ds(d,c,u){return c[1]>d[1]!=u[1]>d[1]&&d[0]<(u[0]-c[0])*(d[1]-c[1])/(u[1]-c[1])+c[0]}function ea(d,c){let u=!1;for(let b=0,Y=c.length;b<Y;b++){const q=c[b];for(let de=0,Oe=q.length;de<Oe-1;de++){if($a(d,q[de],q[de+1]))return!1;ds(d,q[de],q[de+1])&&(u=!u)}}return u}function ll(d,c){for(let u=0;u<c.length;u++)if(ea(d,c[u]))return!0;return!1}function Bl(d,c,u,b){const Ve=b[0]-u[0],Ne=b[1]-u[1],mt=(d[0]-u[0])*Ne-Ve*(d[1]-u[1]),pt=(c[0]-u[0])*Ne-Ve*(c[1]-u[1]);return mt>0&&pt<0||mt<0&&pt>0}function vs(d,c,u,b){return 0!==function(d,c){return d[0]*c[1]-d[1]*c[0]}([b[0]-u[0],b[1]-u[1]],[c[0]-d[0],c[1]-d[1]])&&!(!Bl(d,c,u,b)||!Bl(u,b,d,c))}function cu(d,c,u){for(const b of u)for(let Y=0;Y<b.length-1;++Y)if(vs(d,c,b[Y],b[Y+1]))return!0;return!1}function Ea(d,c){for(let u=0;u<d.length;++u)if(!ea(d[u],c))return!1;for(let u=0;u<d.length-1;++u)if(cu(d[u],d[u+1],c))return!1;return!0}function Ua(d,c){for(let u=0;u<c.length;u++)if(Ea(d,c[u]))return!0;return!1}function ul(d,c,u){const b=[];for(let Y=0;Y<d.length;Y++){const q=[];for(let de=0;de<d[Y].length;de++){const Oe=jl(d[Y][de],u);Nl(c,Oe),q.push(Oe)}b.push(q)}return b}function $l(d,c,u){const b=[];for(let Y=0;Y<d.length;Y++){const q=ul(d[Y],c,u);b.push(q)}return b}function Us(d,c,u,b){if(d[0]<u[0]||d[0]>u[2]){const Y=.5*b;let q=d[0]-u[0]>Y?-b:u[0]-d[0]>Y?b:0;0===q&&(q=d[0]-u[2]>Y?-b:u[2]-d[0]>Y?b:0),d[0]+=q}Nl(c,d)}function ta(d,c,u,b){const Y=Math.pow(2,b.z)*Ds,q=[b.x*Ds,b.y*Ds],de=[];for(const Oe of d)for(const Ve of Oe){const Ne=[Ve.x+q[0],Ve.y+q[1]];Us(Ne,c,u,Y),de.push(Ne)}return de}function cl(d,c,u,b){const Y=Math.pow(2,b.z)*Ds,q=[b.x*Ds,b.y*Ds],de=[];for(const Oe of d){const Ve=[];for(const Ne of Oe){const mt=[Ne.x+q[0],Ne.y+q[1]];Nl(c,mt),Ve.push(mt)}de.push(Ve)}if(c[2]-c[0]<=Y/2){!function(d){d[0]=d[1]=1/0,d[2]=d[3]=-1/0}(c);for(const Oe of de)for(const Ve of Oe)Us(Ve,c,u,Y)}return de}class Ko{constructor(c,u){this.type=Zr,this.geojson=c,this.geometries=u}static parse(c,u){if(2!==c.length)return u.error(`'within' expression requires exactly one argument, but found ${c.length-1} instead.`);if(Ts(c[1])){const b=c[1];if("FeatureCollection"===b.type)for(let Y=0;Y<b.features.length;++Y){const q=b.features[Y].geometry.type;if("Polygon"===q||"MultiPolygon"===q)return new Ko(b,b.features[Y].geometry)}else if("Feature"===b.type){const Y=b.geometry.type;if("Polygon"===Y||"MultiPolygon"===Y)return new Ko(b,b.geometry)}else if("Polygon"===b.type||"MultiPolygon"===b.type)return new Ko(b,b)}return u.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(c){if(null!=c.geometry()&&null!=c.canonicalID()){if("Point"===c.geometryType())return function(d,c){const u=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],Y=d.canonicalID();if("Polygon"===c.type){const q=ul(c.coordinates,b,Y),de=ta(d.geometry(),u,b,Y);if(!ba(u,b))return!1;for(const Oe of de)if(!ea(Oe,q))return!1}if("MultiPolygon"===c.type){const q=$l(c.coordinates,b,Y),de=ta(d.geometry(),u,b,Y);if(!ba(u,b))return!1;for(const Oe of de)if(!ll(Oe,q))return!1}return!0}(c,this.geometries);if("LineString"===c.geometryType())return function(d,c){const u=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],Y=d.canonicalID();if("Polygon"===c.type){const q=ul(c.coordinates,b,Y),de=cl(d.geometry(),u,b,Y);if(!ba(u,b))return!1;for(const Oe of de)if(!Ea(Oe,q))return!1}if("MultiPolygon"===c.type){const q=$l(c.coordinates,b,Y),de=cl(d.geometry(),u,b,Y);if(!ba(u,b))return!1;for(const Oe of de)if(!Ua(Oe,q))return!1}return!0}(c,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function ie(d){if(d instanceof co){if("get"===d.name&&1===d.args.length)return!1;if("feature-state"===d.name)return!1;if("has"===d.name&&1===d.args.length)return!1;if("properties"===d.name||"geometry-type"===d.name||"id"===d.name)return!1;if(/^filter-/.test(d.name))return!1}if(d instanceof Ko)return!1;let c=!0;return d.eachChild(u=>{c&&!ie(u)&&(c=!1)}),c}function Q(d){if(d instanceof co&&"feature-state"===d.name)return!1;let c=!0;return d.eachChild(u=>{c&&!Q(u)&&(c=!1)}),c}function X(d,c){if(d instanceof co&&c.indexOf(d.name)>=0)return!1;let u=!0;return d.eachChild(b=>{u&&!X(b,c)&&(u=!1)}),u}class ve{constructor(c,u){this.type=u.type,this.name=c,this.boundExpression=u}static parse(c,u){if(2!==c.length||"string"!=typeof c[1])return u.error("'var' expression requires exactly one string literal argument.");const b=c[1];return u.scope.has(b)?new ve(b,u.scope.get(b)):u.error(`Unknown variable "${b}". Make sure "${b}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(c){return this.boundExpression.evaluate(c)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Ae{constructor(c,u=[],b,Y=new js,q=[]){this.registry=c,this.path=u,this.key=u.map(de=>`[${de}]`).join(""),this.scope=Y,this.errors=q,this.expectedType=b}parse(c,u,b,Y,q={}){return u?this.concat(u,b,Y)._parse(c,q):this._parse(c,q)}_parse(c,u){function b(Y,q,de){return"assert"===de?new ss(q,[Y]):"coerce"===de?new Bs(q,[Y]):Y}if((null===c||"string"==typeof c||"boolean"==typeof c||"number"==typeof c)&&(c=["literal",c]),Array.isArray(c)){if(0===c.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const Y=c[0];if("string"!=typeof Y)return this.error(`Expression name must be a string, but found ${typeof Y} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const q=this.registry[Y];if(q){let de=q.parse(c,this);if(!de)return null;if(this.expectedType){const Oe=this.expectedType,Ve=de.type;if("string"!==Oe.kind&&"number"!==Oe.kind&&"boolean"!==Oe.kind&&"object"!==Oe.kind&&"array"!==Oe.kind||"value"!==Ve.kind)if("color"!==Oe.kind&&"formatted"!==Oe.kind&&"resolvedImage"!==Oe.kind||"value"!==Ve.kind&&"string"!==Ve.kind){if(this.checkSubtype(Oe,Ve))return null}else de=b(de,Oe,u.typeAnnotation||"coerce");else de=b(de,Oe,u.typeAnnotation||"assert")}if(!(de instanceof no)&&"resolvedImage"!==de.type.kind&&Ke(de)){const Oe=new ri;try{de=new no(de.type,de.evaluate(Oe))}catch(Ve){return this.error(Ve.message),null}}return de}return this.error(`Unknown expression "${Y}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===c?"'undefined' value invalid. Use null instead.":"object"==typeof c?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof c} instead.`)}concat(c,u,b){const Y="number"==typeof c?this.path.concat(c):this.path,q=b?this.scope.concat(b):this.scope;return new Ae(this.registry,Y,u||null,q,this.errors)}error(c,...u){const b=`${this.key}${u.map(Y=>`[${Y}]`).join("")}`;this.errors.push(new Xi(b,c))}checkSubtype(c,u){const b=is(c,u);return b&&this.error(b),b}}function Ke(d){if(d instanceof ve)return Ke(d.boundExpression);if(d instanceof co&&"error"===d.name)return!1;if(d instanceof ya)return!1;if(d instanceof Ko)return!1;const c=d instanceof Bs||d instanceof ss;let u=!0;return d.eachChild(b=>{u=c?u&&Ke(b):u&&b instanceof no}),!!u&&ie(d)&&X(d,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function yt(d,c){const u=d.length-1;let de,Oe,b=0,Y=u,q=0;for(;b<=Y;)if(q=Math.floor((b+Y)/2),de=d[q],Oe=d[q+1],de<=c){if(q===u||c<Oe)return q;b=q+1}else{if(!(de>c))throw new Wi("Input is not a number.");Y=q-1}return 0}class rt{constructor(c,u,b){this.type=c,this.input=u,this.labels=[],this.outputs=[];for(const[Y,q]of b)this.labels.push(Y),this.outputs.push(q)}static parse(c,u){if(c.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if((c.length-1)%2!=0)return u.error("Expected an even number of arguments.");const b=u.parse(c[1],1,rr);if(!b)return null;const Y=[];let q=null;u.expectedType&&"value"!==u.expectedType.kind&&(q=u.expectedType);for(let de=1;de<c.length;de+=2){const Oe=1===de?-1/0:c[de],Ve=c[de+1],Ne=de,mt=de+1;if("number"!=typeof Oe)return u.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ne);if(Y.length&&Y[Y.length-1][0]>=Oe)return u.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Ne);const pt=u.parse(Ve,mt,q);if(!pt)return null;q=q||pt.type,Y.push([Oe,pt])}return new rt(q,b,Y)}evaluate(c){const u=this.labels,b=this.outputs;if(1===u.length)return b[0].evaluate(c);const Y=this.input.evaluate(c);if(Y<=u[0])return b[0].evaluate(c);const q=u.length;return Y>=u[q-1]?b[q-1].evaluate(c):b[yt(u,Y)].evaluate(c)}eachChild(c){c(this.input);for(const u of this.outputs)c(u)}outputDefined(){return this.outputs.every(c=>c.outputDefined())}serialize(){const c=["step",this.input.serialize()];for(let u=0;u<this.labels.length;u++)u>0&&c.push(this.labels[u]),c.push(this.outputs[u].serialize());return c}}var Sn=hr;function hr(d,c,u,b){this.cx=3*d,this.bx=3*(u-d)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(b-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=d,this.p1y=b,this.p2x=u,this.p2y=b}function Hr(d,c,u){return d*(1-u)+c*u}hr.prototype.sampleCurveX=function(d){return((this.ax*d+this.bx)*d+this.cx)*d},hr.prototype.sampleCurveY=function(d){return((this.ay*d+this.by)*d+this.cy)*d},hr.prototype.sampleCurveDerivativeX=function(d){return(3*this.ax*d+2*this.bx)*d+this.cx},hr.prototype.solveCurveX=function(d,c){var u,b,Y,q,de;for(void 0===c&&(c=1e-6),Y=d,de=0;de<8;de++){if(q=this.sampleCurveX(Y)-d,Math.abs(q)<c)return Y;var Oe=this.sampleCurveDerivativeX(Y);if(Math.abs(Oe)<1e-6)break;Y-=q/Oe}if((Y=d)<(u=0))return u;if(Y>(b=1))return b;for(;u<b;){if(q=this.sampleCurveX(Y),Math.abs(q-d)<c)return Y;d>q?u=Y:b=Y,Y=.5*(b-u)+u}return Y},hr.prototype.solve=function(d,c){return this.sampleCurveY(this.solveCurveX(d,c))};var ci=Object.freeze({__proto__:null,number:Hr,color:function(d,c,u){return new vi(Hr(d.r,c.r,u),Hr(d.g,c.g,u),Hr(d.b,c.b,u),Hr(d.a,c.a,u))},array:function(d,c,u){return d.map((b,Y)=>Hr(b,c[Y],u))}});const Qi=4/29,ys=6/29,ls=3*ys*ys,dl=Math.PI/180,Vu=180/Math.PI;function na(d){return d>.008856451679035631?Math.pow(d,1/3):d/ls+Qi}function ra(d){return d>ys?d*d*d:ls*(d-Qi)}function ia(d){return 255*(d<=.0031308?12.92*d:1.055*Math.pow(d,1/2.4)-.055)}function Ms(d){return(d/=255)<=.04045?d/12.92:Math.pow((d+.055)/1.055,2.4)}function du(d){const c=Ms(d.r),u=Ms(d.g),b=Ms(d.b),Y=na((.4124564*c+.3575761*u+.1804375*b)/.95047),q=na((.2126729*c+.7151522*u+.072175*b)/1);return{l:116*q-16,a:500*(Y-q),b:200*(q-na((.0193339*c+.119192*u+.9503041*b)/1.08883)),alpha:d.a}}function hl(d){let c=(d.l+16)/116,u=isNaN(d.a)?c:c+d.a/500,b=isNaN(d.b)?c:c-d.b/200;return c=1*ra(c),u=.95047*ra(u),b=1.08883*ra(b),new vi(ia(3.2404542*u-1.5371385*c-.4985314*b),ia(-.969266*u+1.8760108*c+.041556*b),ia(.0556434*u-.2040259*c+1.0572252*b),d.alpha)}function Ji(d,c,u){const b=c-d;return d+u*(b>180||b<-180?b-360*Math.round(b/360):b)}const _s={forward:du,reverse:hl,interpolate:function(d,c,u){return{l:Hr(d.l,c.l,u),a:Hr(d.a,c.a,u),b:Hr(d.b,c.b,u),alpha:Hr(d.alpha,c.alpha,u)}}},hu_forward=function(d){const{l:c,a:u,b}=du(d),Y=Math.atan2(b,u)*Vu;return{h:Y<0?Y+360:Y,c:Math.sqrt(u*u+b*b),l:c,alpha:d.a}},hu_reverse=function(d){const c=d.h*dl,u=d.c;return hl({l:d.l,a:Math.cos(c)*u,b:Math.sin(c)*u,alpha:d.alpha})},hu_interpolate=function(d,c,u){return{h:Ji(d.h,c.h,u),c:Hr(d.c,c.c,u),l:Hr(d.l,c.l,u),alpha:Hr(d.alpha,c.alpha,u)}};class Vo{constructor(c,u,b,Y,q){this.type=c,this.operator=u,this.interpolation=b,this.input=Y,this.labels=[],this.outputs=[];for(const[de,Oe]of q)this.labels.push(de),this.outputs.push(Oe)}static interpolationFactor(c,u,b,Y){let q=0;if("exponential"===c.name)q=jc(u,c.base,b,Y);else if("linear"===c.name)q=jc(u,1,b,Y);else if("cubic-bezier"===c.name){const de=c.controlPoints;q=new Sn(de[0],de[1],de[2],de[3]).solve(jc(u,1,b,Y))}return q}static parse(c,u){let[b,Y,q,...de]=c;if(!Array.isArray(Y)||0===Y.length)return u.error("Expected an interpolation type expression.",1);if("linear"===Y[0])Y={name:"linear"};else if("exponential"===Y[0]){const Ne=Y[1];if("number"!=typeof Ne)return u.error("Exponential interpolation requires a numeric base.",1,1);Y={name:"exponential",base:Ne}}else{if("cubic-bezier"!==Y[0])return u.error(`Unknown interpolation type ${String(Y[0])}`,1,0);{const Ne=Y.slice(1);if(4!==Ne.length||Ne.some(mt=>"number"!=typeof mt||mt<0||mt>1))return u.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);Y={name:"cubic-bezier",controlPoints:Ne}}}if(c.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if((c.length-1)%2!=0)return u.error("Expected an even number of arguments.");if(q=u.parse(q,2,rr),!q)return null;const Oe=[];let Ve=null;"interpolate-hcl"===b||"interpolate-lab"===b?Ve=Ti:u.expectedType&&"value"!==u.expectedType.kind&&(Ve=u.expectedType);for(let Ne=0;Ne<de.length;Ne+=2){const mt=de[Ne],pt=de[Ne+1],Yt=Ne+3,rn=Ne+4;if("number"!=typeof mt)return u.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Yt);if(Oe.length&&Oe[Oe.length-1][0]>=mt)return u.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Yt);const Kt=u.parse(pt,rn,Ve);if(!Kt)return null;Ve=Ve||Kt.type,Oe.push([mt,Kt])}return"number"===Ve.kind||"color"===Ve.kind||"array"===Ve.kind&&"number"===Ve.itemType.kind&&"number"==typeof Ve.N?new Vo(Ve,b,Y,q,Oe):u.error(`Type ${Ui(Ve)} is not interpolatable.`)}evaluate(c){const u=this.labels,b=this.outputs;if(1===u.length)return b[0].evaluate(c);const Y=this.input.evaluate(c);if(Y<=u[0])return b[0].evaluate(c);const q=u.length;if(Y>=u[q-1])return b[q-1].evaluate(c);const de=yt(u,Y),Ne=Vo.interpolationFactor(this.interpolation,Y,u[de],u[de+1]),mt=b[de].evaluate(c),pt=b[de+1].evaluate(c);return"interpolate"===this.operator?ci[this.type.kind.toLowerCase()](mt,pt,Ne):"interpolate-hcl"===this.operator?hu_reverse(hu_interpolate(hu_forward(mt),hu_forward(pt),Ne)):_s.reverse(_s.interpolate(_s.forward(mt),_s.forward(pt),Ne))}eachChild(c){c(this.input);for(const u of this.outputs)c(u)}outputDefined(){return this.outputs.every(c=>c.outputDefined())}serialize(){let c;c="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const u=[this.operator,c,this.input.serialize()];for(let b=0;b<this.labels.length;b++)u.push(this.labels[b],this.outputs[b].serialize());return u}}function jc(d,c,u,b){const Y=b-u,q=d-u;return 0===Y?0:1===c?q/Y:(Math.pow(c,q)-1)/(Math.pow(c,Y)-1)}class fu{constructor(c,u){this.type=c,this.args=u}static parse(c,u){if(c.length<2)return u.error("Expectected at least one argument.");let b=null;const Y=u.expectedType;Y&&"value"!==Y.kind&&(b=Y);const q=[];for(const Oe of c.slice(1)){const Ve=u.parse(Oe,1+q.length,b,void 0,{typeAnnotation:"omit"});if(!Ve)return null;b=b||Ve.type,q.push(Ve)}return Y&&q.some(Oe=>is(Y,Oe.type))?new fu(br,q):new fu(b,q)}evaluate(c){let Y,u=null,b=0;for(const q of this.args)if(b++,u=q.evaluate(c),u&&u instanceof cs&&!u.available&&(Y||(Y=u.name),u=null,b===this.args.length&&(u=Y)),null!==u)break;return u}eachChild(c){this.args.forEach(c)}outputDefined(){return this.args.every(c=>c.outputDefined())}serialize(){const c=["coalesce"];return this.eachChild(u=>{c.push(u.serialize())}),c}}class zo{constructor(c,u){this.type=u.type,this.bindings=[].concat(c),this.result=u}evaluate(c){return this.result.evaluate(c)}eachChild(c){for(const u of this.bindings)c(u[1]);c(this.result)}static parse(c,u){if(c.length<4)return u.error(`Expected at least 3 arguments, but found ${c.length-1} instead.`);const b=[];for(let q=1;q<c.length-1;q+=2){const de=c[q];if("string"!=typeof de)return u.error(`Expected string, but found ${typeof de} instead.`,q);if(/[^a-zA-Z0-9_]/.test(de))return u.error("Variable names must contain only alphanumeric characters or '_'.",q);const Oe=u.parse(c[q+1],q+1);if(!Oe)return null;b.push([de,Oe])}const Y=u.parse(c[c.length-1],c.length-1,u.expectedType,b);return Y?new zo(b,Y):null}outputDefined(){return this.result.outputDefined()}serialize(){const c=["let"];for(const[u,b]of this.bindings)c.push(u,b.serialize());return c.push(this.result.serialize()),c}}class Bc{constructor(c,u,b){this.type=c,this.index=u,this.input=b}static parse(c,u){if(3!==c.length)return u.error(`Expected 2 arguments, but found ${c.length-1} instead.`);const b=u.parse(c[1],1,rr),Y=u.parse(c[2],2,wo(u.expectedType||br));return b&&Y?new Bc(Y.type.itemType,b,Y):null}evaluate(c){const u=this.index.evaluate(c),b=this.input.evaluate(c);if(u<0)throw new Wi(`Array index out of bounds: ${u} < 0.`);if(u>=b.length)throw new Wi(`Array index out of bounds: ${u} > ${b.length-1}.`);if(u!==Math.floor(u))throw new Wi(`Array index must be an integer, but found ${u} instead.`);return b[u]}eachChild(c){c(this.index),c(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class ho{constructor(c,u){this.type=Zr,this.needle=c,this.haystack=u}static parse(c,u){if(3!==c.length)return u.error(`Expected 2 arguments, but found ${c.length-1} instead.`);const b=u.parse(c[1],1,br),Y=u.parse(c[2],2,br);return b&&Y?Na(b.type,[Zr,Ur,rr,ns,br])?new ho(b,Y):u.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ui(b.type)} instead`):null}evaluate(c){const u=this.needle.evaluate(c),b=this.haystack.evaluate(c);if(!b)return!1;if(!os(u,["boolean","string","number","null"]))throw new Wi(`Expected first argument to be of type boolean, string, number or null, but found ${Ui(uo(u))} instead.`);if(!os(b,["string","array"]))throw new Wi(`Expected second argument to be of type array or string, but found ${Ui(uo(b))} instead.`);return b.indexOf(u)>=0}eachChild(c){c(this.needle),c(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class No{constructor(c,u,b){this.type=rr,this.needle=c,this.haystack=u,this.fromIndex=b}static parse(c,u){if(c.length<=2||c.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${c.length-1} instead.`);const b=u.parse(c[1],1,br),Y=u.parse(c[2],2,br);if(!b||!Y)return null;if(!Na(b.type,[Zr,Ur,rr,ns,br]))return u.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ui(b.type)} instead`);if(4===c.length){const q=u.parse(c[3],3,rr);return q?new No(b,Y,q):null}return new No(b,Y)}evaluate(c){const u=this.needle.evaluate(c),b=this.haystack.evaluate(c);if(!os(u,["boolean","string","number","null"]))throw new Wi(`Expected first argument to be of type boolean, string, number or null, but found ${Ui(uo(u))} instead.`);if(!os(b,["string","array"]))throw new Wi(`Expected second argument to be of type array or string, but found ${Ui(uo(b))} instead.`);if(this.fromIndex){const Y=this.fromIndex.evaluate(c);return b.indexOf(u,Y)}return b.indexOf(u)}eachChild(c){c(this.needle),c(this.haystack),this.fromIndex&&c(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const c=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),c]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Gs{constructor(c,u,b,Y,q,de){this.inputType=c,this.type=u,this.input=b,this.cases=Y,this.outputs=q,this.otherwise=de}static parse(c,u){if(c.length<5)return u.error(`Expected at least 4 arguments, but found only ${c.length-1}.`);if(c.length%2!=1)return u.error("Expected an even number of arguments.");let b,Y;u.expectedType&&"value"!==u.expectedType.kind&&(Y=u.expectedType);const q={},de=[];for(let Ne=2;Ne<c.length-1;Ne+=2){let mt=c[Ne];const pt=c[Ne+1];Array.isArray(mt)||(mt=[mt]);const Yt=u.concat(Ne);if(0===mt.length)return Yt.error("Expected at least one branch label.");for(const Kt of mt){if("number"!=typeof Kt&&"string"!=typeof Kt)return Yt.error("Branch labels must be numbers or strings.");if("number"==typeof Kt&&Math.abs(Kt)>Number.MAX_SAFE_INTEGER)return Yt.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof Kt&&Math.floor(Kt)!==Kt)return Yt.error("Numeric branch labels must be integer values.");if(b){if(Yt.checkSubtype(b,uo(Kt)))return null}else b=uo(Kt);if(void 0!==q[String(Kt)])return Yt.error("Branch labels must be unique.");q[String(Kt)]=de.length}const rn=u.parse(pt,Ne,Y);if(!rn)return null;Y=Y||rn.type,de.push(rn)}const Oe=u.parse(c[1],1,br);if(!Oe)return null;const Ve=u.parse(c[c.length-1],c.length-1,Y);return!Ve||"value"!==Oe.type.kind&&u.concat(1).checkSubtype(b,Oe.type)?null:new Gs(b,Y,Oe,q,de,Ve)}evaluate(c){const u=this.input.evaluate(c);return(uo(u)===this.inputType&&this.outputs[this.cases[u]]||this.otherwise).evaluate(c)}eachChild(c){c(this.input),this.outputs.forEach(c),c(this.otherwise)}outputDefined(){return this.outputs.every(c=>c.outputDefined())&&this.otherwise.outputDefined()}serialize(){const c=["match",this.input.serialize()],u=Object.keys(this.cases).sort(),b=[],Y={};for(const de of u){const Oe=Y[this.cases[de]];void 0===Oe?(Y[this.cases[de]]=b.length,b.push([this.cases[de],[de]])):b[Oe][1].push(de)}const q=de=>"number"===this.inputType.kind?Number(de):de;for(const[de,Oe]of b)c.push(1===Oe.length?q(Oe[0]):Oe.map(q)),c.push(this.outputs[de].serialize());return c.push(this.otherwise.serialize()),c}}class $c{constructor(c,u,b){this.type=c,this.branches=u,this.otherwise=b}static parse(c,u){if(c.length<4)return u.error(`Expected at least 3 arguments, but found only ${c.length-1}.`);if(c.length%2!=0)return u.error("Expected an odd number of arguments.");let b;u.expectedType&&"value"!==u.expectedType.kind&&(b=u.expectedType);const Y=[];for(let de=1;de<c.length-1;de+=2){const Oe=u.parse(c[de],de,Zr);if(!Oe)return null;const Ve=u.parse(c[de+1],de+1,b);if(!Ve)return null;Y.push([Oe,Ve]),b=b||Ve.type}const q=u.parse(c[c.length-1],c.length-1,b);return q?new $c(b,Y,q):null}evaluate(c){for(const[u,b]of this.branches)if(u.evaluate(c))return b.evaluate(c);return this.otherwise.evaluate(c)}eachChild(c){for(const[u,b]of this.branches)c(u),c(b);c(this.otherwise)}outputDefined(){return this.branches.every(([c,u])=>u.outputDefined())&&this.otherwise.outputDefined()}serialize(){const c=["case"];return this.eachChild(u=>{c.push(u.serialize())}),c}}class pu{constructor(c,u,b,Y){this.type=c,this.input=u,this.beginIndex=b,this.endIndex=Y}static parse(c,u){if(c.length<=2||c.length>=5)return u.error(`Expected 3 or 4 arguments, but found ${c.length-1} instead.`);const b=u.parse(c[1],1,br),Y=u.parse(c[2],2,rr);if(!b||!Y)return null;if(!Na(b.type,[wo(br),Ur,br]))return u.error(`Expected first argument to be of type array or string, but found ${Ui(b.type)} instead`);if(4===c.length){const q=u.parse(c[3],3,rr);return q?new pu(b.type,b,Y,q):null}return new pu(b.type,b,Y)}evaluate(c){const u=this.input.evaluate(c),b=this.beginIndex.evaluate(c);if(!os(u,["string","array"]))throw new Wi(`Expected first argument to be of type array or string, but found ${Ui(uo(u))} instead.`);if(this.endIndex){const Y=this.endIndex.evaluate(c);return u.slice(b,Y)}return u.slice(b)}eachChild(c){c(this.input),c(this.beginIndex),this.endIndex&&c(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const c=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),c]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function hs(d,c){return"=="===d||"!="===d?"boolean"===c.kind||"string"===c.kind||"number"===c.kind||"null"===c.kind||"value"===c.kind:"string"===c.kind||"number"===c.kind||"value"===c.kind}function Vc(d,c,u,b){return 0===b.compare(c,u)}function Xo(d,c,u){const b="=="!==d&&"!="!==d;return class K0{constructor(q,de,Oe){this.type=Zr,this.lhs=q,this.rhs=de,this.collator=Oe,this.hasUntypedArgument="value"===q.type.kind||"value"===de.type.kind}static parse(q,de){if(3!==q.length&&4!==q.length)return de.error("Expected two or three arguments.");const Oe=q[0];let Ve=de.parse(q[1],1,br);if(!Ve)return null;if(!hs(Oe,Ve.type))return de.concat(1).error(`"${Oe}" comparisons are not supported for type '${Ui(Ve.type)}'.`);let Ne=de.parse(q[2],2,br);if(!Ne)return null;if(!hs(Oe,Ne.type))return de.concat(2).error(`"${Oe}" comparisons are not supported for type '${Ui(Ne.type)}'.`);if(Ve.type.kind!==Ne.type.kind&&"value"!==Ve.type.kind&&"value"!==Ne.type.kind)return de.error(`Cannot compare types '${Ui(Ve.type)}' and '${Ui(Ne.type)}'.`);b&&("value"===Ve.type.kind&&"value"!==Ne.type.kind?Ve=new ss(Ne.type,[Ve]):"value"!==Ve.type.kind&&"value"===Ne.type.kind&&(Ne=new ss(Ve.type,[Ne])));let mt=null;if(4===q.length){if("string"!==Ve.type.kind&&"string"!==Ne.type.kind&&"value"!==Ve.type.kind&&"value"!==Ne.type.kind)return de.error("Cannot use collator to compare non-string types.");if(mt=de.parse(q[3],3,rs),!mt)return null}return new K0(Ve,Ne,mt)}evaluate(q){const de=this.lhs.evaluate(q),Oe=this.rhs.evaluate(q);if(b&&this.hasUntypedArgument){const Ve=uo(de),Ne=uo(Oe);if(Ve.kind!==Ne.kind||"string"!==Ve.kind&&"number"!==Ve.kind)throw new Wi(`Expected arguments for "${d}" to be (string, string) or (number, number), but found (${Ve.kind}, ${Ne.kind}) instead.`)}if(this.collator&&!b&&this.hasUntypedArgument){const Ve=uo(de),Ne=uo(Oe);if("string"!==Ve.kind||"string"!==Ne.kind)return c(q,de,Oe)}return this.collator?u(q,de,Oe,this.collator.evaluate(q)):c(q,de,Oe)}eachChild(q){q(this.lhs),q(this.rhs),this.collator&&q(this.collator)}outputDefined(){return!0}serialize(){const q=[d];return this.eachChild(de=>{q.push(de.serialize())}),q}}}const nf=Xo("==",function(d,c,u){return c===u},Vc),zc=Xo("!=",function(d,c,u){return c!==u},function(d,c,u,b){return!Vc(0,c,u,b)}),ih=Xo("<",function(d,c,u){return c<u},function(d,c,u,b){return b.compare(c,u)<0}),oh=Xo(">",function(d,c,u){return c>u},function(d,c,u,b){return b.compare(c,u)>0}),sh=Xo("<=",function(d,c,u){return c<=u},function(d,c,u,b){return b.compare(c,u)<=0}),ah=Xo(">=",function(d,c,u){return c>=u},function(d,c,u,b){return b.compare(c,u)>=0});class mu{constructor(c,u,b,Y,q){this.type=Ur,this.number=c,this.locale=u,this.currency=b,this.minFractionDigits=Y,this.maxFractionDigits=q}static parse(c,u){if(3!==c.length)return u.error("Expected two arguments.");const b=u.parse(c[1],1,rr);if(!b)return null;const Y=c[2];if("object"!=typeof Y||Array.isArray(Y))return u.error("NumberFormat options argument must be an object.");let q=null;if(Y.locale&&(q=u.parse(Y.locale,1,Ur),!q))return null;let de=null;if(Y.currency&&(de=u.parse(Y.currency,1,Ur),!de))return null;let Oe=null;if(Y["min-fraction-digits"]&&(Oe=u.parse(Y["min-fraction-digits"],1,rr),!Oe))return null;let Ve=null;return Y["max-fraction-digits"]&&(Ve=u.parse(Y["max-fraction-digits"],1,rr),!Ve)?null:new mu(b,q,de,Oe,Ve)}evaluate(c){return new Intl.NumberFormat(this.locale?this.locale.evaluate(c):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(c):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(c):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(c):void 0}).format(this.number.evaluate(c))}eachChild(c){c(this.number),this.locale&&c(this.locale),this.currency&&c(this.currency),this.minFractionDigits&&c(this.minFractionDigits),this.maxFractionDigits&&c(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const c={};return this.locale&&(c.locale=this.locale.serialize()),this.currency&&(c.currency=this.currency.serialize()),this.minFractionDigits&&(c["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(c["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),c]}}class vu{constructor(c){this.type=rr,this.input=c}static parse(c,u){if(2!==c.length)return u.error(`Expected 1 argument, but found ${c.length-1} instead.`);const b=u.parse(c[1],1);return b?"array"!==b.type.kind&&"string"!==b.type.kind&&"value"!==b.type.kind?u.error(`Expected argument of type string or array, but found ${Ui(b.type)} instead.`):new vu(b):null}evaluate(c){const u=this.input.evaluate(c);if("string"==typeof u)return u.length;if(Array.isArray(u))return u.length;throw new Wi(`Expected value to be of type string or array, but found ${Ui(uo(u))} instead.`)}eachChild(c){c(this.input)}outputDefined(){return!1}serialize(){const c=["length"];return this.eachChild(u=>{c.push(u.serialize())}),c}}const yu={"==":nf,"!=":zc,">":oh,"<":ih,">=":ah,"<=":sh,array:ss,at:Bc,boolean:ss,case:$c,coalesce:fu,collator:ya,format:Qs,image:al,in:ho,"index-of":No,interpolate:Vo,"interpolate-hcl":Vo,"interpolate-lab":Vo,length:vu,let:zo,literal:no,match:Gs,number:ss,"number-format":mu,object:ss,slice:pu,step:rt,string:ss,"to-boolean":Bs,"to-color":Bs,"to-number":Bs,"to-string":Bs,var:ve,within:Ko};function Vl(d,[c,u,b,Y]){c=c.evaluate(d),u=u.evaluate(d),b=b.evaluate(d);const q=Y?Y.evaluate(d):1,de=Fl(c,u,b,q);if(de)throw new Wi(de);return new vi(c/255*q,u/255*q,b/255*q,q)}function _u(d,c){return d in c}function zs(d,c){const u=c[d];return void 0===u?null:u}function Hs(d){return{type:d}}function zu(d){return{result:"success",value:d}}function gl(d){return{result:"error",value:d}}function Jr(d){return"data-driven"===d["property-type"]||"cross-faded-data-driven"===d["property-type"]}function Hu(d){return!!d.expression&&d.expression.parameters.indexOf("zoom")>-1}function Wu(d){return!!d.expression&&d.expression.interpolated}function di(d){return d instanceof Number?"number":d instanceof String?"string":d instanceof Boolean?"boolean":Array.isArray(d)?"array":null===d?"null":typeof d}function ro(d){return"object"==typeof d&&null!==d&&!Array.isArray(d)}co.register(yu,{error:[{kind:"error"},[Ur],(d,[c])=>{throw new Wi(c.evaluate(d))}],typeof:[Ur,[br],(d,[c])=>Ui(uo(c.evaluate(d)))],"to-rgba":[wo(rr,4),[Ti],(d,[c])=>c.evaluate(d).toArray()],rgb:[Ti,[rr,rr,rr],Vl],rgba:[Ti,[rr,rr,rr,rr],Vl],has:{type:Zr,overloads:[[[Ur],(d,[c])=>_u(c.evaluate(d),d.properties())],[[Ur,Fo],(d,[c,u])=>_u(c.evaluate(d),u.evaluate(d))]]},get:{type:br,overloads:[[[Ur],(d,[c])=>zs(c.evaluate(d),d.properties())],[[Ur,Fo],(d,[c,u])=>zs(c.evaluate(d),u.evaluate(d))]]},"feature-state":[br,[Ur],(d,[c])=>zs(c.evaluate(d),d.featureState||{})],properties:[Fo,[],d=>d.properties()],"geometry-type":[Ur,[],d=>d.geometryType()],id:[br,[],d=>d.id()],zoom:[rr,[],d=>d.globals.zoom],pitch:[rr,[],d=>d.globals.pitch||0],"distance-from-center":[rr,[],d=>d.distanceFromCenter()],"heatmap-density":[rr,[],d=>d.globals.heatmapDensity||0],"line-progress":[rr,[],d=>d.globals.lineProgress||0],"sky-radial-progress":[rr,[],d=>d.globals.skyRadialProgress||0],accumulated:[br,[],d=>void 0===d.globals.accumulated?null:d.globals.accumulated],"+":[rr,Hs(rr),(d,c)=>{let u=0;for(const b of c)u+=b.evaluate(d);return u}],"*":[rr,Hs(rr),(d,c)=>{let u=1;for(const b of c)u*=b.evaluate(d);return u}],"-":{type:rr,overloads:[[[rr,rr],(d,[c,u])=>c.evaluate(d)-u.evaluate(d)],[[rr],(d,[c])=>-c.evaluate(d)]]},"/":[rr,[rr,rr],(d,[c,u])=>c.evaluate(d)/u.evaluate(d)],"%":[rr,[rr,rr],(d,[c,u])=>c.evaluate(d)%u.evaluate(d)],ln2:[rr,[],()=>Math.LN2],pi:[rr,[],()=>Math.PI],e:[rr,[],()=>Math.E],"^":[rr,[rr,rr],(d,[c,u])=>Math.pow(c.evaluate(d),u.evaluate(d))],sqrt:[rr,[rr],(d,[c])=>Math.sqrt(c.evaluate(d))],log10:[rr,[rr],(d,[c])=>Math.log(c.evaluate(d))/Math.LN10],ln:[rr,[rr],(d,[c])=>Math.log(c.evaluate(d))],log2:[rr,[rr],(d,[c])=>Math.log(c.evaluate(d))/Math.LN2],sin:[rr,[rr],(d,[c])=>Math.sin(c.evaluate(d))],cos:[rr,[rr],(d,[c])=>Math.cos(c.evaluate(d))],tan:[rr,[rr],(d,[c])=>Math.tan(c.evaluate(d))],asin:[rr,[rr],(d,[c])=>Math.asin(c.evaluate(d))],acos:[rr,[rr],(d,[c])=>Math.acos(c.evaluate(d))],atan:[rr,[rr],(d,[c])=>Math.atan(c.evaluate(d))],min:[rr,Hs(rr),(d,c)=>Math.min(...c.map(u=>u.evaluate(d)))],max:[rr,Hs(rr),(d,c)=>Math.max(...c.map(u=>u.evaluate(d)))],abs:[rr,[rr],(d,[c])=>Math.abs(c.evaluate(d))],round:[rr,[rr],(d,[c])=>{const u=c.evaluate(d);return u<0?-Math.round(-u):Math.round(u)}],floor:[rr,[rr],(d,[c])=>Math.floor(c.evaluate(d))],ceil:[rr,[rr],(d,[c])=>Math.ceil(c.evaluate(d))],"filter-==":[Zr,[Ur,br],(d,[c,u])=>d.properties()[c.value]===u.value],"filter-id-==":[Zr,[br],(d,[c])=>d.id()===c.value],"filter-type-==":[Zr,[Ur],(d,[c])=>d.geometryType()===c.value],"filter-<":[Zr,[Ur,br],(d,[c,u])=>{const b=d.properties()[c.value],Y=u.value;return typeof b==typeof Y&&b<Y}],"filter-id-<":[Zr,[br],(d,[c])=>{const u=d.id(),b=c.value;return typeof u==typeof b&&u<b}],"filter->":[Zr,[Ur,br],(d,[c,u])=>{const b=d.properties()[c.value],Y=u.value;return typeof b==typeof Y&&b>Y}],"filter-id->":[Zr,[br],(d,[c])=>{const u=d.id(),b=c.value;return typeof u==typeof b&&u>b}],"filter-<=":[Zr,[Ur,br],(d,[c,u])=>{const b=d.properties()[c.value],Y=u.value;return typeof b==typeof Y&&b<=Y}],"filter-id-<=":[Zr,[br],(d,[c])=>{const u=d.id(),b=c.value;return typeof u==typeof b&&u<=b}],"filter->=":[Zr,[Ur,br],(d,[c,u])=>{const b=d.properties()[c.value],Y=u.value;return typeof b==typeof Y&&b>=Y}],"filter-id->=":[Zr,[br],(d,[c])=>{const u=d.id(),b=c.value;return typeof u==typeof b&&u>=b}],"filter-has":[Zr,[br],(d,[c])=>c.value in d.properties()],"filter-has-id":[Zr,[],d=>null!==d.id()&&void 0!==d.id()],"filter-type-in":[Zr,[wo(Ur)],(d,[c])=>c.value.indexOf(d.geometryType())>=0],"filter-id-in":[Zr,[wo(br)],(d,[c])=>c.value.indexOf(d.id())>=0],"filter-in-small":[Zr,[Ur,wo(br)],(d,[c,u])=>u.value.indexOf(d.properties()[c.value])>=0],"filter-in-large":[Zr,[Ur,wo(br)],(d,[c,u])=>function(d,c,u,b){for(;u<=b;){const Y=u+b>>1;if(c[Y]===d)return!0;c[Y]>d?b=Y-1:u=Y+1}return!1}(d.properties()[c.value],u.value,0,u.value.length-1)],all:{type:Zr,overloads:[[[Zr,Zr],(d,[c,u])=>c.evaluate(d)&&u.evaluate(d)],[Hs(Zr),(d,c)=>{for(const u of c)if(!u.evaluate(d))return!1;return!0}]]},any:{type:Zr,overloads:[[[Zr,Zr],(d,[c,u])=>c.evaluate(d)||u.evaluate(d)],[Hs(Zr),(d,c)=>{for(const u of c)if(u.evaluate(d))return!0;return!1}]]},"!":[Zr,[Zr],(d,[c])=>!c.evaluate(d)],"is-supported-script":[Zr,[Ur],(d,[c])=>{const u=d.globals&&d.globals.isSupportedScript;return!u||u(c.evaluate(d))}],upcase:[Ur,[Ur],(d,[c])=>c.evaluate(d).toUpperCase()],downcase:[Ur,[Ur],(d,[c])=>c.evaluate(d).toLowerCase()],concat:[Ur,Hs(br),(d,c)=>c.map(u=>ja(u.evaluate(d))).join("")],"resolved-locale":[Ur,[rs],(d,[c])=>c.evaluate(d).resolvedLocale()]});class Hc{constructor(c,u){this.expression=c,this._warningHistory={},this._evaluator=new ri,this._defaultValue=u?function(d){return"color"===d.type&&ro(d.default)?new vi(0,0,0,0):"color"===d.type?vi.parse(d.default)||null:void 0===d.default?null:d.default}(u):null,this._enumValues=u&&"enum"===u.type?u.values:null}evaluateWithoutErrorHandling(c,u,b,Y,q,de,Oe,Ve){return this._evaluator.globals=c,this._evaluator.feature=u,this._evaluator.featureState=b,this._evaluator.canonical=Y,this._evaluator.availableImages=q||null,this._evaluator.formattedSection=de,this._evaluator.featureTileCoord=Oe||null,this._evaluator.featureDistanceData=Ve||null,this.expression.evaluate(this._evaluator)}evaluate(c,u,b,Y,q,de,Oe,Ve){this._evaluator.globals=c,this._evaluator.feature=u||null,this._evaluator.featureState=b||null,this._evaluator.canonical=Y,this._evaluator.availableImages=q||null,this._evaluator.formattedSection=de||null,this._evaluator.featureTileCoord=Oe||null,this._evaluator.featureDistanceData=Ve||null;try{const Ne=this.expression.evaluate(this._evaluator);if(null==Ne||"number"==typeof Ne&&Ne!=Ne)return this._defaultValue;if(this._enumValues&&!(Ne in this._enumValues))throw new Wi(`Expected value to be one of ${Object.keys(this._enumValues).map(mt=>JSON.stringify(mt)).join(", ")}, but found ${JSON.stringify(Ne)} instead.`);return Ne}catch(Ne){return this._warningHistory[Ne.message]||(this._warningHistory[Ne.message]=!0,"undefined"!=typeof console&&console.warn(Ne.message)),this._defaultValue}}}function Ss(d){return Array.isArray(d)&&d.length>0&&"string"==typeof d[0]&&d[0]in yu}function Os(d,c){const u=new Ae(yu,[],c?function(d){const c={color:Ti,string:Ur,number:rr,enum:Ur,boolean:Zr,formatted:La,resolvedImage:ms};return"array"===d.type?wo(c[d.value]||br,d.length):c[d.type]}(c):void 0),b=u.parse(d,void 0,void 0,void 0,c&&"string"===c.type?{typeAnnotation:"coerce"}:void 0);return b?zu(new Hc(b,c)):gl(u.errors)}class zl{constructor(c,u){this.kind=c,this._styleExpression=u,this.isStateDependent="constant"!==c&&!Q(u.expression)}evaluateWithoutErrorHandling(c,u,b,Y,q,de){return this._styleExpression.evaluateWithoutErrorHandling(c,u,b,Y,q,de)}evaluate(c,u,b,Y,q,de){return this._styleExpression.evaluate(c,u,b,Y,q,de)}}class wa{constructor(c,u,b,Y){this.kind=c,this.zoomStops=b,this._styleExpression=u,this.isStateDependent="camera"!==c&&!Q(u.expression),this.interpolationType=Y}evaluateWithoutErrorHandling(c,u,b,Y,q,de){return this._styleExpression.evaluateWithoutErrorHandling(c,u,b,Y,q,de)}evaluate(c,u,b,Y,q,de){return this._styleExpression.evaluate(c,u,b,Y,q,de)}interpolationFactor(c,u,b){return this.interpolationType?Vo.interpolationFactor(this.interpolationType,c,u,b):0}}function Yu(d,c){if("error"===(d=Os(d,c)).result)return d;const u=d.value.expression,b=ie(u);if(!b&&!Jr(c))return gl([new Xi("","data expressions not supported")]);const Y=X(u,["zoom","pitch","distance-from-center"]);if(!Y&&!Hu(c))return gl([new Xi("","zoom expressions not supported")]);const q=Ha(u);if(!q&&!Y)return gl([new Xi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(q instanceof Xi)return gl([q]);if(q instanceof Vo&&!Wu(c))return gl([new Xi("",'"interpolate" expressions cannot be used with this property')]);if(!q)return zu(new zl(b?"constant":"source",d.value));return zu(new wa(b?"camera":"composite",d.value,q.labels,q instanceof Vo?q.interpolation:void 0))}function Ha(d){let c=null;if(d instanceof zo)c=Ha(d.result);else if(d instanceof fu){for(const u of d.args)if(c=Ha(u),c)break}else(d instanceof rt||d instanceof Vo)&&d.input instanceof co&&"zoom"===d.input.name&&(c=d);return c instanceof Xi||d.eachChild(u=>{const b=Ha(u);b instanceof Xi?c=b:!c&&b?c=new Xi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):c&&b&&c!==b&&(c=new Xi("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),c}function Hl(d){return"object"==typeof d?["literal",d]:d}function Xu(d){switch(d.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Ju(d,c){const u=Hl(function(d,c){return void 0!==d?d:void 0!==c?c:void 0}(d.default,c.default));return void 0===u&&"resolvedImage"===c.type?"":u}function qu(d,c,u){const b=yl(d,c),Y=["get",d.property];if("categorical"===b&&"boolean"==typeof u[0][0]){const q=["case"];for(const de of u)q.push(["==",Y,de[0]],de[1]);return q.push(Ju(d,c)),q}if("categorical"===b){const q=["match",Y];for(const de of u)Za(q,de[0],de[1],!1);return q.push(Ju(d,c)),q}if("interval"===b){const q=["step",["number",Y]];for(const de of u)Za(q,de[0],de[1],!0);return Qu(q),void 0===d.default?q:["case",["==",["typeof",Y],"number"],q,Hl(d.default)]}if("exponential"===b){const q=void 0!==d.base?d.base:1,de=[Xu(d),1===q?["linear"]:["exponential",q],["number",Y]];for(const Oe of u)Za(de,Oe[0],Oe[1],!1);return void 0===d.default?de:["case",["==",["typeof",Y],"number"],de,Hl(d.default)]}throw new Error(`Unknown property function type ${b}`)}function Qu(d){"step"===d[0]&&3===d.length&&(d.push(0),d.push(d[3]))}function Za(d,c,u,b){d.length>3&&c===d[d.length-2]||(b&&2===d.length||d.push(c),d.push(u))}function yl(d,c){return d.type?d.type:c.expression.interpolated?"exponential":"interval"}function Ya(d){const c=["concat"],u=/{([^{}]+)}/g;let b=0;for(let Y=u.exec(d);null!==Y;Y=u.exec(d)){const q=d.slice(b,u.lastIndex-Y[0].length);b=u.lastIndex,q.length>0&&c.push(q),c.push(["get",Y[1]])}if(1===c.length)return d;if(b<d.length)c.push(d.slice(b));else if(2===c.length)return["to-string",c[1]];return c}function Gi(d){return d instanceof Number||d instanceof String||d instanceof Boolean?d.valueOf():d}function Is(d){if(Array.isArray(d))return d.map(Is);if(d instanceof Object&&!(d instanceof Number||d instanceof String||d instanceof Boolean)){const c={};for(const u in d)c[u]=Is(d[u]);return c}return Gi(d)}function _l(d){if(!0===d||!1===d)return!0;if(!Array.isArray(d)||0===d.length)return!1;switch(d[0]){case"has":return d.length>=2&&"$id"!==d[1]&&"$type"!==d[1];case"in":return d.length>=3&&("string"!=typeof d[1]||Array.isArray(d[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==d.length||Array.isArray(d[1])||Array.isArray(d[2]);case"any":case"all":for(const c of d.slice(1))if(!_l(c)&&"boolean"!=typeof c)return!1;return!0;default:return!0}}function sf(d,c="fill"){if(null==d)return{filter:()=>!0,needGeometry:!1,needFeature:!1};_l(d)||(d=xu(d));const u=d;let b=!0;try{b=function(d){if(!Ta(d))return d;let c=Is(d);return Eu(c),c=Wl(c),c}(u)}catch(mt){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(u,null,2)}\n        `)}const Y=hn[`filter_${c}`],q=Os(b,Y);let de=null;if("error"===q.result)throw new Error(q.value.map(mt=>`${mt.key}: ${mt.message}`).join(", "));de=(mt,pt,Yt)=>q.value.evaluate(mt,pt,{},Yt);let Oe=null,Ve=null;if(b!==u){const mt=Os(u,Y);if("error"===mt.result)throw new Error(mt.value.map(pt=>`${pt.key}: ${pt.message}`).join(", "));Oe=(pt,Yt,rn,Kt,tn)=>mt.value.evaluate(pt,Yt,{},rn,void 0,void 0,Kt,tn),Ve=!ie(mt.value.expression)}return de=de,{filter:de,dynamicFilter:Oe||void 0,needGeometry:bl(b),needFeature:!!Ve}}function Wl(d){if(!Array.isArray(d))return d;const c=function(d){if(mo.has(d[0]))for(let c=1;c<d.length;c++)if(Ta(d[c]))return!0;return d}(d);return!0===c?c:c.map(u=>Wl(u))}function Eu(d){let c=!1;const u=[];if("case"===d[0]){for(let b=1;b<d.length-1;b+=2)c=c||Ta(d[b]),u.push(d[b+1]);u.push(d[d.length-1])}else if("match"===d[0]){c=c||Ta(d[1]);for(let b=2;b<d.length-1;b+=2)u.push(d[b+1]);u.push(d[d.length-1])}else if("step"===d[0]){c=c||Ta(d[1]);for(let b=1;b<d.length-1;b+=2)u.push(d[b+1])}c&&(d.length=0,d.push("any",...u));for(let b=1;b<d.length;b++)Eu(d[b])}function Ta(d){if(!Array.isArray(d))return!1;if(function(d){return"pitch"===d||"distance-from-center"===d}(d[0]))return!0;for(let c=1;c<d.length;c++)if(Ta(d[c]))return!0;return!1}const mo=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Zl(d,c){return d<c?-1:d>c?1:0}function bl(d){if(!Array.isArray(d))return!1;if("within"===d[0])return!0;for(let c=1;c<d.length;c++)if(bl(d[c]))return!0;return!1}function xu(d){if(!d)return!0;const c=d[0];return d.length<=1?"any"!==c:"=="===c?wu(d[1],d[2],"=="):"!="===c?Kl(wu(d[1],d[2],"==")):"<"===c||">"===c||"<="===c||">="===c?wu(d[1],d[2],c):"any"===c?function(d){return["any"].concat(d.map(xu))}(d.slice(1)):"all"===c?["all"].concat(d.slice(1).map(xu)):"none"===c?["all"].concat(d.slice(1).map(xu).map(Kl)):"in"===c?Da(d[1],d.slice(2)):"!in"===c?Kl(Da(d[1],d.slice(2))):"has"===c?Yl(d[1]):"!has"===c?Kl(Yl(d[1])):"within"!==c||d}function wu(d,c,u){switch(d){case"$type":return[`filter-type-${u}`,c];case"$id":return[`filter-id-${u}`,c];default:return[`filter-${u}`,d,c]}}function Da(d,c){if(0===c.length)return!1;switch(d){case"$type":return["filter-type-in",["literal",c]];case"$id":return["filter-id-in",["literal",c]];default:return c.length>200&&!c.some(u=>typeof u!=typeof c[0])?["filter-in-large",d,["literal",c.sort(Zl)]]:["filter-in-small",d,["literal",c]]}}function Yl(d){switch(d){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",d]}}function Kl(d){return["!",d]}var lf=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function mh(d,c){const u={};for(const b in d)"ref"!==b&&(u[b]=d[b]);return lf.forEach(b=>{b in c&&(u[b]=c[b])}),u}class Qn{constructor(c,u,b,Y){this.message=(c?`${c}: `:"")+b,Y&&(this.identifier=Y),null!=u&&u.__line__&&(this.line=u.__line__)}}class yh{constructor(c){this.error=c,this.message=c.message;const u=c.message.match(/line (\d+)/);this.line=u?parseInt(u[1],10):0}}function wl(d){const u=d.value;return u?[new Qn(d.key,u,"constants have been deprecated as of v8")]:[]}function Ps(d){const c=d.key,u=d.value,b=d.valueSpec||{},Y=d.objectElementValidators||{},q=d.style,de=d.styleSpec;let Oe=[];const Ve=di(u);if("object"!==Ve)return[new Qn(c,u,`object expected, ${Ve} found`)];for(const Ne in u){const mt=Ne.split(".")[0],pt=b[mt]||b["*"];let Yt;if(Y[mt])Yt=Y[mt];else if(b[mt])Yt=ki;else if(Y["*"])Yt=Y["*"];else{if(!b["*"]){Oe.push(new Qn(c,u[Ne],`unknown property "${Ne}"`));continue}Yt=ki}Oe=Oe.concat(Yt({key:(c&&`${c}.`)+Ne,value:u[Ne],valueSpec:pt,style:q,styleSpec:de,object:u,objectKey:Ne},u))}for(const Ne in b)Y[Ne]||b[Ne].required&&void 0===b[Ne].default&&void 0===u[Ne]&&Oe.push(new Qn(c,u,`missing required property "${Ne}"`));return Oe}function sc(d){const c=d.value,u=d.valueSpec,b=d.style,Y=d.styleSpec,q=d.key,de=d.arrayElementValidator||ki;if("array"!==di(c))return[new Qn(q,c,`array expected, ${di(c)} found`)];if(u.length&&c.length!==u.length)return[new Qn(q,c,`array length ${u.length} expected, length ${c.length} found`)];if(u["min-length"]&&c.length<u["min-length"])return[new Qn(q,c,`array length at least ${u["min-length"]} expected, length ${c.length} found`)];let Oe={type:u.value,values:u.values,minimum:u.minimum,maximum:u.maximum};Y.$version<7&&(Oe.function=u.function),"object"===di(u.value)&&(Oe=u.value);let Ve=[];for(let Ne=0;Ne<c.length;Ne++)Ve=Ve.concat(de({array:c,arrayIndex:Ne,value:c[Ne],valueSpec:Oe,style:b,styleSpec:Y,key:`${q}[${Ne}]`}));return Ve}function Xc(d){const c=d.key,u=d.value,b=d.valueSpec;let Y=di(u);if("number"===Y&&u!=u&&(Y="NaN"),"number"!==Y)return[new Qn(c,u,`number expected, ${Y} found`)];if("minimum"in b){let q=b.minimum;if("array"===di(b.minimum)&&(q=b.minimum[d.arrayIndex]),u<q)return[new Qn(c,u,`${u} is less than the minimum value ${q}`)]}if("maximum"in b){let q=b.maximum;if("array"===di(b.maximum)&&(q=b.maximum[d.arrayIndex]),u>q)return[new Qn(c,u,`${u} is greater than the maximum value ${q}`)]}return[]}function Jc(d){const c=d.valueSpec,u=Gi(d.value.type);let b,q,de,Y={};const Oe="categorical"!==u&&void 0===d.value.property,Ve=!Oe,Ne="array"===di(d.value.stops)&&"array"===di(d.value.stops[0])&&"object"===di(d.value.stops[0][0]),mt=Ps({key:d.key,value:d.value,valueSpec:d.styleSpec.function,style:d.style,styleSpec:d.styleSpec,objectElementValidators:{stops:function(tn){if("identity"===u)return[new Qn(tn.key,tn.value,'identity function may not have a "stops" property')];let sn=[];const zn=tn.value;return sn=sn.concat(sc({key:tn.key,value:zn,valueSpec:tn.valueSpec,style:tn.style,styleSpec:tn.styleSpec,arrayElementValidator:Yt})),"array"===di(zn)&&0===zn.length&&sn.push(new Qn(tn.key,zn,"array must have at least one stop")),sn},default:function(tn){return ki({key:tn.key,value:tn.value,valueSpec:c,style:tn.style,styleSpec:tn.styleSpec})}}});return"identity"===u&&Oe&&mt.push(new Qn(d.key,d.value,'missing required property "property"')),"identity"!==u&&!d.value.stops&&mt.push(new Qn(d.key,d.value,'missing required property "stops"')),"exponential"===u&&d.valueSpec.expression&&!Wu(d.valueSpec)&&mt.push(new Qn(d.key,d.value,"exponential functions not supported")),d.styleSpec.$version>=8&&(Ve&&!Jr(d.valueSpec)?mt.push(new Qn(d.key,d.value,"property functions not supported")):Oe&&!Hu(d.valueSpec)&&mt.push(new Qn(d.key,d.value,"zoom functions not supported"))),("categorical"===u||Ne)&&void 0===d.value.property&&mt.push(new Qn(d.key,d.value,'"property" property is required')),mt;function Yt(tn){let sn=[];const zn=tn.value,qt=tn.key;if("array"!==di(zn))return[new Qn(qt,zn,`array expected, ${di(zn)} found`)];if(2!==zn.length)return[new Qn(qt,zn,`array length 2 expected, length ${zn.length} found`)];if(Ne){if("object"!==di(zn[0]))return[new Qn(qt,zn,`object expected, ${di(zn[0])} found`)];if(void 0===zn[0].zoom)return[new Qn(qt,zn,"object stop key must have zoom")];if(void 0===zn[0].value)return[new Qn(qt,zn,"object stop key must have value")];if(de&&de>Gi(zn[0].zoom))return[new Qn(qt,zn[0].zoom,"stop zoom values must appear in ascending order")];Gi(zn[0].zoom)!==de&&(de=Gi(zn[0].zoom),q=void 0,Y={}),sn=sn.concat(Ps({key:`${qt}[0]`,value:zn[0],valueSpec:{zoom:{}},style:tn.style,styleSpec:tn.styleSpec,objectElementValidators:{zoom:Xc,value:rn}}))}else sn=sn.concat(rn({key:`${qt}[0]`,value:zn[0],valueSpec:{},style:tn.style,styleSpec:tn.styleSpec},zn));return Ss(Is(zn[1]))?sn.concat([new Qn(`${qt}[1]`,zn[1],"expressions are not allowed in function stops.")]):sn.concat(ki({key:`${qt}[1]`,value:zn[1],valueSpec:c,style:tn.style,styleSpec:tn.styleSpec}))}function rn(tn,sn){const zn=di(tn.value),qt=Gi(tn.value),Rn=null!==tn.value?tn.value:sn;if(b){if(zn!==b)return[new Qn(tn.key,Rn,`${zn} stop domain type must match previous stop domain type ${b}`)]}else b=zn;if("number"!==zn&&"string"!==zn&&"boolean"!==zn)return[new Qn(tn.key,Rn,"stop domain value must be a number, string, or boolean")];if("number"!==zn&&"categorical"!==u){let Ln=`number expected, ${zn} found`;return Jr(c)&&void 0===u&&(Ln+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Qn(tn.key,Rn,Ln)]}return"categorical"!==u||"number"!==zn||isFinite(qt)&&Math.floor(qt)===qt?"categorical"!==u&&"number"===zn&&void 0!==q&&qt<q?[new Qn(tn.key,Rn,"stop domain values must appear in ascending order")]:(q=qt,"categorical"===u&&qt in Y?[new Qn(tn.key,Rn,"stop domain values must be unique")]:(Y[qt]=!0,[])):[new Qn(tn.key,Rn,`integer expected, found ${qt}`)]}}function Xa(d){const c=("property"===d.expressionContext?Yu:Os)(Is(d.value),d.valueSpec);if("error"===c.result)return c.value.map(b=>new Qn(`${d.key}${b.key}`,d.value,b.message));const u=c.value.expression||c.value._styleExpression.expression;if("property"===d.expressionContext&&"text-font"===d.propertyKey&&!u.outputDefined())return[new Qn(d.key,d.value,`Invalid data expression for "${d.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===d.expressionContext&&"layout"===d.propertyType&&!Q(u))return[new Qn(d.key,d.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===d.expressionContext)return Xl(u,d);if(d.expressionContext&&0===d.expressionContext.indexOf("cluster")){if(!X(u,["zoom","feature-state"]))return[new Qn(d.key,d.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===d.expressionContext&&!ie(u))return[new Qn(d.key,d.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Xl(d,c){const u=new Set(["zoom","feature-state","pitch","distance-from-center"]);for(const Y of c.valueSpec.expression.parameters)u.delete(Y);if(0===u.size)return[];const b=[];return d instanceof co&&u.has(d.name)?[new Qn(c.key,c.value,`["${d.name}"] expression is not supported in a filter for a ${c.object.type} layer with id: ${c.object.id}`)]:(d.eachChild(Y=>{b.push(...Xl(Y,c))}),b)}function Ja(d){const c=d.key,u=d.value,b=d.valueSpec,Y=[];return Array.isArray(b.values)?-1===b.values.indexOf(Gi(u))&&Y.push(new Qn(c,u,`expected one of [${b.values.join(", ")}], ${JSON.stringify(u)} found`)):-1===Object.keys(b.values).indexOf(Gi(u))&&Y.push(new Qn(c,u,`expected one of [${Object.keys(b.values).join(", ")}], ${JSON.stringify(u)} found`)),Y}function io(d){if(_l(Is(d.value))){const c=Is(d.layerType);return Xa(qi({},d,{expressionContext:"filter",valueSpec:d.styleSpec[`filter_${c||"fill"}`]}))}return qc(d)}function qc(d){const c=d.value,u=d.key;if("array"!==di(c))return[new Qn(u,c,`array expected, ${di(c)} found`)];const b=d.styleSpec;let Y,q=[];if(c.length<1)return[new Qn(u,c,"filter array must have at least 1 element")];switch(q=q.concat(Ja({key:`${u}[0]`,value:c[0],valueSpec:b.filter_operator,style:d.style,styleSpec:d.styleSpec})),Gi(c[0])){case"<":case"<=":case">":case">=":c.length>=2&&"$type"===Gi(c[1])&&q.push(new Qn(u,c,`"$type" cannot be use with operator "${c[0]}"`));case"==":case"!=":3!==c.length&&q.push(new Qn(u,c,`filter array for operator "${c[0]}" must have 3 elements`));case"in":case"!in":c.length>=2&&(Y=di(c[1]),"string"!==Y&&q.push(new Qn(`${u}[1]`,c[1],`string expected, ${Y} found`)));for(let de=2;de<c.length;de++)Y=di(c[de]),"$type"===Gi(c[1])?q=q.concat(Ja({key:`${u}[${de}]`,value:c[de],valueSpec:b.geometry_type,style:d.style,styleSpec:d.styleSpec})):"string"!==Y&&"number"!==Y&&"boolean"!==Y&&q.push(new Qn(`${u}[${de}]`,c[de],`string, number, or boolean expected, ${Y} found`));break;case"any":case"all":case"none":for(let de=1;de<c.length;de++)q=q.concat(qc({key:`${u}[${de}]`,value:c[de],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":Y=di(c[1]),2!==c.length?q.push(new Qn(u,c,`filter array for "${c[0]}" operator must have 2 elements`)):"string"!==Y&&q.push(new Qn(`${u}[1]`,c[1],`string expected, ${Y} found`));break;case"within":Y=di(c[1]),2!==c.length?q.push(new Qn(u,c,`filter array for "${c[0]}" operator must have 2 elements`)):"object"!==Y&&q.push(new Qn(`${u}[1]`,c[1],`object expected, ${Y} found`))}return q}function Mu(d,c){const u=d.key,b=d.style,Y=d.styleSpec,q=d.value,de=d.objectKey,Oe=Y[`${c}_${d.layerType}`];if(!Oe)return[];const Ve=de.match(/^(.*)-transition$/);if("paint"===c&&Ve&&Oe[Ve[1]]&&Oe[Ve[1]].transition)return ki({key:u,value:q,valueSpec:Y.transition,style:b,styleSpec:Y});const Ne=d.valueSpec||Oe[de];if(!Ne)return[new Qn(u,q,`unknown property "${de}"`)];let mt;if("string"===di(q)&&Jr(Ne)&&!Ne.tokens&&(mt=/^{([^}]+)}$/.exec(q)))return[new Qn(u,q,`"${de}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(mt[1])} }\`.`)];const pt=[];return"symbol"===d.layerType&&("text-field"===de&&b&&!b.glyphs&&pt.push(new Qn(u,q,'use of "text-field" requires a style "glyphs" property')),"text-font"===de&&ro(Is(q))&&"identity"===Gi(q.type)&&pt.push(new Qn(u,q,'"text-font" does not support identity functions'))),pt.concat(ki({key:d.key,value:q,valueSpec:Ne,style:b,styleSpec:Y,expressionContext:"property",propertyType:c,propertyKey:de}))}function Su(d){return Mu(d,"paint")}function ac(d){return Mu(d,"layout")}function lc(d){let c=[];const u=d.value,b=d.key,Y=d.style,q=d.styleSpec;!u.type&&!u.ref&&c.push(new Qn(b,u,'either "type" or "ref" is required'));let de=Gi(u.type);const Oe=Gi(u.ref);if(u.id){const Ve=Gi(u.id);for(let Ne=0;Ne<d.arrayIndex;Ne++){const mt=Y.layers[Ne];Gi(mt.id)===Ve&&c.push(new Qn(b,u.id,`duplicate layer id "${u.id}", previously used at line ${mt.id.__line__}`))}}if("ref"in u){let Ve;["type","source","source-layer","filter","layout"].forEach(Ne=>{Ne in u&&c.push(new Qn(b,u[Ne],`"${Ne}" is prohibited for ref layers`))}),Y.layers.forEach(Ne=>{Gi(Ne.id)===Oe&&(Ve=Ne)}),Ve?Ve.ref?c.push(new Qn(b,u.ref,"ref cannot reference another ref layer")):de=Gi(Ve.type):c.push(new Qn(b,u.ref,`ref layer "${Oe}" not found`))}else if("background"!==de&&"sky"!==de)if(u.source){const Ve=Y.sources&&Y.sources[u.source],Ne=Ve&&Gi(Ve.type);Ve?"vector"===Ne&&"raster"===de?c.push(new Qn(b,u.source,`layer "${u.id}" requires a raster source`)):"raster"===Ne&&"raster"!==de?c.push(new Qn(b,u.source,`layer "${u.id}" requires a vector source`)):"vector"!==Ne||u["source-layer"]?"raster-dem"===Ne&&"hillshade"!==de?c.push(new Qn(b,u.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"===de&&u.paint&&u.paint["line-gradient"]&&("geojson"!==Ne||!Ve.lineMetrics)&&c.push(new Qn(b,u,`layer "${u.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):c.push(new Qn(b,u,`layer "${u.id}" must specify a "source-layer"`)):c.push(new Qn(b,u.source,`source "${u.source}" not found`))}else c.push(new Qn(b,u,'missing required property "source"'));return c=c.concat(Ps({key:b,value:u,valueSpec:q.layer,style:d.style,styleSpec:d.styleSpec,objectElementValidators:{"*":()=>[],type:()=>ki({key:`${b}.type`,value:u.type,valueSpec:q.layer.type,style:d.style,styleSpec:d.styleSpec,object:u,objectKey:"type"}),filter:Ve=>io(qi({layerType:de},Ve)),layout:Ve=>Ps({layer:u,key:Ve.key,value:Ve.value,style:Ve.style,styleSpec:Ve.styleSpec,objectElementValidators:{"*":Ne=>ac(qi({layerType:de},Ne))}}),paint:Ve=>Ps({layer:u,key:Ve.key,value:Ve.value,style:Ve.style,styleSpec:Ve.styleSpec,objectElementValidators:{"*":Ne=>Su(qi({layerType:de},Ne))}})}})),c}function Cl(d){const c=d.value,u=d.key,b=di(c);return"string"!==b?[new Qn(u,c,`string expected, ${b} found`)]:[]}const Qc={promoteId:function({key:d,value:c}){if("string"===di(c))return Cl({key:d,value:c});{const u=[];for(const b in c)u.push(...Cl({key:`${d}.${b}`,value:c[b]}));return u}}};function ed(d){const c=d.value,u=d.key,b=d.styleSpec,Y=d.style;if(!c.type)return[new Qn(u,c,'"type" is required')];const q=Gi(c.type);let de;switch(q){case"vector":case"raster":case"raster-dem":return de=Ps({key:u,value:c,valueSpec:b[`source_${q.replace("-","_")}`],style:d.style,styleSpec:b,objectElementValidators:Qc}),de;case"geojson":if(de=Ps({key:u,value:c,valueSpec:b.source_geojson,style:Y,styleSpec:b,objectElementValidators:Qc}),c.cluster)for(const Oe in c.clusterProperties){const[Ve,Ne]=c.clusterProperties[Oe],mt="string"==typeof Ve?[Ve,["accumulated"],["get",Oe]]:Ve;de.push(...Xa({key:`${u}.${Oe}.map`,value:Ne,expressionContext:"cluster-map"})),de.push(...Xa({key:`${u}.${Oe}.reduce`,value:mt,expressionContext:"cluster-reduce"}))}return de;case"video":return Ps({key:u,value:c,valueSpec:b.source_video,style:Y,styleSpec:b});case"image":return Ps({key:u,value:c,valueSpec:b.source_image,style:Y,styleSpec:b});case"canvas":return[new Qn(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ja({key:`${u}.type`,value:c.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Y,styleSpec:b})}}function Ou(d){const c=d.value,u=d.styleSpec,b=u.light,Y=d.style;let q=[];const de=di(c);if(void 0===c)return q;if("object"!==de)return q=q.concat([new Qn("light",c,`object expected, ${de} found`)]),q;for(const Oe in c){const Ve=Oe.match(/^(.*)-transition$/);q=q.concat(Ve&&b[Ve[1]]&&b[Ve[1]].transition?ki({key:Oe,value:c[Oe],valueSpec:u.transition,style:Y,styleSpec:u}):b[Oe]?ki({key:Oe,value:c[Oe],valueSpec:b[Oe],style:Y,styleSpec:u}):[new Qn(Oe,c[Oe],`unknown property "${Oe}"`)])}return q}function bh(d){const c=d.value,u=d.key,b=d.style,Y=d.styleSpec,q=Y.terrain;let de=[];const Oe=di(c);if(void 0===c)return de;if("object"!==Oe)return de=de.concat([new Qn("terrain",c,`object expected, ${Oe} found`)]),de;for(const Ve in c){const Ne=Ve.match(/^(.*)-transition$/);de=de.concat(Ne&&q[Ne[1]]&&q[Ne[1]].transition?ki({key:Ve,value:c[Ve],valueSpec:Y.transition,style:b,styleSpec:Y}):q[Ve]?ki({key:Ve,value:c[Ve],valueSpec:q[Ve],style:b,styleSpec:Y}):[new Qn(Ve,c[Ve],`unknown property "${Ve}"`)])}if(c.source){const Ve=b.sources&&b.sources[c.source],Ne=Ve&&Gi(Ve.type);Ve?"raster-dem"!==Ne&&de.push(new Qn(u,c.source,`terrain cannot be used with a source of type ${Ne}, it only be used with a "raster-dem" source type`)):de.push(new Qn(u,c.source,`source "${c.source}" not found`))}else de.push(new Qn(u,c,'terrain is missing required property "source"'));return de}function Tl(d){const c=d.value,u=d.style,b=d.styleSpec,Y=b.fog;let q=[];const de=di(c);if(void 0===c)return q;if("object"!==de)return q=q.concat([new Qn("fog",c,`object expected, ${de} found`)]),q;for(const Oe in c){const Ve=Oe.match(/^(.*)-transition$/);q=q.concat(Ve&&Y[Ve[1]]&&Y[Ve[1]].transition?ki({key:Oe,value:c[Oe],valueSpec:b.transition,style:u,styleSpec:b}):Y[Oe]?ki({key:Oe,value:c[Oe],valueSpec:Y[Oe],style:u,styleSpec:b}):[new Qn(Oe,c[Oe],`unknown property "${Oe}"`)])}return q}const ql={"*":()=>[],array:sc,boolean:function(d){const c=d.value,u=d.key,b=di(c);return"boolean"!==b?[new Qn(u,c,`boolean expected, ${b} found`)]:[]},number:Xc,color:function(d){const c=d.key,u=d.value,b=di(u);return"string"!==b?[new Qn(c,u,`color expected, ${b} found`)]:null===sl.parseCSSColor(u)?[new Qn(c,u,`color expected, "${u}" found`)]:[]},constants:wl,enum:Ja,filter:io,function:Jc,layer:lc,object:Ps,source:ed,light:Ou,terrain:bh,fog:Tl,string:Cl,formatted:function(d){return 0===Cl(d).length?[]:Xa(d)},resolvedImage:function(d){return 0===Cl(d).length?[]:Xa(d)},projection:function(d){const c=d.value,u=d.styleSpec,b=u.projection,Y=d.style;let q=[];const de=di(c);if("object"===de)for(const Oe in c)q=q.concat(ki({key:Oe,value:c[Oe],valueSpec:b[Oe],style:Y,styleSpec:u}));else"string"!==de&&(q=q.concat([new Qn("projection",c,`object or string expected, ${de} found`)]));return q}};function ki(d){const c=d.value,u=d.valueSpec,b=d.styleSpec;return u.expression&&ro(Gi(c))?Jc(d):u.expression&&Ss(Is(c))?Xa(d):u.type&&ql[u.type]?ql[u.type](d):Ps(qi({},d,{valueSpec:u.type?b[u.type]:u}))}function Ql(d){const c=d.value,u=d.key,b=Cl(d);return b.length||(-1===c.indexOf("{fontstack}")&&b.push(new Qn(u,c,'"glyphs" url must include a "{fontstack}" token')),-1===c.indexOf("{range}")&&b.push(new Qn(u,c,'"glyphs" url must include a "{range}" token'))),b}function Es(d,c=hn){let u=[];return u=u.concat(ki({key:"",value:d,valueSpec:c.$root,styleSpec:c,style:d,objectElementValidators:{glyphs:Ql,"*":()=>[]}})),d.constants&&(u=u.concat(wl({key:"constants",value:d.constants,style:d,styleSpec:c}))),nd(u)}function nd(d){return[].concat(d).sort((c,u)=>c.line-u.line)}function Ma(d){return function(...c){return nd(d.apply(this,c))}}Es.source=Ma(ed),Es.light=Ma(Ou),Es.terrain=Ma(bh),Es.fog=Ma(Tl),Es.layer=Ma(lc),Es.filter=Ma(io),Es.paintProperty=Ma(Su),Es.layoutProperty=Ma(ac);var Iu=xn(function(d,c){var u=function(){var b=function(zn,qt,Rn,Ln){for(Rn=Rn||{},Ln=zn.length;Ln--;Rn[zn[Ln]]=qt);return Rn},Y=[1,12],q=[1,13],de=[1,9],Oe=[1,10],Ve=[1,11],Ne=[1,14],mt=[1,15],pt=[14,18,22,24],Yt=[18,22],rn=[22,24],Kt={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(qt,Rn,Ln,Jn,lr,fr,qr){var vr=fr.length-1;switch(lr){case 1:this.$=new String(qt.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(qt),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=fr[vr-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=fr[vr-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[fr[vr-2],fr[vr]];break;case 16:this.$={},this.$[fr[vr][0]]=fr[vr][1];break;case 17:this.$=fr[vr-2],fr[vr-2][fr[vr][0]]=fr[vr][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[fr[vr]];break;case 21:this.$=fr[vr-2],fr[vr-2].push(fr[vr])}},table:[{3:5,4:Y,5:6,6:q,7:3,8:de,9:4,10:Oe,11:Ve,12:1,13:2,15:7,16:8,17:Ne,23:mt},{1:[3]},{14:[1,16]},b(pt,[2,7]),b(pt,[2,8]),b(pt,[2,9]),b(pt,[2,10]),b(pt,[2,11]),b(pt,[2,12]),b(pt,[2,3]),b(pt,[2,4]),b(pt,[2,5]),b([14,18,21,22,24],[2,1]),b(pt,[2,2]),{3:20,4:Y,18:[1,17],19:18,20:19},{3:5,4:Y,5:6,6:q,7:3,8:de,9:4,10:Oe,11:Ve,13:23,15:7,16:8,17:Ne,23:mt,24:[1,21],25:22},{1:[2,6]},b(pt,[2,13]),{18:[1,24],22:[1,25]},b(Yt,[2,16]),{21:[1,26]},b(pt,[2,18]),{22:[1,28],24:[1,27]},b(rn,[2,20]),b(pt,[2,14]),{3:20,4:Y,20:29},{3:5,4:Y,5:6,6:q,7:3,8:de,9:4,10:Oe,11:Ve,13:30,15:7,16:8,17:Ne,23:mt},b(pt,[2,19]),{3:5,4:Y,5:6,6:q,7:3,8:de,9:4,10:Oe,11:Ve,13:31,15:7,16:8,17:Ne,23:mt},b(Yt,[2,17]),b(Yt,[2,15]),b(rn,[2,21])],defaultActions:{16:[2,6]},parseError:function(qt,Rn){if(!Rn.recoverable)throw new Error(qt);this.trace(qt)},parse:function(qt){var Rn=this,Ln=[0],Jn=[null],lr=[],fr=this.table,qr="",vr=0,pi=0,zi=2,Zi=1,Mi=lr.slice.call(arguments,1),Si=Object.create(this.lexer),Yi={yy:{}};for(var eo in this.yy)Object.prototype.hasOwnProperty.call(this.yy,eo)&&(Yi.yy[eo]=this.yy[eo]);Si.setInput(qt,Yi.yy),Yi.yy.lexer=Si,Yi.yy.parser=this,void 0===Si.yylloc&&(Si.yylloc={});var Po=Si.yylloc;lr.push(Po);var ks=Si.options&&Si.options.ranges;function Ir(){var ur;return"number"!=typeof(ur=Si.lex()||Zi)&&(ur=Rn.symbols_[ur]||ur),ur}this.parseError="function"==typeof Yi.yy.parseError?Yi.yy.parseError:Object.getPrototypeOf(this).parseError;for(var $n,In,Er,Di,Li,ai,Do,Oi={};;){if(this.defaultActions[In=Ln[Ln.length-1]]?Er=this.defaultActions[In]:(null==$n&&($n=Ir()),Er=fr[In]&&fr[In][$n]),void 0===Er||!Er.length||!Er[0]){var Ao="";for(Li in Do=[],fr[In])this.terminals_[Li]&&Li>zi&&Do.push("'"+this.terminals_[Li]+"'");Ao=Si.showPosition?"Parse error on line "+(vr+1)+":\n"+Si.showPosition()+"\nExpecting "+Do.join(", ")+", got '"+(this.terminals_[$n]||$n)+"'":"Parse error on line "+(vr+1)+": Unexpected "+($n==Zi?"end of input":"'"+(this.terminals_[$n]||$n)+"'"),this.parseError(Ao,{text:Si.match,token:this.terminals_[$n]||$n,line:Si.yylineno,loc:Po,expected:Do})}if(Er[0]instanceof Array&&Er.length>1)throw new Error("Parse Error: multiple actions possible at state: "+In+", token: "+$n);switch(Er[0]){case 1:Ln.push($n),Jn.push(Si.yytext),lr.push(Si.yylloc),Ln.push(Er[1]),$n=null,pi=Si.yyleng,qr=Si.yytext,vr=Si.yylineno,Po=Si.yylloc;break;case 2:if(Oi.$=Jn[Jn.length-(ai=this.productions_[Er[1]][1])],Oi._$={first_line:lr[lr.length-(ai||1)].first_line,last_line:lr[lr.length-1].last_line,first_column:lr[lr.length-(ai||1)].first_column,last_column:lr[lr.length-1].last_column},ks&&(Oi._$.range=[lr[lr.length-(ai||1)].range[0],lr[lr.length-1].range[1]]),void 0!==(Di=this.performAction.apply(Oi,[qr,pi,vr,Yi.yy,Er[1],Jn,lr].concat(Mi))))return Di;ai&&(Ln=Ln.slice(0,-1*ai*2),Jn=Jn.slice(0,-1*ai),lr=lr.slice(0,-1*ai)),Ln.push(this.productions_[Er[1]][0]),Jn.push(Oi.$),lr.push(Oi._$),Ln.push(fr[Ln[Ln.length-2]][Ln[Ln.length-1]]);break;case 3:return!0}}return!0}};function sn(){this.yy={}}return Kt.lexer={EOF:1,parseError:function(Rn,Ln){if(!this.yy.parser)throw new Error(Rn);this.yy.parser.parseError(Rn,Ln)},setInput:function(qt,Rn){return this.yy=Rn||this.yy||{},this._input=qt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var qt=this._input[0];return this.yytext+=qt,this.yyleng++,this.offset++,this.match+=qt,this.matched+=qt,qt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),qt},unput:function(qt){var Rn=qt.length,Ln=qt.split(/(?:\r\n?|\n)/g);this._input=qt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Rn),this.offset-=Rn;var Jn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ln.length-1&&(this.yylineno-=Ln.length-1);var lr=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ln?(Ln.length===Jn.length?this.yylloc.first_column:0)+Jn[Jn.length-Ln.length].length-Ln[0].length:this.yylloc.first_column-Rn},this.options.ranges&&(this.yylloc.range=[lr[0],lr[0]+this.yyleng-Rn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(qt){this.unput(this.match.slice(qt))},pastInput:function(){var qt=this.matched.substr(0,this.matched.length-this.match.length);return(qt.length>20?"...":"")+qt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var qt=this.match;return qt.length<20&&(qt+=this._input.substr(0,20-qt.length)),(qt.substr(0,20)+(qt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var qt=this.pastInput(),Rn=new Array(qt.length+1).join("-");return qt+this.upcomingInput()+"\n"+Rn+"^"},test_match:function(qt,Rn){var Ln,Jn,lr;if(this.options.backtrack_lexer&&(lr={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(lr.yylloc.range=this.yylloc.range.slice(0))),(Jn=qt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=Jn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Jn?Jn[Jn.length-1].length-Jn[Jn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+qt[0].length},this.yytext+=qt[0],this.match+=qt[0],this.matches=qt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(qt[0].length),this.matched+=qt[0],Ln=this.performAction.call(this,this.yy,this,Rn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ln)return Ln;if(this._backtrack){for(var fr in lr)this[fr]=lr[fr];return!1}return!1},next:function(){if(this.done)return this.EOF;var qt,Rn,Ln,Jn;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var lr=this._currentRules(),fr=0;fr<lr.length;fr++)if((Ln=this._input.match(this.rules[lr[fr]]))&&(!Rn||Ln[0].length>Rn[0].length)){if(Rn=Ln,Jn=fr,this.options.backtrack_lexer){if(!1!==(qt=this.test_match(Ln,lr[fr])))return qt;if(this._backtrack){Rn=!1;continue}return!1}if(!this.options.flex)break}return Rn?!1!==(qt=this.test_match(Rn,lr[Jn]))&&qt:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Rn){this.conditionStack.push(Rn)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Rn){return(Rn=this.conditionStack.length-1-Math.abs(Rn||0))>=0?this.conditionStack[Rn]:"INITIAL"},pushState:function(Rn){this.begin(Rn)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Rn,Ln,Jn,lr){switch(Jn){case 0:break;case 1:return 6;case 2:return Ln.yytext=Ln.yytext.substr(1,Ln.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},sn.prototype=Kt,Kt.Parser=sn,new sn}();void 0!==Nn&&(c.parser=u,c.Parser=u.Parser,c.parse=function(){return u.parse.apply(u,arguments)})});function eu(d,c=hn){let u=d;try{u=function(d){if(d instanceof String||"string"==typeof d||d instanceof Buffer)try{return Iu.parse(d.toString())}catch(c){throw new yh(c)}return d}(u)}catch(b){return[b]}return Es(u,c)}const sd_isExpression=Ss,sd_createPropertyExpression=Yu,ad_convertFunction=function(d,c){let u=d.stops;if(!u)return function(d,c){const u=["get",d.property];if(void 0===d.default)return"string"===c.type?["string",u]:u;if("enum"===c.type)return["match",u,Object.keys(c.values),u,d.default];{const b=["color"===c.type?"to-color":c.type,u,Hl(d.default)];return"array"===c.type&&b.splice(1,0,c.value,c.length||null),b}}(d,c);const b=u&&"object"==typeof u[0][0],Y=b||void 0!==d.property,q=b||!Y;return u=u.map(de=>!Y&&c.tokens&&"string"==typeof de[1]?[de[0],Ya(de[1])]:[de[0],Hl(de[1])]),b?function(d,c,u){const b={},Y={},q=[];for(let Oe=0;Oe<u.length;Oe++){const Ve=u[Oe],Ne=Ve[0].zoom;void 0===b[Ne]&&(b[Ne]={zoom:Ne,type:d.type,property:d.property,default:d.default},Y[Ne]=[],q.push(Ne)),Y[Ne].push([Ve[0].value,Ve[1]])}if("exponential"===yl({},c)){const Oe=[Xu(d),["linear"],["zoom"]];for(const Ve of q)Za(Oe,Ve,qu(b[Ve],c,Y[Ve]),!1);return Oe}{const Oe=["step",["zoom"]];for(const Ve of q)Za(Oe,Ve,qu(b[Ve],c,Y[Ve]),!0);return Qu(Oe),Oe}}(d,c,u):q?function(d,c,u,b=["zoom"]){const Y=yl(d,c);let q,de=!1;if("interval"===Y)q=["step",b],de=!0;else{if("exponential"!==Y)throw new Error(`Unknown zoom function type "${Y}"`);{const Oe=void 0!==d.base?d.base:1;q=[Xu(d),1===Oe?["linear"]:["exponential",Oe],b]}}for(const Oe of u)Za(q,Oe[0],Oe[1],de);return Qu(q),q}(d,c,u):qu(d,c,u)},ad_isFunction=ro;eu.parsed=eu,eu.latest=eu;var ld=p(4686),Dl=p(1729),Ch="function"==typeof Object.assign?Object.assign:function(d,c){if(null==d)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(d),b=1,Y=arguments.length;b<Y;++b){var q=arguments[b];if(null!=q)for(var de in q)q.hasOwnProperty(de)&&(u[de]=q[de])}return u};function hc(d){return d*Math.PI/180}var ud=function(){for(var d=[],c=78271.51696402048;d.length<=24;c/=2)d.push(c);return d}();function fc(d,c){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(d,c);var u=document.createElement("canvas");return u.width=d,u.height=c,u}var pc,Dh=Array(256).join("\u200a");function cd(d,c){if(c>=.05){for(var u="",b=d.split("\n"),Y=Dh.slice(0,Math.round(c/.1)),q=0,de=b.length;q<de;++q)q>0&&(u+="\n"),u+=b[q].split("").join(Y);return u}return d}function gc(){return pc||(pc=fc(1,1).getContext("2d")),pc}function qa(d,c){return gc().measureText(d).width+(d.length-1)*c}var mc={};function dd(d,c,u,b){if(-1!==d.indexOf("\n")){for(var Y=d.split("\n"),q=[],de=0,Oe=Y.length;de<Oe;++de)q.push(dd(Y[de],c,u,b));return q.join("\n")}var Ve=u+","+c+","+d+","+b,Ne=mc[Ve];if(!Ne){var mt=d.split(" ");if(mt.length>1){var pt=gc();pt.font=c;var rn=pt.measureText("M").width*u,Kt="";for(q=[],de=0,Oe=mt.length;de<Oe;++de){var tn=mt[de],sn=Kt+(Kt?" ":"")+tn;qa(sn,b)<=rn?Kt=sn:(Kt&&q.push(Kt),Kt=tn)}for(Kt&&q.push(Kt),de=0,Oe=q.length;de<Oe&&Oe>1;++de){var zn=q[de];if(qa(zn,b)<.35*rn){var qt=de>0?qa(q[de-1],b):1/0,Rn=de<Oe-1?qa(q[de+1],b):1/0;q.splice(de,1),Oe-=1,qt<Rn?(q[de-1]+=" "+zn,de-=1):q[de]=zn+" "+q[de]}}for(de=0,Oe=q.length-1;de<Oe;++de){var Ln=q[de],Jn=q[de+1];if(qa(Ln,b)>.7*rn&&qa(Jn,b)<.6*rn){var lr=Ln.split(" "),fr=lr.pop();qa(fr,b)<.2*rn&&(q[de]=lr.join(" "),q[de+1]=fr+" "+Jn),Oe-=1}}Ne=q.join("\n")}else Ne=d;Ne=cd(Ne,b),mc[Ve]=Ne}return Ne}ld.GK&&(0,Dl.oL)(ld.GK,D.Z.CLEAR,function(){mc={}});var la,ua,Ml=ad_isFunction,Ys=ad_convertFunction,df=sd_isExpression,hf=sd_createPropertyExpression,Wo={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},ku={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},aa={},Ks={zoom:0};function jr(d,c,u,b,Y,q){var de=d.id;q||(q={},console.warn("No functionCache provided to getValue()")),q[de]||(q[de]={});var Oe=q[de];if(!Oe[u]){var Ve=(d[c]||aa)[u],Ne=hn["".concat(c,"_").concat(d.type)][u];void 0===Ve&&(Ve=Ne.default);var mt=df(Ve);if(!mt&&Ml(Ve)&&(Ve=Ys(Ve,Ne),mt=!0),mt){var pt=function(d,c){var u=hf(d,c);if("error"===u.result)throw new Error(u.value.map(function(b){return"".concat(b.key,": ").concat(b.message)}).join(", "));return u.value}(Ve,Ne);Oe[u]=pt.evaluate.bind(pt)}else"color"==Ne.type&&(Ve=vi.parse(Ve)),Oe[u]=function(){return Ve}}return Ks.zoom=b,Oe[u](Ks,Y)}function Xs(d,c){if(d){if(0===d.a||0===c)return;var u=d.a;return c=void 0===c?1:c,0===u?"transparent":"rgba("+Math.round(255*d.r/u)+","+Math.round(255*d.g/u)+","+Math.round(255*d.b/u)+","+u*c+")"}return d}var pd=/^([^]*)\{(.*)\}([^]*)$/;function ca(d,c){var u;do{(u=d.match(pd))&&(d=u[1]+(c[u[2]]||"")+u[3])}while(u);return d}function md(d,c,u,b,Y,q,de){if(void 0===b&&(b=ud),"string"==typeof c&&(c=JSON.parse(c)),8!=c.version)throw new Error("glStyle version 8 required.");var Oe,Ve;if(q)if("undefined"!=typeof Image){var Ne=new Image;Ne.crossOrigin="anonymous",Ne.onload=function(){Oe=Ne,Ve=[Ne.width,Ne.height],d.changed(),Ne.onload=null},Ne.src=q}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var mt=self;mt.postMessage({action:"loadImage",src:q}),mt.addEventListener("message",function(eo){"imageLoaded"===eo.data.action&&eo.data.src===q&&(Ve=[(Oe=eo.data.image).width,Oe.height])})}for(var qt,pt=function(d){d=d.slice();const c=Object.create(null);for(let u=0;u<d.length;u++)c[d[u].id]=d[u];for(let u=0;u<d.length;u++)"ref"in d[u]&&(d[u]=mh(d[u],c[d[u].ref]));return d}(c.layers),Yt={},rn=[],Kt={},tn={},sn={},zn={},Rn=0,Ln=pt.length;Rn<Ln;++Rn){var Jn=pt[Rn],lr=Jn.id;if("string"==typeof u&&Jn.source==u||-1!==u.indexOf(lr)){var fr=Jn["source-layer"];if(!qt){var qr=c.sources[qt=Jn.source];if(!qr)throw new Error('Source "'.concat(qt,'" is not defined'));var vr=qr.type;if("vector"!==vr&&"geojson"!==vr)throw new Error('Source "'.concat(qt,'" is not of type "vector" or "geojson", but "').concat(vr,'"'))}var pi=Yt[fr];pi||(Yt[fr]=pi=[]),pi.push({layer:Jn,index:Rn}),rn.push(lr)}}var zi=new En.Z,Zi=new zt.Z,Mi=[],Si=function(Yi,eo){var Po=Yi.getProperties(),ks=Yt[Po.layer];if(ks){var Ir=b.indexOf(eo);-1==Ir&&(Ir=function(d,c){for(var u=0,b=c.length;u<b;++u)if(c[u]<d&&u+1<b){var q=c[u]/c[u+1];return u+Math.log(c[u]/d)/Math.log(q)}return b-1}(eo,b));for(var $n=Wo[Yi.getGeometry().getType()],In={properties:Po,type:$n},Er=-1,Oi=function(vo,Do){var Ao=ks[vo],ur=Ao.layer,jo=ur.layout||aa,Mo=ur.paint||aa;if("none"===jo.visibility||"minzoom"in ur&&Ir<ur.minzoom||"maxzoom"in ur&&Ir>=ur.maxzoom)return"continue";var Js=ur.filter;if(!Js||function(d,c,u,b,Y){return Y||console.warn("No filterCache provided to evaluateFilter()"),d in Y||(Y[d]=sf(c).filter),Ks.zoom=b,Y[d](Ks,u)}(ur.id,Js,In,Ir,zn)){ur;var So=void 0,qo=void 0,Ls=void 0,xs=void 0,Gu=void 0,xr=void 0,Sa=Ao.index;if(3==$n&&("fill"==ur.type||"fill-extrusion"==ur.type))if(qo=jr(ur,"paint",ur.type+"-opacity",Ir,In,sn),ur.type+"-pattern"in Mo){var nu=jr(ur,"paint",ur.type+"-pattern",Ir,In,sn);if(nu){var ru="string"==typeof nu?ca(nu,Po):nu.toString();if(Oe&&Y&&Y[ru]){++Er,(!(xr=Mi[Er])||!xr.getFill()||xr.getStroke()||xr.getText())&&(xr=new dn.ZP({fill:new zt.Z}),Mi[Er]=xr),Ls=xr.getFill(),xr.setZIndex(Sa);var Fs=tn[Ol=ru+"."+qo];if(!Fs){var Id=fc((Qo=Y[ru]).width,Qo.height),iu=Id.getContext("2d");iu.globalAlpha=qo,iu.drawImage(Oe,Qo.x,Qo.y,Qo.width,Qo.height,0,0,Qo.width,Qo.height),Fs=iu.createPattern(Id,"repeat"),tn[Ol]=Fs}Ls.setColor(Fs)}}}else(So=Xs(jr(ur,"paint",ur.type+"-color",Ir,In,sn),qo))&&(ur.type+"-outline-color"in Mo&&(Gu=Xs(jr(ur,"paint",ur.type+"-outline-color",Ir,In,sn),qo)),Gu||(Gu=So),++Er,(!(xr=Mi[Er])||!(xr.getFill()&&xr.getStroke())||xr.getText())&&(xr=new dn.ZP({fill:new zt.Z,stroke:new En.Z}),Mi[Er]=xr),(Ls=xr.getFill()).setColor(So),(xs=xr.getStroke()).setColor(Gu),xs.setWidth(.5),xr.setZIndex(Sa));if(1!=$n&&"line"==ur.type){So=!("line-pattern"in Mo)&&"line-color"in Mo?Xs(jr(ur,"paint","line-color",Ir,In,sn),jr(ur,"paint","line-opacity",Ir,In,sn)):void 0;var ko=jr(ur,"paint","line-width",Ir,In,sn);So&&ko>0&&(++Er,(!(xr=Mi[Er])||!xr.getStroke()||xr.getFill()||xr.getText())&&(xr=new dn.ZP({stroke:new En.Z}),Mi[Er]=xr),(xs=xr.getStroke()).setLineCap(jr(ur,"layout","line-cap",Ir,In,sn)),xs.setLineJoin(jr(ur,"layout","line-join",Ir,In,sn)),xs.setMiterLimit(jr(ur,"layout","line-miter-limit",Ir,In,sn)),xs.setColor(So),xs.setWidth(ko),xs.setLineDash(Mo["line-dasharray"]?jr(ur,"paint","line-dasharray",Ir,In,sn).map(function(jf){return jf*ko}):null),xr.setZIndex(Sa))}var da=!1,yo=null,Pd=0,Oa=void 0,Oo=void 0,ou=void 0;if((1==$n||2==$n)&&"icon-image"in jo){var ha=jr(ur,"layout","icon-image",Ir,In,sn);if(ha){Oa="string"==typeof ha?ca(ha,Po):ha.toString();var Ia=void 0;if(Oe&&Y&&Y[Oa]){var Pa=jr(ur,"layout","icon-rotation-alignment",Ir,In,sn);if(2==$n){var ws=Yi.getGeometry();if(ws.getFlatMidpoint||ws.getFlatMidpoints){var su=ws.getExtent();if(Math.sqrt(Math.max(Math.pow((su[2]-su[0])/eo,2),Math.pow((su[3]-su[1])/eo,2)))>150){var Aa="MultiLineString"===ws.getType()?ws.getFlatMidpoints():ws.getFlatMidpoint();if(ua||(ua=new re("Point",la=[NaN,NaN],[],{},null)),Ia=ua,la[0]=Aa[0],la[1]=Aa[1],"line"===(Il=jr(ur,"layout","symbol-placement",Ir,In,sn))&&"map"===Pa)for(var au=ws.getStride(),s=ws.getFlatCoordinates(),a=0,r=s.length-au;a<r;a+=au){var o=s[a],h=s[a+1],E=s[a+au],K=s[a+au+1],J=Math.min(o,E),me=Math.min(h,K),Me=Math.max(o,E),We=Math.max(h,K);if(Aa[0]>=J&&Aa[0]<=Me&&Aa[1]>=me&&Aa[1]<=We){Pd=Math.atan2(h-K,E-o);break}}}}}if(2!==$n||Ia){var tt=jr(ur,"layout","icon-size",Ir,In,sn),wt=void 0!==Mo["icon-color"]?jr(ur,"paint","icon-color",Ir,In,sn):null;if(!wt||0!==wt.a){var Qo,Ol=Oa+"."+tt;null!==wt&&(Ol+="."+wt),(Oo=Kt[Ol])||(Oo=new un.Z({color:wt?[255*wt.r,255*wt.g,255*wt.b,wt.a]:void 0,img:Oe,imgSize:Ve,size:[(Qo=Y[Oa]).width,Qo.height],offset:[Qo.x,Qo.y],rotateWithView:"map"===Pa,scale:tt/Qo.pixelRatio}),Kt[Ol]=Oo)}Oo&&(++Er,(!(xr=Mi[Er])||!xr.getImage()||xr.getFill()||xr.getStroke())&&(xr=new dn.ZP,Mi[Er]=xr),xr.setGeometry(Ia),Oo.setRotation(Pd+hc(jr(ur,"layout","icon-rotate",Ir,In,sn))),Oo.setOpacity(jr(ur,"paint","icon-opacity",Ir,In,sn)),Oo.setAnchor(ku[jr(ur,"layout","icon-anchor",Ir,In,sn)]),xr.setImage(Oo),yo=xr.getText(),xr.setText(void 0),xr.setZIndex(Sa),da=!0,ou=!1)}else ou=!0}}}if(1==$n&&"circle-radius"in Mo){++Er,(!(xr=Mi[Er])||!xr.getImage()||xr.getFill()||xr.getStroke())&&(xr=new dn.ZP,Mi[Er]=xr);var Mt=jr(ur,"paint","circle-radius",Ir,In,sn),Bt=Xs(jr(ur,"paint","circle-stroke-color",Ir,In,sn),jr(ur,"paint","circle-stroke-opacity",Ir,In,sn)),Jt=Xs(jr(ur,"paint","circle-color",Ir,In,sn),jr(ur,"paint","circle-opacity",Ir,In,sn)),Dn=jr(ur,"paint","circle-stroke-width",Ir,In,sn),qn=Mt+"."+Bt+"."+Jt+"."+Dn;(Oo=Kt[qn])||(Oo=new ln.Z({radius:Mt,stroke:Bt&&Dn>0?new En.Z({width:Dn,color:Bt}):void 0,fill:Jt?new zt.Z({color:Jt}):void 0}),Kt[qn]=Oo),xr.setImage(Oo),yo=xr.getText(),xr.setText(void 0),xr.setGeometry(void 0),xr.setZIndex(Sa),da=!0}var sr=void 0;if("text-field"in jo&&(sr=ca(jr(ur,"layout","text-field",Ir,In,sn).toString(),Po).trim(),qo=jr(ur,"paint","text-opacity",Ir,In,sn)),sr&&qo&&!ou){da||(++Er,(!(xr=Mi[Er])||!xr.getText()||xr.getFill()||xr.getStroke())&&(xr=new dn.ZP,Mi[Er]=xr),xr.setImage(void 0),xr.setGeometry(void 0)),xr.getText()||xr.setText(yo||new Bn({padding:[2,2,2,2]})),yo=xr.getText();var Kr=Math.round(jr(ur,"layout","text-size",Ir,In,sn)),ti=jr(ur,"layout","text-font",Ir,In,sn),ii=jr(ur,"layout","text-line-height",Ir,In,sn),Hi=ar(de?de(ti):ti,Kr,ii),Ii=jo["text-transform"];"uppercase"==Ii?sr=sr.toUpperCase():"lowercase"==Ii&&(sr=sr.toLowerCase());var _o=jr(ur,"layout","text-max-width",Ir,In,sn),Zo=jr(ur,"layout","text-letter-spacing",Ir,In,sn),ps=2==$n?cd(sr,Zo):dd(sr,Hi,_o,Zo);yo.setText(ps),yo.setFont(Hi),yo.setRotation(hc(jr(ur,"layout","text-rotate",Ir,In,sn)));var Bo=jr(ur,"layout","text-anchor",Ir,In,sn),Il=da||1==$n?"point":jr(ur,"layout","symbol-placement",Ir,In,sn);yo.setPlacement(Il);var gs=jr(ur,"paint","text-halo-width",Ir,In,sn),qs=jr(ur,"layout","text-offset",Ir,In,sn),oo=jr(ur,"paint","text-translate",Ir,In,sn),Yo=0,Pl=0;if("point"==Il){var Oc="center";-1!==Bo.indexOf("left")?(Oc="left",Pl=gs):-1!==Bo.indexOf("right")&&(Oc="right",Pl=-gs),yo.setTextAlign(Oc);var ag=jr(ur,"layout","text-rotation-alignment",Ir,In,sn);yo.setRotateWithView("map"==ag)}else yo.setMaxAngle(hc(jr(ur,"layout","text-max-angle",Ir,In,sn))*sr.length/ps.length),yo.setTextAlign(),yo.setRotateWithView(!1);var Rd="middle";0==Bo.indexOf("bottom")?(Rd="bottom",Yo=-gs-.5*(ii-1)*Kr):0==Bo.indexOf("top")&&(Rd="top",Yo=gs+.5*(ii-1)*Kr),yo.setTextBaseline(Rd),yo.setOffsetX(qs[0]*Kr+Pl+oo[0]),yo.setOffsetY(qs[1]*Kr+Yo+oo[1]),Zi.setColor(Xs(jr(ur,"paint","text-color",Ir,In,sn),qo)),yo.setFill(Zi);var pf=Xs(jr(ur,"paint","text-halo-color",Ir,In,sn),qo);if(pf){zi.setColor(pf);var gf=.5*Kr;zi.setWidth((gs*=2)<=gf?gs:gf),yo.setStroke(zi)}else yo.setStroke(void 0);var Ic=jr(ur,"layout","text-padding",Ir,In,sn),lu=yo.getPadding();Ic!==lu[0]&&(lu[0]=Ic,lu[1]=Ic,lu[2]=Ic,lu[3]=Ic),xr.setZIndex(Sa)}}},Li=0,ai=ks.length;Li<ai;++Li)Oi(Li);if(Er>-1)return Mi.length=Er+1,Mi}};return d.setStyle(Si),d.set("mapbox-source",qt),d.set("mapbox-layers",rn),Si}var Fu,Mh=p(7529),Lu=p(4272),vd={},Sh=/font-family: ?([^;]*);/,Oh=/("|')/g;function Ih(d){if(!Fu){Fu={};for(var c=document.styleSheets,u=0,b=c.length;u<b;++u){var Y=c[u];try{var q=Y.rules||Y.cssRules;if(q)for(var de=0,Oe=q.length;de<Oe;++de){var Ve=q[de];if(5==Ve.type){var Ne=Ve.cssText.match(Sh);Fu[Ne[1].replace(Oh,"")]=!0}}}catch(mt){}}}return d in Fu}var yd={},_d=Mh.getNames();function yc(d){var c=d.toString();if(c in yd)return d;for(var u=d.map(function(Ne){var mt=ar(Ne,1).split(" ");return[mt.slice(3).join(" ").replace(/"/g,""),mt[1]+mt[0]]}),b=0,Y=u.length;b<Y;++b){var q=u[b],de=q[0];if(!Ih(de)&&-1!==_d.indexOf(de)){var Oe="https://fonts.googleapis.com/css?family="+de.replace(/ /g,"+")+":"+q[1];if(!document.querySelector('link[href="'+Oe+'"]')){var Ve=document.createElement("link");Ve.href=Oe,Ve.rel="stylesheet",document.head.appendChild(Ve)}}}return yd[c]=!0,d}var _c=/^(.*)(\?.*)$/;function bc(d,c,u){var b=(d=function(d,c){return c&&0===d.indexOf(".")&&(d=c+d),d}(d,c)).match(_c);return b?b[1]+u+(b.length>2?b[2]:""):d+u}function Ec(d,c,u,b,Y){return new Promise(function(q,de){if("object"!=typeof c&&(c=JSON.parse(c)),8!=c.version)return de(new Error("glStyle version 8 required."));if(!(d instanceof gt.Z||d instanceof ht))return de(new Error("Can only apply to VectorLayer or VectorTileLayer"));var Ve,Ne,mt;function pt(){mt||c.sprite&&!Ve?mt?(d.setStyle(mt),q()):de(new Error("Something went wrong trying to apply style.")):(mt=md(d,c,u,Y,Ve,Ne,yc),d.getStyle()?q():de(new Error("Nothing to show for source [".concat(u,"]"))))}if(c.sprite){var Yt=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",rn=bc(c.sprite,b,Yt+".json");fetch(rn,{credentials:"same-origin"}).then(function(Kt){return Kt.ok||""===Yt?Kt:(rn=bc(c.sprite,b,".json"),fetch(rn,{credentials:"same-origin"}))}).then(function(Kt){if(Kt.ok)return Kt.json();de(new Error("Problem fetching sprite from ".concat(rn,": ").concat(Kt.statusText)))}).then(function(Kt){if(void 0===Kt)return de(new Error("No sprites found."));Ve=Kt,Ne=bc(c.sprite,b,Yt+".png"),pt()}).catch(function(Kt){de(new Error("Sprites cannot be loaded: ".concat(rn,": ").concat(Kt.message)))})}else pt()})}var As={};function Ed(d,c){d=Ch({},d);var u=[c,JSON.stringify(d)].toString(),b=vd[u];return b||(b=new ct({url:d.tiles?void 0:c,tileJSON:d.tiles?d:void 0}),vd[u]=b),new Promise(function(Y){var q=b.on("change",function(){var de=b.getState();if("ready"===de){var Oe=b.getTileJSON(),Ve=Array.isArray(Oe.tiles)?Oe.tiles:[Oe.tiles];if(c)for(var Ne=0,mt=Ve.length;Ne<mt;++Ne)Ve[Ne]=decodeURI(new URL(Ve[Ne],c).href);var pt=b.getTileGrid(),Yt=function(d){var c=d.bounds;if(c){var u=(0,B.mi)([c[0],c[1]]),b=(0,B.mi)([c[2],c[3]]);return[u[0],u[1],b[0],b[1]]}}(Oe),rn=Oe.minzoom||0,Kt=Oe.maxzoom||22,tn=b.get("ol-source");void 0===tn&&(tn=new ni({attributions:b.getAttributions(),format:new _e,tileGrid:new zr.Z({origin:pt.getOrigin(0),extent:Yt||pt.getExtent(),minZoom:rn,resolutions:ud.slice(0,Kt+1),tileSize:512}),urls:Ve}),b.set("ol-source",tn)),(0,Lu.B)(q),Y(tn)}else"error"===de&&(b.set("ol-source",null),(0,Lu.B)(q),Y(void 0))});"ready"===b.getState()&&b.changed()})}new Vr.Z;var Bu=function(){var d=function(c,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,Y){b.__proto__=Y}||function(b,Y){for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(b[q]=Y[q])})(c,u)};return function(c,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function b(){this.constructor=c}d(c,u),c.prototype=null===u?Object.create(u):(b.prototype=u.prototype,new b)}}(),tl="https://api.mapbox.com";function $u(d){var c="mapbox://";return 0!==d.indexOf(c)?"":d.slice(c.length)}function Uu(d,c,u,b){var Y=new URL(d,b),q=$u(d);return q?"https://{a-d}.tiles.mapbox.com/v4/"+q+"/{z}/{x}/{y}.vector.pbf?access_token="+c:(c&&Y.searchParams.set(u,c),decodeURI(Y.href))}var Mc=function(d){function c(u){var b=d.call(this,D.Z.ERROR)||this;return b.error=u,b}return Bu(c,d),c}(i.ZP),ff=function(d){function c(u){var b=this,Y=!("declutter"in u)||u.declutter,q=new ni({state:Ee.Z.LOADING,format:new _e});return(b=d.call(this,{source:q,background:u.background,declutter:Y,className:u.className,opacity:u.opacity,visible:u.visible,zIndex:u.zIndex,minResolution:u.minResolution,maxResolution:u.maxResolution,minZoom:u.minZoom,maxZoom:u.maxZoom,renderOrder:u.renderOrder,renderBuffer:u.renderBuffer,renderMode:u.renderMode,map:u.map,updateWhileAnimating:u.updateWhileAnimating,updateWhileInteracting:u.updateWhileInteracting,preload:u.preload,useInterimTilesOnError:u.useInterimTilesOnError,properties:u.properties})||this).setMaxResolutionFromTileGrid_=void 0===u.maxResolution&&void 0===u.minZoom,b.sourceId=u.source,b.layers=u.layers,u.accessToken?b.accessToken=u.accessToken:new URL(u.styleUrl,location.href).searchParams.forEach(function(Oe,Ve){b.accessToken=Oe,b.accessTokenParam_=Ve}),b.fetchStyle(u.styleUrl),b}return Bu(c,d),c.prototype.fetchStyle=function(u){var b=this,Y=function(d,c){var u=$u(d);if(!u)return decodeURI(new URL(d,location.href).href);var b="styles/";if(0!==u.indexOf(b))throw new Error("unexpected style url: "+d);var Y=u.slice(b.length);return tl+"/styles/v1/"+Y+"?&access_token="+c}(u,this.accessToken);fetch(Y).then(function(q){if(!q.ok)throw new Error("unexpected response when fetching style: "+q.status);return q.json()}).then(function(q){b.onStyleLoad(q,Y.startsWith("data:")?location.href:Y)}).catch(function(q){b.handleError(q)})},c.prototype.onStyleLoad=function(u,b){var q,de,Y=this;if(this.layers){for(var Oe={},Ve=0;Ve<u.layers.length;++Ve){var Ne=u.layers[Ve];Ne.source&&(Oe[Ne.id]=Ne.source)}var mt=void 0;for(Ve=0;Ve<this.layers.length;++Ve){var pt=Oe[this.layers[Ve]];if(!pt)return void this.handleError(new Error("could not find source for "+this.layers[Ve]));if(mt){if(mt!==pt)return void this.handleError(new Error("layers can only use a single source, found "+mt+" and "+pt))}else mt=pt}q=mt,de=this.layers}else de=q=this.sourceId;de||(q=Object.keys(u.sources)[0],de=q),u.sprite&&(u.sprite=function(d,c,u){var b=$u(d);if(!b)return decodeURI(new URL(d,u).href);var Y="sprites/";if(0!==b.indexOf(Y))throw new Error("unexpected sprites url: "+d);var q=b.slice(Y.length);return tl+"/styles/v1/"+q+"/sprite?access_token="+c}(u.sprite,this.accessToken,b)),u.glyphs&&(u.glyphs=function(d,c,u){var b=$u(d);if(!b)return decodeURI(new URL(d,u).href);var Y="fonts/";if(0!==b.indexOf(Y))throw new Error("unexpected fonts url: "+d);var q=b.slice(Y.length);return tl+"/fonts/v1/"+q+"/0-255.pbf?access_token="+c}(u.glyphs,this.accessToken,b));var Yt=u.sources[q];if("vector"===Yt.type){var rn=this.getSource();Yt.url&&0===Yt.url.indexOf("mapbox://")?(rn.setUrl(Uu(Yt.url,this.accessToken,this.accessTokenParam_,b)),Ec(this,u,de).then(function(){Y.configureSource(rn,u)}).catch(function(Kt){Y.handleError(Kt)})):(Yt.tiles&&(Yt.tiles=Yt.tiles.map(function(Kt){return Uu(Kt,Y.accessToken,Y.accessTokenParam_,b)})),Ed(Yt,Yt.url?Uu(Yt.url,this.accessToken,this.accessTokenParam_,b):void 0).then(function(Kt){Ec(Y,u,de).then(function(){Y.configureSource(Kt,u)}).catch(function(tn){Y.configureSource(Kt,u),Y.handleError(tn)})}))}else this.handleError(new Error("only works for vector sources, found "+Yt.type))},c.prototype.configureSource=function(u,b){var Y=this.getSource();if(u!==Y&&(Y.setAttributions(u.getAttributions()),Y.setTileUrlFunction(u.getTileUrlFunction()),Y.setTileLoadFunction(u.getTileLoadFunction()),Y.tileGrid=u.tileGrid),void 0===this.getBackground()&&function(d,c){c.layers.some(function(u){if("background"==u.type)return function(d,c){var u={id:c.id,type:c.type},b={};function Y(q){var de=c.layout||{},Oe=c.paint||{};u.paint=Oe;var mt,pt,Ve="function"==typeof d.getSource?d.getSource().getTileGrid().getZForResolution(q):d.getView().getZoom(),Ne="function"==typeof d.getTargetElement?d.getTargetElement():void 0;if(void 0!==Oe["background-color"]&&(mt=jr(u,"paint","background-color",Ve,As,b),Ne&&(Ne.style.background=vi.parse(mt).toString())),void 0!==Oe["background-opacity"]&&(pt=jr(u,"paint","background-opacity",Ve,As,b),Ne&&(Ne.style.opacity=pt)),"none"!=de.visibility)return Xs(mt,pt);Ne&&(Ne.style.backgroundColor="",Ne.style.opacity="")}if("function"==typeof d.getTargetElement)d.getTargetElement()&&Y(),d.on(["change:resolution","change:target"],Y);else{if("function"!=typeof d.setBackground)throw new Error("Unable to apply background.");d.setBackground(Y)}}(d,u),!0})}(this,b),this.setMaxResolutionFromTileGrid_){var q=Y.getTileGrid();this.setMaxResolution(q.getResolution(q.getMinZoom()))}Y.setState(Ee.Z.READY)},c.prototype.handleError=function(u){this.dispatchEvent(new Mc(u)),this.getSource().setState(Ee.Z.ERROR)},c}(ht);const Sd=ff;var Lh=p(5529),Sc=p(2237),Od=p(591),Fh=p(4850),Rs=p(5e3);let Nh=(()=>{class d{constructor(){this._overlays$=new Od.X([{name:"Danmarks arealinformation",type:"wms",url:"https://arealinformation.miljoeportal.dk/gis/services/DAIdb/MapServer/WMSServer",layers:[{name:"BES_VANDLOEB",label:"Beskyttede vandl\xf8b",addedToMap:!1},{name:"BES_NATURTYPER",label:"Beskyttede naturtyper",addedToMap:!1},{name:"SOE_BES_LINJER",label:"S\xf8beskyttelseslinjer",addedToMap:!1},{name:"AA_BES_LINJER",label:"\xc5beskyttelseslinjer",addedToMap:!1},{name:"BES_STEN_JORDDIGER",label:"Beskyttede sten og jorddiger",addedToMap:!1},{name:"FREDEDE_OMR",label:"Fredede omr\xe5der",addedToMap:!1},{name:"FREDEDE_OMR_FORSLAG",label:"Fredede omr\xe5der (forslag)",addedToMap:!1},{name:"RAASTOFOMR",label:"R\xe5stofomr\xe5der",addedToMap:!1}]},{name:"Grundvand",type:"wms",url:"https://miljoegis.mim.dk/wms?servicename=grundvand_wms",layers:[{name:"gvkort_drikkevandsinteresser",label:"Drikkevandsinteresser, vedtaget",addedToMap:!1},{name:"gvkort_indvindingsoplande_i_osd",label:"Indvindingsoplande inden for OSD",addedToMap:!1},{name:"gvkort_indvindingsoplande_udenfor_osd",label:"Indvindingsoplande uden for OSD, vedtaget",addedToMap:!1},{name:"gvkort_foelsommeindvindingsomraader",label:"F\xf8lsomme indvindingsomr\xe5der, vedtaget",addedToMap:!1},{name:"gvkort_bnbo",label:"Boringsn\xe6re beskyttelsesomr\xe5der (BNBO)",addedToMap:!1}]},{name:"Matrikler",url:"https://api.dataforsyningen.dk/MatrikelGaeldendeOgForeloebigWMS_DAF?token=44af18dc4d55df1d85ef32b8961ba0de&TRANSPARENT=TRUE",type:"wms",server:"mapserver",layers:[{name:"Jordstykke_Gaeldende",label:"Matrikler",addedToMap:!1,opacity:.7},{name:"OptagetVej_Gaeldende",label:"Optaget vej",addedToMap:!1}]},{name:"H\xf8jdemodel",url:"https://api.dataforsyningen.dk/dhm_DAF?token=44af18dc4d55df1d85ef32b8961ba0de&TRANSPARENT=TRUE",type:"wms",server:"mapserver",layers:[{name:"dhm_kurve_0_25_m",label:"H\xf8jdekurver 0,25m",addedToMap:!1,minZoom:17.4},{name:"dhm_kurve_0_5_m",label:"H\xf8jdekurver 0,5m",addedToMap:!1,minZoom:17.4}]},{name:"Nedb\xf8r",url:"https://api.dataforsyningen.dk/dhm?token=44af18dc4d55df1d85ef32b8961ba0de",type:"wms",server:"mapserver",layers:[{name:"dhm_bluespot_ekstremregn",label:"Bluespot",addedToMap:!1},{name:"dhm_flow_ekstremregn",label:"Flow",addedToMap:!1}]},{name:"St\xf8j",url:"https://tilecache2-miljoegis.mim.dk/gwc/service/wms",type:"wms",server:"mapserver",layers:[{name:"theme-pg-noisedataarea-g1",label:"Trafikst\xf8j",addedToMap:!1}]}]),this.overlays$=this._overlays$.asObservable(),this._baseMaps$=new Od.X([{id:"aerial",name:"Luftfoto",selected:!0,map:new Lh.Z({source:new Sc.Z({projection:"EPSG:25832",url:"https://services.kortforsyningen.dk/orto_foraar?token=44af18dc4d55df1d85ef32b8961ba0de",params:{layers:"orto_foraar",VERSION:"1.1.1",TRANSPARENT:"false",FORMAT:"image/jpeg"}})})},{id:"streets",name:"Sk\xe6rmkort",selected:!1,map:new Sd({styleUrl:"mapbox://styles/mapbox/bright-v9",accessToken:"pk.eyJ1IjoiYmFmZmlvc28iLCJhIjoiY2tyYjFrZDlsMTF6ZzJ6cDhkdDg2bW15cSJ9.afJAXgWRc8yRd50I5WFhAQ"})},{id:"dtm_shadow",name:"Skyggekort (terr\xe6n)",selected:!0,map:new Lh.Z({source:new Sc.Z({projection:"EPSG:25832",url:"https://api.dataforsyningen.dk/dhm_DAF",params:{layers:"dhm_terraen_skyggekort",token:"44af18dc4d55df1d85ef32b8961ba0de",VERSION:"1.1.1",TRANSPARENT:"true",FORMAT:"image/png"}})})}]),this.baseMaps$=this._baseMaps$.asObservable(),this.legends$=this.overlays$.pipe((0,Fh.U)(u=>{const b=[];return u.forEach(Y=>{Y.layers.filter(q=>q.addedToMap).forEach(q=>b.push(this.getLegendUrl(Y.url,q.name)))}),b}))}updateOverlays(u,b,Y){const q=this._overlays$.value.map(de=>{if(de.name===u){const Oe=de.layers.map(Ve=>Ve.name===b?Object.assign(Object.assign({},Ve),{addedToMap:Y}):Ve);return Object.assign(Object.assign({},de),{layers:Oe})}return de});this._overlays$.next(q)}updateBaseLayerSelection(u){const b=this._baseMaps$.value.map(Y=>Object.assign(Object.assign({},Y),Y.id===u?{selected:!0}:{selected:!1}));this._baseMaps$.next(b)}getBaseMapById(u){return this._baseMaps$.value.find(Y=>Y.id===u)}getLegendUrl(u,b){return`${u}?REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=10&HEIGHT=10&LAYER=${b}`}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275prov=Rs.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},8222:(Ye,fe,p)=>{"use strict";p.d(fe,{S:()=>au});var s,i=p(2994),D=p(537),G=p(4160),ne=p(6310),H=p.n(ne),L=p(625),$=p(1345),S=p(119),P=p(483),x=p(760),w=p(2956),C=p(4593),m=p(3481),T=(s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)},function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),g=function(s){function a(r){var o=s.call(this)||this;return o.map_=r,o}return T(a,s),a.prototype.dispatchRenderEvent=function(r,o){(0,S.O3)()},a.prototype.calculateMatrices2D=function(r){var o=r.viewState,h=r.coordinateToPixelTransform,E=r.pixelToCoordinateTransform;(0,P.qC)(h,r.size[0]/2,r.size[1]/2,1/o.resolution,-1/o.resolution,-o.rotation,-o.center[0],-o.center[1]),(0,P.nb)(E,h)},a.prototype.forEachFeatureAtCoordinate=function(r,o,h,E,K,J,me,Me){var We,tt=o.viewState;function wt(oo,Yo,Pl,Oc){return K.call(J,Yo,oo?Pl:null,Oc)}var Mt=tt.projection,Bt=(0,m.Cf)(r.slice(),Mt),Jt=[[0,0]];if(Mt.canWrapX()&&E){var Dn=Mt.getExtent(),qn=(0,x.dz)(Dn);Jt.push([-qn,0],[qn,0])}for(var sr=o.layerStatesArray,Pr=sr.length,Kr=[],ti=[],ii=0;ii<Jt.length;ii++)for(var Hi=Pr-1;Hi>=0;--Hi){var Ii=sr[Hi],_o=Ii.layer;if(_o.hasRenderer()&&(0,C.j)(Ii,tt)&&me.call(Me,_o)){var Zo=_o.getRenderer(),ps=_o.getSource();if(Zo&&ps){var Bo=ps.getWrapX()?Bt:r,gs=wt.bind(null,Ii.managed);ti[0]=Bo[0]+Jt[ii][0],ti[1]=Bo[1]+Jt[ii][1],We=Zo.forEachFeatureAtCoordinate(ti,o,h,gs,Kr)}if(We)return We}}if(0!==Kr.length){var qs=1/Kr.length;return Kr.forEach(function(oo,Yo){return oo.distanceSq+=Yo*qs}),Kr.sort(function(oo,Yo){return oo.distanceSq-Yo.distanceSq}),Kr.some(function(oo){return We=oo.callback(oo.feature,oo.layer,oo.geometry)}),We}},a.prototype.forEachLayerAtPixel=function(r,o,h,E,K){return(0,S.O3)()},a.prototype.hasFeatureAtCoordinate=function(r,o,h,E,K,J){return void 0!==this.forEachFeatureAtCoordinate(r,o,h,E,$.uX,this,K,J)},a.prototype.getMap=function(){return this.map_},a.prototype.renderFrame=function(r){(0,S.O3)()},a.prototype.scheduleExpireIconCache=function(r){w.c.canExpireCache()&&r.postRenderFunctions.push(v)},a}(L.Z);function v(s,a){w.c.expire()}const O=g;var k=p(4587),B=p(2919),F=p(2526),M=p(9454),y=p(5263),R=p(4686),z=p(1729),re=p(1992),le=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),he=function(s){function a(r){var o=s.call(this,r)||this;o.fontChangeListenerKey_=(0,z.oL)(R.sG,k.Z.PROPERTYCHANGE,r.redrawText.bind(r)),o.element_=document.createElement("div");var h=o.element_.style;h.position="absolute",h.width="100%",h.height="100%",h.zIndex="0",o.element_.className=y.XV+" ol-layers";var E=r.getViewport();return E.insertBefore(o.element_,E.firstChild||null),o.children_=[],o.renderedVisible_=!0,o}return le(a,s),a.prototype.dispatchRenderEvent=function(r,o){var h=this.getMap();if(h.hasListener(r)){var E=new B.Z(r,void 0,o);h.dispatchEvent(E)}},a.prototype.disposeInternal=function(){(0,z.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),s.prototype.disposeInternal.call(this)},a.prototype.renderFrame=function(r){if(r){this.calculateMatrices2D(r),this.dispatchRenderEvent(F.Z.PRECOMPOSE,r);var o=r.layerStatesArray.sort(function(wt,Mt){return wt.zIndex-Mt.zIndex}),h=r.viewState;this.children_.length=0;for(var E=[],K=null,J=0,me=o.length;J<me;++J){var Me=o[J];if(r.layerIndex=J,(0,C.j)(Me,h)&&(Me.sourceState==M.Z.READY||Me.sourceState==M.Z.UNDEFINED)){var We=Me.layer,tt=We.render(r,K);!tt||(tt!==K&&(this.children_.push(tt),K=tt),"getDeclutter"in We&&E.push(We))}}for(J=E.length-1;J>=0;--J)E[J].renderDeclutter(r);(0,re.hF)(this.element_,this.children_),this.dispatchRenderEvent(F.Z.POSTCOMPOSE,r),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(r)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},a.prototype.forEachLayerAtPixel=function(r,o,h,E,K){for(var J=o.viewState,me=o.layerStatesArray,We=me.length-1;We>=0;--We){var tt=me[We],wt=tt.layer;if(wt.hasRenderer()&&(0,C.j)(tt,J)&&K(wt)){var Bt=wt.getRenderer().getDataAtPixel(r,o,h);if(Bt){var Jt=E(wt,Bt);if(Jt)return Jt}}}},a}(O);const xe=he;var A=p(3632),W=p(6978);var oe=p(8214),Te=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ae=function(s){function a(r,o,h){var E=s.call(this,r)||this;return E.element=o,E.index=h,E}return Te(a,s),a}(oe.ZP),_e=function(s){function a(r,o){var h=s.call(this)||this;if(h.unique_=!!(o||{}).unique,h.array_=r||[],h.unique_)for(var K=0,J=h.array_.length;K<J;++K)h.assertUnique_(h.array_[K],K);return h.updateLength_(),h}return Te(a,s),a.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},a.prototype.extend=function(r){for(var o=0,h=r.length;o<h;++o)this.push(r[o]);return this},a.prototype.forEach=function(r){for(var o=this.array_,h=0,E=o.length;h<E;++h)r(o[h],h,o)},a.prototype.getArray=function(){return this.array_},a.prototype.item=function(r){return this.array_[r]},a.prototype.getLength=function(){return this.get("length")},a.prototype.insertAt=function(r,o){this.unique_&&this.assertUnique_(o),this.array_.splice(r,0,o),this.updateLength_(),this.dispatchEvent(new ae("add",o,r))},a.prototype.pop=function(){return this.removeAt(this.getLength()-1)},a.prototype.push=function(r){this.unique_&&this.assertUnique_(r);var o=this.getLength();return this.insertAt(o,r),this.getLength()},a.prototype.remove=function(r){for(var o=this.array_,h=0,E=o.length;h<E;++h)if(o[h]===r)return this.removeAt(h)},a.prototype.removeAt=function(r){var o=this.array_[r];return this.array_.splice(r,1),this.updateLength_(),this.dispatchEvent(new ae("remove",o,r)),o},a.prototype.setAt=function(r,o){var h=this.getLength();if(r<h){this.unique_&&this.assertUnique_(o,r);var E=this.array_[r];this.array_[r]=o,this.dispatchEvent(new ae("remove",E,r)),this.dispatchEvent(new ae("add",o,r))}else{for(var K=h;K<r;++K)this.insertAt(K,void 0);this.insertAt(r,o)}},a.prototype.updateLength_=function(){this.set("length",this.array_.length)},a.prototype.assertUnique_=function(r,o){for(var h=0,E=this.array_.length;h<E;++h)if(this.array_[h]===r&&h!==o)throw new W.Z(58)},a}(A.Z);const Ee=_e;var Pe=p(9972),Ge=p(5560),Ue=p(1911),Be=p(9466),Ce=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ke=function(s){function a(r,o){var h=s.call(this,r)||this;return h.layer=o,h}return Ce(a,s),a}(oe.ZP),at=function(s){function a(r){var o=this,h=r||{},E=(0,Be.f0)({},h);delete E.layers;var K=h.layers;return(o=s.call(this,E)||this).layersListenerKeys_=[],o.listenerKeys_={},o.addChangeListener("layers",o.handleLayersChanged_),K?Array.isArray(K)?K=new Ee(K.slice(),{unique:!0}):(0,Ue.h)("function"==typeof K.getArray,43):K=new Ee(void 0,{unique:!0}),o.setLayers(K),o}return Ce(a,s),a.prototype.handleLayerChange_=function(){this.changed()},a.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(z.bN),this.layersListenerKeys_.length=0;var r=this.getLayers();for(var o in this.layersListenerKeys_.push((0,z.oL)(r,"add",this.handleLayersAdd_,this),(0,z.oL)(r,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[o].forEach(z.bN);(0,Be.ZH)(this.listenerKeys_);for(var h=r.getArray(),E=0,K=h.length;E<K;E++){var J=h[E];this.registerLayerListeners_(J),this.dispatchEvent(new ke("addlayer",J))}this.changed()},a.prototype.registerLayerListeners_=function(r){var o=[(0,z.oL)(r,k.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,z.oL)(r,Pe.Z.CHANGE,this.handleLayerChange_,this)];r instanceof a&&o.push((0,z.oL)(r,"addlayer",this.handleLayerGroupAdd_,this),(0,z.oL)(r,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,S.sq)(r)]=o},a.prototype.handleLayerGroupAdd_=function(r){this.dispatchEvent(new ke("addlayer",r.layer))},a.prototype.handleLayerGroupRemove_=function(r){this.dispatchEvent(new ke("removelayer",r.layer))},a.prototype.handleLayersAdd_=function(r){var o=r.element;this.registerLayerListeners_(o),this.dispatchEvent(new ke("addlayer",o)),this.changed()},a.prototype.handleLayersRemove_=function(r){var o=r.element,h=(0,S.sq)(o);this.listenerKeys_[h].forEach(z.bN),delete this.listenerKeys_[h],this.dispatchEvent(new ke("removelayer",o)),this.changed()},a.prototype.getLayers=function(){return this.get("layers")},a.prototype.setLayers=function(r){var o=this.getLayers();if(o)for(var h=o.getArray(),E=0,K=h.length;E<K;++E)this.dispatchEvent(new ke("removelayer",h[E]));this.set("layers",r)},a.prototype.getLayersArray=function(r){var o=void 0!==r?r:[];return this.getLayers().forEach(function(h){h.getLayersArray(o)}),o},a.prototype.getLayerStatesArray=function(r){var o=void 0!==r?r:[],h=o.length;this.getLayers().forEach(function(We){We.getLayerStatesArray(o)});var E=this.getLayerState(),K=E.zIndex;!r&&void 0===E.zIndex&&(K=0);for(var J=h,me=o.length;J<me;J++){var Me=o[J];Me.opacity*=E.opacity,Me.visible=Me.visible&&E.visible,Me.maxResolution=Math.min(Me.maxResolution,E.maxResolution),Me.minResolution=Math.max(Me.minResolution,E.minResolution),Me.minZoom=Math.max(Me.minZoom,E.minZoom),Me.maxZoom=Math.min(Me.maxZoom,E.maxZoom),void 0!==E.extent&&(Me.extent=void 0!==Me.extent?(0,x.Ed)(Me.extent,E.extent):E.extent),void 0===Me.zIndex&&(Me.zIndex=K)}return o},a.prototype.getSourceState=function(){return M.Z.READY},a}(Ge.Z);const Gt=at;var Tt=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ht=function(s){function a(r,o,h){var E=s.call(this,r)||this;return E.map=o,E.frameState=void 0!==h?h:null,E}return Tt(a,s),a}(oe.ZP);const wn=Ht;var fn=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),He=function(s){function a(r,o,h,E,K){var J=s.call(this,r,o,K)||this;return J.originalEvent=h,J.pixel_=null,J.coordinate_=null,J.dragging=void 0!==E&&E,J}return fn(a,s),Object.defineProperty(a.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(r){this.pixel_=r},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(r){this.coordinate_=r},enumerable:!1,configurable:!0}),a.prototype.preventDefault=function(){s.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},a.prototype.stopPropagation=function(){s.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},a}(wn);const bt=He,nt={SINGLECLICK:"singleclick",CLICK:Pe.Z.CLICK,DBLCLICK:Pe.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Lt=p(3844),vn=p(9996),Pn=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),kt=function(s){function a(r,o){var h=s.call(this,r)||this;h.map_=r,h.emulateClicks_=!1,h.dragging_=!1,h.dragListenerKeys_=[],h.moveTolerance_=void 0===o?1:o,h.down_=null;var E=h.map_.getViewport();return h.activePointers_=0,h.trackedTouches_={},h.element_=E,h.pointerdownListenerKey_=(0,z.oL)(E,"pointerdown",h.handlePointerDown_,h),h.relayedListenerKey_=(0,z.oL)(E,"pointermove",h.relayEvent_,h),h.boundHandleTouchMove_=h.handleTouchMove_.bind(h),h.element_.addEventListener(Pe.Z.TOUCHMOVE,h.boundHandleTouchMove_,!!vn.bM&&{passive:!1}),h}return Pn(a,s),a.prototype.emulateClick_=function(r){var o=new bt(nt.CLICK,this.map_,r);this.dispatchEvent(o),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,o=new bt(nt.DBLCLICK,this.map_,r),this.dispatchEvent(o)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var h=new bt(nt.SINGLECLICK,this.map_,r);this.dispatchEvent(h)}.bind(this),250)},a.prototype.updateActivePointers_=function(r){var o=r;o.type==nt.POINTERUP||o.type==nt.POINTERCANCEL?delete this.trackedTouches_[o.pointerId]:o.type==nt.POINTERDOWN&&(this.trackedTouches_[o.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},a.prototype.handlePointerUp_=function(r){this.updateActivePointers_(r);var o=new bt(nt.POINTERUP,this.map_,r);this.dispatchEvent(o),this.emulateClicks_&&!o.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(r)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(z.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},a.prototype.isMouseActionButton_=function(r){return 0===r.button},a.prototype.handlePointerDown_=function(r){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(r);var o=new bt(nt.POINTERDOWN,this.map_,r);for(var h in this.dispatchEvent(o),this.down_={},r){var E=r[h];this.down_[h]="function"==typeof E?$.Zn:E}if(0===this.dragListenerKeys_.length){var K=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,z.oL)(K,nt.POINTERMOVE,this.handlePointerMove_,this),(0,z.oL)(K,nt.POINTERUP,this.handlePointerUp_,this),(0,z.oL)(this.element_,nt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==K&&this.dragListenerKeys_.push((0,z.oL)(this.element_.getRootNode(),nt.POINTERUP,this.handlePointerUp_,this))}},a.prototype.handlePointerMove_=function(r){if(this.isMoving_(r)){this.dragging_=!0;var o=new bt(nt.POINTERDRAG,this.map_,r,this.dragging_);this.dispatchEvent(o)}},a.prototype.relayEvent_=function(r){this.originalPointerMoveEvent_=r;var o=!(!this.down_||!this.isMoving_(r));this.dispatchEvent(new bt(r.type,this.map_,r,o))},a.prototype.handleTouchMove_=function(r){var o=this.originalPointerMoveEvent_;(!o||o.defaultPrevented)&&("boolean"!=typeof r.cancelable||!0===r.cancelable)&&r.preventDefault()},a.prototype.isMoving_=function(r){return this.dragging_||Math.abs(r.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(r.clientY-this.down_.clientY)>this.moveTolerance_},a.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,z.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Pe.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,z.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(z.bN),this.dragListenerKeys_.length=0,this.element_=null,s.prototype.disposeInternal.call(this)},a}(Lt.Z);const dt=kt;var _t=1/0,$t=function(){function s(a,r){this.priorityFunction_=a,this.keyFunction_=r,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return s.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,Be.ZH)(this.queuedElements_)},s.prototype.dequeue=function(){var a=this.elements_,r=this.priorities_,o=a[0];1==a.length?(a.length=0,r.length=0):(a[0]=a.pop(),r[0]=r.pop(),this.siftUp_(0));var h=this.keyFunction_(o);return delete this.queuedElements_[h],o},s.prototype.enqueue=function(a){(0,Ue.h)(!(this.keyFunction_(a)in this.queuedElements_),31);var r=this.priorityFunction_(a);return r!=_t&&(this.elements_.push(a),this.priorities_.push(r),this.queuedElements_[this.keyFunction_(a)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},s.prototype.getCount=function(){return this.elements_.length},s.prototype.getLeftChildIndex_=function(a){return 2*a+1},s.prototype.getRightChildIndex_=function(a){return 2*a+2},s.prototype.getParentIndex_=function(a){return a-1>>1},s.prototype.heapify_=function(){var a;for(a=(this.elements_.length>>1)-1;a>=0;a--)this.siftUp_(a)},s.prototype.isEmpty=function(){return 0===this.elements_.length},s.prototype.isKeyQueued=function(a){return a in this.queuedElements_},s.prototype.isQueued=function(a){return this.isKeyQueued(this.keyFunction_(a))},s.prototype.siftUp_=function(a){for(var r=this.elements_,o=this.priorities_,h=r.length,E=r[a],K=o[a],J=a;a<h>>1;){var me=this.getLeftChildIndex_(a),Me=this.getRightChildIndex_(a),We=Me<h&&o[Me]<o[me]?Me:me;r[a]=r[We],o[a]=o[We],a=We}r[a]=E,o[a]=K,this.siftDown_(J,a)},s.prototype.siftDown_=function(a,r){for(var o=this.elements_,h=this.priorities_,E=o[r],K=h[r];r>a;){var J=this.getParentIndex_(r);if(!(h[J]>K))break;o[r]=o[J],h[r]=h[J],r=J}o[r]=E,h[r]=K},s.prototype.reprioritize=function(){var K,J,me,a=this.priorityFunction_,r=this.elements_,o=this.priorities_,h=0,E=r.length;for(J=0;J<E;++J)(me=a(K=r[J]))==_t?delete this.queuedElements_[this.keyFunction_(K)]:(o[h]=me,r[h++]=K);r.length=h,o.length=h,this.heapify_()},s}();const Rt=$t;var Wt=p(1999),_n=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Gn=function(s){function a(r,o){var h=s.call(this,function(E){return r.apply(null,E)},function(E){return E[0].getKey()})||this;return h.boundHandleTileChange_=h.handleTileChange.bind(h),h.tileChangeCallback_=o,h.tilesLoading_=0,h.tilesLoadingKeys_={},h}return _n(a,s),a.prototype.enqueue=function(r){var o=s.prototype.enqueue.call(this,r);return o&&r[0].addEventListener(Pe.Z.CHANGE,this.boundHandleTileChange_),o},a.prototype.getTilesLoading=function(){return this.tilesLoading_},a.prototype.handleTileChange=function(r){var o=r.target,h=o.getState();if(h===Wt.Z.LOADED||h===Wt.Z.ERROR||h===Wt.Z.EMPTY){o.removeEventListener(Pe.Z.CHANGE,this.boundHandleTileChange_);var E=o.getKey();E in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[E],--this.tilesLoading_),this.tileChangeCallback_()}},a.prototype.loadMoreTiles=function(r,o){for(var K,J,h=0;this.tilesLoading_<r&&h<o&&this.getCount()>0;)J=(K=this.dequeue()[0]).getKey(),K.getState()===Wt.Z.IDLE&&!(J in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[J]=!0,++this.tilesLoading_,++h,K.load())},a}(Rt);const en=Gn;var On=p(4410),Vn=p(9849),Fn=p(8587);const er={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var gr=p(9302),kn=p(5478),Ar=p(2156);function ni(s,a,r){return function(o,h,E,K,J){if(o){var me=a?0:E[0]*h,Me=a?0:E[1]*h,We=J?J[0]:0,tt=J?J[1]:0,wt=s[0]+me/2+We,Mt=s[2]-me/2+We,Bt=s[1]+Me/2+tt,Jt=s[3]-Me/2+tt;wt>Mt&&(Mt=wt=(Mt+wt)/2),Bt>Jt&&(Jt=Bt=(Jt+Bt)/2);var Dn=(0,Ar.uZ)(o[0],wt,Mt),qn=(0,Ar.uZ)(o[1],Bt,Jt),sr=30*h;return K&&r&&(Dn+=-sr*Math.log(1+Math.max(0,wt-o[0])/sr)+sr*Math.log(1+Math.max(0,o[0]-Mt)/sr),qn+=-sr*Math.log(1+Math.max(0,Bt-o[1])/sr)+sr*Math.log(1+Math.max(0,o[1]-Jt)/sr)),[Dn,qn]}}}function Gr(s){return s}var Vr=p(2456);function zr(s,a,r,o){var h=(0,x.dz)(a)/r[0],E=(0,x.Cr)(a)/r[1];return o?Math.min(s,Math.max(h,E)):Math.min(s,Math.min(h,E))}function or(s,a,r){var o=Math.min(s,a);return o*=Math.log(1+50*Math.max(0,s/a-1))/50+1,r&&(o=Math.max(o,r),o/=Math.log(1+50*Math.max(0,r/s-1))/50+1),(0,Ar.uZ)(o,r/2,2*a)}function Mr(s,a,r,o,h){return function(E,K,J,me){if(void 0!==E){var Me=o?zr(s,o,J,h):s;return(void 0===r||r)&&me?or(E,Me,a):(0,Ar.uZ)(E,a,Me)}}}function Qr(s){if(void 0!==s)return 0}function Rr(s){if(void 0!==s)return s}var lt=p(6299),jt=p(4173),gn=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),pr=function(s){function a(r){var o=s.call(this)||this,h=(0,Be.f0)({},r);return o.hints_=[0,0],o.animations_=[],o.projection_=(0,kn.UQ)(h.projection,"EPSG:3857"),o.viewportSize_=[100,100],o.targetCenter_=null,o.nextCenter_=null,o.cancelAnchor_=void 0,h.center&&(h.center=(0,kn.Vs)(h.center,o.projection_)),h.extent&&(h.extent=(0,kn.dY)(h.extent,o.projection_)),o.applyOptions_(h),o}return gn(a,s),a.prototype.applyOptions_=function(r){var o=(0,Be.f0)({},r);for(var h in er)delete o[h];this.setProperties(o,!0);var E=function(s){var a,r,o,K=void 0!==s.minZoom?s.minZoom:0,J=void 0!==s.maxZoom?s.maxZoom:28,me=void 0!==s.zoomFactor?s.zoomFactor:2,Me=void 0!==s.multiWorld&&s.multiWorld,We=void 0===s.smoothResolutionConstraint||s.smoothResolutionConstraint,tt=void 0!==s.showFullExtent&&s.showFullExtent,wt=(0,kn.UQ)(s.projection,"EPSG:3857"),Mt=wt.getExtent(),Bt=s.constrainOnlyCenter,Jt=s.extent;if(!Me&&!Jt&&wt.isGlobal()&&(Bt=!1,Jt=Mt),void 0!==s.resolutions){var Dn=s.resolutions;r=Dn[K],o=void 0!==Dn[J]?Dn[J]:Dn[Dn.length-1],a=s.constrainResolution?function(s,a,r,o){return function(h,E,K,J){if(void 0!==h){var me=s[0],Me=s[s.length-1],We=r?zr(me,r,K,o):me;if(J)return void 0===a||a?or(h,We,Me):(0,Ar.uZ)(h,Me,We);var wt=Math.min(We,h),Mt=Math.floor((0,Vr.h7)(s,wt,E));return s[Mt]>We&&Mt<s.length-1?s[Mt+1]:s[Mt]}}}(Dn,We,!Bt&&Jt,tt):Mr(r,o,We,!Bt&&Jt,tt)}else{var sr=(Mt?Math.max((0,x.dz)(Mt),(0,x.Cr)(Mt)):360*kn.Wm[Vn.ZP.DEGREES]/wt.getMetersPerUnit())/gr.S/Math.pow(2,0),Pr=sr/Math.pow(2,28);void 0!==(r=s.maxResolution)?K=0:r=sr/Math.pow(me,K),void 0===(o=s.minResolution)&&(o=void 0!==s.maxZoom?void 0!==s.maxResolution?r/Math.pow(me,J):sr/Math.pow(me,J):Pr),J=K+Math.floor(Math.log(r/o)/Math.log(me)),o=r/Math.pow(me,J-K),a=s.constrainResolution?function(s,a,r,o,h,E){return function(K,J,me,Me){if(void 0!==K){var We=h?zr(a,h,me,E):a,tt=void 0!==r?r:0;if(Me)return void 0===o||o?or(K,We,tt):(0,Ar.uZ)(K,tt,We);var Bt=Math.ceil(Math.log(a/We)/Math.log(s)-1e-9),Jt=-J*(.5-1e-9)+.5,Dn=Math.min(We,K),qn=Math.floor(Math.log(a/Dn)/Math.log(s)+Jt),sr=Math.max(Bt,qn),Pr=a/Math.pow(s,sr);return(0,Ar.uZ)(Pr,tt,We)}}}(me,r,o,We,!Bt&&Jt,tt):Mr(r,o,We,!Bt&&Jt,tt)}return{constraint:a,maxResolution:r,minResolution:o,minZoom:K,zoomFactor:me}}(r);this.maxResolution_=E.maxResolution,this.minResolution_=E.minResolution,this.zoomFactor_=E.zoomFactor,this.resolutions_=r.resolutions,this.padding_=r.padding,this.minZoom_=E.minZoom;var K=function(s){if(void 0!==s.extent)return ni(s.extent,s.constrainOnlyCenter,void 0===s.smoothExtentConstraint||s.smoothExtentConstraint);var r=(0,kn.UQ)(s.projection,"EPSG:3857");if(!0!==s.multiWorld&&r.isGlobal()){var o=r.getExtent().slice();return o[0]=-1/0,o[2]=1/0,ni(o,!1,!1)}return Gr}(r),J=E.constraint,me=function(s){if(void 0===s.enableRotation||s.enableRotation){var r=s.constrainRotation;return void 0===r||!0===r?function(s){var a=(0,Ar.Yr)(5);return function(r,o){return o?r:void 0!==r?Math.abs(r)<=a?0:r:void 0}}():!1===r?Rr:"number"==typeof r?function(s){var a=2*Math.PI/s;return function(r,o){return o?r:void 0!==r?r=Math.floor(r/a+.5)*a:void 0}}(r):Rr}return Qr}(r);this.constraints_={center:K,resolution:J,rotation:me},this.setRotation(void 0!==r.rotation?r.rotation:0),this.setCenterInternal(void 0!==r.center?r.center:null),void 0!==r.resolution?this.setResolution(r.resolution):void 0!==r.zoom&&this.setZoom(r.zoom)},Object.defineProperty(a.prototype,"padding",{get:function(){return this.padding_},set:function(r){var o=this.padding_;this.padding_=r;var h=this.getCenter();if(h){var E=r||[0,0,0,0];o=o||[0,0,0,0];var K=this.getResolution();this.setCenterInternal([h[0]+K/2*(E[3]-o[3]+o[1]-E[1]),h[1]-K/2*(E[0]-o[0]+o[2]-E[2])])}},enumerable:!1,configurable:!0}),a.prototype.getUpdatedOptions_=function(r){var o=this.getProperties();return void 0!==o.resolution?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenterInternal(),o.rotation=this.getRotation(),(0,Be.f0)({},o,r)},a.prototype.animate=function(r){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var o=new Array(arguments.length),h=0;h<o.length;++h){var E=arguments[h];E.center&&((E=(0,Be.f0)({},E)).center=(0,kn.Vs)(E.center,this.getProjection())),E.anchor&&((E=(0,Be.f0)({},E)).anchor=(0,kn.Vs)(E.anchor,this.getProjection())),o[h]=E}this.animateInternal.apply(this,o)},a.prototype.animateInternal=function(r){var h,o=arguments.length;o>1&&"function"==typeof arguments[o-1]&&(h=arguments[o-1],--o);for(var E=0;E<o&&!this.isDef();++E){var K=arguments[E];K.center&&this.setCenterInternal(K.center),void 0!==K.zoom?this.setZoom(K.zoom):K.resolution&&this.setResolution(K.resolution),void 0!==K.rotation&&this.setRotation(K.rotation)}if(E!==o){for(var J=Date.now(),me=this.targetCenter_.slice(),Me=this.targetResolution_,We=this.targetRotation_,tt=[];E<o;++E){var wt=arguments[E],Mt={start:J,complete:!1,anchor:wt.anchor,duration:void 0!==wt.duration?wt.duration:1e3,easing:wt.easing||lt.rd,callback:h};if(wt.center&&(Mt.sourceCenter=me,Mt.targetCenter=wt.center.slice(),me=Mt.targetCenter),void 0!==wt.zoom?(Mt.sourceResolution=Me,Mt.targetResolution=this.getResolutionForZoom(wt.zoom),Me=Mt.targetResolution):wt.resolution&&(Mt.sourceResolution=Me,Mt.targetResolution=wt.resolution,Me=Mt.targetResolution),void 0!==wt.rotation){Mt.sourceRotation=We;var Bt=(0,Ar.$W)(wt.rotation-We+Math.PI,2*Math.PI)-Math.PI;Mt.targetRotation=We+Bt,We=Mt.targetRotation}un(Mt)?Mt.complete=!0:J+=Mt.duration,tt.push(Mt)}this.animations_.push(tt),this.setHint(Fn.Z.ANIMATING,1),this.updateAnimations_()}else h&&ct(h,!0)},a.prototype.getAnimating=function(){return this.hints_[Fn.Z.ANIMATING]>0},a.prototype.getInteracting=function(){return this.hints_[Fn.Z.INTERACTING]>0},a.prototype.cancelAnimations=function(){this.setHint(Fn.Z.ANIMATING,-this.hints_[Fn.Z.ANIMATING]);for(var r,o=0,h=this.animations_.length;o<h;++o){var E=this.animations_[o];if(E[0].callback&&ct(E[0].callback,!1),!r)for(var K=0,J=E.length;K<J;++K){var me=E[K];if(!me.complete){r=me.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=r,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},a.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var r=Date.now(),o=!1,h=this.animations_.length-1;h>=0;--h){for(var E=this.animations_[h],K=!0,J=0,me=E.length;J<me;++J){var Me=E[J];if(!Me.complete){var tt=Me.duration>0?(r-Me.start)/Me.duration:1;tt>=1?(Me.complete=!0,tt=1):K=!1;var wt=Me.easing(tt);if(Me.sourceCenter){var Mt=Me.sourceCenter[0],Bt=Me.sourceCenter[1],Jt=Me.targetCenter[0],Dn=Me.targetCenter[1];this.nextCenter_=Me.targetCenter,this.targetCenter_=[Mt+wt*(Jt-Mt),Bt+wt*(Dn-Bt)]}if(Me.sourceResolution&&Me.targetResolution){var Pr=1===wt?Me.targetResolution:Me.sourceResolution+wt*(Me.targetResolution-Me.sourceResolution);if(Me.anchor){var Kr=this.getViewportSize_(this.getRotation()),ti=this.constraints_.resolution(Pr,0,Kr,!0);this.targetCenter_=this.calculateCenterZoom(ti,Me.anchor)}this.nextResolution_=Me.targetResolution,this.targetResolution_=Pr,this.applyTargetState_(!0)}if(void 0!==Me.sourceRotation&&void 0!==Me.targetRotation){var ii=1===wt?(0,Ar.$W)(Me.targetRotation+Math.PI,2*Math.PI)-Math.PI:Me.sourceRotation+wt*(Me.targetRotation-Me.sourceRotation);if(Me.anchor){var Hi=this.constraints_.rotation(ii,!0);this.targetCenter_=this.calculateCenterRotate(Hi,Me.anchor)}this.nextRotation_=Me.targetRotation,this.targetRotation_=ii}if(this.applyTargetState_(!0),o=!0,!Me.complete)break}}if(K){this.animations_[h]=null,this.setHint(Fn.Z.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var Ii=E[0].callback;Ii&&ct(Ii,!0)}}this.animations_=this.animations_.filter(Boolean),o&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},a.prototype.calculateCenterRotate=function(r,o){var h,E=this.getCenterInternal();return void 0!==E&&((0,m.U1)(h=[E[0]-o[0],E[1]-o[1]],r-this.getRotation()),(0,m.IH)(h,o)),h},a.prototype.calculateCenterZoom=function(r,o){var h,E=this.getCenterInternal(),K=this.getResolution();return void 0!==E&&void 0!==K&&(h=[o[0]-r*(o[0]-E[0])/K,o[1]-r*(o[1]-E[1])/K]),h},a.prototype.getViewportSize_=function(r){var o=this.viewportSize_;if(r){var h=o[0],E=o[1];return[Math.abs(h*Math.cos(r))+Math.abs(E*Math.sin(r)),Math.abs(h*Math.sin(r))+Math.abs(E*Math.cos(r))]}return o},a.prototype.setViewportSize=function(r){this.viewportSize_=Array.isArray(r)?r.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},a.prototype.getCenter=function(){var r=this.getCenterInternal();return r&&(0,kn.lO)(r,this.getProjection())},a.prototype.getCenterInternal=function(){return this.get(er.CENTER)},a.prototype.getConstraints=function(){return this.constraints_},a.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},a.prototype.getHints=function(r){return void 0!==r?(r[0]=this.hints_[0],r[1]=this.hints_[1],r):this.hints_.slice()},a.prototype.calculateExtent=function(r){var o=this.calculateExtentInternal(r);return(0,kn.Fj)(o,this.getProjection())},a.prototype.calculateExtentInternal=function(r){var o=r||this.getViewportSizeMinusPadding_(),h=this.getCenterInternal();(0,Ue.h)(h,1);var E=this.getResolution();(0,Ue.h)(void 0!==E,2);var K=this.getRotation();return(0,Ue.h)(void 0!==K,3),(0,x.p8)(h,E,K,o)},a.prototype.getMaxResolution=function(){return this.maxResolution_},a.prototype.getMinResolution=function(){return this.minResolution_},a.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},a.prototype.setMaxZoom=function(r){this.applyOptions_(this.getUpdatedOptions_({maxZoom:r}))},a.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},a.prototype.setMinZoom=function(r){this.applyOptions_(this.getUpdatedOptions_({minZoom:r}))},a.prototype.setConstrainResolution=function(r){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:r}))},a.prototype.getProjection=function(){return this.projection_},a.prototype.getResolution=function(){return this.get(er.RESOLUTION)},a.prototype.getResolutions=function(){return this.resolutions_},a.prototype.getResolutionForExtent=function(r,o){return this.getResolutionForExtentInternal((0,kn.dY)(r,this.getProjection()),o)},a.prototype.getResolutionForExtentInternal=function(r,o){var h=o||this.getViewportSizeMinusPadding_(),E=(0,x.dz)(r)/h[0],K=(0,x.Cr)(r)/h[1];return Math.max(E,K)},a.prototype.getResolutionForValueFunction=function(r){var o=r||2,h=this.getConstrainedResolution(this.maxResolution_),K=Math.log(h/this.minResolution_)/Math.log(o);return function(J){return h/Math.pow(o,J*K)}},a.prototype.getRotation=function(){return this.get(er.ROTATION)},a.prototype.getValueForResolutionFunction=function(r){var o=Math.log(r||2),h=this.getConstrainedResolution(this.maxResolution_),K=Math.log(h/this.minResolution_)/o;return function(J){return Math.log(h/J)/o/K}},a.prototype.getViewportSizeMinusPadding_=function(r){var o=this.getViewportSize_(r),h=this.padding_;return h&&(o=[o[0]-h[1]-h[3],o[1]-h[0]-h[2]]),o},a.prototype.getState=function(){var r=this.getProjection(),o=this.getResolution(),h=this.getRotation(),E=this.getCenterInternal(),K=this.padding_;if(K){var J=this.getViewportSizeMinusPadding_();E=En(E,this.getViewportSize_(),[J[0]/2+K[3],J[1]/2+K[0]],o,h)}return{center:E.slice(0),projection:void 0!==r?r:null,resolution:o,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:h,zoom:this.getZoom()}},a.prototype.getZoom=function(){var r,o=this.getResolution();return void 0!==o&&(r=this.getZoomForResolution(o)),r},a.prototype.getZoomForResolution=function(r){var h,E,o=this.minZoom_||0;if(this.resolutions_){var K=(0,Vr.h7)(this.resolutions_,r,1);o=K,h=this.resolutions_[K],E=K==this.resolutions_.length-1?2:h/this.resolutions_[K+1]}else h=this.maxResolution_,E=this.zoomFactor_;return o+Math.log(h/r)/Math.log(E)},a.prototype.getResolutionForZoom=function(r){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var o=(0,Ar.uZ)(Math.floor(r),0,this.resolutions_.length-2);return this.resolutions_[o]/Math.pow(this.resolutions_[o]/this.resolutions_[o+1],(0,Ar.uZ)(r-o,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,r-this.minZoom_)},a.prototype.fit=function(r,o){var h;if((0,Ue.h)(Array.isArray(r)||"function"==typeof r.getSimplifiedGeometry,24),Array.isArray(r)){(0,Ue.h)(!(0,x.xb)(r),25);var E=(0,kn.dY)(r,this.getProjection());h=(0,jt.oJ)(E)}else if(r.getType()===On.Z.CIRCLE)E=(0,kn.dY)(r.getExtent(),this.getProjection()),(h=(0,jt.oJ)(E)).rotate(this.getRotation(),(0,x.qg)(E));else{var K=(0,kn.Cs)();h=K?r.clone().transform(K,this.getProjection()):r}this.fitInternal(h,o)},a.prototype.rotatedExtentForGeometry=function(r){for(var o=this.getRotation(),h=Math.cos(o),E=Math.sin(-o),K=r.getFlatCoordinates(),J=r.getStride(),me=1/0,Me=1/0,We=-1/0,tt=-1/0,wt=0,Mt=K.length;wt<Mt;wt+=J){var Bt=K[wt]*h-K[wt+1]*E,Jt=K[wt]*E+K[wt+1]*h;me=Math.min(me,Bt),Me=Math.min(Me,Jt),We=Math.max(We,Bt),tt=Math.max(tt,Jt)}return[me,Me,We,tt]},a.prototype.fitInternal=function(r,o){var h=o||{},E=h.size;E||(E=this.getViewportSizeMinusPadding_());var me,K=void 0!==h.padding?h.padding:[0,0,0,0],J=void 0!==h.nearest&&h.nearest;me=void 0!==h.minResolution?h.minResolution:void 0!==h.maxZoom?this.getResolutionForZoom(h.maxZoom):0;var Me=this.rotatedExtentForGeometry(r),We=this.getResolutionForExtentInternal(Me,[E[0]-K[1]-K[3],E[1]-K[0]-K[2]]);We=isNaN(We)?me:Math.max(We,me),We=this.getConstrainedResolution(We,J?0:1);var tt=this.getRotation(),wt=Math.sin(tt),Mt=Math.cos(tt),Bt=(0,x.qg)(Me);Bt[0]+=(K[1]-K[3])/2*We,Bt[1]+=(K[0]-K[2])/2*We;var qn=this.getConstrainedCenter([Bt[0]*Mt-Bt[1]*wt,Bt[1]*Mt+Bt[0]*wt],We),sr=h.callback?h.callback:$.Zn;void 0!==h.duration?this.animateInternal({resolution:We,center:qn,duration:h.duration,easing:h.easing},sr):(this.targetResolution_=We,this.targetCenter_=qn,this.applyTargetState_(!1,!0),ct(sr,!0))},a.prototype.centerOn=function(r,o,h){this.centerOnInternal((0,kn.Vs)(r,this.getProjection()),o,h)},a.prototype.centerOnInternal=function(r,o,h){this.setCenterInternal(En(r,o,h,this.getResolution(),this.getRotation()))},a.prototype.calculateCenterShift=function(r,o,h,E){var K,J=this.padding_;if(J&&r){var me=this.getViewportSizeMinusPadding_(-h),Me=En(r,E,[me[0]/2+J[3],me[1]/2+J[0]],o,h);K=[r[0]-Me[0],r[1]-Me[1]]}return K},a.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},a.prototype.adjustCenter=function(r){var o=(0,kn.lO)(this.targetCenter_,this.getProjection());this.setCenter([o[0]+r[0],o[1]+r[1]])},a.prototype.adjustCenterInternal=function(r){var o=this.targetCenter_;this.setCenterInternal([o[0]+r[0],o[1]+r[1]])},a.prototype.adjustResolution=function(r,o){var h=o&&(0,kn.Vs)(o,this.getProjection());this.adjustResolutionInternal(r,h)},a.prototype.adjustResolutionInternal=function(r,o){var h=this.getAnimating()||this.getInteracting(),E=this.getViewportSize_(this.getRotation()),K=this.constraints_.resolution(this.targetResolution_*r,0,E,h);o&&(this.targetCenter_=this.calculateCenterZoom(K,o)),this.targetResolution_*=r,this.applyTargetState_()},a.prototype.adjustZoom=function(r,o){this.adjustResolution(Math.pow(this.zoomFactor_,-r),o)},a.prototype.adjustRotation=function(r,o){o&&(o=(0,kn.Vs)(o,this.getProjection())),this.adjustRotationInternal(r,o)},a.prototype.adjustRotationInternal=function(r,o){var h=this.getAnimating()||this.getInteracting(),E=this.constraints_.rotation(this.targetRotation_+r,h);o&&(this.targetCenter_=this.calculateCenterRotate(E,o)),this.targetRotation_+=r,this.applyTargetState_()},a.prototype.setCenter=function(r){this.setCenterInternal((0,kn.Vs)(r,this.getProjection()))},a.prototype.setCenterInternal=function(r){this.targetCenter_=r,this.applyTargetState_()},a.prototype.setHint=function(r,o){return this.hints_[r]+=o,this.changed(),this.hints_[r]},a.prototype.setResolution=function(r){this.targetResolution_=r,this.applyTargetState_()},a.prototype.setRotation=function(r){this.targetRotation_=r,this.applyTargetState_()},a.prototype.setZoom=function(r){this.setResolution(this.getResolutionForZoom(r))},a.prototype.applyTargetState_=function(r,o){var h=this.getAnimating()||this.getInteracting()||o,E=this.constraints_.rotation(this.targetRotation_,h),K=this.getViewportSize_(E),J=this.constraints_.resolution(this.targetResolution_,0,K,h),me=this.constraints_.center(this.targetCenter_,J,K,h,this.calculateCenterShift(this.targetCenter_,J,E,K));this.get(er.ROTATION)!==E&&this.set(er.ROTATION,E),this.get(er.RESOLUTION)!==J&&(this.set(er.RESOLUTION,J),this.set("zoom",this.getZoom(),!0)),(!me||!this.get(er.CENTER)||!(0,m.fS)(this.get(er.CENTER),me))&&this.set(er.CENTER,me),this.getAnimating()&&!r&&this.cancelAnimations(),this.cancelAnchor_=void 0},a.prototype.resolveConstraints=function(r,o,h){var E=void 0!==r?r:200,K=o||0,J=this.constraints_.rotation(this.targetRotation_),me=this.getViewportSize_(J),Me=this.constraints_.resolution(this.targetResolution_,K,me),We=this.constraints_.center(this.targetCenter_,Me,me,!1,this.calculateCenterShift(this.targetCenter_,Me,J,me));if(0===E&&!this.cancelAnchor_)return this.targetResolution_=Me,this.targetRotation_=J,this.targetCenter_=We,void this.applyTargetState_();var tt=h||(0===E?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==Me||this.getRotation()!==J||!this.getCenterInternal()||!(0,m.fS)(this.getCenterInternal(),We))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:J,center:We,resolution:Me,duration:E,easing:lt.Vv,anchor:tt}))},a.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Fn.Z.INTERACTING,1)},a.prototype.endInteraction=function(r,o,h){var E=h&&(0,kn.Vs)(h,this.getProjection());this.endInteractionInternal(r,o,E)},a.prototype.endInteractionInternal=function(r,o,h){this.setHint(Fn.Z.INTERACTING,-1),this.resolveConstraints(r,o,h)},a.prototype.getConstrainedCenter=function(r,o){var h=this.getViewportSize_(this.getRotation());return this.constraints_.center(r,o||this.getResolution(),h)},a.prototype.getConstrainedZoom=function(r,o){var h=this.getResolutionForZoom(r);return this.getZoomForResolution(this.getConstrainedResolution(h,o))},a.prototype.getConstrainedResolution=function(r,o){var h=o||0,E=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(r,h,E)},a}(A.Z);function ct(s,a){setTimeout(function(){s(a)},0)}function un(s){return!(s.sourceCenter&&s.targetCenter&&!(0,m.fS)(s.sourceCenter,s.targetCenter)||s.sourceResolution!==s.targetResolution||s.sourceRotation!==s.targetRotation)}function En(s,a,r,o,h){var E=Math.cos(-h),K=Math.sin(-h),J=s[0]*E-s[1]*K,me=s[1]*E+s[0]*K;return[(J+=(a[0]/2-r[0])*o)*E-(me+=(r[1]-a[1]/2)*o)*(K=-K),me*E+J*K]}const dn=pr;var Un=p(1750),Mn=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();function cn(s){s instanceof C.Z?s.setMapInternal(null):s instanceof Gt&&s.getLayers().forEach(cn)}function Bn(s,a){if(s instanceof C.Z)s.setMapInternal(a);else if(s instanceof Gt)for(var r=s.getLayers().getArray(),o=0,h=r.length;o<h;++o)Bn(r[o],a)}var ar=function(s){function a(r){var o=s.call(this)||this,h=function(s){var a=null;void 0!==s.keyboardEventTarget&&(a="string"==typeof s.keyboardEventTarget?document.getElementById(s.keyboardEventTarget):s.keyboardEventTarget);var h,E,K,r={},o=s.layers&&"function"==typeof s.layers.getLayers?s.layers:new Gt({layers:s.layers});return r.layergroup=o,r.target=s.target,r.view=s.view instanceof dn?s.view:new dn,void 0!==s.controls&&(Array.isArray(s.controls)?h=new Ee(s.controls.slice()):((0,Ue.h)("function"==typeof s.controls.getArray,47),h=s.controls)),void 0!==s.interactions&&(Array.isArray(s.interactions)?E=new Ee(s.interactions.slice()):((0,Ue.h)("function"==typeof s.interactions.getArray,48),E=s.interactions)),void 0!==s.overlays?Array.isArray(s.overlays)?K=new Ee(s.overlays.slice()):((0,Ue.h)("function"==typeof s.overlays.getArray,49),K=s.overlays):K=new Ee,{controls:h,interactions:E,keyboardEventTarget:a,overlays:K,values:r}}(r);o.boundHandleBrowserEvent_=o.handleBrowserEvent.bind(o),o.maxTilesLoading_=void 0!==r.maxTilesLoading?r.maxTilesLoading:16,o.pixelRatio_=void 0!==r.pixelRatio?r.pixelRatio:vn.MP,o.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(o),o.coordinateToPixelTransform_=(0,P.Ue)(),o.pixelToCoordinateTransform_=(0,P.Ue)(),o.frameIndex_=0,o.frameState_=null,o.previousExtent_=null,o.viewPropertyListenerKey_=null,o.viewChangeListenerKey_=null,o.layerGroupPropertyListenerKeys_=null,o.viewport_=document.createElement("div"),o.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),o.viewport_.style.position="relative",o.viewport_.style.overflow="hidden",o.viewport_.style.width="100%",o.viewport_.style.height="100%",o.overlayContainer_=document.createElement("div"),o.overlayContainer_.style.position="absolute",o.overlayContainer_.style.zIndex="0",o.overlayContainer_.style.width="100%",o.overlayContainer_.style.height="100%",o.overlayContainer_.style.pointerEvents="none",o.overlayContainer_.className="ol-overlaycontainer",o.viewport_.appendChild(o.overlayContainer_),o.overlayContainerStopEvent_=document.createElement("div"),o.overlayContainerStopEvent_.style.position="absolute",o.overlayContainerStopEvent_.style.zIndex="0",o.overlayContainerStopEvent_.style.width="100%",o.overlayContainerStopEvent_.style.height="100%",o.overlayContainerStopEvent_.style.pointerEvents="none",o.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",o.viewport_.appendChild(o.overlayContainerStopEvent_),o.mapBrowserEventHandler_=null,o.moveTolerance_=r.moveTolerance,o.keyboardEventTarget_=h.keyboardEventTarget,o.targetChangeHandlerKeys_=null,o.controls=h.controls||new Ee,o.interactions=h.interactions||new Ee,o.overlays_=h.overlays,o.overlayIdIndex_={},o.renderer_=null,o.postRenderFunctions_=[],o.tileQueue_=new en(o.getTilePriority.bind(o),o.handleTileChange_.bind(o)),o.addChangeListener("layergroup",o.handleLayerGroupChanged_),o.addChangeListener("view",o.handleViewChanged_),o.addChangeListener("size",o.handleSizeChanged_),o.addChangeListener("target",o.handleTargetChanged_),o.setProperties(h.values);var E=o;return r.view&&!(r.view instanceof dn)&&r.view.then(function(K){E.setView(new dn(K))}),o.controls.addEventListener("add",function(K){K.element.setMap(this)}.bind(o)),o.controls.addEventListener("remove",function(K){K.element.setMap(null)}.bind(o)),o.interactions.addEventListener("add",function(K){K.element.setMap(this)}.bind(o)),o.interactions.addEventListener("remove",function(K){K.element.setMap(null)}.bind(o)),o.overlays_.addEventListener("add",function(K){this.addOverlayInternal_(K.element)}.bind(o)),o.overlays_.addEventListener("remove",function(K){var me=K.element.getId();void 0!==me&&delete this.overlayIdIndex_[me.toString()],K.element.setMap(null)}.bind(o)),o.controls.forEach(function(K){K.setMap(this)}.bind(o)),o.interactions.forEach(function(K){K.setMap(this)}.bind(o)),o.overlays_.forEach(o.addOverlayInternal_.bind(o)),o}return Mn(a,s),a.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},a.prototype.addControl=function(r){this.getControls().push(r)},a.prototype.addInteraction=function(r){this.getInteractions().push(r)},a.prototype.addLayer=function(r){this.getLayerGroup().getLayers().push(r)},a.prototype.handleLayerAdd_=function(r){Bn(r.layer,this)},a.prototype.addOverlay=function(r){this.getOverlays().push(r)},a.prototype.addOverlayInternal_=function(r){var o=r.getId();void 0!==o&&(this.overlayIdIndex_[o.toString()]=r),r.setMap(this)},a.prototype.disposeInternal=function(){this.setTarget(null),s.prototype.disposeInternal.call(this)},a.prototype.forEachFeatureAtPixel=function(r,o,h){if(this.frameState_){var E=this.getCoordinateFromPixelInternal(r);return this.renderer_.forEachFeatureAtCoordinate(E,this.frameState_,void 0!==(h=void 0!==h?h:{}).hitTolerance?h.hitTolerance:0,!1!==h.checkWrapped,o,null,void 0!==h.layerFilter?h.layerFilter:$.uX,null)}},a.prototype.getFeaturesAtPixel=function(r,o){var h=[];return this.forEachFeatureAtPixel(r,function(E){h.push(E)},o),h},a.prototype.getAllLayers=function(){var r=[];return function o(h){h.forEach(function(E){E instanceof Gt?o(E.getLayers()):r.push(E)})}(this.getLayers()),r},a.prototype.forEachLayerAtPixel=function(r,o,h){if(this.frameState_){var E=h||{};return this.renderer_.forEachLayerAtPixel(r,this.frameState_,void 0!==E.hitTolerance?E.hitTolerance:0,o,E.layerFilter||$.uX)}},a.prototype.hasFeatureAtPixel=function(r,o){if(!this.frameState_)return!1;var h=this.getCoordinateFromPixelInternal(r);return this.renderer_.hasFeatureAtCoordinate(h,this.frameState_,void 0!==(o=void 0!==o?o:{}).hitTolerance?o.hitTolerance:0,!1!==o.checkWrapped,void 0!==o.layerFilter?o.layerFilter:$.uX,null)},a.prototype.getEventCoordinate=function(r){return this.getCoordinateFromPixel(this.getEventPixel(r))},a.prototype.getEventCoordinateInternal=function(r){return this.getCoordinateFromPixelInternal(this.getEventPixel(r))},a.prototype.getEventPixel=function(r){var o=this.viewport_.getBoundingClientRect(),h="changedTouches"in r?r.changedTouches[0]:r;return[h.clientX-o.left,h.clientY-o.top]},a.prototype.getTarget=function(){return this.get("target")},a.prototype.getTargetElement=function(){var r=this.getTarget();return void 0!==r?"string"==typeof r?document.getElementById(r):r:null},a.prototype.getCoordinateFromPixel=function(r){return(0,kn.lO)(this.getCoordinateFromPixelInternal(r),this.getView().getProjection())},a.prototype.getCoordinateFromPixelInternal=function(r){var o=this.frameState_;return o?(0,P.nn)(o.pixelToCoordinateTransform,r.slice()):null},a.prototype.getControls=function(){return this.controls},a.prototype.getOverlays=function(){return this.overlays_},a.prototype.getOverlayById=function(r){var o=this.overlayIdIndex_[r.toString()];return void 0!==o?o:null},a.prototype.getInteractions=function(){return this.interactions},a.prototype.getLayerGroup=function(){return this.get("layergroup")},a.prototype.setLayers=function(r){var o=this.getLayerGroup();if(r instanceof Ee)o.setLayers(r);else{var h=o.getLayers();h.clear(),h.extend(r)}},a.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},a.prototype.getLoading=function(){for(var r=this.getLayerGroup().getLayerStatesArray(),o=0,h=r.length;o<h;++o){var K=r[o].layer.getSource();if(K&&K.loading)return!0}return!1},a.prototype.getPixelFromCoordinate=function(r){var o=(0,kn.Vs)(r,this.getView().getProjection());return this.getPixelFromCoordinateInternal(o)},a.prototype.getPixelFromCoordinateInternal=function(r){var o=this.frameState_;return o?(0,P.nn)(o.coordinateToPixelTransform,r.slice(0,2)):null},a.prototype.getRenderer=function(){return this.renderer_},a.prototype.getSize=function(){return this.get("size")},a.prototype.getView=function(){return this.get("view")},a.prototype.getViewport=function(){return this.viewport_},a.prototype.getOverlayContainer=function(){return this.overlayContainer_},a.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},a.prototype.getOwnerDocument=function(){var r=this.getTargetElement();return r?r.ownerDocument:document},a.prototype.getTilePriority=function(r,o,h,E){return function(s,a,r,o,h){if(!s||!(r in s.wantedTiles)||!s.wantedTiles[r][a.getKey()])return _t;var E=s.viewState.center,K=o[0]-E[0],J=o[1]-E[1];return 65536*Math.log(h)+Math.sqrt(K*K+J*J)/h}(this.frameState_,r,o,h,E)},a.prototype.handleBrowserEvent=function(r,o){var E=new bt(o||r.type,this,r);this.handleMapBrowserEvent(E)},a.prototype.handleMapBrowserEvent=function(r){if(this.frameState_){var o=r.originalEvent,h=o.type;if("pointerdown"===h||h===Pe.Z.WHEEL||h===Pe.Z.KEYDOWN){var E=this.getOwnerDocument(),K=this.viewport_.getRootNode?this.viewport_.getRootNode():E,J=o.target;if(this.overlayContainerStopEvent_.contains(J)||!(K===E?E.documentElement:K).contains(J))return}if(r.frameState=this.frameState_,!1!==this.dispatchEvent(r))for(var me=this.getInteractions().getArray().slice(),Me=me.length-1;Me>=0;Me--){var We=me[Me];if(We.getMap()===this&&We.getActive()&&this.getTargetElement()&&(!We.handleEvent(r)||r.propagationStopped))break}}},a.prototype.handlePostRender=function(){var r=this.frameState_,o=this.tileQueue_;if(!o.isEmpty()){var h=this.maxTilesLoading_,E=h;if(r){var K=r.viewHints;if(K[Fn.Z.ANIMATING]||K[Fn.Z.INTERACTING]){var J=Date.now()-r.time>8;h=J?0:8,E=J?0:2}}o.getTilesLoading()<h&&(o.reprioritize(),o.loadMoreTiles(h,E))}r&&this.hasListener(F.Z.RENDERCOMPLETE)&&!r.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(F.Z.RENDERCOMPLETE,r);for(var me=this.postRenderFunctions_,Me=0,We=me.length;Me<We;++Me)me[Me](this,r);me.length=0},a.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},a.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var r=0,o=this.targetChangeHandlerKeys_.length;r<o;++r)(0,z.bN)(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Pe.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Pe.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,re.ZF)(this.viewport_)}var h=this.getTargetElement();if(h){for(var E in h.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new dt(this,this.moveTolerance_),nt)this.mapBrowserEventHandler_.addEventListener(nt[E],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Pe.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Pe.Z.WHEEL,this.boundHandleBrowserEvent_,!!vn.bM&&{passive:!1});var K=this.getOwnerDocument().defaultView,J=this.keyboardEventTarget_?this.keyboardEventTarget_:h;this.targetChangeHandlerKeys_=[(0,z.oL)(J,Pe.Z.KEYDOWN,this.handleBrowserEvent,this),(0,z.oL)(J,Pe.Z.KEYPRESS,this.handleBrowserEvent,this),(0,z.oL)(K,Pe.Z.RESIZE,this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},a.prototype.handleTileChange_=function(){this.render()},a.prototype.handleViewPropertyChanged_=function(){this.render()},a.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,z.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,z.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var r=this.getView();r&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,z.oL)(r,k.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,z.oL)(r,Pe.Z.CHANGE,this.handleViewPropertyChanged_,this),r.resolveConstraints(0)),this.render()},a.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(z.bN),this.layerGroupPropertyListenerKeys_=null);var r=this.getLayerGroup();r&&(this.handleLayerAdd_(new ke("addlayer",r)),this.layerGroupPropertyListenerKeys_=[(0,z.oL)(r,k.Z.PROPERTYCHANGE,this.render,this),(0,z.oL)(r,Pe.Z.CHANGE,this.render,this),(0,z.oL)(r,"addlayer",this.handleLayerAdd_,this),(0,z.oL)(r,"removelayer",this.handleLayerRemove_,this)]),this.render()},a.prototype.isRendered=function(){return!!this.frameState_},a.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},a.prototype.redrawText=function(){for(var r=this.getLayerGroup().getLayerStatesArray(),o=0,h=r.length;o<h;++o){var E=r[o].layer;E.hasRenderer()&&E.getRenderer().handleFontsChanged()}},a.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},a.prototype.removeControl=function(r){return this.getControls().remove(r)},a.prototype.removeInteraction=function(r){return this.getInteractions().remove(r)},a.prototype.removeLayer=function(r){return this.getLayerGroup().getLayers().remove(r)},a.prototype.handleLayerRemove_=function(r){cn(r.layer)},a.prototype.removeOverlay=function(r){return this.getOverlays().remove(r)},a.prototype.renderFrame_=function(r){var o=this,h=this.getSize(),E=this.getView(),K=this.frameState_,J=null;if(void 0!==h&&(0,Un.py)(h)&&E&&E.isDef()){var me=E.getHints(this.frameState_?this.frameState_.viewHints:void 0),Me=E.getState();if(J={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,x.p8)(Me.center,Me.resolution,Me.rotation,h),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:h,tileQueue:this.tileQueue_,time:r,usedTiles:{},viewState:Me,viewHints:me,wantedTiles:{},mapId:(0,S.sq)(this),renderTargets:{}},Me.nextCenter&&Me.nextResolution){var We=isNaN(Me.nextRotation)?Me.rotation:Me.nextRotation;J.nextExtent=(0,x.p8)(Me.nextCenter,Me.nextResolution,We,h)}}this.frameState_=J,this.renderer_.renderFrame(J),J&&(J.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,J.postRenderFunctions),K&&(!this.previousExtent_||!(0,x.xb)(this.previousExtent_)&&!(0,x.fS)(J.extent,this.previousExtent_))&&(this.dispatchEvent(new wn("movestart",this,K)),this.previousExtent_=(0,x.YN)(this.previousExtent_)),this.previousExtent_&&!J.viewHints[Fn.Z.ANIMATING]&&!J.viewHints[Fn.Z.INTERACTING]&&!(0,x.fS)(J.extent,this.previousExtent_)&&(this.dispatchEvent(new wn("moveend",this,J)),(0,x.d9)(J.extent,this.previousExtent_))),this.dispatchEvent(new wn("postrender",this,J)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoading(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){o.postRenderTimeoutHandle_=void 0,o.handlePostRender()},0))},a.prototype.setLayerGroup=function(r){var o=this.getLayerGroup();o&&this.handleLayerRemove_(new ke("removelayer",o)),this.set("layergroup",r)},a.prototype.setSize=function(r){this.set("size",r)},a.prototype.setTarget=function(r){this.set("target",r)},a.prototype.setView=function(r){if(!r||r instanceof dn)this.set("view",r);else{this.set("view",new dn);var o=this;r.then(function(h){o.setView(new dn(h))})}},a.prototype.updateSize=function(){var r=this.getTargetElement(),o=void 0;if(r){var h=getComputedStyle(r),E=r.offsetWidth-parseFloat(h.borderLeftWidth)-parseFloat(h.paddingLeft)-parseFloat(h.paddingRight)-parseFloat(h.borderRightWidth),K=r.offsetHeight-parseFloat(h.borderTopWidth)-parseFloat(h.paddingTop)-parseFloat(h.paddingBottom)-parseFloat(h.borderBottomWidth);!isNaN(E)&&!isNaN(K)&&!(0,Un.py)(o=[E,K])&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0.")}this.setSize(o),this.updateViewportSize_()},a.prototype.updateViewportSize_=function(){var r=this.getView();if(r){var o=void 0,h=getComputedStyle(this.viewport_);h.width&&h.height&&(o=[parseInt(h.width,10),parseInt(h.height,10)]),r.setViewportSize(o)}},a}(A.Z);const gi=ar;var Dr=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Et=function(s){function a(r){var o=s.call(this)||this,h=r.element;return h&&!r.target&&!h.style.pointerEvents&&(h.style.pointerEvents="auto"),o.element=h||null,o.target_=null,o.map_=null,o.listenerKeys=[],r.render&&(o.render=r.render),r.target&&o.setTarget(r.target),o}return Dr(a,s),a.prototype.disposeInternal=function(){(0,re.ZF)(this.element),s.prototype.disposeInternal.call(this)},a.prototype.getMap=function(){return this.map_},a.prototype.setMap=function(r){this.map_&&(0,re.ZF)(this.element);for(var o=0,h=this.listenerKeys.length;o<h;++o)(0,z.bN)(this.listenerKeys[o]);this.listenerKeys.length=0,this.map_=r,this.map_&&((this.target_?this.target_:r.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==$.Zn&&this.listenerKeys.push((0,z.oL)(r,"postrender",this.render,this)),r.render())},a.prototype.render=function(r){},a.prototype.setTarget=function(r){this.target_="string"==typeof r?document.getElementById(r):r},a}(A.Z);const ue=Et;var ce=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fe=function(s){function a(r){var o=this,h=r||{};(o=s.call(this,{element:document.createElement("div"),render:h.render,target:h.target})||this).ulElement_=document.createElement("ul"),o.collapsed_=void 0===h.collapsed||h.collapsed,o.userCollapsed_=o.collapsed_,o.overrideCollapsible_=void 0!==h.collapsible,o.collapsible_=void 0===h.collapsible||h.collapsible,o.collapsible_||(o.collapsed_=!1);var E=void 0!==h.className?h.className:"ol-attribution",K=void 0!==h.tipLabel?h.tipLabel:"Attributions",J=void 0!==h.expandClassName?h.expandClassName:E+"-expand",me=void 0!==h.collapseLabel?h.collapseLabel:"\u203a",Me=void 0!==h.collapseClassName?h.collapseClassName:E+"-collpase";"string"==typeof me?(o.collapseLabel_=document.createElement("span"),o.collapseLabel_.textContent=me,o.collapseLabel_.className=Me):o.collapseLabel_=me;var We=void 0!==h.label?h.label:"i";"string"==typeof We?(o.label_=document.createElement("span"),o.label_.textContent=We,o.label_.className=J):o.label_=We;var tt=o.collapsible_&&!o.collapsed_?o.collapseLabel_:o.label_;o.toggleButton_=document.createElement("button"),o.toggleButton_.setAttribute("type","button"),o.toggleButton_.setAttribute("aria-expanded",String(!o.collapsed_)),o.toggleButton_.title=K,o.toggleButton_.appendChild(tt),o.toggleButton_.addEventListener(Pe.Z.CLICK,o.handleClick_.bind(o),!1);var Mt=o.element;return Mt.className=E+" "+y.XV+" "+y.hg+(o.collapsed_&&o.collapsible_?" "+y.hN:"")+(o.collapsible_?"":" ol-uncollapsible"),Mt.appendChild(o.toggleButton_),Mt.appendChild(o.ulElement_),o.renderedAttributions_=[],o.renderedVisible_=!0,o}return ce(a,s),a.prototype.collectSourceAttributions_=function(r){for(var o={},h=[],E=!0,K=r.layerStatesArray,J=0,me=K.length;J<me;++J){var Me=K[J];if((0,C.j)(Me,r.viewState)){var We=Me.layer.getSource();if(We){var tt=We.getAttributions();if(tt){var wt=tt(r);if(wt)if(E=E&&!1!==We.getAttributionsCollapsible(),Array.isArray(wt))for(var Mt=0,Bt=wt.length;Mt<Bt;++Mt)wt[Mt]in o||(h.push(wt[Mt]),o[wt[Mt]]=!0);else wt in o||(h.push(wt),o[wt]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(E),h},a.prototype.updateElement_=function(r){if(r){var o=this.collectSourceAttributions_(r),h=o.length>0;if(this.renderedVisible_!=h&&(this.element.style.display=h?"":"none",this.renderedVisible_=h),!(0,Vr.fS)(o,this.renderedAttributions_)){(0,re.ep)(this.ulElement_);for(var E=0,K=o.length;E<K;++E){var J=document.createElement("li");J.innerHTML=o[E],this.ulElement_.appendChild(J)}this.renderedAttributions_=o}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},a.prototype.handleClick_=function(r){r.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},a.prototype.handleToggle_=function(){this.element.classList.toggle(y.hN),this.collapsed_?(0,re.$H)(this.collapseLabel_,this.label_):(0,re.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},a.prototype.getCollapsible=function(){return this.collapsible_},a.prototype.setCollapsible=function(r){this.collapsible_!==r&&(this.collapsible_=r,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},a.prototype.setCollapsed=function(r){this.userCollapsed_=r,this.collapsible_&&this.collapsed_!==r&&this.handleToggle_()},a.prototype.getCollapsed=function(){return this.collapsed_},a.prototype.render=function(r){this.updateElement_(r.frameState)},a}(ue);const et=Fe;var It=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Le=function(s){function a(r){var o=this,h=r||{};o=s.call(this,{element:document.createElement("div"),render:h.render,target:h.target})||this;var E=void 0!==h.className?h.className:"ol-rotate",K=void 0!==h.label?h.label:"\u21e7",J=void 0!==h.compassClassName?h.compassClassName:"ol-compass";o.label_=null,"string"==typeof K?(o.label_=document.createElement("span"),o.label_.className=J,o.label_.textContent=K):(o.label_=K,o.label_.classList.add(J));var me=h.tipLabel?h.tipLabel:"Reset rotation",Me=document.createElement("button");Me.className=E+"-reset",Me.setAttribute("type","button"),Me.title=me,Me.appendChild(o.label_),Me.addEventListener(Pe.Z.CLICK,o.handleClick_.bind(o),!1);var tt=o.element;return tt.className=E+" "+y.XV+" "+y.hg,tt.appendChild(Me),o.callResetNorth_=h.resetNorth?h.resetNorth:void 0,o.duration_=void 0!==h.duration?h.duration:250,o.autoHide_=void 0===h.autoHide||h.autoHide,o.rotation_=void 0,o.autoHide_&&o.element.classList.add(y.oj),o}return It(a,s),a.prototype.handleClick_=function(r){r.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},a.prototype.resetNorth_=function(){var o=this.getMap().getView();if(o){var h=o.getRotation();void 0!==h&&(this.duration_>0&&h%(2*Math.PI)!=0?o.animate({rotation:0,duration:this.duration_,easing:lt.Vv}):o.setRotation(0))}},a.prototype.render=function(r){var o=r.frameState;if(o){var h=o.viewState.rotation;if(h!=this.rotation_){var E="rotate("+h+"rad)";if(this.autoHide_){var K=this.element.classList.contains(y.oj);K||0!==h?K&&0!==h&&this.element.classList.remove(y.oj):this.element.classList.add(y.oj)}this.label_.style.transform=E}this.rotation_=h}},a}(ue);const Ct=Le;var St=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ft=function(s){function a(r){var o=this,h=r||{};o=s.call(this,{element:document.createElement("div"),target:h.target})||this;var E=void 0!==h.className?h.className:"ol-zoom",K=void 0!==h.delta?h.delta:1,J=void 0!==h.zoomInClassName?h.zoomInClassName:E+"-in",me=void 0!==h.zoomOutClassName?h.zoomOutClassName:E+"-out",Me=void 0!==h.zoomInLabel?h.zoomInLabel:"+",We=void 0!==h.zoomOutLabel?h.zoomOutLabel:"\u2013",tt=void 0!==h.zoomInTipLabel?h.zoomInTipLabel:"Zoom in",wt=void 0!==h.zoomOutTipLabel?h.zoomOutTipLabel:"Zoom out",Mt=document.createElement("button");Mt.className=J,Mt.setAttribute("type","button"),Mt.title=tt,Mt.appendChild("string"==typeof Me?document.createTextNode(Me):Me),Mt.addEventListener(Pe.Z.CLICK,o.handleClick_.bind(o,K),!1);var Bt=document.createElement("button");Bt.className=me,Bt.setAttribute("type","button"),Bt.title=wt,Bt.appendChild("string"==typeof We?document.createTextNode(We):We),Bt.addEventListener(Pe.Z.CLICK,o.handleClick_.bind(o,-K),!1);var Dn=o.element;return Dn.className=E+" "+y.XV+" "+y.hg,Dn.appendChild(Mt),Dn.appendChild(Bt),o.duration_=void 0!==h.duration?h.duration:250,o}return St(a,s),a.prototype.handleClick_=function(r,o){o.preventDefault(),this.zoomByDelta_(r)},a.prototype.zoomByDelta_=function(r){var h=this.getMap().getView();if(h){var E=h.getZoom();if(void 0!==E){var K=h.getConstrainedZoom(E+r);this.duration_>0?(h.getAnimating()&&h.cancelAnimations(),h.animate({zoom:K,duration:this.duration_,easing:lt.Vv})):h.setZoom(K)}}},a}(ue);const Zt=Ft;var je=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),it=function(s){function a(r){var o=s.call(this)||this;return r&&r.handleEvent&&(o.handleEvent=r.handleEvent),o.map_=null,o.setActive(!0),o}return je(a,s),a.prototype.getActive=function(){return this.get("active")},a.prototype.getMap=function(){return this.map_},a.prototype.handleEvent=function(r){return!0},a.prototype.setActive=function(r){this.set("active",r)},a.prototype.setMap=function(r){this.map_=r},a}(A.Z);function xt(s,a,r,o){var h=s.getZoom();if(void 0!==h){var E=s.getConstrainedZoom(h+a),K=s.getResolutionForZoom(E);s.getAnimating()&&s.cancelAnimations(),s.animate({resolution:K,anchor:r,duration:void 0!==o?o:250,easing:lt.Vv})}}const Vt=it;var an=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),yn=function(s){function a(r){var o=s.call(this)||this,h=r||{};return o.delta_=h.delta?h.delta:1,o.duration_=void 0!==h.duration?h.duration:250,o}return an(a,s),a.prototype.handleEvent=function(r){var o=!1;if(r.type==nt.DBLCLICK){var h=r.originalEvent,K=r.coordinate,J=h.shiftKey?-this.delta_:this.delta_;xt(r.map.getView(),J,K,this.duration_),h.preventDefault(),o=!0}return!o},a}(Vt);const Cn=yn;var Wn=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),mr=function(s){function a(r){var o=this,h=r||{};return o=s.call(this,h)||this,h.handleDownEvent&&(o.handleDownEvent=h.handleDownEvent),h.handleDragEvent&&(o.handleDragEvent=h.handleDragEvent),h.handleMoveEvent&&(o.handleMoveEvent=h.handleMoveEvent),h.handleUpEvent&&(o.handleUpEvent=h.handleUpEvent),h.stopDown&&(o.stopDown=h.stopDown),o.handlingDownUpSequence=!1,o.trackedPointers_={},o.targetPointers=[],o}return Wn(a,s),a.prototype.getPointerCount=function(){return this.targetPointers.length},a.prototype.handleDownEvent=function(r){return!1},a.prototype.handleDragEvent=function(r){},a.prototype.handleEvent=function(r){if(!r.originalEvent)return!0;var o=!1;if(this.updateTrackedPointers_(r),this.handlingDownUpSequence){if(r.type==nt.POINTERDRAG)this.handleDragEvent(r),r.originalEvent.preventDefault();else if(r.type==nt.POINTERUP){var h=this.handleUpEvent(r);this.handlingDownUpSequence=h&&this.targetPointers.length>0}}else if(r.type==nt.POINTERDOWN){var E=this.handleDownEvent(r);this.handlingDownUpSequence=E,o=this.stopDown(E)}else r.type==nt.POINTERMOVE&&this.handleMoveEvent(r);return!o},a.prototype.handleMoveEvent=function(r){},a.prototype.handleUpEvent=function(r){return!1},a.prototype.stopDown=function(r){return r},a.prototype.updateTrackedPointers_=function(r){if(function(s){var a=s.type;return a===nt.POINTERDOWN||a===nt.POINTERDRAG||a===nt.POINTERUP}(r)){var o=r.originalEvent,h=o.pointerId.toString();r.type==nt.POINTERUP?delete this.trackedPointers_[h]:(r.type==nt.POINTERDOWN||h in this.trackedPointers_)&&(this.trackedPointers_[h]=o),this.targetPointers=(0,Be.KX)(this.trackedPointers_)}},a}(Vt);function Lr(s){for(var a=s.length,r=0,o=0,h=0;h<a;h++)r+=s[h].clientX,o+=s[h].clientY;return[r/a,o/a]}const xi=mr;function Fi(s){var a=arguments;return function(r){for(var o=!0,h=0,E=a.length;h<E&&(o=o&&a[h](r));++h);return o}}var Io=function(s){var a=s.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey},fo=function(s){return!s.map.getTargetElement().hasAttribute("tabindex")||function(s){var a=s.map.getTargetElement(),r=s.map.getOwnerDocument().activeElement;return a.contains(r)}(s)},to=$.uX,bo=function(s){var a=s.originalEvent;return 0==a.button&&!(vn.G$&&vn.tK&&a.ctrlKey)},ye=function(s){var a=s.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey},$e=function(s){var a=s.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey},Ze=function(s){var r=s.originalEvent.target.tagName;return"INPUT"!==r&&"SELECT"!==r&&"TEXTAREA"!==r},At=function(s){var a=s.originalEvent;return(0,Ue.h)(void 0!==a,56),"mouse"==a.pointerType},hn=function(s){var a=s.originalEvent;return(0,Ue.h)(void 0!==a,56),a.isPrimary&&0===a.button},Kn=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Xe=function(s){function a(r){var o=s.call(this,{stopDown:$.Dv})||this,h=r||{};o.kinetic_=h.kinetic,o.lastCentroid=null,o.panning_=!1;var E=h.condition?h.condition:Fi(ye,hn);return o.condition_=h.onFocusOnly?Fi(fo,E):E,o.noKinetic_=!1,o}return Kn(a,s),a.prototype.handleDragEvent=function(r){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var o=this.targetPointers,h=Lr(o);if(o.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(h[0],h[1]),this.lastCentroid){var E=[this.lastCentroid[0]-h[0],h[1]-this.lastCentroid[1]],J=r.map.getView();(0,m.bA)(E,J.getResolution()),(0,m.U1)(E,J.getRotation()),J.adjustCenterInternal(E)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=h,this.lastPointersCount_=o.length,r.originalEvent.preventDefault()},a.prototype.handleUpEvent=function(r){var o=r.map,h=o.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var E=this.kinetic_.getDistance(),K=this.kinetic_.getAngle(),J=h.getCenterInternal(),me=o.getPixelFromCoordinateInternal(J),Me=o.getCoordinateFromPixelInternal([me[0]-E*Math.cos(K),me[1]-E*Math.sin(K)]);h.animateInternal({center:h.getConstrainedCenter(Me),duration:500,easing:lt.Vv})}return this.panning_&&(this.panning_=!1,h.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},a.prototype.handleDownEvent=function(r){if(this.targetPointers.length>0&&this.condition_(r)){var h=r.map.getView();return this.lastCentroid=null,h.getAnimating()&&h.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},a}(xi);const st=Xe;var ut=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Xt=function(s){function a(r){var o=this,h=r||{};return(o=s.call(this,{stopDown:$.Dv})||this).condition_=h.condition?h.condition:Io,o.lastAngle_=void 0,o.duration_=void 0!==h.duration?h.duration:250,o}return ut(a,s),a.prototype.handleDragEvent=function(r){if(At(r)){var o=r.map,h=o.getView();if(h.getConstraints().rotation!==Qr){var E=o.getSize(),K=r.pixel,J=Math.atan2(E[1]/2-K[1],K[0]-E[0]/2);void 0!==this.lastAngle_&&h.adjustRotationInternal(-(J-this.lastAngle_)),this.lastAngle_=J}}},a.prototype.handleUpEvent=function(r){return!At(r)||(r.map.getView().endInteraction(this.duration_),!1)},a.prototype.handleDownEvent=function(r){return!(!At(r)||!bo(r)||!this.condition_(r)||(r.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},a}(xi);const xn=Xt;var Nn=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zn=function(s){function a(r){var o=s.call(this)||this;return o.geometry_=null,o.element_=document.createElement("div"),o.element_.style.position="absolute",o.element_.style.pointerEvents="auto",o.element_.className="ol-box "+r,o.map_=null,o.startPixel_=null,o.endPixel_=null,o}return Nn(a,s),a.prototype.disposeInternal=function(){this.setMap(null)},a.prototype.render_=function(){var r=this.startPixel_,o=this.endPixel_,h="px",E=this.element_.style;E.left=Math.min(r[0],o[0])+h,E.top=Math.min(r[1],o[1])+h,E.width=Math.abs(o[0]-r[0])+h,E.height=Math.abs(o[1]-r[1])+h},a.prototype.setMap=function(r){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var o=this.element_.style;o.left="inherit",o.top="inherit",o.width="inherit",o.height="inherit"}this.map_=r,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},a.prototype.setPixels=function(r,o){this.startPixel_=r,this.endPixel_=o,this.createOrUpdateGeometry(),this.render_()},a.prototype.createOrUpdateGeometry=function(){var r=this.startPixel_,o=this.endPixel_,E=[r,[r[0],o[1]],o,[o[0],r[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);E[4]=E[0].slice(),this.geometry_?this.geometry_.setCoordinates([E]):this.geometry_=new jt.ZP([E])},a.prototype.getGeometry=function(){return this.geometry_},a}(L.Z);const Xn=Zn;var wr=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fr=function(s){function a(r,o,h){var E=s.call(this,r)||this;return E.coordinate=o,E.mapBrowserEvent=h,E}return wr(a,s),a}(oe.ZP),wi=function(s){function a(r){var o=s.call(this)||this,h=r||{};return o.box_=new Xn(h.className||"ol-dragbox"),o.minArea_=void 0!==h.minArea?h.minArea:64,h.onBoxEnd&&(o.onBoxEnd=h.onBoxEnd),o.startPixel_=null,o.condition_=h.condition?h.condition:bo,o.boxEndCondition_=h.boxEndCondition?h.boxEndCondition:o.defaultBoxEndCondition,o}return wr(a,s),a.prototype.defaultBoxEndCondition=function(r,o,h){var E=h[0]-o[0],K=h[1]-o[1];return E*E+K*K>=this.minArea_},a.prototype.getGeometry=function(){return this.box_.getGeometry()},a.prototype.handleDragEvent=function(r){this.box_.setPixels(this.startPixel_,r.pixel),this.dispatchEvent(new Fr("boxdrag",r.coordinate,r))},a.prototype.handleUpEvent=function(r){this.box_.setMap(null);var o=this.boxEndCondition_(r,this.startPixel_,r.pixel);return o&&this.onBoxEnd(r),this.dispatchEvent(new Fr(o?"boxend":"boxcancel",r.coordinate,r)),!1},a.prototype.handleDownEvent=function(r){return!!this.condition_(r)&&(this.startPixel_=r.pixel,this.box_.setMap(r.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Fr("boxstart",r.coordinate,r)),!0)},a.prototype.onBoxEnd=function(r){},a}(xi);const ei=wi;var li=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ci=function(s){function a(r){var o=this,h=r||{};return(o=s.call(this,{condition:h.condition?h.condition:$e,className:h.className||"ol-dragzoom",minArea:h.minArea})||this).duration_=void 0!==h.duration?h.duration:200,o.out_=void 0!==h.out&&h.out,o}return li(a,s),a.prototype.onBoxEnd=function(r){var h=this.getMap().getView(),E=this.getGeometry();if(this.out_){var K=h.rotatedExtentForGeometry(E),J=h.getResolutionForExtentInternal(K),me=h.getResolution()/J;(E=E.clone()).scale(me*me)}h.fitInternal(E,{duration:this.duration_,easing:lt.Vv})},a}(ei);const hi=Ci;var lo=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),$i=function(s){function a(r){var o=s.call(this)||this,h=r||{};return o.defaultCondition_=function(E){return ye(E)&&Ze(E)},o.condition_=void 0!==h.condition?h.condition:o.defaultCondition_,o.duration_=void 0!==h.duration?h.duration:100,o.pixelDelta_=void 0!==h.pixelDelta?h.pixelDelta:128,o}return lo(a,s),a.prototype.handleEvent=function(r){var o=!1;if(r.type==Pe.Z.KEYDOWN){var h=r.originalEvent,E=h.keyCode;if(this.condition_(r)&&(40==E||37==E||39==E||38==E)){var J=r.map.getView(),me=J.getResolution()*this.pixelDelta_,Me=0,We=0;40==E?We=-me:37==E?Me=-me:39==E?Me=me:We=me;var tt=[Me,We];(0,m.U1)(tt,J.getRotation()),function(s,a,r){var o=s.getCenterInternal();o&&s.animateInternal({duration:void 0!==r?r:250,easing:lt.GE,center:s.getConstrainedCenter([o[0]+a[0],o[1]+a[1]])})}(J,tt,this.duration_),h.preventDefault(),o=!0}}return!o},a}(Vt);const ge=$i;var Z=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),I=function(s){function a(r){var o=s.call(this)||this,h=r||{};return o.condition_=h.condition?h.condition:Ze,o.delta_=h.delta?h.delta:1,o.duration_=void 0!==h.duration?h.duration:100,o}return Z(a,s),a.prototype.handleEvent=function(r){var o=!1;if(r.type==Pe.Z.KEYDOWN||r.type==Pe.Z.KEYPRESS){var h=r.originalEvent,E=h.charCode;if(this.condition_(r)&&(E=="+".charCodeAt(0)||E=="-".charCodeAt(0))){var K=r.map,J=E=="+".charCodeAt(0)?this.delta_:-this.delta_;xt(K.getView(),J,void 0,this.duration_),h.preventDefault(),o=!0}}return!o},a}(Vt);const j=I;var pe=function(){function s(a,r,o){this.decay_=a,this.minVelocity_=r,this.delay_=o,this.points_=[],this.angle_=0,this.initialVelocity_=0}return s.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},s.prototype.update=function(a,r){this.points_.push(a,r,Date.now())},s.prototype.end=function(){if(this.points_.length<6)return!1;var a=Date.now()-this.delay_,r=this.points_.length-3;if(this.points_[r+2]<a)return!1;for(var o=r-3;o>0&&this.points_[o+2]>a;)o-=3;var h=this.points_[r+2]-this.points_[o+2];if(h<1e3/60)return!1;var E=this.points_[r]-this.points_[o],K=this.points_[r+1]-this.points_[o+1];return this.angle_=Math.atan2(K,E),this.initialVelocity_=Math.sqrt(E*E+K*K)/h,this.initialVelocity_>this.minVelocity_},s.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},s.prototype.getAngle=function(){return this.angle_},s}();const vt=pe;var on=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Sr=function(s){function a(r){var o=this,h=r||{};(o=s.call(this,h)||this).totalDelta_=0,o.lastDelta_=0,o.maxDelta_=void 0!==h.maxDelta?h.maxDelta:1,o.duration_=void 0!==h.duration?h.duration:250,o.timeout_=void 0!==h.timeout?h.timeout:80,o.useAnchor_=void 0===h.useAnchor||h.useAnchor,o.constrainResolution_=void 0!==h.constrainResolution&&h.constrainResolution;var E=h.condition?h.condition:to;return o.condition_=h.onFocusOnly?Fi(fo,E):E,o.lastAnchor_=null,o.startTime_=void 0,o.mode_=void 0,o.trackpadEventGap_=400,o.deltaPerZoom_=300,o}return on(a,s),a.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},a.prototype.handleEvent=function(r){if(!this.condition_(r))return!0;if(r.type!==Pe.Z.WHEEL)return!0;var K,h=r.map,E=r.originalEvent;if(E.preventDefault(),this.useAnchor_&&(this.lastAnchor_=r.coordinate),r.type==Pe.Z.WHEEL&&(K=E.deltaY,vn.V&&E.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(K/=vn.MP),E.deltaMode===WheelEvent.DOM_DELTA_LINE&&(K*=40)),0===K)return!1;this.lastDelta_=K;var J=Date.now();void 0===this.startTime_&&(this.startTime_=J),(!this.mode_||J-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(K)<4?"trackpad":"wheel");var me=h.getView();if("trackpad"===this.mode_&&!me.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(me.getAnimating()&&me.cancelAnimations(),me.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),me.adjustZoom(-K/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=J,!1;this.totalDelta_+=K;var Me=Math.max(this.timeout_-(J-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,h),Me),!1},a.prototype.handleWheelZoom_=function(r){var o=r.getView();o.getAnimating()&&o.cancelAnimations();var h=-(0,Ar.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(o.getConstrainResolution()||this.constrainResolution_)&&(h=h?h>0?1:-1:0),xt(o,h,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},a.prototype.setMouseAnchor=function(r){this.useAnchor_=r,r||(this.lastAnchor_=null)},a}(Vt);const fi=Sr;var mi=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ui=function(s){function a(r){var o=this,h=r||{},E=h;return E.stopDown||(E.stopDown=$.Dv),(o=s.call(this,E)||this).anchor_=null,o.lastAngle_=void 0,o.rotating_=!1,o.rotationDelta_=0,o.threshold_=void 0!==h.threshold?h.threshold:.3,o.duration_=void 0!==h.duration?h.duration:250,o}return mi(a,s),a.prototype.handleDragEvent=function(r){var o=0,h=this.targetPointers[0],E=this.targetPointers[1],K=Math.atan2(E.clientY-h.clientY,E.clientX-h.clientX);if(void 0!==this.lastAngle_){var J=K-this.lastAngle_;this.rotationDelta_+=J,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),o=J}this.lastAngle_=K;var me=r.map,Me=me.getView();if(Me.getConstraints().rotation!==Qr){var We=me.getViewport().getBoundingClientRect(),tt=Lr(this.targetPointers);tt[0]-=We.left,tt[1]-=We.top,this.anchor_=me.getCoordinateFromPixelInternal(tt),this.rotating_&&(me.render(),Me.adjustRotationInternal(o,this.anchor_))}},a.prototype.handleUpEvent=function(r){return!(this.targetPointers.length<2&&(r.map.getView().endInteraction(this.duration_),1))},a.prototype.handleDownEvent=function(r){if(this.targetPointers.length>=2){var o=r.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||o.getView().beginInteraction(),!0}return!1},a}(xi);const Ei=ui;var _i=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ni=function(s){function a(r){var o=this,h=r||{},E=h;return E.stopDown||(E.stopDown=$.Dv),(o=s.call(this,E)||this).anchor_=null,o.duration_=void 0!==h.duration?h.duration:400,o.lastDistance_=void 0,o.lastScaleDelta_=1,o}return _i(a,s),a.prototype.handleDragEvent=function(r){var o=1,h=this.targetPointers[0],E=this.targetPointers[1],K=h.clientX-E.clientX,J=h.clientY-E.clientY,me=Math.sqrt(K*K+J*J);void 0!==this.lastDistance_&&(o=this.lastDistance_/me),this.lastDistance_=me;var Me=r.map,We=Me.getView();1!=o&&(this.lastScaleDelta_=o);var tt=Me.getViewport().getBoundingClientRect(),wt=Lr(this.targetPointers);wt[0]-=tt.left,wt[1]-=tt.top,this.anchor_=Me.getCoordinateFromPixelInternal(wt),Me.render(),We.adjustResolutionInternal(o,this.anchor_)},a.prototype.handleUpEvent=function(r){return!(this.targetPointers.length<2&&(r.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},a.prototype.handleDownEvent=function(r){if(this.targetPointers.length>=2){var o=r.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||o.getView().beginInteraction(),!0}return!1},a}(xi);const N=Ni;var U=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),be=function(s){function a(r){return(r=(0,Be.f0)({},r)).controls||(r.controls=function(s){var a={},r=new Ee;return(void 0===a.zoom||a.zoom)&&r.push(new Zt(a.zoomOptions)),(void 0===a.rotate||a.rotate)&&r.push(new Ct(a.rotateOptions)),(void 0===a.attribution||a.attribution)&&r.push(new et(a.attributionOptions)),r}()),r.interactions||(r.interactions=function(s){var a={onFocusOnly:!0}||{},r=new Ee,o=new vt(-.005,.05,100);return(void 0===a.altShiftDragRotate||a.altShiftDragRotate)&&r.push(new xn),(void 0===a.doubleClickZoom||a.doubleClickZoom)&&r.push(new Cn({delta:a.zoomDelta,duration:a.zoomDuration})),(void 0===a.dragPan||a.dragPan)&&r.push(new st({onFocusOnly:a.onFocusOnly,kinetic:o})),(void 0===a.pinchRotate||a.pinchRotate)&&r.push(new Ei),(void 0===a.pinchZoom||a.pinchZoom)&&r.push(new N({duration:a.zoomDuration})),(void 0===a.keyboard||a.keyboard)&&(r.push(new ge),r.push(new j({delta:a.zoomDelta,duration:a.zoomDuration}))),(void 0===a.mouseWheelZoom||a.mouseWheelZoom)&&r.push(new fi({onFocusOnly:a.onFocusOnly,duration:a.zoomDuration})),(void 0===a.shiftDragZoom||a.shiftDragZoom)&&r.push(new hi({duration:a.zoomDuration})),r}()),s.call(this,r)||this}return U(a,s),a.prototype.createRenderer=function(){return new xe(this)},a}(gi);const Qe=be;var mn=p(5529),nr=p(3321),_r=p(2402),pn=function(){function s(a){this.rbush_=new _r(a),this.items_={}}return s.prototype.insert=function(a,r){var o={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:r};this.rbush_.insert(o),this.items_[(0,S.sq)(r)]=o},s.prototype.load=function(a,r){for(var o=new Array(r.length),h=0,E=r.length;h<E;h++){var K=a[h],J=r[h],me={minX:K[0],minY:K[1],maxX:K[2],maxY:K[3],value:J};o[h]=me,this.items_[(0,S.sq)(J)]=me}this.rbush_.load(o)},s.prototype.remove=function(a){var r=(0,S.sq)(a),o=this.items_[r];return delete this.items_[r],null!==this.rbush_.remove(o)},s.prototype.update=function(a,r){var o=this.items_[(0,S.sq)(r)];(0,x.fS)([o.minX,o.minY,o.maxX,o.maxY],a)||(this.remove(r),this.insert(a,r))},s.prototype.getAll=function(){return this.rbush_.all().map(function(r){return r.value})},s.prototype.getInExtent=function(a){return this.rbush_.search({minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}).map(function(h){return h.value})},s.prototype.forEach=function(a){return this.forEach_(this.getAll(),a)},s.prototype.forEachInExtent=function(a,r){return this.forEach_(this.getInExtent(a),r)},s.prototype.forEach_=function(a,r){for(var o,h=0,E=a.length;h<E;h++)if(o=r(a[h]))return o;return o},s.prototype.isEmpty=function(){return(0,Be.xb)(this.items_)},s.prototype.clear=function(){this.rbush_.clear(),this.items_={}},s.prototype.getExtent=function(a){var r=this.rbush_.toJSON();return(0,x.T9)(r.minX,r.minY,r.maxX,r.maxY,a)},s.prototype.concat=function(a){for(var r in this.rbush_.load(a.rbush_.all()),a.items_)this.items_[r]=a.items_[r]},s}();const yr=pn;var Ri=p(4702);function po(s,a){return[[-1/0,-1/0,1/0,1/0]]}var Xi=p(507),js=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ns=function(s){function a(r,o,h){var E=s.call(this,r)||this;return E.feature=o,E.features=h,E}return js(a,s),a}(oe.ZP),rr=function(s){function a(r){var o=this,h=r||{};(o=s.call(this,{attributions:h.attributions,interpolate:!0,projection:void 0,state:M.Z.READY,wrapX:void 0===h.wrapX||h.wrapX})||this).loader_=$.Zn,o.format_=h.format,o.overlaps_=void 0===h.overlaps||h.overlaps,o.url_=h.url,void 0!==h.loader?o.loader_=h.loader:void 0!==o.url_&&((0,Ue.h)(o.format_,7),o.loader_=(0,Xi.Be)(o.url_,o.format_)),o.strategy_=void 0!==h.strategy?h.strategy:po;var K,J,E=void 0===h.useSpatialIndex||h.useSpatialIndex;return o.featuresRtree_=E?new yr:null,o.loadedExtentsRtree_=new yr,o.loadingExtentsCount_=0,o.nullGeometryFeatures_={},o.idIndex_={},o.uidIndex_={},o.featureChangeKeys_={},o.featuresCollection_=null,Array.isArray(h.features)?J=h.features:h.features&&(J=(K=h.features).getArray()),!E&&void 0===K&&(K=new Ee(J)),void 0!==J&&o.addFeaturesInternal(J),void 0!==K&&o.bindFeaturesCollection_(K),o}return js(a,s),a.prototype.addFeature=function(r){this.addFeatureInternal(r),this.changed()},a.prototype.addFeatureInternal=function(r){var o=(0,S.sq)(r);if(this.addToIndex_(o,r)){this.setupChangeEvents_(o,r);var h=r.getGeometry();if(h){var E=h.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(E,r)}else this.nullGeometryFeatures_[o]=r;this.dispatchEvent(new ns("addfeature",r))}else this.featuresCollection_&&this.featuresCollection_.remove(r)},a.prototype.setupChangeEvents_=function(r,o){this.featureChangeKeys_[r]=[(0,z.oL)(o,Pe.Z.CHANGE,this.handleFeatureChange_,this),(0,z.oL)(o,k.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]},a.prototype.addToIndex_=function(r,o){var h=!0,E=o.getId();return void 0!==E&&(E.toString()in this.idIndex_?h=!1:this.idIndex_[E.toString()]=o),h&&((0,Ue.h)(!(r in this.uidIndex_),30),this.uidIndex_[r]=o),h},a.prototype.addFeatures=function(r){this.addFeaturesInternal(r),this.changed()},a.prototype.addFeaturesInternal=function(r){for(var o=[],h=[],E=[],K=0,J=r.length;K<J;K++){var Me=(0,S.sq)(me=r[K]);this.addToIndex_(Me,me)&&h.push(me)}K=0;for(var We=h.length;K<We;K++){var me;Me=(0,S.sq)(me=h[K]),this.setupChangeEvents_(Me,me);var tt=me.getGeometry();if(tt){var wt=tt.getExtent();o.push(wt),E.push(me)}else this.nullGeometryFeatures_[Me]=me}this.featuresRtree_&&this.featuresRtree_.load(o,E),K=0;for(var Mt=h.length;K<Mt;K++)this.dispatchEvent(new ns("addfeature",h[K]))},a.prototype.bindFeaturesCollection_=function(r){var o=!1;this.addEventListener("addfeature",function(h){o||(o=!0,r.push(h.feature),o=!1)}),this.addEventListener("removefeature",function(h){o||(o=!0,r.remove(h.feature),o=!1)}),r.addEventListener("add",function(h){o||(o=!0,this.addFeature(h.element),o=!1)}.bind(this)),r.addEventListener("remove",function(h){o||(o=!0,this.removeFeature(h.element),o=!1)}.bind(this)),this.featuresCollection_=r},a.prototype.clear=function(r){if(r){for(var o in this.featureChangeKeys_)this.featureChangeKeys_[o].forEach(z.bN);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var E=function(me){this.removeFeatureInternal(me)}.bind(this);for(var K in this.featuresRtree_.forEach(E),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[K])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var J=new ns("clear");this.dispatchEvent(J),this.changed()},a.prototype.forEachFeature=function(r){if(this.featuresRtree_)return this.featuresRtree_.forEach(r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},a.prototype.forEachFeatureAtCoordinateDirect=function(r,o){return this.forEachFeatureInExtent([r[0],r[1],r[0],r[1]],function(E){if(E.getGeometry().intersectsCoordinate(r))return o(E)})},a.prototype.forEachFeatureInExtent=function(r,o){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(r,o);this.featuresCollection_&&this.featuresCollection_.forEach(o)},a.prototype.forEachFeatureIntersectingExtent=function(r,o){return this.forEachFeatureInExtent(r,function(h){if(h.getGeometry().intersectsExtent(r)){var K=o(h);if(K)return K}})},a.prototype.getFeaturesCollection=function(){return this.featuresCollection_},a.prototype.getFeatures=function(){var r;return this.featuresCollection_?r=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(r=this.featuresRtree_.getAll(),(0,Be.xb)(this.nullGeometryFeatures_)||(0,Vr.l7)(r,(0,Be.KX)(this.nullGeometryFeatures_))),r},a.prototype.getFeaturesAtCoordinate=function(r){var o=[];return this.forEachFeatureAtCoordinateDirect(r,function(h){o.push(h)}),o},a.prototype.getFeaturesInExtent=function(r){return this.featuresRtree_?this.featuresRtree_.getInExtent(r):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},a.prototype.getClosestFeatureToCoordinate=function(r,o){var h=r[0],E=r[1],K=null,J=[NaN,NaN],me=1/0,Me=[-1/0,-1/0,1/0,1/0],We=o||$.uX;return this.featuresRtree_.forEachInExtent(Me,function(tt){if(We(tt)){var wt=tt.getGeometry(),Mt=me;if((me=wt.closestPointXY(h,E,J,me))<Mt){K=tt;var Bt=Math.sqrt(me);Me[0]=h-Bt,Me[1]=E-Bt,Me[2]=h+Bt,Me[3]=E+Bt}}}),K},a.prototype.getExtent=function(r){return this.featuresRtree_.getExtent(r)},a.prototype.getFeatureById=function(r){var o=this.idIndex_[r.toString()];return void 0!==o?o:null},a.prototype.getFeatureByUid=function(r){var o=this.uidIndex_[r];return void 0!==o?o:null},a.prototype.getFormat=function(){return this.format_},a.prototype.getOverlaps=function(){return this.overlaps_},a.prototype.getUrl=function(){return this.url_},a.prototype.handleFeatureChange_=function(r){var o=r.target,h=(0,S.sq)(o),E=o.getGeometry();if(E){var K=E.getExtent();h in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[h],this.featuresRtree_&&this.featuresRtree_.insert(K,o)):this.featuresRtree_&&this.featuresRtree_.update(K,o)}else h in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(o),this.nullGeometryFeatures_[h]=o);var J=o.getId();if(void 0!==J){var me=J.toString();this.idIndex_[me]!==o&&(this.removeFromIdIndex_(o),this.idIndex_[me]=o)}else this.removeFromIdIndex_(o),this.uidIndex_[h]=o;this.changed(),this.dispatchEvent(new ns("changefeature",o))},a.prototype.hasFeature=function(r){var o=r.getId();return void 0!==o?o in this.idIndex_:(0,S.sq)(r)in this.uidIndex_},a.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,Be.xb)(this.nullGeometryFeatures_)},a.prototype.loadFeatures=function(r,o,h){for(var E=this.loadedExtentsRtree_,K=this.strategy_(r,o,h),J=function(tt,wt){var Mt=K[tt];E.forEachInExtent(Mt,function(Jt){return(0,x.r4)(Jt.extent,Mt)})||(++me.loadingExtentsCount_,me.dispatchEvent(new ns("featuresloadstart")),me.loader_.call(me,Mt,o,h,function(Jt){--this.loadingExtentsCount_,this.dispatchEvent(new ns("featuresloadend",void 0,Jt))}.bind(me),function(){--this.loadingExtentsCount_,this.dispatchEvent(new ns("featuresloaderror"))}.bind(me)),E.insert(Mt,{extent:Mt.slice()}))},me=this,Me=0,We=K.length;Me<We;++Me)J(Me);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},a.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),s.prototype.refresh.call(this)},a.prototype.removeLoadedExtent=function(r){var h,o=this.loadedExtentsRtree_;o.forEachInExtent(r,function(E){if((0,x.fS)(E.extent,r))return h=E,!0}),h&&o.remove(h)},a.prototype.removeFeature=function(r){if(r){var o=(0,S.sq)(r);o in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[o]:this.featuresRtree_&&this.featuresRtree_.remove(r),this.removeFeatureInternal(r)&&this.changed()}},a.prototype.removeFeatureInternal=function(r){var o=(0,S.sq)(r),h=this.featureChangeKeys_[o];if(h){h.forEach(z.bN),delete this.featureChangeKeys_[o];var E=r.getId();return void 0!==E&&delete this.idIndex_[E.toString()],delete this.uidIndex_[o],this.dispatchEvent(new ns("removefeature",r)),r}},a.prototype.removeFromIdIndex_=function(r){var o=!1;for(var h in this.idIndex_)if(this.idIndex_[h]===r){delete this.idIndex_[h],o=!0;break}return o},a.prototype.setLoader=function(r){this.loader_=r},a.prototype.setUrl=function(r){(0,Ue.h)(this.format_,7),this.url_=r,this.setLoader((0,Xi.Be)(r,this.format_))},a}(Ri.Z);const Ur=rr;var Zr=p(4272),Ti=p(3171),Fo=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ga=function(s){function a(r){var o=s.call(this,Pe.Z.ERROR)||this;return o.code=r.code,o.message=r.message,o}return Fo(a,s),a}(oe.ZP),rs=function(s){function a(r){var o=s.call(this)||this,h=r||{};return o.position_=null,o.transform_=kn.gD,o.watchId_=void 0,o.addChangeListener("projection",o.handleProjectionChanged_),o.addChangeListener("tracking",o.handleTrackingChanged_),void 0!==h.projection&&o.setProjection(h.projection),void 0!==h.trackingOptions&&o.setTrackingOptions(h.trackingOptions),o.setTracking(void 0!==h.tracking&&h.tracking),o}return Fo(a,s),a.prototype.disposeInternal=function(){this.setTracking(!1),s.prototype.disposeInternal.call(this)},a.prototype.handleProjectionChanged_=function(){var r=this.getProjection();r&&(this.transform_=(0,kn.WO)((0,kn.U2)("EPSG:4326"),r),this.position_&&this.set("position",this.transform_(this.position_)))},a.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var r=this.getTracking();r&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!r&&void 0!==this.watchId_&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},a.prototype.positionChange_=function(r){var o=r.coords;this.set("accuracy",o.accuracy),this.set("altitude",null===o.altitude?void 0:o.altitude),this.set("altitudeAccuracy",null===o.altitudeAccuracy?void 0:o.altitudeAccuracy),this.set("heading",null===o.heading?void 0:(0,Ar.Yr)(o.heading)),this.position_?(this.position_[0]=o.longitude,this.position_[1]=o.latitude):this.position_=[o.longitude,o.latitude];var h=this.transform_(this.position_);this.set("position",h),this.set("speed",null===o.speed?void 0:o.speed);var E=(0,jt.iu)(this.position_,o.accuracy);E.applyTransform(this.transform_),this.set("accuracyGeometry",E),this.changed()},a.prototype.positionError_=function(r){this.dispatchEvent(new ga(r))},a.prototype.getAccuracy=function(){return this.get("accuracy")},a.prototype.getAccuracyGeometry=function(){return this.get("accuracyGeometry")||null},a.prototype.getAltitude=function(){return this.get("altitude")},a.prototype.getAltitudeAccuracy=function(){return this.get("altitudeAccuracy")},a.prototype.getHeading=function(){return this.get("heading")},a.prototype.getPosition=function(){return this.get("position")},a.prototype.getProjection=function(){return this.get("projection")},a.prototype.getSpeed=function(){return this.get("speed")},a.prototype.getTracking=function(){return this.get("tracking")},a.prototype.getTrackingOptions=function(){return this.get("trackingOptions")},a.prototype.setProjection=function(r){this.set("projection",(0,kn.U2)(r))},a.prototype.setTracking=function(r){this.set("tracking",r)},a.prototype.setTrackingOptions=function(r){this.set("trackingOptions",r)},a}(A.Z);const La=rs;var ms=p(187),wo=p(109),Ui=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Na=[0,0,0,0],os=[],vi=function(s){function a(r,o,h){var E=s.call(this,r)||this;return E.features=o,E.mapBrowserEvent=h,E}return Ui(a,s),a}(oe.ZP),ma=function(s){function a(r){var h,o=s.call(this,r)||this;if(o.boundHandleFeatureChange_=o.handleFeatureChange_.bind(o),o.condition_=r.condition?r.condition:hn,o.defaultDeleteCondition_=function(E){return function(s){var a=s.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}(E)&&function(s){return s.type==nt.SINGLECLICK}(E)},o.deleteCondition_=r.deleteCondition?r.deleteCondition:o.defaultDeleteCondition_,o.insertVertexCondition_=r.insertVertexCondition?r.insertVertexCondition:to,o.vertexFeature_=null,o.vertexSegments_=null,o.lastPixel_=[0,0],o.ignoreNextSingleClick_=!1,o.featuresBeingModified_=null,o.rBush_=new yr,o.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,o.snappedToVertex_=!1,o.changingFeature_=!1,o.dragSegments_=[],o.overlay_=new nr.Z({source:new Ur({useSpatialIndex:!1,wrapX:!!r.wrapX}),style:r.style?r.style:Fl(),updateWhileAnimating:!0,updateWhileInteracting:!0}),o.SEGMENT_WRITERS_={Point:o.writePointGeometry_.bind(o),LineString:o.writeLineStringGeometry_.bind(o),LinearRing:o.writeLineStringGeometry_.bind(o),Polygon:o.writePolygonGeometry_.bind(o),MultiPoint:o.writeMultiPointGeometry_.bind(o),MultiLineString:o.writeMultiLineStringGeometry_.bind(o),MultiPolygon:o.writeMultiPolygonGeometry_.bind(o),Circle:o.writeCircleGeometry_.bind(o),GeometryCollection:o.writeGeometryCollectionGeometry_.bind(o)},o.source_=null,o.hitDetection_=null,r.features?h=r.features:r.source&&(o.source_=r.source,h=new Ee(o.source_.getFeatures()),o.source_.addEventListener("addfeature",o.handleSourceAdd_.bind(o)),o.source_.addEventListener("removefeature",o.handleSourceRemove_.bind(o))),!h)throw new Error("The modify interaction requires features, a source or a layer");return r.hitDetection&&(o.hitDetection_=r.hitDetection),o.features_=h,o.features_.forEach(o.addFeature_.bind(o)),o.features_.addEventListener("add",o.handleFeatureAdd_.bind(o)),o.features_.addEventListener("remove",o.handleFeatureRemove_.bind(o)),o.lastPointerEvent_=null,o.delta_=[0,0],o.snapToPointer_=void 0===r.snapToPointer?!o.hitDetection_:r.snapToPointer,o}return Ui(a,s),a.prototype.addFeature_=function(r){var o=r.getGeometry();if(o){var h=this.SEGMENT_WRITERS_[o.getType()];h&&h(r,o)}var E=this.getMap();E&&E.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,E),r.addEventListener(Pe.Z.CHANGE,this.boundHandleFeatureChange_)},a.prototype.willModifyFeatures_=function(r,o){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Ee;for(var h=this.featuresBeingModified_.getArray(),E=0,K=o.length;E<K;++E)for(var J=o[E],me=0,Me=J.length;me<Me;++me){var We=J[me].feature;We&&-1===h.indexOf(We)&&this.featuresBeingModified_.push(We)}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new vi("modifystart",this.featuresBeingModified_,r))}},a.prototype.removeFeature_=function(r){this.removeFeatureSegmentData_(r),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),r.removeEventListener(Pe.Z.CHANGE,this.boundHandleFeatureChange_)},a.prototype.removeFeatureSegmentData_=function(r){var o=this.rBush_,h=[];o.forEach(function(me){r===me.feature&&h.push(me)});for(var E=h.length-1;E>=0;--E){for(var K=h[E],J=this.dragSegments_.length-1;J>=0;--J)this.dragSegments_[J][0]===K&&this.dragSegments_.splice(J,1);o.remove(K)}},a.prototype.setActive=function(r){this.vertexFeature_&&!r&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),s.prototype.setActive.call(this,r)},a.prototype.setMap=function(r){this.overlay_.setMap(r),s.prototype.setMap.call(this,r)},a.prototype.getOverlay=function(){return this.overlay_},a.prototype.handleSourceAdd_=function(r){r.feature&&this.features_.push(r.feature)},a.prototype.handleSourceRemove_=function(r){r.feature&&this.features_.remove(r.feature)},a.prototype.handleFeatureAdd_=function(r){this.addFeature_(r.element)},a.prototype.handleFeatureChange_=function(r){if(!this.changingFeature_){var o=r.target;this.removeFeature_(o),this.addFeature_(o)}},a.prototype.handleFeatureRemove_=function(r){this.removeFeature_(r.element)},a.prototype.writePointGeometry_=function(r,o){var h=o.getCoordinates(),E={feature:r,geometry:o,segment:[h,h]};this.rBush_.insert(o.getExtent(),E)},a.prototype.writeMultiPointGeometry_=function(r,o){for(var h=o.getCoordinates(),E=0,K=h.length;E<K;++E){var J=h[E],me={feature:r,geometry:o,depth:[E],index:E,segment:[J,J]};this.rBush_.insert(o.getExtent(),me)}},a.prototype.writeLineStringGeometry_=function(r,o){for(var h=o.getCoordinates(),E=0,K=h.length-1;E<K;++E){var J=h.slice(E,E+2),me={feature:r,geometry:o,index:E,segment:J};this.rBush_.insert((0,x.hI)(J),me)}},a.prototype.writeMultiLineStringGeometry_=function(r,o){for(var h=o.getCoordinates(),E=0,K=h.length;E<K;++E)for(var J=h[E],me=0,Me=J.length-1;me<Me;++me){var We=J.slice(me,me+2),tt={feature:r,geometry:o,depth:[E],index:me,segment:We};this.rBush_.insert((0,x.hI)(We),tt)}},a.prototype.writePolygonGeometry_=function(r,o){for(var h=o.getCoordinates(),E=0,K=h.length;E<K;++E)for(var J=h[E],me=0,Me=J.length-1;me<Me;++me){var We=J.slice(me,me+2),tt={feature:r,geometry:o,depth:[E],index:me,segment:We};this.rBush_.insert((0,x.hI)(We),tt)}},a.prototype.writeMultiPolygonGeometry_=function(r,o){for(var h=o.getCoordinates(),E=0,K=h.length;E<K;++E)for(var J=h[E],me=0,Me=J.length;me<Me;++me)for(var We=J[me],tt=0,wt=We.length-1;tt<wt;++tt){var Mt=We.slice(tt,tt+2),Bt={feature:r,geometry:o,depth:[me,E],index:tt,segment:Mt};this.rBush_.insert((0,x.hI)(Mt),Bt)}},a.prototype.writeCircleGeometry_=function(r,o){var h=o.getCenter(),E={feature:r,geometry:o,index:0,segment:[h,h]},K={feature:r,geometry:o,index:1,segment:[h,h]},J=[E,K];E.featureSegments=J,K.featureSegments=J,this.rBush_.insert((0,x.HK)(h),E);var me=o,Me=(0,kn.Cs)();if(Me&&this.getMap()){var We=this.getMap().getView().getProjection();me=me.clone().transform(Me,We),me=(0,jt.Bb)(me).transform(We,Me)}this.rBush_.insert(me.getExtent(),K)},a.prototype.writeGeometryCollectionGeometry_=function(r,o){for(var h=o.getGeometriesArray(),E=0;E<h.length;++E){var K=h[E];(0,this.SEGMENT_WRITERS_[K.getType()])(r,K)}},a.prototype.createOrUpdateVertexFeature_=function(r,o,h){var E=this.vertexFeature_;return E?E.getGeometry().setCoordinates(r):(E=new Ti.Z(new ms.Z(r)),this.vertexFeature_=E,this.overlay_.getSource().addFeature(E)),E.set("features",o),E.set("geometries",h),E},a.prototype.handleEvent=function(r){return!r.originalEvent||(this.lastPointerEvent_=r,!r.map.getView().getInteracting()&&r.type==nt.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(r),this.vertexFeature_&&this.deleteCondition_(r)&&(o=!(r.type!=nt.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),r.type==nt.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),s.prototype.handleEvent.call(this,r)&&!o);var o},a.prototype.handleDragEvent=function(r){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(r,this.dragSegments_);for(var o=[r.coordinate[0]+this.delta_[0],r.coordinate[1]+this.delta_[1]],h=[],E=[],K=0,J=this.dragSegments_.length;K<J;++K){var me=this.dragSegments_[K],Me=me[0],We=Me.feature;-1===h.indexOf(We)&&h.push(We);var tt=Me.geometry;-1===E.indexOf(tt)&&E.push(tt);for(var wt=Me.depth,Mt=void 0,Bt=Me.segment,Jt=me[1];o.length<tt.getStride();)o.push(Bt[Jt][o.length]);switch(tt.getType()){case On.Z.POINT:Mt=o,Bt[0]=o,Bt[1]=o;break;case On.Z.MULTI_POINT:(Mt=tt.getCoordinates())[Me.index]=o,Bt[0]=o,Bt[1]=o;break;case On.Z.LINE_STRING:(Mt=tt.getCoordinates())[Me.index+Jt]=o,Bt[Jt]=o;break;case On.Z.MULTI_LINE_STRING:case On.Z.POLYGON:(Mt=tt.getCoordinates())[wt[0]][Me.index+Jt]=o,Bt[Jt]=o;break;case On.Z.MULTI_POLYGON:(Mt=tt.getCoordinates())[wt[1]][wt[0]][Me.index+Jt]=o,Bt[Jt]=o;break;case On.Z.CIRCLE:if(Bt[0]=o,Bt[1]=o,0===Me.index)this.changingFeature_=!0,tt.setCenter(o),this.changingFeature_=!1;else{this.changingFeature_=!0;var Dn=r.map.getView().getProjection(),qn=(0,m.TE)((0,kn.Vs)(tt.getCenter(),Dn),(0,kn.Vs)(o,Dn)),sr=(0,kn.Cs)();if(sr){var Pr=tt.clone().transform(sr,Dn);Pr.setRadius(qn),qn=Pr.transform(Dn,sr).getRadius()}tt.setRadius(qn),this.changingFeature_=!1}}Mt&&this.setGeometryCoordinates_(tt,Mt)}this.createOrUpdateVertexFeature_(o,h,E)},a.prototype.handleDownEvent=function(r){if(!this.condition_(r))return!1;var o=r.coordinate;this.handlePointerAtPixel_(r.pixel,r.map,o),this.dragSegments_.length=0,this.featuresBeingModified_=null;var h=this.vertexFeature_;if(h){var E=r.map.getView().getProjection(),K=[],J=h.getGeometry().getCoordinates(),me=(0,x.hI)([J]),Me=this.rBush_.getInExtent(me),We={};Me.sort(va);for(var tt=0,wt=Me.length;tt<wt;++tt){var Mt=Me[tt],Bt=Mt.segment,Jt=(0,S.sq)(Mt.geometry),Dn=Mt.depth;if(Dn&&(Jt+="-"+Dn.join("-")),We[Jt]||(We[Jt]=new Array(2)),Mt.geometry.getType()!==On.Z.CIRCLE||1!==Mt.index)if(!(0,m.fS)(Bt[0],J)||We[Jt][0])if(!(0,m.fS)(Bt[1],J)||We[Jt][1])(0,S.sq)(Bt)in this.vertexSegments_&&!We[Jt][0]&&!We[Jt][1]&&this.insertVertexCondition_(r)&&K.push(Mt);else{if((Mt.geometry.getType()===On.Z.LINE_STRING||Mt.geometry.getType()===On.Z.MULTI_LINE_STRING)&&We[Jt][0]&&0===We[Jt][0].index)continue;this.dragSegments_.push([Mt,1]),We[Jt][1]=Mt}else this.dragSegments_.push([Mt,0]),We[Jt][0]=Mt;else{var qn=cs(o,Mt,E);(0,m.fS)(qn,J)&&!We[Jt][0]&&(this.dragSegments_.push([Mt,0]),We[Jt][0]=Mt)}}K.length&&this.willModifyFeatures_(r,[K]);for(var sr=K.length-1;sr>=0;--sr)this.insertVertex_(K[sr],J)}return!!this.vertexFeature_},a.prototype.handleUpEvent=function(r){for(var o=this.dragSegments_.length-1;o>=0;--o){var h=this.dragSegments_[o][0],E=h.geometry;if(E.getType()===On.Z.CIRCLE){var K=E.getCenter(),J=h.featureSegments[0],me=h.featureSegments[1];J.segment[0]=K,J.segment[1]=K,me.segment[0]=K,me.segment[1]=K,this.rBush_.update((0,x.HK)(K),J);var Me=E,We=(0,kn.Cs)();if(We){var tt=r.map.getView().getProjection();Me=Me.clone().transform(We,tt),Me=(0,jt.Bb)(Me).transform(tt,We)}this.rBush_.update(Me.getExtent(),me)}else this.rBush_.update((0,x.hI)(h.segment),h)}return this.featuresBeingModified_&&(this.dispatchEvent(new vi("modifyend",this.featuresBeingModified_,r)),this.featuresBeingModified_=null),!1},a.prototype.handlePointerMove_=function(r){this.lastPixel_=r.pixel,this.handlePointerAtPixel_(r.pixel,r.map,r.coordinate)},a.prototype.handlePointerAtPixel_=function(r,o,h){var Me,We,E=this,K=h||o.getCoordinateFromPixel(r),J=o.getView().getProjection();if(this.hitDetection_&&o.forEachFeatureAtPixel(r,function(qs,oo,Yo){if((Yo=Yo||qs.getGeometry()).getType()===On.Z.POINT&&(0,Vr.q9)(E.features_.getArray(),qs)){We=Yo;var Pl=Yo.getFlatCoordinates().slice(0,2);Me=[{feature:qs,geometry:Yo,segment:[Pl,Pl]}]}return!0},{layerFilter:"object"==typeof this.hitDetection_?function(qs){return qs===E.hitDetection_}:void 0}),!Me){var wt=(0,kn.dY)((0,x.HK)(K,Na),J),Mt=o.getView().getResolution()*this.pixelTolerance_,Bt=(0,kn.Fj)((0,x.f3)(wt,Mt,Na),J);Me=this.rBush_.getInExtent(Bt)}if(Me&&Me.length>0){var Jt=Me.sort(function(qs,oo){return Uo(K,qs,J)-Uo(K,oo,J)})[0],Dn=Jt.segment,qn=cs(K,Jt,J),sr=o.getPixelFromCoordinate(qn),Pr=(0,m.TE)(r,sr);if(We||Pr<=this.pixelTolerance_){var Kr={};if(Kr[(0,S.sq)(Dn)]=!0,this.snapToPointer_||(this.delta_[0]=qn[0]-K[0],this.delta_[1]=qn[1]-K[1]),Jt.geometry.getType()===On.Z.CIRCLE&&1===Jt.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(qn,[Jt.feature],[Jt.geometry]);else{var ti=o.getPixelFromCoordinate(Dn[0]),ii=o.getPixelFromCoordinate(Dn[1]),Hi=(0,m.bI)(sr,ti),Ii=(0,m.bI)(sr,ii);Pr=Math.sqrt(Math.min(Hi,Ii)),this.snappedToVertex_=Pr<=this.pixelTolerance_,this.snappedToVertex_&&(qn=Hi>Ii?Dn[1]:Dn[0]),this.createOrUpdateVertexFeature_(qn,[Jt.feature],[Jt.geometry]);var _o={};_o[(0,S.sq)(Jt.geometry)]=!0;for(var Zo=1,ps=Me.length;Zo<ps;++Zo){var Bo=Me[Zo].segment;if(!((0,m.fS)(Dn[0],Bo[0])&&(0,m.fS)(Dn[1],Bo[1])||(0,m.fS)(Dn[0],Bo[1])&&(0,m.fS)(Dn[1],Bo[0])))break;var gs=(0,S.sq)(Me[Zo].geometry);gs in _o||(_o[gs]=!0,Kr[(0,S.sq)(Bo)]=!0)}}return void(this.vertexSegments_=Kr)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},a.prototype.insertVertex_=function(r,o){for(var Me,h=r.segment,E=r.feature,K=r.geometry,J=r.depth,me=r.index;o.length<K.getStride();)o.push(0);switch(K.getType()){case On.Z.MULTI_LINE_STRING:case On.Z.POLYGON:(Me=K.getCoordinates())[J[0]].splice(me+1,0,o);break;case On.Z.MULTI_POLYGON:(Me=K.getCoordinates())[J[1]][J[0]].splice(me+1,0,o);break;case On.Z.LINE_STRING:(Me=K.getCoordinates()).splice(me+1,0,o);break;default:return}this.setGeometryCoordinates_(K,Me);var We=this.rBush_;We.remove(r),this.updateSegmentIndices_(K,me,J,1);var tt={segment:[h[0],o],feature:E,geometry:K,depth:J,index:me};We.insert((0,x.hI)(tt.segment),tt),this.dragSegments_.push([tt,1]);var wt={segment:[o,h[1]],feature:E,geometry:K,depth:J,index:me+1};We.insert((0,x.hI)(wt.segment),wt),this.dragSegments_.push([wt,0]),this.ignoreNextSingleClick_=!0},a.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=nt.POINTERDRAG){var r=this.lastPointerEvent_;this.willModifyFeatures_(r,this.dragSegments_);var o=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new vi("modifyend",this.featuresBeingModified_,r)),this.featuresBeingModified_=null,o}return!1},a.prototype.removeVertex_=function(){var E,K,J,me,Me,We,tt,wt,Mt,Bt,Jt,r=this.dragSegments_,o={},h=!1;for(Me=r.length-1;Me>=0;--Me)Jt=(0,S.sq)((Bt=(J=r[Me])[0]).feature),Bt.depth&&(Jt+="-"+Bt.depth.join("-")),Jt in o||(o[Jt]={}),0===J[1]?(o[Jt].right=Bt,o[Jt].index=Bt.index):1==J[1]&&(o[Jt].left=Bt,o[Jt].index=Bt.index+1);for(Jt in o){switch(Mt=o[Jt].right,(wt=(We=o[Jt].index)-1)<0&&(wt=0),E=K=(me=(Bt=void 0!==(tt=o[Jt].left)?tt:Mt).geometry).getCoordinates(),h=!1,me.getType()){case On.Z.MULTI_LINE_STRING:K[Bt.depth[0]].length>2&&(K[Bt.depth[0]].splice(We,1),h=!0);break;case On.Z.LINE_STRING:K.length>2&&(K.splice(We,1),h=!0);break;case On.Z.MULTI_POLYGON:E=E[Bt.depth[1]];case On.Z.POLYGON:(E=E[Bt.depth[0]]).length>4&&(We==E.length-1&&(We=0),E.splice(We,1),h=!0,0===We&&(E.pop(),E.push(E[0]),wt=E.length-1))}if(h){this.setGeometryCoordinates_(me,K);var Dn=[];if(void 0!==tt&&(this.rBush_.remove(tt),Dn.push(tt.segment[0])),void 0!==Mt&&(this.rBush_.remove(Mt),Dn.push(Mt.segment[1])),void 0!==tt&&void 0!==Mt){var qn={depth:Bt.depth,feature:Bt.feature,geometry:Bt.geometry,index:wt,segment:Dn};this.rBush_.insert((0,x.hI)(qn.segment),qn)}this.updateSegmentIndices_(me,We,Bt.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),r.length=0}}return h},a.prototype.setGeometryCoordinates_=function(r,o){this.changingFeature_=!0,r.setCoordinates(o),this.changingFeature_=!1},a.prototype.updateSegmentIndices_=function(r,o,h,E){this.rBush_.forEachInExtent(r.getExtent(),function(K){K.geometry===r&&(void 0===h||void 0===K.depth||(0,Vr.fS)(K.depth,h))&&K.index>o&&(K.index+=E)})},a}(xi);function va(s,a){return s.index-a.index}function Uo(s,a,r){var o=a.geometry;if(o.getType()===On.Z.CIRCLE){var h=o;if(1===a.index){var E=(0,kn.Cs)();E&&(h=h.clone().transform(E,r));var K=(0,m.bI)(h.getCenter(),(0,kn.Vs)(s,r)),J=Math.sqrt(K)-h.getRadius();return J*J}}var me=(0,kn.Vs)(s,r);return os[0]=(0,kn.Vs)(a.segment[0],r),os[1]=(0,kn.Vs)(a.segment[1],r),(0,m.Bs)(me,os)}function cs(s,a,r){var o=a.geometry;if(o.getType()===On.Z.CIRCLE&&1===a.index){var h=o,E=(0,kn.Cs)();return E&&(h=h.clone().transform(E,r)),(0,kn.lO)(h.getClosestPoint((0,kn.Vs)(s,r)),r)}var K=(0,kn.Vs)(s,r);return os[0]=(0,kn.Vs)(a.segment[0],r),os[1]=(0,kn.Vs)(a.segment[1],r),(0,kn.lO)((0,m.oL)(K,os),r)}function Fl(){var s=(0,wo.Ly)();return function(a,r){return s[On.Z.POINT]}}const Ts=ma;var uo=p(2774),ja=p(8999),no=p(874),Wi=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Vi=function(s){function a(r,o,h){var E=s.call(this)||this;return void 0!==h&&void 0===o?E.setFlatCoordinates(h,r):E.setCenterAndRadius(r,o||0,h),E}return Wi(a,s),a.prototype.clone=function(){var r=new a(this.flatCoordinates.slice(),void 0,this.layout);return r.applyProperties(this),r},a.prototype.closestPointXY=function(r,o,h,E){var K=this.flatCoordinates,J=r-K[0],me=o-K[1],Me=J*J+me*me;if(Me<E){if(0===Me)for(var We=0;We<this.stride;++We)h[We]=K[We];else{var tt=this.getRadius()/Math.sqrt(Me);for(h[0]=K[0]+tt*J,h[1]=K[1]+tt*me,We=2;We<this.stride;++We)h[We]=K[We]}return h.length=this.stride,Me}return E},a.prototype.containsXY=function(r,o){var h=this.flatCoordinates,E=r-h[0],K=o-h[1];return E*E+K*K<=this.getRadiusSquared_()},a.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},a.prototype.computeExtent=function(r){var o=this.flatCoordinates,h=o[this.stride]-o[0];return(0,x.T9)(o[0]-h,o[1]-h,o[0]+h,o[1]+h,r)},a.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},a.prototype.getRadiusSquared_=function(){var r=this.flatCoordinates[this.stride]-this.flatCoordinates[0],o=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return r*r+o*o},a.prototype.getType=function(){return On.Z.CIRCLE},a.prototype.intersectsExtent=function(r){var o=this.getExtent();if((0,x.kK)(r,o)){var h=this.getCenter();return r[0]<=h[0]&&r[2]>=h[0]||r[1]<=h[1]&&r[3]>=h[1]||(0,x.H6)(r,this.intersectsCoordinate.bind(this))}return!1},a.prototype.setCenter=function(r){var o=this.stride,h=this.flatCoordinates[o]-this.flatCoordinates[0],E=r.slice();E[o]=E[0]+h;for(var K=1;K<o;++K)E[o+K]=r[K];this.setFlatCoordinates(this.layout,E),this.changed()},a.prototype.setCenterAndRadius=function(r,o,h){this.setLayout(h,r,0),this.flatCoordinates||(this.flatCoordinates=[]);var E=this.flatCoordinates,K=(0,ja.IG)(E,0,r,this.stride);E[K++]=E[0]+o;for(var J=1,me=this.stride;J<me;++J)E[K++]=E[J];E.length=K,this.changed()},a.prototype.getCoordinates=function(){return null},a.prototype.setCoordinates=function(r,o){},a.prototype.setRadius=function(r){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+r,this.changed()},a.prototype.rotate=function(r,o){var h=this.getCenter(),E=this.getStride();this.setCenter((0,no.U1)(h,0,h.length,E,r,o,h)),this.changed()},a.prototype.translate=function(r,o){var h=this.getCenter(),E=this.getStride();this.setCenter((0,no.Iu)(h,0,h.length,E,r,o,h)),this.changed()},a}(uo.ZP);const ss=Vi;var Qs=p(6527),al=p(1751),Go=p(610),Bs=p(41),Ba=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),as=function(s){function a(r,o){var h=s.call(this,r)||this;return h.feature=o,h}return Ba(a,s),a}(oe.ZP),ya=function(s){function a(r){var o=this,h=r;h.stopDown||(h.stopDown=$.Dv),(o=s.call(this,h)||this).shouldHandle_=!1,o.downPx_=null,o.freehand_=!1,o.source_=r.source?r.source:null,o.features_=r.features?r.features:null,o.snapTolerance_=r.snapTolerance?r.snapTolerance:12,o.type_=r.type,o.mode_=function(s){switch(s){case On.Z.POINT:case On.Z.MULTI_POINT:return"Point";case On.Z.LINE_STRING:case On.Z.MULTI_LINE_STRING:return"LineString";case On.Z.POLYGON:case On.Z.MULTI_POLYGON:return"Polygon";case On.Z.CIRCLE:return"Circle";default:throw new Error("Invalid type: "+s)}}(o.type_),o.stopClick_=!!r.stopClick,o.minPoints_=r.minPoints?r.minPoints:"Polygon"===o.mode_?3:2,o.maxPoints_="Circle"===o.mode_?2:r.maxPoints?r.maxPoints:1/0,o.finishCondition_=r.finishCondition?r.finishCondition:$.uX;var E=r.geometryFunction;if(!E){var J,K=o.mode_;"Circle"===K?E=function(me,Me,We){var tt=Me||new ss([NaN,NaN]),wt=(0,kn.Vs)(me[0],We),Mt=(0,m.bI)(wt,(0,kn.Vs)(me[me.length-1],We));tt.setCenterAndRadius(wt,Math.sqrt(Mt));var Bt=(0,kn.Cs)();return Bt&&tt.transform(We,Bt),tt}:("Point"===K?J=ms.Z:"LineString"===K?J=Qs.Z:"Polygon"===K&&(J=jt.ZP),E=function(me,Me,We){return Me?Me.setCoordinates("Polygon"===K?me[0].length?[me[0].concat([me[0][0]])]:[]:me):Me=new J(me),Me})}return o.geometryFunction_=E,o.dragVertexDelay_=void 0!==r.dragVertexDelay?r.dragVertexDelay:500,o.finishCoordinate_=null,o.sketchFeature_=null,o.sketchPoint_=null,o.sketchCoords_=null,o.sketchLine_=null,o.sketchLineCoords_=null,o.squaredClickTolerance_=r.clickTolerance?r.clickTolerance*r.clickTolerance:36,o.overlay_=new nr.Z({source:new Ur({useSpatialIndex:!1,wrapX:!!r.wrapX&&r.wrapX}),style:r.style?r.style:Ds(),updateWhileInteracting:!0}),o.geometryName_=r.geometryName,o.condition_=r.condition?r.condition:ye,o.freehandCondition_=r.freehand?to:r.freehandCondition?r.freehandCondition:$e,o.addChangeListener("active",o.updateState_),o}return Ba(a,s),a.prototype.setMap=function(r){s.prototype.setMap.call(this,r),this.updateState_()},a.prototype.getOverlay=function(){return this.overlay_},a.prototype.handleEvent=function(r){r.originalEvent.type===Pe.Z.CONTEXTMENU&&r.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(r);var o=r.type===nt.POINTERMOVE,h=!0;return!this.freehand_&&this.lastDragTime_&&r.type===nt.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=r.pixel,this.shouldHandle_=!this.freehand_,o=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&r.type===nt.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(r.coordinate),h=!1):this.freehand_&&r.type===nt.POINTERDOWN?h=!1:o&&this.getPointerCount()<2?(h=r.type===nt.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(r),this.shouldHandle_&&r.originalEvent.preventDefault()):("mouse"===r.originalEvent.pointerType||r.type===nt.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(r):r.type===nt.DBLCLICK&&(h=!1),s.prototype.handleEvent.call(this,r)&&h},a.prototype.handleDownEvent=function(r){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=r.pixel,this.finishCoordinate_||this.startDrawing_(r.coordinate),!0):this.condition_(r)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new bt(nt.POINTERMOVE,r.map,r.originalEvent,!1,r.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=r.pixel,!0):(this.lastDragTime_=void 0,!1)},a.prototype.handleUpEvent=function(r){var o=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(r),this.shouldHandle_){var h=!this.finishCoordinate_;h&&this.startDrawing_(r.coordinate),!h&&this.freehand_?this.finishDrawing():!this.freehand_&&(!h||"Point"===this.mode_)&&(this.atFinish_(r.pixel)?this.finishCondition_(r)&&this.finishDrawing():this.addToDrawing_(r.coordinate)),o=!1}else this.freehand_&&this.abortDrawing();return!o&&this.stopClick_&&r.preventDefault(),o},a.prototype.handlePointerMove_=function(r){if(this.pointerType_=r.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var o=this.downPx_,h=r.pixel,E=o[0]-h[0],K=o[1]-h[1],J=E*E+K*K;if(this.shouldHandle_=this.freehand_?J>this.squaredClickTolerance_:J<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(r.coordinate):this.createOrUpdateSketchPoint_(r.coordinate.slice())},a.prototype.atFinish_=function(r){var o=!1;if(this.sketchFeature_){var h=!1,E=[this.finishCoordinate_],K=this.mode_;if("Point"===K)o=!0;else if("Circle"===K)o=2===this.sketchCoords_.length;else if("LineString"===K)h=this.sketchCoords_.length>this.minPoints_;else if("Polygon"===K){var J=this.sketchCoords_;h=J[0].length>this.minPoints_,E=[J[0][0],J[0][J[0].length-2]]}if(h)for(var me=this.getMap(),Me=0,We=E.length;Me<We;Me++){var tt=E[Me],wt=me.getPixelFromCoordinate(tt),Mt=r[0]-wt[0],Bt=r[1]-wt[1],Jt=this.freehand_?1:this.snapTolerance_;if(o=Math.sqrt(Mt*Mt+Bt*Bt)<=Jt){this.finishCoordinate_=tt;break}}}return o},a.prototype.createOrUpdateSketchPoint_=function(r){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(r):(this.sketchPoint_=new Ti.Z(new ms.Z(r)),this.updateSketchFeatures_())},a.prototype.createOrUpdateCustomSketchLine_=function(r){this.sketchLine_||(this.sketchLine_=new Ti.Z);var o=r.getLinearRing(0),h=this.sketchLine_.getGeometry();h?(h.setFlatCoordinates(o.getLayout(),o.getFlatCoordinates()),h.changed()):(h=new Qs.Z(o.getFlatCoordinates(),o.getLayout()),this.sketchLine_.setGeometry(h))},a.prototype.startDrawing_=function(r){var o=this.getMap().getView().getProjection();this.finishCoordinate_=r,"Point"===this.mode_?this.sketchCoords_=r.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[r.slice(),r.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[r.slice(),r.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Ti.Z(new Qs.Z(this.sketchLineCoords_)));var h=this.geometryFunction_(this.sketchCoords_,void 0,o);this.sketchFeature_=new Ti.Z,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(h),this.updateSketchFeatures_(),this.dispatchEvent(new as("drawstart",this.sketchFeature_))},a.prototype.modifyDrawing_=function(r){var K,J,o=this.getMap(),h=this.sketchFeature_.getGeometry(),E=o.getView().getProjection();"Point"===this.mode_?J=this.sketchCoords_:"Polygon"===this.mode_?(J=(K=this.sketchCoords_[0])[K.length-1],this.atFinish_(o.getPixelFromCoordinate(r))&&(r=this.finishCoordinate_.slice())):J=(K=this.sketchCoords_)[K.length-1],J[0]=r[0],J[1]=r[1],this.geometryFunction_(this.sketchCoords_,h,E),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(r),h.getType()===On.Z.POLYGON&&"Polygon"!==this.mode_?this.createOrUpdateCustomSketchLine_(h):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()},a.prototype.addToDrawing_=function(r){var E,K,o=this.sketchFeature_.getGeometry(),h=this.getMap().getView().getProjection(),J=this.mode_;"LineString"===J||"Circle"===J?(this.finishCoordinate_=r.slice(),(K=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?K.pop():E=!0),K.push(r.slice()),this.geometryFunction_(K,o,h)):"Polygon"===J&&((K=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?K.pop():E=!0),K.push(r.slice()),E&&(this.finishCoordinate_=K[0]),this.geometryFunction_(this.sketchCoords_,o,h)),this.createOrUpdateSketchPoint_(r.slice()),this.updateSketchFeatures_(),E&&this.finishDrawing()},a.prototype.removeLastPoint=function(){if(this.sketchFeature_){var h,r=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),E=this.mode_;if("LineString"===E||"Circle"===E){if((h=this.sketchCoords_).splice(-2,1),h.length>=2){this.finishCoordinate_=h[h.length-2].slice();var K=this.finishCoordinate_.slice();h[h.length-1]=K,this.createOrUpdateSketchPoint_(K)}this.geometryFunction_(h,r,o),r.getType()===On.Z.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(r)}else if("Polygon"===E){(h=this.sketchCoords_[0]).splice(-2,1);var J=this.sketchLine_.getGeometry();h.length>=2&&(K=h[h.length-2].slice(),h[h.length-1]=K,this.createOrUpdateSketchPoint_(K)),J.setCoordinates(h),this.geometryFunction_(this.sketchCoords_,r,o)}1===h.length&&this.abortDrawing(),this.updateSketchFeatures_()}},a.prototype.finishDrawing=function(){var r=this.abortDrawing_();if(r){var o=this.sketchCoords_,h=r.getGeometry(),E=this.getMap().getView().getProjection();"LineString"===this.mode_?(o.pop(),this.geometryFunction_(o,h,E)):"Polygon"===this.mode_&&(o[0].pop(),this.geometryFunction_(o,h,E),o=h.getCoordinates()),this.type_===On.Z.MULTI_POINT?r.setGeometry(new Go.Z([o])):this.type_===On.Z.MULTI_LINE_STRING?r.setGeometry(new al.Z([o])):this.type_===On.Z.MULTI_POLYGON&&r.setGeometry(new Bs.Z([o])),this.dispatchEvent(new as("drawend",r)),this.features_&&this.features_.push(r),this.source_&&this.source_.addFeature(r)}},a.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var r=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),r},a.prototype.abortDrawing=function(){var r=this.abortDrawing_();r&&this.dispatchEvent(new as("drawabort",r))},a.prototype.appendCoordinates=function(r){var E,o=this.mode_,h=!this.sketchFeature_;if(h&&this.startDrawing_(r[0]),"LineString"===o||"Circle"===o)E=this.sketchCoords_;else{if("Polygon"!==o)return;E=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}h&&E.shift(),E.pop();for(var K=0;K<r.length;K++)this.addToDrawing_(r[K]);var J=r[r.length-1];this.addToDrawing_(J),this.modifyDrawing_(J)},a.prototype.extend=function(r){var h=r.getGeometry();this.sketchFeature_=r,this.sketchCoords_=h.getCoordinates();var E=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=E.slice(),this.sketchCoords_.push(E.slice()),this.sketchPoint_=new Ti.Z(new ms.Z(E)),this.updateSketchFeatures_(),this.dispatchEvent(new as("drawstart",this.sketchFeature_))},a.prototype.updateSketchFeatures_=function(){var r=[];this.sketchFeature_&&r.push(this.sketchFeature_),this.sketchLine_&&r.push(this.sketchLine_),this.sketchPoint_&&r.push(this.sketchPoint_);var o=this.overlay_.getSource();o.clear(!0),o.addFeatures(r)},a.prototype.updateState_=function(){var r=this.getMap(),o=this.getActive();(!r||!o)&&this.abortDrawing(),this.overlay_.setMap(o?r:null)},a}(xi);function Ds(){var s=(0,wo.Ly)();return function(a,r){return s[a.getGeometry().getType()]}}const ba=ya;var jl=p(3722),$a=p(6802),ds=p(949),ea=p(5044),ll=p(6785),Lc=function(){var s=function(a,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(o[E]=h[E])})(a,r)};return function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=a}s(a,r),a.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Bl="units",cu=[1,2,5],Ea=25.4/.28,Ua=function(s){function a(r){var o=this,h=r||{},E=void 0!==h.className?h.className:h.bar?"ol-scale-bar":"ol-scale-line";return(o=s.call(this,{element:document.createElement("div"),render:h.render,target:h.target})||this).innerElement_=document.createElement("div"),o.innerElement_.className=E+"-inner",o.element.className=E+" "+y.XV,o.element.appendChild(o.innerElement_),o.viewState_=null,o.minWidth_=void 0!==h.minWidth?h.minWidth:64,o.renderedVisible_=!1,o.renderedWidth_=void 0,o.renderedHTML_="",o.addChangeListener(Bl,o.handleUnitsChanged_),o.setUnits(h.units||"metric"),o.scaleBar_=h.bar||!1,o.scaleBarSteps_=h.steps||4,o.scaleBarText_=h.text||!1,o.dpi_=h.dpi||void 0,o}return Lc(a,s),a.prototype.getUnits=function(){return this.get(Bl)},a.prototype.handleUnitsChanged_=function(){this.updateElement_()},a.prototype.setUnits=function(r){this.set(Bl,r)},a.prototype.setDpi=function(r){this.dpi_=r},a.prototype.updateElement_=function(){var r=this.viewState_;if(r){var qn,o=r.center,h=r.projection,E=this.getUnits(),J=(0,kn._Q)(h,r.resolution,o,"degrees"==E?Vn.ZP.DEGREES:Vn.ZP.METERS),me=this.minWidth_*(this.dpi_||Ea)/Ea,Me=me*J,We="";if("degrees"==E){var tt=kn.Wm[Vn.ZP.DEGREES];(Me*=tt)<tt/60?(We="\u2033",J*=3600):Me<tt?(We="\u2032",J*=60):We="\xb0"}else"imperial"==E?Me<.9144?(We="in",J/=.0254):Me<1609.344?(We="ft",J/=.3048):(We="mi",J/=1609.344):"nautical"==E?(J/=1852,We="nm"):"metric"==E?Me<.001?(We="\u03bcm",J*=1e6):Me<1?(We="mm",J*=1e3):Me<1e3?We="m":(We="km",J/=1e3):"us"==E?Me<.9144?(We="in",J*=39.37):Me<1609.344?(We="ft",J/=.30480061):(We="mi",J/=1609.3472):(0,Ue.h)(!1,33);for(var Mt,Bt,Jt,wt=3*Math.floor(Math.log(me*J)/Math.log(10));;){Jt=Math.floor(wt/3);var Dn=Math.pow(10,Jt);if(Mt=cu[(wt%3+3)%3]*Dn,Bt=Math.round(Mt/J),isNaN(Bt))return this.element.style.display="none",void(this.renderedVisible_=!1);if(Bt>=me)break;++wt}qn=this.scaleBar_?this.createScaleBar(Bt,Mt,We):Mt.toFixed(Jt<0?-Jt:0)+" "+We,this.renderedHTML_!=qn&&(this.innerElement_.innerHTML=qn,this.renderedHTML_=qn),this.renderedWidth_!=Bt&&(this.innerElement_.style.width=Bt+"px",this.renderedWidth_=Bt),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},a.prototype.createScaleBar=function(r,o,h){for(var E="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),K=[],J=r/this.scaleBarSteps_,me="#ffffff",Me=0;Me<this.scaleBarSteps_;Me++)0===Me&&K.push(this.createMarker("absolute",Me)),K.push('<div><div class="ol-scale-singlebar" style="width: '+J+"px;background-color: "+me+';"></div>'+this.createMarker("relative",Me)+(Me%2==0||2===this.scaleBarSteps_?this.createStepText(Me,r,!1,o,h):"")+"</div>"),Me===this.scaleBarSteps_-1&&K.push(this.createStepText(Me+1,r,!0,o,h)),me="#ffffff"===me?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+r+'px;">'+E+"</div>":"")+K.join("")+"</div>"},a.prototype.createMarker=function(r,o){return'<div class="ol-scale-step-marker" style="position: '+r+";top: "+("absolute"===r?3:-10)+'px;"></div>'},a.prototype.createStepText=function(r,o,h,E,K){var J=0===r?0:Math.round(E/this.scaleBarSteps_*r*100)/100;return'<div class="ol-scale-step-text" style="margin-left: '+(0===r?-3:o/this.scaleBarSteps_*-1)+"px;text-align: "+(0===r?"left":"center")+"; min-width: "+(0===r?0:o/this.scaleBarSteps_*2)+"px;left: "+(h?o+"px":"unset")+';">'+J+(0===r?"":" "+K)+"</div>"},a.prototype.getScaleForResolution=function(){var r=(0,kn._Q)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,Vn.ZP.METERS),o=this.dpi_||Ea;return parseFloat(r.toString())*(1e3/25.4)*o},a.prototype.render=function(r){var o=r.frameState;this.viewState_=o?o.viewState:null,this.updateElement_()},a}(ue);const ul=Ua;var $l=p(2237),Us=p(6763),Ul=p(3318),ta=p(829),Ke=.0066943799901413165,yt=484813681109536e-20,rt=Math.PI/2,Tn=1e-10,Yr=.017453292519943295,ci=57.29577951308232,yi=Math.PI/4,Co=2*Math.PI,bi=3.14159265359,Qi={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const ys={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var ls=/[\s_\-\/\(\)]/g;function go(s,a){if(s[a])return s[a];for(var E,r=Object.keys(s),o=a.toLowerCase().replace(ls,""),h=-1;++h<r.length;)if((E=r[h]).toLowerCase().replace(ls,"")===o)return s[E]}function dl(s){var o,h,E,a={},r=s.split("+").map(function(J){return J.trim()}).filter(function(J){return J}).reduce(function(J,me){var Me=me.split("=");return Me.push(!0),J[Me[0].toLowerCase()]=Me[1],J},{}),K={proj:"projName",datum:"datumCode",rf:function(J){a.rf=parseFloat(J)},lat_0:function(J){a.lat0=J*Yr},lat_1:function(J){a.lat1=J*Yr},lat_2:function(J){a.lat2=J*Yr},lat_ts:function(J){a.lat_ts=J*Yr},lon_0:function(J){a.long0=J*Yr},lon_1:function(J){a.long1=J*Yr},lon_2:function(J){a.long2=J*Yr},alpha:function(J){a.alpha=parseFloat(J)*Yr},gamma:function(J){a.rectified_grid_angle=parseFloat(J)},lonc:function(J){a.longc=J*Yr},x_0:function(J){a.x0=parseFloat(J)},y_0:function(J){a.y0=parseFloat(J)},k_0:function(J){a.k0=parseFloat(J)},k:function(J){a.k0=parseFloat(J)},a:function(J){a.a=parseFloat(J)},b:function(J){a.b=parseFloat(J)},r_a:function(){a.R_A=!0},zone:function(J){a.zone=parseInt(J,10)},south:function(){a.utmSouth=!0},towgs84:function(J){a.datum_params=J.split(",").map(function(me){return parseFloat(me)})},to_meter:function(J){a.to_meter=parseFloat(J)},units:function(J){a.units=J;var me=go(ys,J);me&&(a.to_meter=me.to_meter)},from_greenwich:function(J){a.from_greenwich=J*Yr},pm:function(J){var me=go(Qi,J);a.from_greenwich=(me||parseFloat(J))*Yr},nadgrids:function(J){"@null"===J?a.datumCode="none":a.nadgrids=J},axis:function(J){var me="ewnsud";3===J.length&&-1!==me.indexOf(J.substr(0,1))&&-1!==me.indexOf(J.substr(1,1))&&-1!==me.indexOf(J.substr(2,1))&&(a.axis=J)},approx:function(){a.approx=!0}};for(o in r)h=r[o],o in K?"function"==typeof(E=K[o])?E(h):a[E]=h:a[o]=h;return"string"==typeof a.datumCode&&"WGS84"!==a.datumCode&&(a.datumCode=a.datumCode.toLowerCase()),a}var fl=/\s/,tf=/[A-Za-z]/,th=/[A-Za-z84]/,Ji=/[,\]]/,Fc=/[\d\.E\-\+]/;function _s(s){if("string"!=typeof s)throw new Error("not a string");this.text=s.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function Nc(s,a,r){Array.isArray(a)&&(r.unshift(a),a=null);var h=r.reduce(function(E,K){return Vo(K,E),E},a?{}:s);a&&(s[a]=h)}function Vo(s,a){if(Array.isArray(s)){var r=s.shift();if("PARAMETER"===r&&(r=s.shift()),1===s.length)return Array.isArray(s[0])?(a[r]={},void Vo(s[0],a[r])):void(a[r]=s[0]);if(s.length)if("TOWGS84"!==r){if("AXIS"===r)return r in a||(a[r]=[]),void a[r].push(s);var o;switch(Array.isArray(r)||(a[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return a[r]={name:s[0].toLowerCase(),convert:s[1]},void(3===s.length&&Vo(s[2],a[r]));case"SPHEROID":case"ELLIPSOID":return a[r]={name:s[0],a:s[1],rf:s[2]},void(4===s.length&&Vo(s[3],a[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return s[0]=["name",s[0]],void Nc(a,r,s);default:for(o=-1;++o<s.length;)if(!Array.isArray(s[o]))return Vo(s,a[r]);return Nc(a,r,s)}}else a[r]=s;else a[r]=!0}else a[s]=!0}function zo(s){return.017453292519943295*s}function ho(s){var a=function(s){return new _s(s).output()}(s),r=a.shift(),o=a.shift();a.unshift(["name",o]),a.unshift(["type",r]);var h={};return Vo(a,h),function(s){if("GEOGCS"===s.type?s.projName="longlat":"LOCAL_CS"===s.type?(s.projName="identity",s.local=!0):s.projName="object"==typeof s.PROJECTION?Object.keys(s.PROJECTION)[0]:s.PROJECTION,s.AXIS){for(var a="",r=0,o=s.AXIS.length;r<o;++r){var h=[s.AXIS[r][0].toLowerCase(),s.AXIS[r][1].toLowerCase()];-1!==h[0].indexOf("north")||("y"===h[0]||"lat"===h[0])&&"north"===h[1]?a+="n":-1!==h[0].indexOf("south")||("y"===h[0]||"lat"===h[0])&&"south"===h[1]?a+="s":-1!==h[0].indexOf("east")||("x"===h[0]||"lon"===h[0])&&"east"===h[1]?a+="e":(-1!==h[0].indexOf("west")||("x"===h[0]||"lon"===h[0])&&"west"===h[1])&&(a+="w")}2===a.length&&(a+="u"),3===a.length&&(s.axis=a)}s.UNIT&&(s.units=s.UNIT.name.toLowerCase(),"metre"===s.units&&(s.units="meter"),s.UNIT.convert&&("GEOGCS"===s.type?s.DATUM&&s.DATUM.SPHEROID&&(s.to_meter=s.UNIT.convert*s.DATUM.SPHEROID.a):s.to_meter=s.UNIT.convert));var E=s.GEOGCS;function K(Me){return Me*(s.to_meter||1)}"GEOGCS"===s.type&&(E=s),E&&(s.datumCode=E.DATUM?E.DATUM.name.toLowerCase():E.name.toLowerCase(),"d_"===s.datumCode.slice(0,2)&&(s.datumCode=s.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===s.datumCode||"new_zealand_1949"===s.datumCode)&&(s.datumCode="nzgd49"),("wgs_1984"===s.datumCode||"world_geodetic_system_1984"===s.datumCode)&&("Mercator_Auxiliary_Sphere"===s.PROJECTION&&(s.sphere=!0),s.datumCode="wgs84"),"_ferro"===s.datumCode.slice(-6)&&(s.datumCode=s.datumCode.slice(0,-6)),"_jakarta"===s.datumCode.slice(-8)&&(s.datumCode=s.datumCode.slice(0,-8)),~s.datumCode.indexOf("belge")&&(s.datumCode="rnb72"),E.DATUM&&E.DATUM.SPHEROID&&(s.ellps=E.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===s.ellps.toLowerCase().slice(0,13)&&(s.ellps="intl"),s.a=E.DATUM.SPHEROID.a,s.rf=parseFloat(E.DATUM.SPHEROID.rf,10)),E.DATUM&&E.DATUM.TOWGS84&&(s.datum_params=E.DATUM.TOWGS84),~s.datumCode.indexOf("osgb_1936")&&(s.datumCode="osgb36"),~s.datumCode.indexOf("osni_1952")&&(s.datumCode="osni52"),(~s.datumCode.indexOf("tm65")||~s.datumCode.indexOf("geodetic_datum_of_1965"))&&(s.datumCode="ire65"),"ch1903+"===s.datumCode&&(s.datumCode="ch1903"),~s.datumCode.indexOf("israel")&&(s.datumCode="isr93")),s.b&&!isFinite(s.b)&&(s.b=s.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",zo],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",zo],["x0","false_easting",K],["y0","false_northing",K],["long0","central_meridian",zo],["lat0","latitude_of_origin",zo],["lat0","standard_parallel_1",zo],["lat1","standard_parallel_1",zo],["lat2","standard_parallel_2",zo],["azimuth","Azimuth"],["alpha","azimuth",zo],["srsCode","name"]].forEach(function(Me){return function(s,a){var r=a[0],o=a[1];!(r in s)&&o in s&&(s[r]=s[o],3===a.length&&(s[r]=a[2](s[r])))}(s,Me)}),!s.long0&&s.longc&&("Albers_Conic_Equal_Area"===s.projName||"Lambert_Azimuthal_Equal_Area"===s.projName)&&(s.long0=s.longc),!s.lat_ts&&s.lat1&&("Stereographic_South_Pole"===s.projName||"Polar Stereographic (variant B)"===s.projName)&&(s.lat0=zo(s.lat1>0?90:-90),s.lat_ts=s.lat1)}(h),h}function No(s){var a=this;if(2===arguments.length){var r=arguments[1];No[s]="string"==typeof r?"+"===r.charAt(0)?dl(arguments[1]):ho(arguments[1]):r}else if(1===arguments.length){if(Array.isArray(s))return s.map(function(o){Array.isArray(o)?No.apply(a,o):No(o)});if("string"==typeof s){if(s in No)return No[s]}else"EPSG"in s?No["EPSG:"+s.EPSG]=s:"ESRI"in s?No["ESRI:"+s.ESRI]=s:"IAU2000"in s?No["IAU2000:"+s.IAU2000]=s:console.log(s);return}}_s.prototype.readCharicter=function(){var s=this.text[this.place++];if(4!==this.state)for(;fl.test(s);){if(this.place>=this.text.length)return;s=this.text[this.place++]}switch(this.state){case 1:return this.neutral(s);case 2:return this.keyword(s);case 4:return this.quoted(s);case 5:return this.afterquote(s);case 3:return this.number(s);case-1:return}},_s.prototype.afterquote=function(s){if('"'===s)return this.word+='"',void(this.state=4);if(Ji.test(s))return this.word=this.word.trim(),void this.afterItem(s);throw new Error("havn't handled \""+s+'" in afterquote yet, index '+this.place)},_s.prototype.afterItem=function(s){return","===s?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===s?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},_s.prototype.number=function(s){if(!Fc.test(s)){if(Ji.test(s))return this.word=parseFloat(this.word),void this.afterItem(s);throw new Error("havn't handled \""+s+'" in number yet, index '+this.place)}this.word+=s},_s.prototype.quoted=function(s){'"'!==s?this.word+=s:this.state=5},_s.prototype.keyword=function(s){if(th.test(s))this.word+=s;else{if("["===s){var a=[];return a.push(this.word),this.level++,null===this.root?this.root=a:this.currentObject.push(a),this.stack.push(this.currentObject),this.currentObject=a,void(this.state=1)}if(!Ji.test(s))throw new Error("havn't handled \""+s+'" in keyword yet, index '+this.place);this.afterItem(s)}},_s.prototype.neutral=function(s){if(tf.test(s))return this.word=s,void(this.state=2);if('"'===s)return this.word="",void(this.state=4);if(Fc.test(s))return this.word=s,void(this.state=3);if(!Ji.test(s))throw new Error("havn't handled \""+s+'" in neutral yet, index '+this.place);this.afterItem(s)},_s.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)},function(s){s("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),s("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),s("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),s.WGS84=s["EPSG:4326"],s["EPSG:3785"]=s["EPSG:3857"],s.GOOGLE=s["EPSG:3857"],s["EPSG:900913"]=s["EPSG:3857"],s["EPSG:102113"]=s["EPSG:3857"]}(No);const Gs=No;var hs=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],Uc=["3857","900913","3785","102113"];function rh(s,a){var r,o;if(s=s||{},!a)return s;for(o in a)void 0!==(r=a[o])&&(s[o]=r);return s}function oa(s,a,r){var o=s*a;return r/Math.sqrt(1-o*o)}function pl(s){return s<0?-1:1}function cr(s){return Math.abs(s)<=bi?s:s-pl(s)*Co}function fs(s,a,r){var o=s*r;return o=Math.pow((1-o)/(1+o),.5*s),Math.tan(.5*(rt-a))/o}function Xo(s,a){for(var o,h,r=.5*s,E=rt-2*Math.atan(a),K=0;K<=15;K++)if(o=s*Math.sin(E),E+=h=rt-2*Math.atan(a*Math.pow((1-o)/(1+o),r))-E,Math.abs(h)<=1e-10)return E;return-9999}const sh={init:function(){var s=this.b/this.a;this.es=1-s*s,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):oa(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(s){var o,h,a=s.x,r=s.y;if(r*ci>90&&r*ci<-90&&a*ci>180&&a*ci<-180)return null;if(Math.abs(Math.abs(r)-rt)<=Tn)return null;if(this.sphere)o=this.x0+this.a*this.k0*cr(a-this.long0),h=this.y0+this.a*this.k0*Math.log(Math.tan(yi+.5*r));else{var E=Math.sin(r),K=fs(this.e,r,E);o=this.x0+this.a*this.k0*cr(a-this.long0),h=this.y0-this.a*this.k0*Math.log(K)}return s.x=o,s.y=h,s},inverse:function(s){var o,h,a=s.x-this.x0,r=s.y-this.y0;if(this.sphere)h=rt-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var E=Math.exp(-r/(this.a*this.k0));if(-9999===(h=Xo(this.e,E)))return null}return o=cr(this.long0+a/(this.a*this.k0)),s.x=o,s.y=h,s},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]};function mu(s){return s}var Vl=[sh,{init:function(){},forward:mu,inverse:mu,names:["longlat","identity"]}],_u={},zs=[];function bu(s,a){var r=zs.length;return s.names?(zs[r]=s,s.names.forEach(function(o){_u[o.toLowerCase()]=r}),this):(console.log(a),!0)}const gl={start:function(){Vl.forEach(bu)},add:bu,get:function(s){if(!s)return!1;var a=s.toLowerCase();return void 0!==_u[a]&&zs[_u[a]]?zs[_u[a]]:void 0}};var Jr={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Hu=Jr.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Jr.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var ro={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};var Va={};function ml(s){if(0===s.length)return null;var a="@"===s[0];return a&&(s=s.slice(1)),"null"===s?{name:"null",mandatory:!a,grid:null,isNull:!0}:{name:s,mandatory:!a,grid:Va[s]||null,isNull:!1}}function vl(s){return s/3600*Math.PI/180}function Ss(s,a,r){return String.fromCharCode.apply(null,new Uint8Array(s.buffer.slice(a,r)))}function zl(s){return s.map(function(a){return[vl(a.longitudeShift),vl(a.latitudeShift)]})}function wa(s,a,r){return{name:Ss(s,a+8,a+16).trim(),parent:Ss(s,a+24,a+24+8).trim(),lowerLatitude:s.getFloat64(a+72,r),upperLatitude:s.getFloat64(a+88,r),lowerLongitude:s.getFloat64(a+104,r),upperLongitude:s.getFloat64(a+120,r),latitudeInterval:s.getFloat64(a+136,r),longitudeInterval:s.getFloat64(a+152,r),gridNodeCount:s.getInt32(a+168,r)}}function Yu(s,a,r,o){for(var h=a+176,K=[],J=0;J<r.gridNodeCount;J++){var me={latitudeShift:s.getFloat32(h+16*J,o),longitudeShift:s.getFloat32(h+16*J+4,o),latitudeAccuracy:s.getFloat32(h+16*J+8,o),longitudeAccuracy:s.getFloat32(h+16*J+12,o)};K.push(me)}return K}function Ws(s,a){if(!(this instanceof Ws))return new Ws(s);a=a||function(Me){if(Me)throw Me};var r=function(s){if(!function(s){return"string"==typeof s}(s))return s;if(function(s){return s in Gs}(s))return Gs[s];if(function(s){return hs.some(function(a){return s.indexOf(a)>-1})}(s)){var a=ho(s);if(function(s){var a=go(s,"authority");if(a){var r=go(a,"epsg");return r&&Uc.indexOf(r)>-1}}(a))return Gs["EPSG:3857"];var r=function(s){var a=go(s,"extension");if(a)return go(a,"proj4")}(a);return r?dl(r):a}return function(s){return"+"===s[0]}(s)?dl(s):void 0}(s);if("object"==typeof r){var o=Ws.projections.get(r.projName);if(o){if(r.datumCode&&"none"!==r.datumCode){var h=go(ro,r.datumCode);h&&(r.datum_params=r.datum_params||(h.towgs84?h.towgs84.split(","):null),r.ellps=h.ellipse,r.datumName=h.datumName?h.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var E=function(s,a,r,o,h){if(!s){var E=go(Jr,o);E||(E=Hu),s=E.a,a=E.b,r=E.rf}return r&&!a&&(a=(1-1/r)*s),(0===r||Math.abs(s-a)<Tn)&&(h=!0,a=s),{a:s,b:a,rf:r,sphere:h}}(r.a,r.b,r.rf,r.ellps,r.sphere),K=function(s,a,r,o){var h=s*s,E=a*a,K=(h-E)/h,J=0;return o?(h=(s*=1-K*(.16666666666666666+K*(.04722222222222222+.022156084656084655*K)))*s,K=0):J=Math.sqrt(K),{es:K,e:J,ep2:(h-E)/E}}(E.a,E.b,0,r.R_A),J=function(s){return void 0===s?null:s.split(",").map(ml)}(r.nadgrids),me=r.datum||function(s,a,r,o,h,E,K){var J={};return J.datum_type=void 0===s||"none"===s?5:4,a&&(J.datum_params=a.map(parseFloat),(0!==J.datum_params[0]||0!==J.datum_params[1]||0!==J.datum_params[2])&&(J.datum_type=1),J.datum_params.length>3&&(0!==J.datum_params[3]||0!==J.datum_params[4]||0!==J.datum_params[5]||0!==J.datum_params[6])&&(J.datum_type=2,J.datum_params[3]*=yt,J.datum_params[4]*=yt,J.datum_params[5]*=yt,J.datum_params[6]=J.datum_params[6]/1e6+1)),K&&(J.datum_type=3,J.grids=K),J.a=r,J.b=o,J.es=h,J.ep2=E,J}(r.datumCode,r.datum_params,E.a,E.b,K.es,K.ep2,J);rh(this,r),rh(this,o),this.a=E.a,this.b=E.b,this.rf=E.rf,this.sphere=E.sphere,this.es=K.es,this.e=K.e,this.ep2=K.ep2,this.datum=me,this.init(),a(null,this)}else a(s)}else a(s)}(Ws.projections=gl).start();const za=Ws;function Ku(s,a,r){var K,J,Me,o=s.x,h=s.y,E=s.z?s.z:0;if(h<-rt&&h>-1.001*rt)h=-rt;else if(h>rt&&h<1.001*rt)h=rt;else{if(h<-rt)return{x:-1/0,y:-1/0,z:s.z};if(h>rt)return{x:1/0,y:1/0,z:s.z}}return o>Math.PI&&(o-=2*Math.PI),J=Math.sin(h),Me=Math.cos(h),{x:((K=r/Math.sqrt(1-a*(J*J)))+E)*Me*Math.cos(o),y:(K+E)*Me*Math.sin(o),z:(K*(1-a)+E)*J}}function Wc(s,a,r,o){var J,me,Me,We,tt,wt,Mt,Bt,Jt,Dn,qn,sr,Pr,Hi,_o,Kr=s.x,ti=s.y,ii=s.z?s.z:0;if(J=Math.sqrt(Kr*Kr+ti*ti),me=Math.sqrt(Kr*Kr+ti*ti+ii*ii),J/r<1e-12){if(Hi=0,me/r<1e-12)return _o=-o,{x:s.x,y:s.y,z:s.z}}else Hi=Math.atan2(ti,Kr);Me=ii/me,Bt=(We=J/me)*(1-a)*(tt=1/Math.sqrt(1-a*(2-a)*We*We)),Jt=Me*tt,Pr=0;do{Pr++,wt=a*(Mt=r/Math.sqrt(1-a*Jt*Jt))/(Mt+(_o=J*Bt+ii*Jt-Mt*(1-a*Jt*Jt))),sr=(qn=Me*(tt=1/Math.sqrt(1-wt*(2-wt)*We*We)))*Bt-(Dn=We*(1-wt)*tt)*Jt,Bt=Dn,Jt=qn}while(sr*sr>1e-24&&Pr<30);return{x:Hi,y:Math.atan(qn/Math.abs(Dn)),z:_o}}function Ca(s){return 1===s||2===s}function ch(s,a,r){if(null===s.grids||0===s.grids.length)return console.log("Grid shift grids not found"),-1;for(var o={x:-r.x,y:r.y},h={x:Number.NaN,y:Number.NaN},K=[],J=0;J<s.grids.length;J++){var me=s.grids[J];if(K.push(me.name),me.isNull){h=o;break}if(null!==me.grid){var Me=me.grid.subgrids[0],We=(Math.abs(Me.del[1])+Math.abs(Me.del[0]))/1e4;if(!(Me.ll[1]-We>o.y||Me.ll[0]-We>o.x||Me.ll[1]+(Me.lim[1]-1)*Me.del[1]+We<o.y||Me.ll[0]+(Me.lim[0]-1)*Me.del[0]+We<o.x||(h=Zc(o,a,Me),isNaN(h.x))))break}else if(me.mandatory)return console.log("Unable to find mandatory grid '"+me.name+"'"),-1}return isNaN(h.x)?(console.log("Failed to find a grid shift table for location '"+-o.x*ci+" "+o.y*ci+" tried: '"+K+"'"),-1):(r.x=-h.x,r.y=h.y,0)}function Zc(s,a,r){var o={x:Number.NaN,y:Number.NaN};if(isNaN(s.x))return o;var h={x:s.x,y:s.y};h.x-=r.ll[0],h.y-=r.ll[1],h.x=cr(h.x-Math.PI)+Math.PI;var E=Ju(h,r);if(a){if(isNaN(E.x))return o;E.x=h.x-E.x,E.y=h.y-E.y;var me,Me,K=9;do{if(Me=Ju(E,r),isNaN(Me.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}E.x+=(me={x:h.x-(Me.x+E.x),y:h.y-(Me.y+E.y)}).x,E.y+=me.y}while(K--&&Math.abs(me.x)>1e-12&&Math.abs(me.y)>1e-12);if(K<0)return console.log("Inverse grid shift iterator failed to converge."),o;o.x=cr(E.x+r.ll[0]),o.y=E.y+r.ll[1]}else isNaN(E.x)||(o.x=s.x+E.x,o.y=s.y+E.y);return o}function Ju(s,a){var K,r={x:s.x/a.del[0],y:s.y/a.del[1]},o_x=Math.floor(r.x),o_y=Math.floor(r.y),h_x=r.x-1*o_x,h_y=r.y-1*o_y,E={x:Number.NaN,y:Number.NaN};if(o_x<0||o_x>=a.lim[0]||o_y<0||o_y>=a.lim[1])return E;var J_x=a.cvs[K=o_y*a.lim[0]+o_x][0],J_y=a.cvs[K][1];K++;var me_x=a.cvs[K][0],me_y=a.cvs[K][1],Me_x=a.cvs[K+=a.lim[0]][0],Me_y=a.cvs[K][1];K--;var We_y=a.cvs[K][1],tt=h_x*h_y,wt=h_x*(1-h_y),Mt=(1-h_x)*(1-h_y),Bt=(1-h_x)*h_y;return E.x=Mt*J_x+wt*me_x+Bt*a.cvs[K][0]+tt*Me_x,E.y=Mt*J_y+wt*me_y+Bt*We_y+tt*Me_y,E}function qu(s,a,r){var K,J,me,o=r.x,h=r.y,E=r.z||0,Me={};for(me=0;me<3;me++)if(!a||2!==me||void 0!==r.z)switch(0===me?(K=o,J=-1!=="ew".indexOf(s.axis[me])?"x":"y"):1===me?(K=h,J=-1!=="ns".indexOf(s.axis[me])?"y":"x"):(K=E,J="z"),s.axis[me]){case"e":case"n":Me[J]=K;break;case"w":case"s":Me[J]=-K;break;case"u":void 0!==r[J]&&(Me.z=K);break;case"d":void 0!==r[J]&&(Me.z=-K);break;default:return null}return Me}function Yc(s){var a={x:s[0],y:s[1]};return s.length>2&&(a.z=s[2]),s.length>3&&(a.m=s[3]),a}function Za(s){if("function"==typeof Number.isFinite){if(Number.isFinite(s))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof s||s!=s||!isFinite(s))throw new TypeError("coordinates must be finite numbers")}function Ya(s,a,r,o){var h;if(Array.isArray(r)&&(r=Yc(r)),function(s){Za(s.x),Za(s.y)}(r),s.datum&&a.datum&&function(s,a){return(1===s.datum.datum_type||2===s.datum.datum_type)&&"WGS84"!==a.datumCode||(1===a.datum.datum_type||2===a.datum.datum_type)&&"WGS84"!==s.datumCode}(s,a)&&(r=Ya(s,h=new za("WGS84"),r,o),s=h),o&&"enu"!==s.axis&&(r=qu(s,!1,r)),"longlat"===s.projName)r={x:r.x*Yr,y:r.y*Yr,z:r.z||0};else if(s.to_meter&&(r={x:r.x*s.to_meter,y:r.y*s.to_meter,z:r.z||0}),!(r=s.inverse(r)))return;if(s.from_greenwich&&(r.x+=s.from_greenwich),r=function(s,a,r){if(function(s,a){return!(s.datum_type!==a.datum_type||s.a!==a.a||Math.abs(s.es-a.es)>5e-11)&&(1===s.datum_type?s.datum_params[0]===a.datum_params[0]&&s.datum_params[1]===a.datum_params[1]&&s.datum_params[2]===a.datum_params[2]:2!==s.datum_type||s.datum_params[0]===a.datum_params[0]&&s.datum_params[1]===a.datum_params[1]&&s.datum_params[2]===a.datum_params[2]&&s.datum_params[3]===a.datum_params[3]&&s.datum_params[4]===a.datum_params[4]&&s.datum_params[5]===a.datum_params[5]&&s.datum_params[6]===a.datum_params[6])}(s,a)||5===s.datum_type||5===a.datum_type)return r;var o=s.a,h=s.es;if(3===s.datum_type){if(0!==ch(s,!1,r))return;o=6378137,h=Ke}var K=a.a,J=a.b,me=a.es;return 3===a.datum_type&&(K=6378137,J=6356752.314,me=Ke),h!==me||o!==K||Ca(s.datum_type)||Ca(a.datum_type)?(r=Ku(r,h,o),Ca(s.datum_type)&&(r=function(s,a,r){if(1===a)return{x:s.x+r[0],y:s.y+r[1],z:s.z+r[2]};if(2===a){var K=r[3],J=r[4],me=r[5],Me=r[6];return{x:Me*(s.x-me*s.y+J*s.z)+r[0],y:Me*(me*s.x+s.y-K*s.z)+r[1],z:Me*(-J*s.x+K*s.y+s.z)+r[2]}}}(r,s.datum_type,s.datum_params)),Ca(a.datum_type)&&(r=function(s,a,r){if(1===a)return{x:s.x-r[0],y:s.y-r[1],z:s.z-r[2]};if(2===a){var K=r[3],J=r[4],me=r[5],Me=r[6],We=(s.x-r[0])/Me,tt=(s.y-r[1])/Me,wt=(s.z-r[2])/Me;return{x:We+me*tt-J*wt,y:-me*We+tt+K*wt,z:J*We-K*tt+wt}}}(r,a.datum_type,a.datum_params)),r=Wc(r,me,K,J),3!==a.datum_type||0===ch(a,!0,r)?r:void 0):r}(s.datum,a.datum,r))return a.from_greenwich&&(r={x:r.x-a.from_greenwich,y:r.y,z:r.z||0}),"longlat"===a.projName?r={x:r.x*ci,y:r.y*ci,z:r.z||0}:(r=a.forward(r),a.to_meter&&(r={x:r.x/a.to_meter,y:r.y/a.to_meter,z:r.z||0})),o&&"enu"!==a.axis?qu(a,!0,r):r}var Gi=za("WGS84");function Is(s,a,r,o){var h,E,K;return Array.isArray(r)?(h=Ya(s,a,r,o)||{x:NaN,y:NaN},r.length>2?void 0!==s.name&&"geocent"===s.name||void 0!==a.name&&"geocent"===a.name?"number"==typeof h.z?[h.x,h.y,h.z].concat(r.splice(3)):[h.x,h.y,r[2]].concat(r.splice(3)):[h.x,h.y].concat(r.splice(2)):[h.x,h.y]):(E=Ya(s,a,r,o),2===(K=Object.keys(r)).length||K.forEach(function(J){if(void 0!==s.name&&"geocent"===s.name||void 0!==a.name&&"geocent"===a.name){if("x"===J||"y"===J||"z"===J)return}else if("x"===J||"y"===J)return;E[J]=r[J]}),E)}function _l(s){return s instanceof za?s:s.oProj?s.oProj:za(s)}const Ho=function(s,a,r){s=_l(s);var h,o=!1;return void 0===a?(a=s,s=Gi,o=!0):(void 0!==a.x||Array.isArray(a))&&(r=a,a=s,s=Gi,o=!0),a=_l(a),r?Is(s,a,r):(h={forward:function(E,K){return Is(s,a,E,K)},inverse:function(E,K){return Is(a,s,E,K)}},o&&(h.oProj=a),h)};const xu={forward:wu,inverse:function(s){var a=El(gh(s.toUpperCase()));return a.lat&&a.lon?[a.lon,a.lat,a.lon,a.lat]:[a.left,a.bottom,a.right,a.top]},toPoint:Da};function wu(s,a){return a=a||5,function(s,a){var r="00000"+s.easting,o="00000"+s.northing;return s.zoneNumber+s.zoneLetter+function(s,a,r){var o=tc(r);return function(s,a,r){var o=r-1,h="AJSAJS".charCodeAt(o),E="AFAFAF".charCodeAt(o),K=h+s-1,J=E+a,me=!1;return K>90&&(K=K-90+65-1,me=!0),(73===K||h<73&&K>73||(K>73||h<73)&&me)&&K++,(79===K||h<79&&K>79||(K>79||h<79)&&me)&&73==++K&&K++,K>90&&(K=K-90+65-1),J>86?(J=J-86+65-1,me=!0):me=!1,(73===J||E<73&&J>73||(J>73||E<73)&&me)&&J++,(79===J||E<79&&J>79||(J>79||E<79)&&me)&&73==++J&&J++,J>86&&(J=J-86+65-1),String.fromCharCode(K)+String.fromCharCode(J)}(Math.floor(s/1e5),Math.floor(a/1e5)%20,o)}(s.easting,s.northing,s.zoneNumber)+r.substr(r.length-5,a)+o.substr(o.length-5,a)}(function(s){var J,me,Me,We,tt,Jt,Dn,a=s.lat,r=s.lon,o=6378137,h=.00669438,E=.9996,Mt=Yl(a),Bt=Yl(r);Dn=Math.floor((r+180)/6)+1,180===r&&(Dn=60),a>=56&&a<64&&r>=3&&r<12&&(Dn=32),a>=72&&a<84&&(r>=0&&r<9?Dn=31:r>=9&&r<21?Dn=33:r>=21&&r<33?Dn=35:r>=33&&r<42&&(Dn=37)),Jt=Yl(6*(Dn-1)-180+3),J=h/(1-h),me=o/Math.sqrt(1-h*Math.sin(Mt)*Math.sin(Mt)),Me=Math.tan(Mt)*Math.tan(Mt),We=J*Math.cos(Mt)*Math.cos(Mt);var qn=E*me*((tt=Math.cos(Mt)*(Bt-Jt))+(1-Me+We)*tt*tt*tt/6+(5-18*Me+Me*Me+72*We-58*J)*tt*tt*tt*tt*tt/120)+5e5,sr=E*(o*(.9983242984503243*Mt-.002514607064228144*Math.sin(2*Mt)+2639046602129982e-21*Math.sin(4*Mt)-35*h*h*h/3072*Math.sin(6*Mt))+me*Math.tan(Mt)*(tt*tt/2+(5-Me+9*We+4*We*We)*tt*tt*tt*tt/24+(61-58*Me+Me*Me+600*We-330*J)*tt*tt*tt*tt*tt*tt/720));return a<0&&(sr+=1e7),{northing:Math.round(sr),easting:Math.round(qn),zoneNumber:Dn,zoneLetter:hh(a)}}({lat:s[1],lon:s[0]}),a)}function Da(s){var a=El(gh(s.toUpperCase()));return a.lat&&a.lon?[a.lon,a.lat]:[(a.left+a.right)/2,(a.top+a.bottom)/2]}function Yl(s){return s*(Math.PI/180)}function Kl(s){return s/Math.PI*180}function El(s){var a=s.northing,r=s.easting,o=s.zoneLetter,h=s.zoneNumber;if(h<0||h>60)return null;var me,We,tt,wt,Mt,Bt,Dn,qn,sr,E=.9996,K=6378137,J=.00669438,Me=(1-Math.sqrt(1-J))/(1+Math.sqrt(1-J)),Pr=r-5e5,Kr=a;o<"N"&&(Kr-=1e7),Dn=6*(h-1)-180+3,me=J/(1-J),sr=(qn=Kr/E/6367449.145945056)+(3*Me/2-27*Me*Me*Me/32)*Math.sin(2*qn)+(21*Me*Me/16-55*Me*Me*Me*Me/32)*Math.sin(4*qn)+151*Me*Me*Me/96*Math.sin(6*qn),We=K/Math.sqrt(1-J*Math.sin(sr)*Math.sin(sr)),tt=Math.tan(sr)*Math.tan(sr),wt=me*Math.cos(sr)*Math.cos(sr),Mt=K*(1-J)/Math.pow(1-J*Math.sin(sr)*Math.sin(sr),1.5),Bt=Pr/(We*E);var ti=sr-We*Math.tan(sr)/Mt*(Bt*Bt/2-(5+3*tt+10*wt-4*wt*wt-9*me)*Bt*Bt*Bt*Bt/24+(61+90*tt+298*wt+45*tt*tt-252*me-3*wt*wt)*Bt*Bt*Bt*Bt*Bt*Bt/720);ti=Kl(ti);var Hi,ii=(Bt-(1+2*tt+wt)*Bt*Bt*Bt/6+(5-2*wt+28*tt-3*wt*wt+8*me+24*tt*tt)*Bt*Bt*Bt*Bt*Bt/120)/Math.cos(sr);if(ii=Dn+Kl(ii),s.accuracy){var Ii=El({northing:s.northing+s.accuracy,easting:s.easting+s.accuracy,zoneLetter:s.zoneLetter,zoneNumber:s.zoneNumber});Hi={top:Ii.lat,right:Ii.lon,bottom:ti,left:ii}}else Hi={lat:ti,lon:ii};return Hi}function hh(s){var a="Z";return 84>=s&&s>=72?a="X":72>s&&s>=64?a="W":64>s&&s>=56?a="V":56>s&&s>=48?a="U":48>s&&s>=40?a="T":40>s&&s>=32?a="S":32>s&&s>=24?a="R":24>s&&s>=16?a="Q":16>s&&s>=8?a="P":8>s&&s>=0?a="N":0>s&&s>=-8?a="M":-8>s&&s>=-16?a="L":-16>s&&s>=-24?a="K":-24>s&&s>=-32?a="J":-32>s&&s>=-40?a="H":-40>s&&s>=-48?a="G":-48>s&&s>=-56?a="F":-56>s&&s>=-64?a="E":-64>s&&s>=-72?a="D":-72>s&&s>=-80&&(a="C"),a}function tc(s){var a=s%6;return 0===a&&(a=6),a}function gh(s){if(s&&0===s.length)throw"MGRSPoint coverting from nothing";for(var h,a=s.length,r=null,o="",E=0;!/[A-Z]/.test(h=s.charAt(E));){if(E>=2)throw"MGRSPoint bad conversion from: "+s;o+=h,E++}var K=parseInt(o,10);if(0===E||E+3>a)throw"MGRSPoint bad conversion from: "+s;var J=s.charAt(E++);if(J<="A"||"B"===J||"Y"===J||J>="Z"||"I"===J||"O"===J)throw"MGRSPoint zone letter "+J+" not handled: "+s;r=s.substring(E,E+=2);for(var me=tc(K),Me=function(s,a){for(var r="AJSAJS".charCodeAt(a-1),o=1e5,h=!1;r!==s.charCodeAt(0);){if(73==++r&&r++,79===r&&r++,r>90){if(h)throw"Bad character: "+s;r=65,h=!0}o+=1e5}return o}(r.charAt(0),me),We=function(s,a){if(s>"V")throw"MGRSPoint given invalid Northing "+s;for(var r="AFAFAF".charCodeAt(a-1),o=0,h=!1;r!==s.charCodeAt(0);){if(73==++r&&r++,79===r&&r++,r>86){if(h)throw"Bad character: "+s;r=65,h=!0}o+=1e5}return o}(r.charAt(1),me);We<mh(J);)We+=2e6;var tt=a-E;if(tt%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+s;var Jt,Dn,qn,wt=tt/2,Mt=0,Bt=0;return wt>0&&(Jt=1e5/Math.pow(10,wt),Dn=s.substring(E,E+wt),Mt=parseFloat(Dn)*Jt,qn=s.substring(E+wt),Bt=parseFloat(qn)*Jt),{easting:Mt+Me,northing:Bt+We,zoneLetter:J,zoneNumber:K,accuracy:Jt}}function mh(s){var a;switch(s){case"C":a=11e5;break;case"D":a=2e6;break;case"E":a=28e5;break;case"F":a=37e5;break;case"G":a=46e5;break;case"H":a=55e5;break;case"J":a=64e5;break;case"K":a=73e5;break;case"L":a=82e5;break;case"M":a=91e5;break;case"N":a=0;break;case"P":a=8e5;break;case"Q":a=17e5;break;case"R":a=26e5;break;case"S":a=35e5;break;case"T":a=44e5;break;case"U":a=53e5;break;case"V":a=62e5;break;case"W":a=7e6;break;case"X":a=79e5;break;default:a=-1}if(a>=0)return a;throw"Invalid zone letter: "+s}function Zs(s,a,r){if(!(this instanceof Zs))return new Zs(s,a,r);if(Array.isArray(s))this.x=s[0],this.y=s[1],this.z=s[2]||0;else if("object"==typeof s)this.x=s.x,this.y=s.y,this.z=s.z||0;else if("string"==typeof s&&void 0===a){var o=s.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10),this.z=parseFloat(o[2],10)||0}else this.x=s,this.y=a,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Zs.fromMGRS=function(s){return new Zs(Da(s))},Zs.prototype.toMGRS=function(s){return wu([this.x,this.y],s)};const ji=Zs;var nc=.01953125,rc=.01068115234375;function yh(s){var a=[];a[0]=1-s*(.25+s*(.046875+s*(nc+s*rc))),a[1]=s*(.75-s*(.046875+s*(nc+s*rc)));var r=s*s;return a[2]=r*(.46875-s*(.013020833333333334+.007120768229166667*s)),a[3]=(r*=s)*(.3645833333333333-.005696614583333333*s),a[4]=r*s*.3076171875,a}function wl(s,a,r,o){return o[0]*s-(r*=a)*(o[1]+(a*=a)*(o[2]+a*(o[3]+a*o[4])))}function sc(s,a,r){for(var o=1/(1-a),h=s,E=20;E;--E){var K=Math.sin(h),J=1-a*K*K;if(h-=J=(wl(h,K,Math.cos(h),r)-s)*(J*Math.sqrt(J))*o,Math.abs(J)<Tn)return h}return h}const Jl={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=yh(this.es),this.ml0=wl(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(s){var h,E,K,r=s.y,o=cr(s.x-this.long0),J=Math.sin(r),me=Math.cos(r);if(this.es){var We=me*o,tt=Math.pow(We,2),wt=this.ep2*Math.pow(me,2),Mt=Math.pow(wt,2),Bt=Math.abs(me)>Tn?Math.tan(r):0,Jt=Math.pow(Bt,2),Dn=Math.pow(Jt,2);h=1-this.es*Math.pow(J,2),We/=Math.sqrt(h);var qn=wl(r,J,me,this.en);E=this.a*(this.k0*We*(1+tt/6*(1-Jt+wt+tt/20*(5-18*Jt+Dn+14*wt-58*Jt*wt+tt/42*(61+179*Dn-Dn*Jt-479*Jt)))))+this.x0,K=this.a*(this.k0*(qn-this.ml0+J*o*We/2*(1+tt/12*(5-Jt+9*wt+4*Mt+tt/30*(61+Dn-58*Jt+270*wt-330*Jt*wt+tt/56*(1385+543*Dn-Dn*Jt-3111*Jt))))))+this.y0}else{var Me=me*Math.sin(o);if(Math.abs(Math.abs(Me)-1)<Tn)return 93;if(E=.5*this.a*this.k0*Math.log((1+Me)/(1-Me))+this.x0,K=me*Math.cos(o)/Math.sqrt(1-Math.pow(Me,2)),(Me=Math.abs(K))>=1){if(Me-1>Tn)return 93;K=0}else K=Math.acos(K);r<0&&(K=-K),K=this.a*this.k0*(K-this.lat0)+this.y0}return s.x=E,s.y=K,s},inverse:function(s){var a,r,o,h,E=1/this.a*(s.x-this.x0),K=1/this.a*(s.y-this.y0);if(this.es)if(r=sc(a=this.ml0+K/this.k0,this.es,this.en),Math.abs(r)<rt){var tt=Math.sin(r),wt=Math.cos(r),Mt=Math.abs(wt)>Tn?Math.tan(r):0,Bt=this.ep2*Math.pow(wt,2),Jt=Math.pow(Bt,2),Dn=Math.pow(Mt,2),qn=Math.pow(Dn,2);a=1-this.es*Math.pow(tt,2);var sr=E*Math.sqrt(a)/this.k0,Pr=Math.pow(sr,2);o=r-(a*=Mt)*Pr/(1-this.es)*.5*(1-Pr/12*(5+3*Dn-9*Bt*Dn+Bt-4*Jt-Pr/30*(61+90*Dn-252*Bt*Dn+45*qn+46*Bt-Pr/56*(1385+3633*Dn+4095*qn+1574*qn*Dn)))),h=cr(this.long0+sr*(1-Pr/6*(1+2*Dn+Bt-Pr/20*(5+28*Dn+24*qn+8*Bt*Dn+6*Bt-Pr/42*(61+662*Dn+1320*qn+720*qn*Dn))))/wt)}else o=rt*pl(K),h=0;else{var J=Math.exp(E/this.k0),me=.5*(J-1/J),We=Math.cos(this.lat0+K/this.k0);a=Math.sqrt((1-Math.pow(We,2))/(1+Math.pow(me,2))),o=Math.asin(a),K<0&&(o=-o),h=0===me&&0===We?0:cr(Math.atan2(me,We)+this.long0)}return s.x=h,s.y=o,s},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function Du(s){var a=Math.exp(s);return(a-1/a)/2}function Ja(s,a){s=Math.abs(s),a=Math.abs(a);var r=Math.max(s,a),o=Math.min(s,a)/(r||1);return r*Math.sqrt(1+Math.pow(o,2))}function Mu(s,a){for(var K,r=2*Math.cos(2*a),o=s.length-1,h=s[o],E=0;--o>=0;)K=r*h-E+s[o],E=h,h=K;return a+K*Math.sin(2*a)}function lc(s,a,r){for(var Bt,Jt,o=Math.sin(a),h=Math.cos(a),E=Du(r),K=function(s){var a=Math.exp(s);return(a+1/a)/2}(r),J=2*h*K,me=-2*o*E,Me=s.length-1,We=s[Me],tt=0,wt=0,Mt=0;--Me>=0;)Bt=wt,Jt=tt,We=J*(wt=We)-Bt-me*(tt=Mt)+s[Me],Mt=me*wt-Jt+J*tt;return[(J=o*K)*We-(me=h*E)*Mt,J*Mt+me*We]}const Ou={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Jl.init.apply(this),this.forward=Jl.forward,this.inverse=Jl.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var s=this.es/(1+Math.sqrt(1-this.es)),a=s/(2-s),r=a;this.cgb[0]=a*(2+a*(-2/3+a*(a*(116/45+a*(26/45+a*(-2854/675)))-2))),this.cbg[0]=a*(a*(2/3+a*(4/3+a*(-82/45+a*(32/45+a*(4642/4725)))))-2),this.cgb[1]=(r*=a)*(7/3+a*(a*(-227/45+a*(2704/315+a*(2323/945)))-1.6)),this.cbg[1]=r*(5/3+a*(-16/15+a*(-13/9+a*(904/315+a*(-1522/945))))),this.cgb[2]=(r*=a)*(56/15+a*(-136/35+a*(-1262/105+a*(73814/2835)))),this.cbg[2]=r*(-26/15+a*(34/21+a*(1.6+a*(-12686/2835)))),this.cgb[3]=(r*=a)*(4279/630+a*(-332/35+a*(-399572/14175))),this.cbg[3]=r*(1237/630+a*(a*(-24832/14175)-2.4)),this.cgb[4]=(r*=a)*(4174/315+a*(-144838/6237)),this.cbg[4]=r*(-734/315+a*(109598/31185)),this.cgb[5]=(r*=a)*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(a,2),this.Qn=this.k0/(1+a)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=a*(a*(2/3+a*(-37/96+a*(1/360+a*(81/512+a*(-96199/604800)))))-.5),this.gtu[0]=a*(.5+a*(-2/3+a*(5/16+a*(41/180+a*(-127/288+a*(7891/37800)))))),this.utg[1]=r*(-1/48+a*(-1/15+a*(437/1440+a*(-46/105+a*(1118711/3870720))))),this.gtu[1]=r*(13/48+a*(a*(557/1440+a*(281/630+a*(-1983433/1935360)))-.6)),this.utg[2]=(r*=a)*(-17/480+a*(37/840+a*(209/4480+a*(-5569/90720)))),this.gtu[2]=r*(61/240+a*(-103/140+a*(15061/26880+a*(167603/181440)))),this.utg[3]=(r*=a)*(-4397/161280+a*(11/504+a*(830251/7257600))),this.gtu[3]=r*(49561/161280+a*(-179/168+a*(6601661/7257600))),this.utg[4]=(r*=a)*(-4583/161280+a*(108847/3991680)),this.gtu[4]=r*(34729/80640+a*(-3418889/1995840)),this.utg[5]=(r*=a)*(-20648693/638668800),this.gtu[5]=.6650675310896665*r;var o=Mu(this.cbg,this.lat0);this.Zb=-this.Qn*(o+function(s,a){for(var K,r=2*Math.cos(a),o=s.length-1,h=s[o],E=0;--o>=0;)K=r*h-E+s[o],E=h,h=K;return Math.sin(a)*K}(this.gtu,2*o))},forward:function(s){var a=cr(s.x-this.long0),r=s.y;r=Mu(this.cbg,r);var o=Math.sin(r),h=Math.cos(r),E=Math.sin(a),K=Math.cos(a);r=Math.atan2(o,K*h),a=Math.atan2(E*h,Ja(o,h*K)),a=function(s){var a=Math.abs(s);return a=function(s){var a=1+s,r=a-1;return 0===r?s:s*Math.log(a)/r}(a*(1+a/(Ja(1,a)+1))),s<0?-a:a}(Math.tan(a));var me,Me,J=lc(this.gtu,2*r,2*a);return r+=J[0],a+=J[1],Math.abs(a)<=2.623395162778?(me=this.a*(this.Qn*a)+this.x0,Me=this.a*(this.Qn*r+this.Zb)+this.y0):(me=1/0,Me=1/0),s.x=me,s.y=Me,s},inverse:function(s){var o,h,a=1/this.a*(s.x-this.x0),r=1/this.a*(s.y-this.y0);if(r=(r-this.Zb)/this.Qn,a/=this.Qn,Math.abs(a)<=2.623395162778){var E=lc(this.utg,2*r,2*a);r+=E[0],a+=E[1],a=Math.atan(Du(a));var K=Math.sin(r),J=Math.cos(r),me=Math.sin(a),Me=Math.cos(a);r=Math.atan2(K*Me,Ja(me,Me*J)),o=cr((a=Math.atan2(me,Me*J))+this.long0),h=Mu(this.cgb,r)}else o=1/0,h=1/0;return s.x=o,s.y=h,s},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},td={init:function(){var s=function(s,a){if(void 0===s){if((s=Math.floor(30*(cr(a)+Math.PI)/Math.PI)+1)<0)return 0;if(s>60)return 60}return s}(this.zone,this.long0);if(void 0===s)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(s)-183)*Yr,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ou.init.apply(this),this.forward=Ou.forward,this.inverse=Ou.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function ql(s,a){return Math.pow((1-s)/(1+s),a)}const Iu={init:function(){var s=Math.sin(this.lat0),a=Math.cos(this.lat0);a*=a,this.rc=Math.sqrt(1-this.es)/(1-this.es*s*s),this.C=Math.sqrt(1+this.es*a*a/(1-this.es)),this.phic0=Math.asin(s/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+yi)/(Math.pow(Math.tan(.5*this.lat0+yi),this.C)*ql(this.e*s,this.ratexp))},forward:function(s){var a=s.x,r=s.y;return s.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+yi),this.C)*ql(this.e*Math.sin(r),this.ratexp))-rt,s.x=this.C*a,s},inverse:function(s){for(var r=s.x/this.C,o=s.y,h=Math.pow(Math.tan(.5*o+yi)/this.K,1/this.C),E=20;E>0&&(o=2*Math.atan(h*ql(this.e*Math.sin(s.y),-.5*this.e))-rt,!(Math.abs(o-s.y)<1e-14));--E)s.y=o;return E?(s.x=r,s.y=o,s):null},names:["gauss"]},Pu={init:function(){Iu.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(s){var a,r,o,h;return s.x=cr(s.x-this.long0),Iu.forward.apply(this,[s]),a=Math.sin(s.y),r=Math.cos(s.y),o=Math.cos(s.x),s.x=(h=this.k0*this.R2/(1+this.sinc0*a+this.cosc0*r*o))*r*Math.sin(s.x),s.y=h*(this.cosc0*a-this.sinc0*r*o),s.x=this.a*s.x+this.x0,s.y=this.a*s.y+this.y0,s},inverse:function(s){var a,r,o,h,E;if(s.x=(s.x-this.x0)/this.a,s.y=(s.y-this.y0)/this.a,s.x/=this.k0,s.y/=this.k0,E=Math.sqrt(s.x*s.x+s.y*s.y)){var K=2*Math.atan2(E,this.R2);a=Math.sin(K),r=Math.cos(K),h=Math.asin(r*this.sinc0+s.y*a*this.cosc0/E),o=Math.atan2(s.x*a,E*this.cosc0*r-s.y*this.sinc0*a)}else h=this.phic0,o=0;return s.x=o,s.y=h,Iu.inverse.apply(this,[s]),s.x=cr(s.x+this.long0),s},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},cf={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Tn&&(this.k0=.5*(1+pl(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Tn&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Tn&&(this.k0=.5*this.cons*oa(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/fs(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=oa(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-rt,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(s){var E,K,J,me,Me,We,a=s.x,r=s.y,o=Math.sin(r),h=Math.cos(r),tt=cr(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=Tn&&Math.abs(r+this.lat0)<=Tn?(s.x=NaN,s.y=NaN,s):this.sphere?(E=2*this.k0/(1+this.sinlat0*o+this.coslat0*h*Math.cos(tt)),s.x=this.a*E*h*Math.sin(tt)+this.x0,s.y=this.a*E*(this.coslat0*o-this.sinlat0*h*Math.cos(tt))+this.y0,s):(K=2*Math.atan(this.ssfn_(r,o,this.e))-rt,me=Math.cos(K),J=Math.sin(K),Math.abs(this.coslat0)<=Tn?(Me=fs(this.e,r*this.con,this.con*o),s.x=this.x0+(We=2*this.a*this.k0*Me/this.cons)*Math.sin(a-this.long0),s.y=this.y0-this.con*We*Math.cos(a-this.long0),s):(Math.abs(this.sinlat0)<Tn?(E=2*this.a*this.k0/(1+me*Math.cos(tt)),s.y=E*J):(E=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*J+this.cosX0*me*Math.cos(tt))),s.y=E*(this.cosX0*J-this.sinX0*me*Math.cos(tt))+this.y0),s.x=E*me*Math.sin(tt)+this.x0,s))},inverse:function(s){s.x-=this.x0,s.y-=this.y0;var a,r,h,E,K=Math.sqrt(s.x*s.x+s.y*s.y);if(this.sphere){var J=2*Math.atan(K/(2*this.a*this.k0));return a=this.long0,r=this.lat0,K<=Tn?(s.x=a,s.y=r,s):(r=Math.asin(Math.cos(J)*this.sinlat0+s.y*Math.sin(J)*this.coslat0/K),a=Math.abs(this.coslat0)<Tn?cr(this.lat0>0?this.long0+Math.atan2(s.x,-1*s.y):this.long0+Math.atan2(s.x,s.y)):cr(this.long0+Math.atan2(s.x*Math.sin(J),K*this.coslat0*Math.cos(J)-s.y*this.sinlat0*Math.sin(J))),s.x=a,s.y=r,s)}if(Math.abs(this.coslat0)<=Tn){if(K<=Tn)return r=this.lat0,s.x=a=this.long0,s.y=r,s;s.x*=this.con,s.y*=this.con,r=this.con*Xo(this.e,K*this.cons/(2*this.a*this.k0)),a=this.con*cr(this.con*this.long0+Math.atan2(s.x,-1*s.y))}else h=2*Math.atan(K*this.cosX0/(2*this.a*this.k0*this.ms1)),a=this.long0,K<=Tn?E=this.X0:(E=Math.asin(Math.cos(h)*this.sinX0+s.y*Math.sin(h)*this.cosX0/K),a=cr(this.long0+Math.atan2(s.x*Math.sin(h),K*this.cosX0*Math.cos(h)-s.y*this.sinX0*Math.sin(h)))),r=-1*Xo(this.e,Math.tan(.5*(rt+E)));return s.x=a,s.y=r,s},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(s,a,r){return a*=r,Math.tan(.5*(rt+s))*Math.pow((1-a)/(1+a),.5*r)}},ld={init:function(){var s=this.lat0;this.lambda0=this.long0;var a=Math.sin(s),r=this.a,h=1/this.rf,E=2*h-Math.pow(h,2),K=this.e=Math.sqrt(E);this.R=this.k0*r*Math.sqrt(1-E)/(1-E*Math.pow(a,2)),this.alpha=Math.sqrt(1+E/(1-E)*Math.pow(Math.cos(s),4)),this.b0=Math.asin(a/this.alpha);var J=Math.log(Math.tan(Math.PI/4+this.b0/2)),me=Math.log(Math.tan(Math.PI/4+s/2)),Me=Math.log((1+K*a)/(1-K*a));this.K=J-this.alpha*me+this.alpha*K/2*Me},forward:function(s){var a=Math.log(Math.tan(Math.PI/4-s.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(s.y))/(1-this.e*Math.sin(s.y))),h=2*(Math.atan(Math.exp(-this.alpha*(a+r)+this.K))-Math.PI/4),E=this.alpha*(s.x-this.lambda0),K=Math.atan(Math.sin(E)/(Math.sin(this.b0)*Math.tan(h)+Math.cos(this.b0)*Math.cos(E))),J=Math.asin(Math.cos(this.b0)*Math.sin(h)-Math.sin(this.b0)*Math.cos(h)*Math.cos(E));return s.y=this.R/2*Math.log((1+Math.sin(J))/(1-Math.sin(J)))+this.y0,s.x=this.R*K+this.x0,s},inverse:function(s){for(var o=(s.x-this.x0)/this.R,h=2*(Math.atan(Math.exp((s.y-this.y0)/this.R))-Math.PI/4),E=Math.asin(Math.cos(this.b0)*Math.sin(h)+Math.sin(this.b0)*Math.cos(h)*Math.cos(o)),K=Math.atan(Math.sin(o)/(Math.cos(this.b0)*Math.cos(o)-Math.sin(this.b0)*Math.tan(h))),J=this.lambda0+K/this.alpha,me=0,Me=E,We=-1e3,tt=0;Math.abs(Me-We)>1e-7;){if(++tt>20)return;me=1/this.alpha*(Math.log(Math.tan(Math.PI/4+E/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(Me))/2)),We=Me,Me=2*Math.atan(Math.exp(me))-Math.PI/2}return s.x=J,s.y=Me,s},names:["somerc"]};var Dl=1e-7;const Dh={init:function(){var s,a,r,o,h,E,K,J,me,Me,tt,We=0,wt=0,Mt=0,Bt=0,Jt=0,Dn=0,qn=0;this.no_off=function(s){var r="object"==typeof s.PROJECTION?Object.keys(s.PROJECTION)[0]:s.PROJECTION;return"no_uoff"in s||"no_off"in s||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(r)}(this),this.no_rot="no_rot"in this;var Pr=!1;"alpha"in this&&(Pr=!0);var Kr=!1;if("rectified_grid_angle"in this&&(Kr=!0),Pr&&(qn=this.alpha),Kr&&(We=this.rectified_grid_angle*Yr),Pr||Kr)wt=this.longc;else if(Mt=this.long1,Jt=this.lat1,Bt=this.long2,Dn=this.lat2,Math.abs(Jt-Dn)<=Dl||(s=Math.abs(Jt))<=Dl||Math.abs(s-rt)<=Dl||Math.abs(Math.abs(this.lat0)-rt)<=Dl||Math.abs(Math.abs(Dn)-rt)<=Dl)throw new Error;var ti=1-this.es;a=Math.sqrt(ti),Math.abs(this.lat0)>Tn?(J=Math.sin(this.lat0),r=Math.cos(this.lat0),s=1-this.es*J*J,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/ti),this.A=this.B*this.k0*a/s,(h=(o=this.B*a/(r*Math.sqrt(s)))*o-1)<=0?h=0:(h=Math.sqrt(h),this.lat0<0&&(h=-h)),this.E=h+=o,this.E*=Math.pow(fs(this.e,this.lat0,J),this.B)):(this.B=1/a,this.A=this.k0,this.E=o=h=1),Pr||Kr?(Pr?(tt=Math.asin(Math.sin(qn)/o),Kr||(We=qn)):(tt=We,qn=Math.asin(o*Math.sin(tt))),this.lam0=wt-Math.asin(.5*(h-1/h)*Math.tan(tt))/this.B):(E=Math.pow(fs(this.e,Jt,Math.sin(Jt)),this.B),K=Math.pow(fs(this.e,Dn,Math.sin(Dn)),this.B),h=this.E/E,me=(K-E)/(K+E),Me=((Me=this.E*this.E)-K*E)/(Me+K*E),(s=Mt-Bt)<-Math.pi?Bt-=Co:s>Math.pi&&(Bt+=Co),this.lam0=cr(.5*(Mt+Bt)-Math.atan(Me*Math.tan(.5*this.B*(Mt-Bt))/me)/this.B),tt=Math.atan(2*Math.sin(this.B*cr(Mt-this.lam0))/(h-1/h)),We=qn=Math.asin(o*Math.sin(tt))),this.singam=Math.sin(tt),this.cosgam=Math.cos(tt),this.sinrot=Math.sin(We),this.cosrot=Math.cos(We),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(o*o-1)/Math.cos(qn))),this.lat0<0&&(this.u_0=-this.u_0)),h=.5*tt,this.v_pole_n=this.ArB*Math.log(Math.tan(yi-h)),this.v_pole_s=this.ArB*Math.log(Math.tan(yi+h))},forward:function(s){var r,o,h,E,K,J,me,Me,a={};if(s.x=s.x-this.lam0,Math.abs(Math.abs(s.y)-rt)>Tn){if(r=.5*((K=this.E/Math.pow(fs(this.e,s.y,Math.sin(s.y)),this.B))-(J=1/K)),o=.5*(K+J),E=Math.sin(this.B*s.x),h=(r*this.singam-E*this.cosgam)/o,Math.abs(Math.abs(h)-1)<Tn)throw new Error;Me=.5*this.ArB*Math.log((1-h)/(1+h)),J=Math.cos(this.B*s.x),me=Math.abs(J)<Dl?this.A*s.x:this.ArB*Math.atan2(r*this.cosgam+E*this.singam,J)}else Me=s.y>0?this.v_pole_n:this.v_pole_s,me=this.ArB*s.y;return this.no_rot?(a.x=me,a.y=Me):(a.x=Me*this.cosrot+(me-=this.u_0)*this.sinrot,a.y=me*this.cosrot-Me*this.sinrot),a.x=this.a*a.x+this.x0,a.y=this.a*a.y+this.y0,a},inverse:function(s){var a,r,o,h,E,K,J,me={};if(s.x=1/this.a*(s.x-this.x0),s.y=1/this.a*(s.y-this.y0),this.no_rot?(r=s.y,a=s.x):(r=s.x*this.cosrot-s.y*this.sinrot,a=s.y*this.cosrot+s.x*this.sinrot+this.u_0),h=.5*((o=Math.exp(-this.BrA*r))-1/o),E=.5*(o+1/o),J=((K=Math.sin(this.BrA*a))*this.cosgam+h*this.singam)/E,Math.abs(Math.abs(J)-1)<Tn)me.x=0,me.y=J<0?-rt:rt;else{if(me.y=this.E/Math.sqrt((1+J)/(1-J)),me.y=Xo(this.e,Math.pow(me.y,1/this.B)),me.y===1/0)throw new Error;me.x=-this.rB*Math.atan2(h*this.cosgam-K*this.singam,Math.cos(this.BrA*a))}return me.x+=this.lam0,me},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},mc={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Tn)){var s=this.b/this.a;this.e=Math.sqrt(1-s*s);var a=Math.sin(this.lat1),r=Math.cos(this.lat1),o=oa(this.e,a,r),h=fs(this.e,this.lat1,a),E=Math.sin(this.lat2),K=Math.cos(this.lat2),J=oa(this.e,E,K),me=fs(this.e,this.lat2,E),Me=fs(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>Tn?Math.log(o/J)/Math.log(h/me):a,isNaN(this.ns)&&(this.ns=a),this.f0=o/(this.ns*Math.pow(h,this.ns)),this.rh=this.a*this.f0*Math.pow(Me,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(s){var a=s.x,r=s.y;Math.abs(2*Math.abs(r)-Math.PI)<=Tn&&(r=pl(r)*(rt-2*Tn));var h,E,o=Math.abs(Math.abs(r)-rt);if(o>Tn)h=fs(this.e,r,Math.sin(r)),E=this.a*this.f0*Math.pow(h,this.ns);else{if((o=r*this.ns)<=0)return null;E=0}var K=this.ns*cr(a-this.long0);return s.x=this.k0*(E*Math.sin(K))+this.x0,s.y=this.k0*(this.rh-E*Math.cos(K))+this.y0,s},inverse:function(s){var a,r,o,h,E,K=(s.x-this.x0)/this.k0,J=this.rh-(s.y-this.y0)/this.k0;this.ns>0?(a=Math.sqrt(K*K+J*J),r=1):(a=-Math.sqrt(K*K+J*J),r=-1);var me=0;if(0!==a&&(me=Math.atan2(r*K,r*J)),0!==a||this.ns>0){if(r=1/this.ns,o=Math.pow(a/(this.a*this.f0),r),-9999===(h=Xo(this.e,o)))return null}else h=-rt;return E=cr(me/this.ns+this.long0),s.x=E,s.y=h,s},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]},hf={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(s){var a,r,o,h,E,K,J,Me=s.y,We=cr(s.x-this.long0);return a=Math.pow((1+this.e*Math.sin(Me))/(1-this.e*Math.sin(Me)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(Me/2+this.s45),this.alfa)/a)-this.s45),o=-We*this.alfa,h=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(o)),E=Math.asin(Math.cos(r)*Math.sin(o)/Math.cos(h)),K=this.n*E,J=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(h/2+this.s45),this.n),s.y=J*Math.cos(K)/1,s.x=J*Math.sin(K)/1,this.czech||(s.y*=-1,s.x*=-1),s},inverse:function(s){var a,r,o,h,K,J,me,Me=s.x;s.x=s.y,s.y=Me,this.czech||(s.y*=-1,s.x*=-1),K=Math.sqrt(s.x*s.x+s.y*s.y),h=Math.atan2(s.y,s.x)/Math.sin(this.s0),o=2*(Math.atan(Math.pow(this.ro0/K,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),a=Math.asin(Math.cos(this.ad)*Math.sin(o)-Math.sin(this.ad)*Math.cos(o)*Math.cos(h)),r=Math.asin(Math.cos(o)*Math.sin(h)/Math.cos(a)),s.x=this.long0-r/this.alfa,J=a,me=0;var We=0;do{s.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(a/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(J))/(1-this.e*Math.sin(J)),this.e/2))-this.s45),Math.abs(J-s.y)<1e-10&&(me=1),J=s.y,We+=1}while(0===me&&We<15);return We>=15?null:s},names:["Krovak","krovak"]};function Wo(s,a,r,o,h){return s*h-a*Math.sin(2*h)+r*Math.sin(4*h)-o*Math.sin(6*h)}function ku(s){return 1-.25*s*(1+s/16*(3+1.25*s))}function us(s){return.375*s*(1+.25*s*(1+.46875*s))}function aa(s){return.05859375*s*s*(1+.75*s)}function Ks(s){return s*s*s*(35/3072)}function la(s,a,r){var o=a*r;return s/Math.sqrt(1-o*o)}function ua(s){return Math.abs(s)<rt?s:s-pl(s)*Math.PI}function jr(s,a,r,o,h){var E,K;E=s/a;for(var J=0;J<15;J++)if(E+=K=(s-(a*E-r*Math.sin(2*E)+o*Math.sin(4*E)-h*Math.sin(6*E)))/(a-2*r*Math.cos(2*E)+4*o*Math.cos(4*E)-6*h*Math.cos(6*E)),Math.abs(K)<=1e-10)return E;return NaN}const pd={init:function(){this.sphere||(this.e0=ku(this.es),this.e1=us(this.es),this.e2=aa(this.es),this.e3=Ks(this.es),this.ml0=this.a*Wo(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(s){var a,r,o=s.x,h=s.y;if(o=cr(o-this.long0),this.sphere)a=this.a*Math.asin(Math.cos(h)*Math.sin(o)),r=this.a*(Math.atan2(Math.tan(h),Math.cos(o))-this.lat0);else{var E=Math.sin(h),K=Math.cos(h),J=la(this.a,this.e,E),me=Math.tan(h)*Math.tan(h),Me=o*Math.cos(h),We=Me*Me,tt=this.es*K*K/(1-this.es);a=J*Me*(1-We*me*(1/6-(8-me+8*tt)*We/120)),r=this.a*Wo(this.e0,this.e1,this.e2,this.e3,h)-this.ml0+J*E/K*We*(.5+(5-me+6*tt)*We/24)}return s.x=a+this.x0,s.y=r+this.y0,s},inverse:function(s){s.x-=this.x0,s.y-=this.y0;var o,h,a=s.x/this.a,r=s.y/this.a;if(this.sphere){var E=r+this.lat0;o=Math.asin(Math.sin(E)*Math.cos(a)),h=Math.atan2(Math.tan(a),Math.cos(E))}else{var J=jr(this.ml0/this.a+r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(J)-rt)<=Tn)return s.x=this.long0,s.y=rt,r<0&&(s.y*=-1),s;var me=la(this.a,this.e,Math.sin(J)),Me=me*me*me/this.a/this.a*(1-this.es),We=Math.pow(Math.tan(J),2),tt=a*this.a/me,wt=tt*tt;o=J-me*Math.tan(J)/Me*tt*tt*(.5-(1+3*We)*tt*tt/24),h=tt*(1-wt*(We/3+(1+3*We)*We*wt/15))/Math.cos(J)}return s.x=cr(h+this.long0),s.y=ua(o),s},names:["Cassini","Cassini_Soldner","cass"]};function ca(s,a){var r;return s>1e-7?(1-s*s)*(a/(1-(r=s*a)*r)-.5/s*Math.log((1-r)/(1+r))):2*a}const Ec={init:function(){var a,s=Math.abs(this.lat0);if(this.mode=Math.abs(s-rt)<Tn?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(s)<Tn?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=ca(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(s){var a,r=[];return r[0]=.3333333333333333*s,r[0]+=.17222222222222222*(a=s*s),r[1]=.06388888888888888*a,r[0]+=.10257936507936508*(a*=s),r[1]+=.0664021164021164*a,r[2]=.016415012942191543*a,r}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),a=Math.sin(this.lat0),this.sinb1=ca(this.e,a)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*a*a)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(s){var a,r,o,h,E,K,J,me,Me,We,tt=s.x,wt=s.y;if(tt=cr(tt-this.long0),this.sphere){if(E=Math.sin(wt),We=Math.cos(wt),o=Math.cos(tt),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+We*o:1+this.sinph0*E+this.cosph0*We*o)<=Tn)return null;a=(r=Math.sqrt(2/r))*We*Math.sin(tt),r*=this.mode===this.EQUIT?E:this.cosph0*E-this.sinph0*We*o}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(o=-o),Math.abs(wt+this.lat0)<Tn)return null;r=yi-.5*wt,a=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(tt),r*=o}}else{switch(J=0,me=0,Me=0,o=Math.cos(tt),h=Math.sin(tt),E=Math.sin(wt),K=ca(this.e,E),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(J=K/this.qp,me=Math.sqrt(1-J*J)),this.mode){case this.OBLIQ:Me=1+this.sinb1*J+this.cosb1*me*o;break;case this.EQUIT:Me=1+me*o;break;case this.N_POLE:Me=rt+wt,K=this.qp-K;break;case this.S_POLE:Me=wt-rt,K=this.qp+K}if(Math.abs(Me)<Tn)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:Me=Math.sqrt(2/Me),r=this.mode===this.OBLIQ?this.ymf*Me*(this.cosb1*J-this.sinb1*me*o):(Me=Math.sqrt(2/(1+me*o)))*J*this.ymf,a=this.xmf*Me*me*h;break;case this.N_POLE:case this.S_POLE:K>=0?(a=(Me=Math.sqrt(K))*h,r=o*(this.mode===this.S_POLE?Me:-Me)):a=r=0}}return s.x=this.a*a+this.x0,s.y=this.a*r+this.y0,s},inverse:function(s){s.x-=this.x0,s.y-=this.y0;var o,h,E,K,J,me,Me,a=s.x/this.a,r=s.y/this.a;if(this.sphere){var tt,We=0,wt=0;if((h=.5*(tt=Math.sqrt(a*a+r*r)))>1)return null;switch(h=2*Math.asin(h),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(wt=Math.sin(h),We=Math.cos(h)),this.mode){case this.EQUIT:h=Math.abs(tt)<=Tn?0:Math.asin(r*wt/tt),a*=wt,r=We*tt;break;case this.OBLIQ:h=Math.abs(tt)<=Tn?this.lat0:Math.asin(We*this.sinph0+r*wt*this.cosph0/tt),a*=wt*this.cosph0,r=(We-Math.sin(h)*this.sinph0)*tt;break;case this.N_POLE:r=-r,h=rt-h;break;case this.S_POLE:h-=rt}o=0!==r||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(a,r):0}else{if(Me=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(a/=this.dd,r*=this.dd,(me=Math.sqrt(a*a+r*r))<Tn)return s.x=this.long0,s.y=this.lat0,s;K=2*Math.asin(.5*me/this.rq),E=Math.cos(K),a*=K=Math.sin(K),this.mode===this.OBLIQ?(J=this.qp*(Me=E*this.sinb1+r*K*this.cosb1/me),r=me*this.cosb1*E-r*this.sinb1*K):(J=this.qp*(Me=r*K/me),r=me*E)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),!(J=a*a+r*r))return s.x=this.long0,s.y=this.lat0,s;Me=1-J/this.qp,this.mode===this.S_POLE&&(Me=-Me)}o=Math.atan2(a,r),h=function(s,a){var r=s+s;return s+a[0]*Math.sin(r)+a[1]*Math.sin(r+r)+a[2]*Math.sin(r+r+r)}(Math.asin(Me),this.apa)}return s.x=cr(this.long0+o),s.y=h,s},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function As(s){return Math.abs(s)>1&&(s=s>1?1:-1),Math.asin(s)}const Nu={init:function(){Math.abs(this.lat1+this.lat2)<Tn||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=oa(this.e3,this.sin_po,this.cos_po),this.qs1=ca(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=oa(this.e3,this.sin_po,this.cos_po),this.qs2=ca(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ca(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>Tn?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(s){var a=s.x,r=s.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var o=ca(this.e3,this.sin_phi),h=this.a*Math.sqrt(this.c-this.ns0*o)/this.ns0,E=this.ns0*cr(a-this.long0),K=h*Math.sin(E)+this.x0,J=this.rh-h*Math.cos(E)+this.y0;return s.x=K,s.y=J,s},inverse:function(s){var a,o,h,E,K;return s.x-=this.x0,s.y=this.rh-s.y+this.y0,this.ns0>=0?(a=Math.sqrt(s.x*s.x+s.y*s.y),o=1):(a=-Math.sqrt(s.x*s.x+s.y*s.y),o=-1),h=0,0!==a&&(h=Math.atan2(o*s.x,o*s.y)),o=a*this.ns0/this.a,K=this.sphere?Math.asin((this.c-o*o)/(2*this.ns0)):this.phi1z(this.e3,(this.c-o*o)/this.ns0),E=cr(h/this.ns0+this.long0),s.x=E,s.y=K,s},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(s,a){var r,h,E,K,J=As(.5*a);if(s<Tn)return J;for(var me=s*s,Me=1;Me<=25;Me++)if(J+=K=.5*(E=1-(h=s*(r=Math.sin(J)))*h)*E/Math.cos(J)*(a/(1-me)-r/E+.5/s*Math.log((1-h)/(1+h))),Math.abs(K)<=1e-7)return J;return null}},ju={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(s){var a,r,o,h,K,J,me,We=s.y;return o=cr(s.x-this.long0),a=Math.sin(We),r=Math.cos(We),h=Math.cos(o),(K=this.sin_p14*a+this.cos_p14*r*h)>0||Math.abs(K)<=Tn?(J=this.x0+1*this.a*r*Math.sin(o)/K,me=this.y0+1*this.a*(this.cos_p14*a-this.sin_p14*r*h)/K):(J=this.x0+this.infinity_dist*r*Math.sin(o),me=this.y0+this.infinity_dist*(this.cos_p14*a-this.sin_p14*r*h)),s.x=J,s.y=me,s},inverse:function(s){var a,r,o,h,E,K;return s.x=(s.x-this.x0)/this.a,s.y=(s.y-this.y0)/this.a,s.x/=this.k0,s.y/=this.k0,(a=Math.sqrt(s.x*s.x+s.y*s.y))?(h=Math.atan2(a,this.rc),r=Math.sin(h),K=As((o=Math.cos(h))*this.sin_p14+s.y*r*this.cos_p14/a),E=Math.atan2(s.x*r,a*this.cos_p14*o-s.y*this.sin_p14*r),E=cr(this.long0+E)):(K=this.phic0,E=0),s.x=E,s.y=K,s},names:["gnom"]},Rh={init:function(){this.sphere||(this.k0=oa(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(s){var o,h,r=s.y,E=cr(s.x-this.long0);if(this.sphere)o=this.x0+this.a*E*Math.cos(this.lat_ts),h=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var K=ca(this.e,Math.sin(r));o=this.x0+this.a*this.k0*E,h=this.y0+this.a*K*.5/this.k0}return s.x=o,s.y=h,s},inverse:function(s){var a,r;return s.x-=this.x0,s.y-=this.y0,this.sphere?(a=cr(this.long0+s.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(s.y/this.a*Math.cos(this.lat_ts))):(r=function(s,a){var r=1-(1-s*s)/(2*s)*Math.log((1-s)/(1+s));if(Math.abs(Math.abs(a)-r)<1e-6)return a<0?-1*rt:rt;for(var h,E,K,J,o=Math.asin(.5*a),me=0;me<30;me++)if(E=Math.sin(o),K=Math.cos(o),J=s*E,o+=h=Math.pow(1-J*J,2)/(2*K)*(a/(1-s*s)-E/(1-J*J)+.5/s*Math.log((1-J)/(1+J))),Math.abs(h)<=1e-10)return o;return NaN}(this.e,2*s.y*this.k0/this.a),a=cr(this.long0+s.x/(this.a*this.k0))),s.x=a,s.y=r,s},names:["cea"]},kh={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(s){var r=s.y,o=cr(s.x-this.long0),h=ua(r-this.lat0);return s.x=this.x0+this.a*o*this.rc,s.y=this.y0+this.a*h,s},inverse:function(s){var r=s.y;return s.x=cr(this.long0+(s.x-this.x0)/(this.a*this.rc)),s.y=ua(this.lat0+(r-this.y0)/this.a),s},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Sd={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ku(this.es),this.e1=us(this.es),this.e2=aa(this.es),this.e3=Ks(this.es),this.ml0=this.a*Wo(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(s){var o,h,E,r=s.y,K=cr(s.x-this.long0);if(E=K*Math.sin(r),this.sphere)Math.abs(r)<=Tn?(o=this.a*K,h=-1*this.a*this.lat0):(o=this.a*Math.sin(E)/Math.tan(r),h=this.a*(ua(r-this.lat0)+(1-Math.cos(E))/Math.tan(r)));else if(Math.abs(r)<=Tn)o=this.a*K,h=-1*this.ml0;else{var J=la(this.a,this.e,Math.sin(r))/Math.tan(r);o=J*Math.sin(E),h=this.a*Wo(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+J*(1-Math.cos(E))}return s.x=o+this.x0,s.y=h+this.y0,s},inverse:function(s){var a,r,o,h,E,K,J,me,Me;if(o=s.x-this.x0,h=s.y-this.y0,this.sphere)if(Math.abs(h+this.a*this.lat0)<=Tn)a=cr(o/this.a+this.long0),r=0;else{var We;for(J=o*o/this.a/this.a+(K=this.lat0+h/this.a)*K,me=K,E=20;E;--E)if(me+=Me=-1*(K*(me*(We=Math.tan(me))+1)-me-.5*(me*me+J)*We)/((me-K)/We-1),Math.abs(Me)<=Tn){r=me;break}a=cr(this.long0+Math.asin(o*Math.tan(me)/this.a)/Math.sin(r))}else if(Math.abs(h+this.ml0)<=Tn)r=0,a=cr(this.long0+o/this.a);else{var tt,wt,Mt,Bt,Jt;for(J=o*o/this.a/this.a+(K=(this.ml0+h)/this.a)*K,me=K,E=20;E;--E)if(Jt=this.e*Math.sin(me),tt=Math.sqrt(1-Jt*Jt)*Math.tan(me),wt=this.a*Wo(this.e0,this.e1,this.e2,this.e3,me),Mt=this.e0-2*this.e1*Math.cos(2*me)+4*this.e2*Math.cos(4*me)-6*this.e3*Math.cos(6*me),me-=Me=(K*(tt*(Bt=wt/this.a)+1)-Bt-.5*tt*(Bt*Bt+J))/(this.es*Math.sin(2*me)*(Bt*Bt+J-2*K*Bt)/(4*tt)+(K-Bt)*(tt*Mt-2/Math.sin(2*me))-Mt),Math.abs(Me)<=Tn){r=me;break}tt=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),a=cr(this.long0+Math.asin(o*tt/this.a)/Math.sin(r))}return s.x=a,s.y=r,s},names:["Polyconic","poly"]},Nh={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(s){var a,K=(s.y-this.lat0)/yt*1e-5,J=s.x-this.long0,me=1,Me=0;for(a=1;a<=10;a++)Me+=this.A[a]*(me*=K);var Jt,We=Me,tt=J,wt=1,Mt=0,Dn=0,qn=0;for(a=1;a<=6;a++)Jt=Mt*We+wt*tt,Dn=Dn+this.B_re[a]*(wt=wt*We-Mt*tt)-this.B_im[a]*(Mt=Jt),qn=qn+this.B_im[a]*wt+this.B_re[a]*Mt;return s.x=qn*this.a+this.x0,s.y=Dn*this.a+this.y0,s},inverse:function(s){var a,tt,K=(s.y-this.y0)/this.a,J=(s.x-this.x0)/this.a,me=1,Me=0,wt=0,Mt=0;for(a=1;a<=6;a++)tt=Me*K+me*J,wt=wt+this.C_re[a]*(me=me*K-Me*J)-this.C_im[a]*(Me=tt),Mt=Mt+this.C_im[a]*me+this.C_re[a]*Me;for(var Bt=0;Bt<this.iterations;Bt++){var sr,Jt=wt,Dn=Mt,Pr=K,Kr=J;for(a=2;a<=6;a++)sr=Dn*wt+Jt*Mt,Pr+=(a-1)*(this.B_re[a]*(Jt=Jt*wt-Dn*Mt)-this.B_im[a]*(Dn=sr)),Kr+=(a-1)*(this.B_im[a]*Jt+this.B_re[a]*Dn);Jt=1,Dn=0;var ti=this.B_re[1],ii=this.B_im[1];for(a=2;a<=6;a++)sr=Dn*wt+Jt*Mt,ti+=a*(this.B_re[a]*(Jt=Jt*wt-Dn*Mt)-this.B_im[a]*(Dn=sr)),ii+=a*(this.B_im[a]*Jt+this.B_re[a]*Dn);var Hi=ti*ti+ii*ii;wt=(Pr*ti+Kr*ii)/Hi,Mt=(Kr*ti-Pr*ii)/Hi}var Ii=wt,_o=Mt,Zo=1,ps=0;for(a=1;a<=9;a++)ps+=this.D[a]*(Zo*=Ii);var Bo=this.lat0+ps*yt*1e5;return s.x=this.long0+_o,s.y=Bo,s},names:["New_Zealand_Map_Grid","nzmg"]},Y={init:function(){},forward:function(s){var r=s.y,o=cr(s.x-this.long0),h=this.x0+this.a*o,E=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return s.x=h,s.y=E,s},inverse:function(s){s.x-=this.x0,s.y-=this.y0;var a=cr(this.long0+s.x/this.a),r=2.5*(Math.atan(Math.exp(.8*s.y/this.a))-Math.PI/4);return s.x=a,s.y=r,s},names:["Miller_Cylindrical","mill"]},mt={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=yh(this.es)},forward:function(s){var a,r,o=s.x,h=s.y;if(o=cr(o-this.long0),this.sphere){if(this.m)for(var E=this.n*Math.sin(h),K=20;K;--K){var J=(this.m*h+Math.sin(h)-E)/(this.m+Math.cos(h));if(h-=J,Math.abs(J)<Tn)break}else h=1!==this.n?Math.asin(this.n*Math.sin(h)):h;a=this.a*this.C_x*o*(this.m+Math.cos(h)),r=this.a*this.C_y*h}else{var me=Math.sin(h),Me=Math.cos(h);r=this.a*wl(h,me,Me,this.en),a=this.a*o*Me/Math.sqrt(1-this.es*me*me)}return s.x=a,s.y=r,s},inverse:function(s){var a,o,h;return s.x-=this.x0,o=s.x/this.a,s.y-=this.y0,a=s.y/this.a,this.sphere?(a/=this.C_y,o/=this.C_x*(this.m+Math.cos(a)),this.m?a=As((this.m*a+Math.sin(a))/this.n):1!==this.n&&(a=As(Math.sin(a)/this.n)),o=cr(o+this.long0),a=ua(a)):(a=sc(s.y/this.a,this.es,this.en),(h=Math.abs(a))<rt?(h=Math.sin(a),o=cr(this.long0+s.x*Math.sqrt(1-this.es*h*h)/(this.a*Math.cos(a)))):h-Tn<rt&&(o=this.long0)),s.x=o,s.y=a,s},names:["Sinusoidal","sinu"]},tn={init:function(){},forward:function(s){for(var r=s.y,o=cr(s.x-this.long0),h=r,E=Math.PI*Math.sin(r);;){var K=-(h+Math.sin(h)-E)/(1+Math.cos(h));if(h+=K,Math.abs(K)<Tn)break}h/=2,Math.PI/2-Math.abs(r)<Tn&&(o=0);var J=.900316316158*this.a*o*Math.cos(h)+this.x0,me=1.4142135623731*this.a*Math.sin(h)+this.y0;return s.x=J,s.y=me,s},inverse:function(s){var a,r;s.x-=this.x0,s.y-=this.y0,r=s.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),a=Math.asin(r);var o=cr(this.long0+s.x/(.900316316158*this.a*Math.cos(a)));o<-Math.PI&&(o=-Math.PI),o>Math.PI&&(o=Math.PI),r=(2*a+Math.sin(2*a))/Math.PI,Math.abs(r)>1&&(r=1);var h=Math.asin(r);return s.x=o,s.y=h,s},names:["Mollweide","moll"]},Ln={init:function(){Math.abs(this.lat1+this.lat2)<Tn||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ku(this.es),this.e1=us(this.es),this.e2=aa(this.es),this.e3=Ks(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=oa(this.e,this.sinphi,this.cosphi),this.ml1=Wo(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Tn?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=oa(this.e,this.sinphi,this.cosphi),this.ml2=Wo(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Wo(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(s){var o,a=s.x,r=s.y;if(this.sphere)o=this.a*(this.g-r);else{var h=Wo(this.e0,this.e1,this.e2,this.e3,r);o=this.a*(this.g-h)}var E=this.ns*cr(a-this.long0),K=this.x0+o*Math.sin(E),J=this.y0+this.rh-o*Math.cos(E);return s.x=K,s.y=J,s},inverse:function(s){var a,r,o,h;s.x-=this.x0,s.y=this.rh-s.y+this.y0,this.ns>=0?(r=Math.sqrt(s.x*s.x+s.y*s.y),a=1):(r=-Math.sqrt(s.x*s.x+s.y*s.y),a=-1);var E=0;return 0!==r&&(E=Math.atan2(a*s.x,a*s.y)),this.sphere?(h=cr(this.long0+E/this.ns),o=ua(this.g-r/this.a),s.x=h,s.y=o,s):(o=jr(this.g-r/this.a,this.e0,this.e1,this.e2,this.e3),h=cr(this.long0+E/this.ns),s.x=h,s.y=o,s)},names:["Equidistant_Conic","eqdc"]},vr={init:function(){this.R=this.a},forward:function(s){var h,E,r=s.y,o=cr(s.x-this.long0);Math.abs(r)<=Tn&&(h=this.x0+this.R*o,E=this.y0);var K=As(2*Math.abs(r/Math.PI));(Math.abs(o)<=Tn||Math.abs(Math.abs(r)-rt)<=Tn)&&(h=this.x0,E=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*K):this.y0+Math.PI*this.R*-Math.tan(.5*K));var J=.5*Math.abs(Math.PI/o-o/Math.PI),me=J*J,Me=Math.sin(K),We=Math.cos(K),tt=We/(Me+We-1),Mt=tt*(2/Me-1),Bt=Mt*Mt,Jt=Math.PI*this.R*(J*(tt-Bt)+Math.sqrt(me*(tt-Bt)*(tt-Bt)-(Bt+me)*(tt*tt-Bt)))/(Bt+me);o<0&&(Jt=-Jt),h=this.x0+Jt;var Dn=me+tt;return Jt=Math.PI*this.R*(Mt*Dn-J*Math.sqrt((Bt+me)*(me+1)-Dn*Dn))/(Bt+me),E=r>=0?this.y0+Jt:this.y0-Jt,s.x=h,s.y=E,s},inverse:function(s){var a,r,o,h,E,K,J,me,Me,We,tt,wt;return s.x-=this.x0,s.y-=this.y0,tt=Math.PI*this.R,E=(o=s.x/tt)*o+(h=s.y/tt)*h,tt=3*(h*h/(me=-2*(K=-Math.abs(h)*(1+E))+1+2*h*h+E*E)+(2*(J=K-2*h*h+o*o)*J*J/me/me/me-9*K*J/me/me)/27)/(Me=(K-J*J/3/me)/me)/(We=2*Math.sqrt(-Me/3)),Math.abs(tt)>1&&(tt=tt>=0?1:-1),wt=Math.acos(tt)/3,r=s.y>=0?(-We*Math.cos(wt+Math.PI/3)-J/3/me)*Math.PI:-(-We*Math.cos(wt+Math.PI/3)-J/3/me)*Math.PI,a=Math.abs(o)<Tn?this.long0:cr(this.long0+Math.PI*(E-1+Math.sqrt(1+2*(o*o-h*h)+E*E))/2/o),s.x=a,s.y=r,s},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Si={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(s){var K,J,me,Me,We,tt,wt,Mt,Bt,Jt,Dn,qn,sr,Pr,Kr,ti,ii,Hi,Ii,_o,Zo,ps,a=s.x,r=s.y,o=Math.sin(s.y),h=Math.cos(s.y),E=cr(a-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=Tn?(s.x=this.x0+this.a*(rt-r)*Math.sin(E),s.y=this.y0-this.a*(rt-r)*Math.cos(E),s):Math.abs(this.sin_p12+1)<=Tn?(s.x=this.x0+this.a*(rt+r)*Math.sin(E),s.y=this.y0+this.a*(rt+r)*Math.cos(E),s):(Hi=this.sin_p12*o+this.cos_p12*h*Math.cos(E),ii=(ti=Math.acos(Hi))?ti/Math.sin(ti):1,s.x=this.x0+this.a*ii*h*Math.sin(E),s.y=this.y0+this.a*ii*(this.cos_p12*o-this.sin_p12*h*Math.cos(E)),s):(K=ku(this.es),J=us(this.es),me=aa(this.es),Me=Ks(this.es),Math.abs(this.sin_p12-1)<=Tn?(We=this.a*Wo(K,J,me,Me,rt),tt=this.a*Wo(K,J,me,Me,r),s.x=this.x0+(We-tt)*Math.sin(E),s.y=this.y0-(We-tt)*Math.cos(E),s):Math.abs(this.sin_p12+1)<=Tn?(We=this.a*Wo(K,J,me,Me,rt),tt=this.a*Wo(K,J,me,Me,r),s.x=this.x0+(We+tt)*Math.sin(E),s.y=this.y0+(We+tt)*Math.cos(E),s):(wt=o/h,Mt=la(this.a,this.e,this.sin_p12),Bt=la(this.a,this.e,o),Jt=Math.atan((1-this.es)*wt+this.es*Mt*this.sin_p12/(Bt*h)),Ii=0===(Dn=Math.atan2(Math.sin(E),this.cos_p12*Math.tan(Jt)-this.sin_p12*Math.cos(E)))?Math.asin(this.cos_p12*Math.sin(Jt)-this.sin_p12*Math.cos(Jt)):Math.abs(Math.abs(Dn)-Math.PI)<=Tn?-Math.asin(this.cos_p12*Math.sin(Jt)-this.sin_p12*Math.cos(Jt)):Math.asin(Math.sin(E)*Math.cos(Jt)/Math.sin(Dn)),qn=this.e*this.sin_p12/Math.sqrt(1-this.es),sr=this.e*this.cos_p12*Math.cos(Dn)/Math.sqrt(1-this.es),s.x=this.x0+(ti=Mt*Ii*(1-(_o=Ii*Ii)*(Kr=sr*sr)*(1-Kr)/6+(Zo=_o*Ii)/8*(Pr=qn*sr)*(1-2*Kr)+(ps=Zo*Ii)/120*(Kr*(4-7*Kr)-3*qn*qn*(1-7*Kr))-ps*Ii/48*Pr))*Math.sin(Dn),s.y=this.y0+ti*Math.cos(Dn),s))},inverse:function(s){var a,r,o,h,E,K,J,me,Me,We,tt,wt,Bt,Jt,Dn,qn,sr,Pr,Kr,ti,ii,Hi,Ii;return s.x-=this.x0,s.y-=this.y0,this.sphere?(a=Math.sqrt(s.x*s.x+s.y*s.y))>2*rt*this.a?void 0:(r=a/this.a,o=Math.sin(r),h=Math.cos(r),E=this.long0,Math.abs(a)<=Tn?K=this.lat0:(K=As(h*this.sin_p12+s.y*o*this.cos_p12/a),J=Math.abs(this.lat0)-rt,E=Math.abs(J)<=Tn?cr(this.lat0>=0?this.long0+Math.atan2(s.x,-s.y):this.long0-Math.atan2(-s.x,s.y)):cr(this.long0+Math.atan2(s.x*o,a*this.cos_p12*h-s.y*this.sin_p12*o))),s.x=E,s.y=K,s):(me=ku(this.es),Me=us(this.es),We=aa(this.es),tt=Ks(this.es),Math.abs(this.sin_p12-1)<=Tn?(K=jr(((wt=this.a*Wo(me,Me,We,tt,rt))-(a=Math.sqrt(s.x*s.x+s.y*s.y)))/this.a,me,Me,We,tt),E=cr(this.long0+Math.atan2(s.x,-1*s.y)),s.x=E,s.y=K,s):Math.abs(this.sin_p12+1)<=Tn?(wt=this.a*Wo(me,Me,We,tt,rt),K=jr(((a=Math.sqrt(s.x*s.x+s.y*s.y))-wt)/this.a,me,Me,We,tt),E=cr(this.long0+Math.atan2(s.x,s.y)),s.x=E,s.y=K,s):(a=Math.sqrt(s.x*s.x+s.y*s.y),Dn=Math.atan2(s.x,s.y),Bt=la(this.a,this.e,this.sin_p12),qn=Math.cos(Dn),Kr=3*this.es*(1-(Pr=-(sr=this.e*this.cos_p12*qn)*sr/(1-this.es)))*this.sin_p12*this.cos_p12*qn/(1-this.es),Hi=1-Pr*(ii=(ti=a/Bt)-Pr*(1+Pr)*Math.pow(ti,3)/6-Kr*(1+3*Pr)*Math.pow(ti,4)/24)*ii/2-ti*ii*ii*ii/6,Jt=Math.asin(this.sin_p12*Math.cos(ii)+this.cos_p12*Math.sin(ii)*qn),E=cr(this.long0+Math.asin(Math.sin(Dn)*Math.sin(ii)/Math.cos(Jt))),Ii=Math.sin(Jt),K=Math.atan2((Ii-this.es*Hi*this.sin_p12)*Math.tan(Jt),Ii*(1-this.es)),s.x=E,s.y=K,s))},names:["Azimuthal_Equidistant","aeqd"]},Ir={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(s){var a,r,o,h,K,J,me,We=s.y;return o=cr(s.x-this.long0),a=Math.sin(We),r=Math.cos(We),h=Math.cos(o),((K=this.sin_p14*a+this.cos_p14*r*h)>0||Math.abs(K)<=Tn)&&(J=1*this.a*r*Math.sin(o),me=this.y0+1*this.a*(this.cos_p14*a-this.sin_p14*r*h)),s.x=J,s.y=me,s},inverse:function(s){var a,r,o,h,E,K,J;return s.x-=this.x0,s.y-=this.y0,r=As((a=Math.sqrt(s.x*s.x+s.y*s.y))/this.a),o=Math.sin(r),h=Math.cos(r),K=this.long0,Math.abs(a)<=Tn?(J=this.lat0,s.x=K,s.y=J,s):(J=As(h*this.sin_p14+s.y*o*this.cos_p14/a),E=Math.abs(this.lat0)-rt,Math.abs(E)<=Tn?(K=cr(this.lat0>=0?this.long0+Math.atan2(s.x,-s.y):this.long0-Math.atan2(-s.x,s.y)),s.x=K,s.y=J,s):(K=cr(this.long0+Math.atan2(s.x*o,a*this.cos_p14*h-s.y*this.sin_p14*o)),s.x=K,s.y=J,s))},names:["ortho"]};function Li(s,a,r,o){var h;return s<Tn?(o.value=1,h=0):(h=Math.atan2(a,r),Math.abs(h)<=yi?o.value=1:h>yi&&h<=rt+yi?(o.value=2,h-=rt):h>rt+yi||h<=-(rt+yi)?(o.value=3,h=h>=0?h-bi:h+bi):(o.value=4,h+=rt)),h}function ai(s,a){var r=s+a;return r<-bi?r+=Co:r>+bi&&(r-=Co),r}const Do={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=rt-yi/2?5:this.lat0<=-(rt-yi/2)?6:Math.abs(this.long0)<=yi?1:Math.abs(this.long0)<=rt+yi?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(s){var r,o,h,E,K,J,a={x:0,y:0},me={value:0};if(s.x-=this.long0,r=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(s.y)):s.y,o=s.x,5===this.face)E=rt-r,o>=yi&&o<=rt+yi?(me.value=1,h=o-rt):o>rt+yi||o<=-(rt+yi)?(me.value=2,h=o>0?o-bi:o+bi):o>-(rt+yi)&&o<=-yi?(me.value=3,h=o+rt):(me.value=4,h=o);else if(6===this.face)E=rt+r,o>=yi&&o<=rt+yi?(me.value=1,h=-o+rt):o<yi&&o>=-yi?(me.value=2,h=-o):o<-yi&&o>=-(rt+yi)?(me.value=3,h=-o-rt):(me.value=4,h=o>0?-o+bi:-o-bi);else{var Me,We,tt,wt,Mt,Bt;2===this.face?o=ai(o,+rt):3===this.face?o=ai(o,+bi):4===this.face&&(o=ai(o,-rt)),wt=Math.sin(r),Mt=Math.cos(r),Bt=Math.sin(o),Me=Mt*Math.cos(o),We=Mt*Bt,tt=wt,1===this.face?h=Li(E=Math.acos(Me),tt,We,me):2===this.face?h=Li(E=Math.acos(We),tt,-Me,me):3===this.face?h=Li(E=Math.acos(-Me),tt,-We,me):4===this.face?h=Li(E=Math.acos(-We),tt,Me,me):(E=h=0,me.value=1)}return J=Math.atan(12/bi*(h+Math.acos(Math.sin(h)*Math.cos(yi))-rt)),K=Math.sqrt((1-Math.cos(E))/(Math.cos(J)*Math.cos(J))/(1-Math.cos(Math.atan(1/Math.cos(h))))),2===me.value?J+=rt:3===me.value?J+=bi:4===me.value&&(J+=1.5*bi),a.x=K*Math.cos(J),a.y=K*Math.sin(J),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,s.x=a.x,s.y=a.y,s},inverse:function(s){var r,o,h,E,K,J,me,Me,We,Jt,Dn,qn,a={lam:0,phi:0},tt={value:0};if(s.x=(s.x-this.x0)/this.a,s.y=(s.y-this.y0)/this.a,o=Math.atan(Math.sqrt(s.x*s.x+s.y*s.y)),r=Math.atan2(s.y,s.x),s.x>=0&&s.x>=Math.abs(s.y)?tt.value=1:s.y>=0&&s.y>=Math.abs(s.x)?(tt.value=2,r-=rt):s.x<0&&-s.x>=Math.abs(s.y)?(tt.value=3,r=r<0?r+bi:r-bi):(tt.value=4,r+=rt),We=bi/12*Math.tan(r),K=Math.sin(We)/(Math.cos(We)-1/Math.sqrt(2)),J=Math.atan(K),(me=1-(h=Math.cos(r))*h*(E=Math.tan(o))*E*(1-Math.cos(Math.atan(1/Math.cos(J)))))<-1?me=-1:me>1&&(me=1),5===this.face)Me=Math.acos(me),a.phi=rt-Me,a.lam=1===tt.value?J+rt:2===tt.value?J<0?J+bi:J-bi:3===tt.value?J-rt:J;else if(6===this.face)Me=Math.acos(me),a.phi=Me-rt,a.lam=1===tt.value?-J+rt:2===tt.value?-J:3===tt.value?-J-rt:J<0?-J-bi:-J+bi;else{var wt,Mt,Bt;We=(wt=me)*wt,Mt=(We+=(Bt=We>=1?0:Math.sqrt(1-We)*Math.sin(J))*Bt)>=1?0:Math.sqrt(1-We),2===tt.value?(We=Mt,Mt=-Bt,Bt=We):3===tt.value?(Mt=-Mt,Bt=-Bt):4===tt.value&&(We=Mt,Mt=Bt,Bt=-We),2===this.face?(We=wt,wt=-Mt,Mt=We):3===this.face?(wt=-wt,Mt=-Mt):4===this.face&&(We=wt,wt=Mt,Mt=-We),a.phi=Math.acos(-Bt)-rt,a.lam=Math.atan2(Mt,wt),2===this.face?a.lam=ai(a.lam,-rt):3===this.face?a.lam=ai(a.lam,-bi):4===this.face&&(a.lam=ai(a.lam,+rt))}return 0!==this.es&&(Jt=a.phi<0?1:0,Dn=Math.tan(a.phi),qn=this.b/Math.sqrt(Dn*Dn+this.one_minus_f_squared),a.phi=Math.atan(Math.sqrt(this.a*this.a-qn*qn)/(this.one_minus_f*qn)),Jt&&(a.phi=-a.phi)),a.lam+=this.long0,s.x=a.lam,s.y=a.phi,s},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var Ao=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ur=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],qo=function(s,a){return s[0]+a*(s[1]+a*(s[2]+a*s[3]))};const ru={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(s){var a=cr(s.x-this.long0),r=Math.abs(s.y),o=Math.floor(11.459155902616464*r);o<0?o=0:o>=18&&(o=17);var h={x:qo(Ao[o],r=ci*(r-.08726646259971647*o))*a,y:qo(ur[o],r)};return s.y<0&&(h.y=-h.y),h.x=h.x*this.a*.8487+this.x0,h.y=h.y*this.a*1.3523+this.y0,h},inverse:function(s){var a={x:(s.x-this.x0)/(.8487*this.a),y:Math.abs(s.y-this.y0)/(1.3523*this.a)};if(a.y>=1)a.x/=Ao[18][0],a.y=s.y<0?-rt:rt;else{var r=Math.floor(18*a.y);for(r<0?r=0:r>=18&&(r=17);;)if(ur[r][0]>a.y)--r;else{if(!(ur[r+1][0]<=a.y))break;++r}var o=ur[r],h=5*(a.y-o[0])/(ur[r+1][0]-o[0]);h=function(s,a,r,o){for(var h=a;o;--o){var E=s(h);if(h-=E,Math.abs(E)<1e-10)break}return h}(function(E){return(qo(o,E)-a.y)/function(s,a){return s[1]+a*(2*s[2]+3*a*s[3])}(o,E)},h,0,100),a.x/=qo(Ao[r],h),a.y=(5*r+h)*Yr,s.y<0&&(a.y=-a.y)}return a.x=cr(a.x+this.long0),a},names:["Robinson","robin"]},iu={init:function(){this.name="geocent"},forward:function(s){return Ku(s,this.es,this.a)},inverse:function(s){return Wc(s,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var da={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const ou={init:function(){if(Object.keys(da).forEach(function(r){if(void 0===this[r])this[r]=da[r].def;else{if(da[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);da[r].num&&(this[r]=parseFloat(this[r]))}da[r].degrees&&(this[r]=this[r]*Yr)}.bind(this)),Math.abs(Math.abs(this.lat0)-rt)<Tn?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<Tn?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var s=this.tilt,a=this.azi;this.cg=Math.cos(a),this.sg=Math.sin(a),this.cw=Math.cos(s),this.sw=Math.sin(s)},forward:function(s){s.x-=this.long0;var h,E,K,J,a=Math.sin(s.y),r=Math.cos(s.y),o=Math.cos(s.x);switch(this.mode){case 3:E=this.sinph0*a+this.cosph0*r*o;break;case 2:E=r*o;break;case 1:E=-a;break;case 0:E=a}switch(h=(E=this.pn1/(this.p-E))*r*Math.sin(s.x),this.mode){case 3:E*=this.cosph0*a-this.sinph0*r*o;break;case 2:E*=a;break;case 0:E*=-r*o;break;case 1:E*=r*o}return h=(h*this.cg-E*this.sg)*this.cw*(J=1/((K=E*this.cg+h*this.sg)*this.sw*this.h1+this.cw)),E=K*J,s.x=h*this.a,s.y=E*this.a,s},inverse:function(s){s.x/=this.a,s.y/=this.a;var r,o,h,a={x:s.x,y:s.y};s.x=(r=this.pn1*s.x*(h=1/(this.pn1-s.y*this.sw)))*this.cg+(o=this.pn1*s.y*this.cw*h)*this.sg,s.y=o*this.cg-r*this.sg;var E=Ja(s.x,s.y);if(Math.abs(E)<Tn)a.x=0,a.y=s.y;else{var K,J;switch(J=1-E*E*this.pfact,J=(this.p-Math.sqrt(J))/(this.pn1/E+E/this.pn1),K=Math.sqrt(1-J*J),this.mode){case 3:a.y=Math.asin(K*this.sinph0+s.y*J*this.cosph0/E),s.y=(K-this.sinph0*Math.sin(a.y))*E,s.x*=J*this.cosph0;break;case 2:a.y=Math.asin(s.y*J/E),s.y=K*E,s.x*=J;break;case 0:a.y=Math.asin(K),s.y=-s.y;break;case 1:a.y=-Math.asin(K)}a.x=Math.atan2(s.x,s.y)}return s.x=a.x+this.long0,s.y=a.y,s},names:["Tilted_Perspective","tpers"]};Ho.defaultDatum="WGS84",Ho.Proj=za,Ho.WGS84=new Ho.Proj("WGS84"),Ho.Point=ji,Ho.toPoint=Yc,Ho.defs=Gs,Ho.nadgrid=function(s,a){var r=new DataView(a),o=function(s){var a=s.getInt32(8,!1);return 11!==a&&(11!==(a=s.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(r),h=function(s,a){return{nFields:s.getInt32(8,a),nSubgridFields:s.getInt32(24,a),nSubgrids:s.getInt32(40,a),shiftType:Ss(s,56,64).trim(),fromSemiMajorAxis:s.getFloat64(120,a),fromSemiMinorAxis:s.getFloat64(136,a),toSemiMajorAxis:s.getFloat64(152,a),toSemiMinorAxis:s.getFloat64(168,a)}}(r,o);h.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var E=function(s,a,r){for(var h=[],E=0;E<a.nSubgrids;E++){var K=wa(s,176,r),J=Yu(s,176,K,r),me=Math.round(1+(K.upperLongitude-K.lowerLongitude)/K.longitudeInterval),Me=Math.round(1+(K.upperLatitude-K.lowerLatitude)/K.latitudeInterval);h.push({ll:[vl(K.lowerLongitude),vl(K.lowerLatitude)],del:[vl(K.longitudeInterval),vl(K.latitudeInterval)],lim:[me,Me],count:K.gridNodeCount,cvs:zl(J)})}return h}(r,h,o),K={header:h,subgrids:E};return Va[s]=K,K},Ho.transform=Ya,Ho.mgrs=xu,Ho.version="__VERSION__",function(s){s.Proj.projections.add(Jl),s.Proj.projections.add(Ou),s.Proj.projections.add(td),s.Proj.projections.add(Pu),s.Proj.projections.add(cf),s.Proj.projections.add(ld),s.Proj.projections.add(Dh),s.Proj.projections.add(mc),s.Proj.projections.add(hf),s.Proj.projections.add(pd),s.Proj.projections.add(Ec),s.Proj.projections.add(Nu),s.Proj.projections.add(ju),s.Proj.projections.add(Rh),s.Proj.projections.add(kh),s.Proj.projections.add(Sd),s.Proj.projections.add(Nh),s.Proj.projections.add(Y),s.Proj.projections.add(mt),s.Proj.projections.add(tn),s.Proj.projections.add(Ln),s.Proj.projections.add(vr),s.Proj.projections.add(Si),s.Proj.projections.add(Ir),s.Proj.projections.add(Do),s.Proj.projections.add(ru),s.Proj.projections.add(iu),s.Proj.projections.add(ou)}(Ho);const Ia=Ho;var Pa=p(2880),ws=p(5e3),su=p(8273),Ad=p(7037),Aa=p(2111),Il=p(5094);let au=(()=>{class s{constructor(r,o,h,E){this.mapStoreService=r,this.mapLayersService=o,this.dawaService=h,this.store=E,this.viewProjection="EPSG:3857",this.clickInfoLayerNames=["adresser","jordstykke","projectArea","projectPhotos","projectFeatures"]}createMap(r,o){this.view=new dn({center:r,projection:this.viewProjection,zoom:o,enableRotation:!1}),Ia.defs("EPSG:25832","+proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs"),function(s){var o,h,a=Object.keys(s.defs),r=a.length;for(o=0;o<r;++o){var E=a[o];if(!(0,kn.U2)(E)){var K=s.defs(E),J=K.units;!J&&"longlat"===K.projName&&(J=Vn.ZP.DEGREES),(0,kn.Sx)(new Ul.Z({code:E,axisOrientation:K.axis,metersPerUnit:K.to_meter,units:J}))}}for(o=0;o<r;++o){var me=a[o],Me=(0,kn.U2)(me);for(h=0;h<r;++h){var We=a[h],tt=(0,kn.U2)(We);if(!(0,ta.U2)(me,We))if(s.defs[me]===s.defs[We])(0,kn.rM)([Me,tt]);else{var wt=s(me,We);(0,kn.zY)(Me,tt,(0,kn.uA)(Me,tt,wt.forward),(0,kn.uA)(tt,Me,wt.inverse))}}}}(Ia),this.olmap=new Qe({controls:[new ul({units:"metric"})],layers:[this.mapLayersService.getBaseMapById("streets").map],target:"ol-map",view:this.view}),this.olmap.on("moveend",()=>{this.moveend()}),this.olmap.once("postrender",()=>{this.store.dispatch(G.bH())}),this.addClickInfo()}changeBaseMap(r){const o=this.olmap.getLayers().getArray();this.olmap.removeLayer(o[0]),this.olmap.getLayers().insertAt(0,this.mapLayersService.getBaseMapById(r).map)}flyTo(r,o=18){this.view.animate({center:(0,kn.vs)(r,"EPSG:4326",this.viewProjection),zoom:o,duration:1e3})}resize(){this.olmap.updateSize()}addLayer(r,o){const h=new mn.Z({properties:{name:o.name},minZoom:o.minZoom||12,opacity:o.opacity,source:new $l.Z({projection:"EPSG:25832",url:r,params:{layers:o.name,VERSION:"1.1.1",TRANSPARENT:"TRUE",FORMAT:"image/png"}})});this.olmap.addLayer(h)}getLayer(r){return this.olmap.getLayers().getArray().find(o=>o.get("name")===r)}removeLayer(r){this.olmap.getLayers().getArray().filter(o=>o.get("name")===r).forEach(o=>this.olmap.removeLayer(o))}changeLayerStyle(r,o){this.getLayer(r).setStyle(o)}addMarker(r){const o=new Ti.Z({geometry:new ms.Z((0,kn.vs)(r,"EPSG:4326",this.viewProjection))});o.setStyle(new wo.ZP({image:new ds.Z({radius:6,fill:new ea.Z({color:"#e76f51"}),stroke:new ll.Z({color:"#fff",width:1})})}));const h=new Ur({features:[o]});this.olmap.addLayer(new nr.Z({source:h,properties:{name:"marker"}}))}handelClickInfo(r){let o=[];this.olmap.forEachFeatureAtPixel(r.pixel,(h,E)=>{o.push({feature:h,layerName:E.get("layerName")})},{hitTolerance:10,layerFilter:h=>this.clickInfoLayerNames.includes(h.get("layerName"))}),this.store.dispatch(G.Dr(0===o.length?null:{features:o}))}addClickInfo(){this.clickEventKey=this.olmap.on("click",r=>this.handelClickInfo(r))}removeClickInfo(){(0,Zr.B)(this.clickEventKey)}clearFeatureSelection(){this.olmap.removeInteraction(this.featureSelection),this.olmap.addInteraction(this.featureSelection)}startTracking(){this.mapStoreService.updateMapState("locating",!0),this.geolocation=new La({trackingOptions:{enableHighAccuracy:!0},projection:this.view.getProjection()});const r=new Ti.Z;this.geolocation.on("change:accuracyGeometry",()=>{r.setGeometry(this.geolocation.getAccuracyGeometry())});const o=new Ti.Z;o.setStyle(new wo.ZP({image:new ds.Z({radius:6,fill:new ea.Z({color:"#3399CC"}),stroke:new ll.Z({color:"#fff",width:2})})})),this.geolocation.on("change:position",()=>{this.mapStoreService.updateMapState("locating",!1);const E=this.geolocation.getPosition();o.setGeometry(E?new ms.Z(E):null),this.view.animate({center:E,zoom:18,duration:1e3})});const h=new nr.Z({properties:{name:"geolocation"},source:new Ur({features:[r,o]})});this.olmap.addLayer(h),this.geolocation.setTracking(!0),this.mapStoreService.updateMapState("tracking",!0)}stopTracking(){this.removeLayer("geolocation"),this.geolocation.setTracking(!1),this.mapStoreService.updateMapState("tracking",!1)}activateDrawTool(r){const o=new Ur({wrapX:!1}),h=new nr.Z({source:o,properties:{name:"draw"}});this.olmap.addLayer(h);const E=new Ts({source:o});this.olmap.addInteraction(E),this.draw=new ba({source:o,type:r}),this.olmap.addInteraction(this.draw),this.draw.on("drawend",K=>{const J=H()(K.feature);this.store.dispatch(G.Xn({feature:J}))})}finishDrawing(){this.draw.finishDrawing()}removeLastDrawPoint(){this.draw.removeLastPoint()}removeDrawTool(){this.olmap.removeInteraction(this.draw),this.removeLayer("draw")}formatLength(r){const o=(0,Us.xA)(r);let h;return h=o>100?Math.round(o/1e3*100)/100+" km":Math.round(100*o)/100+" m",h}formatArea(r){const o=(0,Us.bg)(r);let h;return h=o>1e4?Math.round(o/1e6*100)/100+" km<sup>2</sup>":Math.round(100*o)/100+" m<sup>2</sup>",h}addMeasureTool(r){this.draw=new ba({source:new Ur,type:r,style:new wo.ZP({fill:new ea.Z({color:"rgba(255, 97, 0, 0.2)"}),stroke:new ll.Z({color:"rgba(255, 97, 0, 0.5)",lineDash:[10,10],width:2}),image:new ds.Z({radius:5,stroke:new ll.Z({color:"rgba(255, 97, 0, 0.7)"}),fill:new ea.Z({color:"rgba(255, 97, 0, 0.2)"})})})}),this.olmap.addInteraction(this.draw),this.draw.on("drawstart",o=>{this.sketch=o.feature,this.sketch.getGeometry().on("change",h=>{const E=h.target;let K;E instanceof jt.ZP?K=this.formatArea(E):E instanceof Qs.Z&&(K=this.formatLength(E))})}),this.draw.on("drawend",()=>{}),this.olmap.addInteraction(this.draw)}setView(r){const o=(0,kn.vs)(r.center,"EPSG:4326",this.viewProjection);this.view.animate(Object.assign(Object.assign({},r),{center:o}))}moveend(){this.getViewParams()}getViewParams(){const r=Math.round(100*this.view.getZoom())/100,o=(0,kn.vs)(this.view.getCenter(),this.viewProjection,"EPSG:4326"),h=this.view.getRotation(),E=this.view.calculateExtent();this.store.dispatch(G.Tq({viewParams:{center:o,zoom:r,rotation:h,extent:E}})),this.mapStoreService.updateMapState("view",{center:o,zoom:r,rotation:h,extent:E})}transform(r,o="EPSG:4326",h="EPSG:25832"){return(0,kn.vs)(r,o,h)}featureAsWKT(r,o="EPSG:3857",h="EPSG:25832"){return(new jl.Z).writeFeature(r,{featureProjection:o,dataProjection:h})}addGeoJSON(r,o,h,E=Pa.l.default,K=!1){let J;J="FeatureCollection"===r.type?new $a.Z({featureProjection:h}).readFeatures(r,{featureProjection:this.viewProjection}):[new $a.Z({featureProjection:h}).readFeature(r,{featureProjection:this.viewProjection})];const me=new Ur({features:J}),Me=new nr.Z({source:me,properties:{layerName:o},style:E});this.olmap.addLayer(Me)}removeProjectOverlays(){this.removeLayer("photos"),this.removeLayer("features"),this.removeLayer("projectArea")}getViewExtent(){const r=this.olmap.getView().calculateExtent(this.olmap.getSize()),o=(0,jt.oJ)(r).transform("EPSG:3857","EPSG:4326");return new Ti.Z({geometry:o})}addMatrikelWithinViewExtent(){const o=this.getViewExtent().getGeometry().getCoordinates();this.mapStoreService.updateMapState("loadingLayer",!0),this.dawaService.fetchMatriklerWithinPolygon(o).pipe((0,i.b)(h=>this.addGeoJSON(h,"jordstykke","EPSG:4326")),(0,i.b)(()=>this.mapStoreService.updateMapState("loadingLayer",!1)),(0,D.x)(()=>this.mapStoreService.updateMapState("loadingLayer",!1))).subscribe()}addAdresserWithinViewExtent(){const o=this.getViewExtent().getGeometry().getCoordinates();this.mapStoreService.updateMapState("loadingLayer",!0),this.dawaService.fetchAdresserWithinPolygon(o).pipe((0,i.b)(h=>this.addGeoJSON(h,"adresser","EPSG:4326",Pa.l.addressInfo)),(0,D.x)(()=>this.mapStoreService.updateMapState("loadingLayer",!1))).subscribe()}}return s.\u0275fac=function(r){return new(r||s)(ws.LFG(su.C),ws.LFG(Ad.Y),ws.LFG(Aa.r),ws.LFG(Il.yh))},s.\u0275prov=ws.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},6883:(Ye,fe,p)=>{"use strict";p.d(fe,{T:()=>Ie});var i=p(7423),D=p(76);const G=(0,i.fo)("Camera",{web:()=>p.e(3954).then(p.bind(p,3954)).then(ae=>new ae.CameraWeb)});var ne=p(5254),A=p(2916),W=p(2654);var oe=p(7545),Te=p(5e3);let Ie=(()=>{class ae{constructor(){}takePhoto(){return(0,ne.D)(G.getPhoto({quality:70,allowEditing:!0,resultType:D.dk.Uri,source:D.oK.Camera}))}photoToBlob(Ee){return function(ae,_e={}){const{selector:Ee}=_e,Pe=function(ae,_e){var Ee={};for(var Pe in ae)Object.prototype.hasOwnProperty.call(ae,Pe)&&_e.indexOf(Pe)<0&&(Ee[Pe]=ae[Pe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(Pe=Object.getOwnPropertySymbols(ae);Ge<Pe.length;Ge++)_e.indexOf(Pe[Ge])<0&&Object.prototype.propertyIsEnumerable.call(ae,Pe[Ge])&&(Ee[Pe[Ge]]=ae[Pe[Ge]])}return Ee}(_e,["selector"]);return new A.y(Ge=>{const Ue=new AbortController,Be=Ue.signal;let Ce=!0,ke=!1;const qe=new W.w;let at;if(qe.add(()=>{ke=!0,Ce&&Ue.abort()}),Pe){if(Pe.signal)if(Pe.signal.aborted)Ue.abort();else{const Gt=Pe.signal,Tt=()=>{Be.aborted||Ue.abort()};Gt.addEventListener("abort",Tt),qe.add(()=>Gt.removeEventListener("abort",Tt))}at=Object.assign({},Pe,{signal:Be})}else at={signal:Be};return fetch(ae,at).then(Gt=>{Ee?qe.add((0,ne.D)(Ee(Gt)).subscribe(Tt=>Ge.next(Tt),Tt=>{Ce=!1,ke||Ge.error(Tt)},()=>{Ce=!1,Ge.complete()})):(Ce=!1,Ge.next(Gt),Ge.complete())}).catch(Gt=>{Ce=!1,ke||Ge.error(Gt)}),qe})}(Ee.webPath).pipe((0,oe.w)(Pe=>Pe.blob()))}}return ae.\u0275fac=function(Ee){return new(Ee||ae)},ae.\u0275prov=Te.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})()},7914:(Ye,fe,p)=>{"use strict";p.d(fe,{T:()=>Dr});var i=p(655),D=p(591),G=p(5254),ne=p(4850);const L={"X-Client-Info":"supabase-js/1.22.6"};var $=p(8472),S=p.n($),P=function(Et,ue,ce,Fe){return new(ce||(ce=Promise))(function(It,Le){function Ct(Zt){try{Ft(Fe.next(Zt))}catch(Se){Le(Se)}}function St(Zt){try{Ft(Fe.throw(Zt))}catch(Se){Le(Se)}}function Ft(Zt){Zt.done?It(Zt.value):function(It){return It instanceof ce?It:new ce(function(Le){Le(It)})}(Zt.value).then(Ct,St)}Ft((Fe=Fe.apply(Et,ue||[])).next())})};const x=Et=>Et.msg||Et.message||Et.error_description||Et.error||JSON.stringify(Et);function m(Et,ue,ce,Fe){return P(this,void 0,void 0,function*(){return new Promise((et,It)=>{S()(ue,((Et,ue,ce)=>{const Fe={method:Et,headers:(null==ue?void 0:ue.headers)||{}};return"GET"===Et||(Fe.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},null==ue?void 0:ue.headers),Fe.body=JSON.stringify(ce)),Fe})(Et,ce,Fe)).then(Le=>{if(!Le.ok)throw Le;return(null==ce?void 0:ce.noResolveJson)?et:Le.json()}).then(Le=>et(Le)).catch(Le=>((Et,ue)=>{if("function"!=typeof Et.json)return ue(Et);Et.json().then(ce=>ue({message:x(ce),status:(null==Et?void 0:Et.status)||500}))})(Le,It))})})}function g(Et,ue,ce){return P(this,void 0,void 0,function*(){return m("POST",Et,ce,ue)})}const R="supabase.auth.token",z={name:"sb:token",lifetime:28800,domain:"",path:"/",sameSite:"lax"};function xe(Et,ue,ce){const Fe=ce.map(It=>function(Et,ue){var ce,Fe,et;return function(Et,ue,ce){const Fe=ce||{},et=encodeURIComponent,It=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!=typeof et)throw new TypeError("option encode is invalid");if(!It.test(Et))throw new TypeError("argument name is invalid");const Le=et(ue);if(Le&&!It.test(Le))throw new TypeError("argument val is invalid");let Ct=Et+"="+Le;if(null!=Fe.maxAge){const St=Fe.maxAge-0;if(isNaN(St)||!isFinite(St))throw new TypeError("option maxAge is invalid");Ct+="; Max-Age="+Math.floor(St)}if(Fe.domain){if(!It.test(Fe.domain))throw new TypeError("option domain is invalid");Ct+="; Domain="+Fe.domain}if(Fe.path){if(!It.test(Fe.path))throw new TypeError("option path is invalid");Ct+="; Path="+Fe.path}if(Fe.expires){if("function"!=typeof Fe.expires.toUTCString)throw new TypeError("option expires is invalid");Ct+="; Expires="+Fe.expires.toUTCString()}if(Fe.httpOnly&&(Ct+="; HttpOnly"),Fe.secure&&(Ct+="; Secure"),Fe.sameSite)switch("string"==typeof Fe.sameSite?Fe.sameSite.toLowerCase():Fe.sameSite){case"lax":Ct+="; SameSite=Lax";break;case"strict":Ct+="; SameSite=Strict";break;case"none":Ct+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return Ct}(Et.name,Et.value,{maxAge:Et.maxAge,expires:new Date(Date.now()+1e3*Et.maxAge),httpOnly:!0,secure:ue,path:null!==(ce=Et.path)&&void 0!==ce?ce:"/",domain:null!==(Fe=Et.domain)&&void 0!==Fe?Fe:"",sameSite:null!==(et=Et.sameSite)&&void 0!==et?et:"lax"})}(It,function(Et){if(!Et||!Et.headers||!Et.headers.host)throw new Error('The "host" request header is not available');const ue=Et.headers.host.indexOf(":")>-1&&Et.headers.host.split(":")[0]||Et.headers.host;return!(["localhost","127.0.0.1"].indexOf(ue)>-1||ue.endsWith(".local"))}(Et))),et=ue.getHeader("Set-Cookie");et&&(et instanceof Array?Array.prototype.push.apply(Fe,et):"string"==typeof et&&Fe.push(et)),ue.setHeader("Set-Cookie",Fe)}function A(Et,ue,ce){xe(Et,ue,[ce])}function te(Et){return Math.round(Date.now()/1e3)+Et}const Te=()=>"undefined"!=typeof window;function Ie(Et,ue){ue||(ue=window.location.href),Et=Et.replace(/[\[\]]/g,"\\$&");var Fe=new RegExp("[?&#]"+Et+"(=([^&#]*)|&|#|$)").exec(ue);return Fe?Fe[2]?decodeURIComponent(Fe[2].replace(/\+/g," ")):"":null}var ae=function(Et,ue,ce,Fe){return new(ce||(ce=Promise))(function(It,Le){function Ct(Zt){try{Ft(Fe.next(Zt))}catch(Se){Le(Se)}}function St(Zt){try{Ft(Fe.throw(Zt))}catch(Se){Le(Se)}}function Ft(Zt){Zt.done?It(Zt.value):function(It){return It instanceof ce?It:new ce(function(Le){Le(It)})}(Zt.value).then(Ct,St)}Ft((Fe=Fe.apply(Et,ue||[])).next())})};class _e{constructor({url:ue="",headers:ce={},cookieOptions:Fe}){this.url=ue,this.headers=ce,this.cookieOptions=Object.assign(Object.assign({},z),Fe)}signUpWithEmail(ue,ce,Fe={}){return ae(this,void 0,void 0,function*(){try{let et=Object.assign({},this.headers),It="";Fe.redirectTo&&(It="?redirect_to="+encodeURIComponent(Fe.redirectTo));const Le=yield g(`${this.url}/signup${It}`,{email:ue,password:ce,data:Fe.data},{headers:et});let Ct=Object.assign({},Le);return Ct.expires_in&&(Ct.expires_at=te(Le.expires_in)),{data:Ct,error:null}}catch(et){return{data:null,error:et}}})}signInWithEmail(ue,ce,Fe={}){return ae(this,void 0,void 0,function*(){try{let et=Object.assign({},this.headers),It="?grant_type=password";Fe.redirectTo&&(It+="&redirect_to="+encodeURIComponent(Fe.redirectTo));const Le=yield g(`${this.url}/token${It}`,{email:ue,password:ce},{headers:et});let Ct=Object.assign({},Le);return Ct.expires_in&&(Ct.expires_at=te(Le.expires_in)),{data:Ct,error:null}}catch(et){return{data:null,error:et}}})}signUpWithPhone(ue,ce,Fe={}){return ae(this,void 0,void 0,function*(){try{let et=Object.assign({},this.headers);const It=yield g(`${this.url}/signup`,{phone:ue,password:ce,data:Fe.data},{headers:et});let Le=Object.assign({},It);return Le.expires_in&&(Le.expires_at=te(It.expires_in)),{data:Le,error:null}}catch(et){return{data:null,error:et}}})}signInWithPhone(ue,ce){return ae(this,void 0,void 0,function*(){try{let Fe=Object.assign({},this.headers),et="?grant_type=password";const It=yield g(`${this.url}/token${et}`,{phone:ue,password:ce},{headers:Fe});let Le=Object.assign({},It);return Le.expires_in&&(Le.expires_at=te(It.expires_in)),{data:Le,error:null}}catch(Fe){return{data:null,error:Fe}}})}sendMagicLinkEmail(ue,ce={}){return ae(this,void 0,void 0,function*(){try{let Fe=Object.assign({},this.headers),et="";return ce.redirectTo&&(et+="?redirect_to="+encodeURIComponent(ce.redirectTo)),{data:yield g(`${this.url}/magiclink${et}`,{email:ue},{headers:Fe}),error:null}}catch(Fe){return{data:null,error:Fe}}})}sendMobileOTP(ue){return ae(this,void 0,void 0,function*(){try{let ce=Object.assign({},this.headers);return{data:yield g(`${this.url}/otp`,{phone:ue},{headers:ce}),error:null}}catch(ce){return{data:null,error:ce}}})}verifyMobileOTP(ue,ce,Fe={}){return ae(this,void 0,void 0,function*(){try{let et=Object.assign({},this.headers);return{data:yield g(`${this.url}/verify`,{phone:ue,token:ce,type:"sms",redirect_to:Fe.redirectTo},{headers:et}),error:null}}catch(et){return{data:null,error:et}}})}inviteUserByEmail(ue,ce={}){return ae(this,void 0,void 0,function*(){try{let Fe=Object.assign({},this.headers),et="";return ce.redirectTo&&(et+="?redirect_to="+encodeURIComponent(ce.redirectTo)),{data:yield g(`${this.url}/invite${et}`,{email:ue,data:ce.data},{headers:Fe}),error:null}}catch(Fe){return{data:null,error:Fe}}})}resetPasswordForEmail(ue,ce={}){return ae(this,void 0,void 0,function*(){try{let Fe=Object.assign({},this.headers),et="";return ce.redirectTo&&(et+="?redirect_to="+encodeURIComponent(ce.redirectTo)),{data:yield g(`${this.url}/recover${et}`,{email:ue},{headers:Fe}),error:null}}catch(Fe){return{data:null,error:Fe}}})}_createRequestHeaders(ue){const ce=Object.assign({},this.headers);return ce.Authorization=`Bearer ${ue}`,ce}signOut(ue){return ae(this,void 0,void 0,function*(){try{return yield g(`${this.url}/logout`,{},{headers:this._createRequestHeaders(ue),noResolveJson:!0}),{error:null}}catch(ce){return{error:ce}}})}getUrlForProvider(ue,ce){let Fe=[`provider=${encodeURIComponent(ue)}`];return(null==ce?void 0:ce.redirectTo)&&Fe.push(`redirect_to=${encodeURIComponent(ce.redirectTo)}`),(null==ce?void 0:ce.scopes)&&Fe.push(`scopes=${encodeURIComponent(ce.scopes)}`),`${this.url}/authorize?${Fe.join("&")}`}getUser(ue){return ae(this,void 0,void 0,function*(){try{const ce=yield function(Et,ue){return P(this,void 0,void 0,function*(){return m("GET",Et,ue)})}(`${this.url}/user`,{headers:this._createRequestHeaders(ue)});return{user:ce,data:ce,error:null}}catch(ce){return{user:null,data:null,error:ce}}})}updateUser(ue,ce){return ae(this,void 0,void 0,function*(){try{const Fe=yield function(Et,ue,ce){return P(this,void 0,void 0,function*(){return m("PUT",Et,ce,ue)})}(`${this.url}/user`,ce,{headers:this._createRequestHeaders(ue)});return{user:Fe,data:Fe,error:null}}catch(Fe){return{user:null,data:null,error:Fe}}})}deleteUser(ue,ce){return ae(this,void 0,void 0,function*(){try{const Fe=yield function(Et,ue,ce){return P(this,void 0,void 0,function*(){return m("DELETE",Et,ce,ue)})}(`${this.url}/admin/users/${ue}`,{},{headers:this._createRequestHeaders(ce)});return{user:Fe,data:Fe,error:null}}catch(Fe){return{user:null,data:null,error:Fe}}})}refreshAccessToken(ue){return ae(this,void 0,void 0,function*(){try{const ce=yield g(`${this.url}/token?grant_type=refresh_token`,{refresh_token:ue},{headers:this.headers});let Fe=Object.assign({},ce);return Fe.expires_in&&(Fe.expires_at=te(ce.expires_in)),{data:Fe,error:null}}catch(ce){return{data:null,error:ce}}})}setAuthCookie(ue,ce){"POST"!==ue.method&&(ce.setHeader("Allow","POST"),ce.status(405).end("Method Not Allowed"));const{event:Fe,session:et}=ue.body;if(!Fe)throw new Error("Auth event missing!");if("SIGNED_IN"===Fe){if(!et)throw new Error("Auth session missing!");A(ue,ce,{name:this.cookieOptions.name,value:et.access_token,domain:this.cookieOptions.domain,maxAge:this.cookieOptions.lifetime,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}"SIGNED_OUT"===Fe&&function(Et,ue,ce){A(Et,ue,{name:ce,value:"",maxAge:-1})}(ue,ce,this.cookieOptions.name),ce.status(200).json({})}getUserByCookie(ue){return ae(this,void 0,void 0,function*(){try{if(!ue.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");if(!ue.cookies[this.cookieOptions.name])throw new Error("No cookie found!");const ce=ue.cookies[this.cookieOptions.name],{user:Fe,error:et}=yield this.getUser(ce);if(et)throw et;return{user:Fe,data:Fe,error:null}}catch(ce){return{user:null,data:null,error:ce}}})}generateLink(ue,ce,Fe={}){return ae(this,void 0,void 0,function*(){try{return{data:yield g(`${this.url}/admin/generate_link`,{type:ue,email:ce,password:Fe.password,data:Fe.data,redirect_to:Fe.redirectTo},{headers:this.headers}),error:null}}catch(et){return{data:null,error:et}}})}}var Pe=function(Et,ue,ce,Fe){return new(ce||(ce=Promise))(function(It,Le){function Ct(Zt){try{Ft(Fe.next(Zt))}catch(Se){Le(Se)}}function St(Zt){try{Ft(Fe.throw(Zt))}catch(Se){Le(Se)}}function Ft(Zt){Zt.done?It(Zt.value):function(It){return It instanceof ce?It:new ce(function(Le){Le(It)})}(Zt.value).then(Ct,St)}Ft((Fe=Fe.apply(Et,ue||[])).next())})};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Et){"undefined"!=typeof self&&(self.globalThis=self)}}();const Ge={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/1.18.0"}};class Be extends class{constructor(ue){this.stateChangeEmitters=new Map;const ce=Object.assign(Object.assign({},Ge),ue);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=ce.autoRefreshToken,this.persistSession=ce.persistSession,this.localStorage=ce.localStorage||globalThis.localStorage,this.api=new _e({url:ce.url,headers:ce.headers,cookieOptions:ce.cookieOptions}),this._recoverSession(),this._recoverAndRefresh();try{ce.detectSessionInUrl&&Te()&&Ie("access_token")&&this.getSessionFromUrl({storeSession:!0})}catch(Fe){console.log("Error getting session from URL.")}}signUp({email:ue,password:ce,phone:Fe},et={}){return Pe(this,void 0,void 0,function*(){try{this._removeSession();const{data:It,error:Le}=Fe&&ce?yield this.api.signUpWithPhone(Fe,ce,{data:et.data}):yield this.api.signUpWithEmail(ue,ce,{redirectTo:et.redirectTo,data:et.data});if(Le)throw Le;if(!It)throw"An error occurred on sign up.";let Ct=null,St=null;return It.access_token&&(Ct=It,St=Ct.user,this._saveSession(Ct),this._notifyAllSubscribers("SIGNED_IN")),It.id&&(St=It),{data:It,user:St,session:Ct,error:null}}catch(It){return{data:null,user:null,session:null,error:It}}})}signIn({email:ue,phone:ce,password:Fe,refreshToken:et,provider:It},Le={}){return Pe(this,void 0,void 0,function*(){try{if(this._removeSession(),ue&&!Fe){const{error:Ct}=yield this.api.sendMagicLinkEmail(ue,{redirectTo:Le.redirectTo});return{data:null,user:null,session:null,error:Ct}}if(ue&&Fe)return this._handleEmailSignIn(ue,Fe,{redirectTo:Le.redirectTo});if(ce&&!Fe){const{error:Ct}=yield this.api.sendMobileOTP(ce);return{data:null,user:null,session:null,error:Ct}}if(ce&&Fe)return this._handlePhoneSignIn(ce,Fe);if(et){const{error:Ct}=yield this._callRefreshToken(et);if(Ct)throw Ct;return{data:this.currentSession,user:this.currentUser,session:this.currentSession,error:null}}if(It)return this._handleProviderSignIn(It,{redirectTo:Le.redirectTo,scopes:Le.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(Ct){return{data:null,user:null,session:null,error:Ct}}})}verifyOTP({phone:ue,token:ce},Fe={}){return Pe(this,void 0,void 0,function*(){try{this._removeSession();const{data:et,error:It}=yield this.api.verifyMobileOTP(ue,ce,Fe);if(It)throw It;if(!et)throw"An error occurred on token verification.";let Le=null,Ct=null;return et.access_token&&(Le=et,Ct=Le.user,this._saveSession(Le),this._notifyAllSubscribers("SIGNED_IN")),et.id&&(Ct=et),{data:et,user:Ct,session:Le,error:null}}catch(et){return{data:null,user:null,session:null,error:et}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var ue;return Pe(this,void 0,void 0,function*(){try{if(!(null===(ue=this.currentSession)||void 0===ue?void 0:ue.access_token))throw new Error("Not logged in.");const{error:ce}=yield this._callRefreshToken();if(ce)throw ce;return{data:this.currentSession,user:this.currentUser,error:null}}catch(ce){return{data:null,user:null,error:ce}}})}update(ue){var ce;return Pe(this,void 0,void 0,function*(){try{if(!(null===(ce=this.currentSession)||void 0===ce?void 0:ce.access_token))throw new Error("Not logged in.");const{user:Fe,error:et}=yield this.api.updateUser(this.currentSession.access_token,ue);if(et)throw et;if(!Fe)throw Error("Invalid user data.");const It=Object.assign(Object.assign({},this.currentSession),{user:Fe});return this._saveSession(It),this._notifyAllSubscribers("USER_UPDATED"),{data:Fe,user:Fe,error:null}}catch(Fe){return{data:null,user:null,error:Fe}}})}setSession(ue){return Pe(this,void 0,void 0,function*(){try{if(!ue)throw new Error("No current session.");const{data:ce,error:Fe}=yield this.api.refreshAccessToken(ue);return Fe?{session:null,error:Fe}:ce?(this._saveSession(ce),this._notifyAllSubscribers("SIGNED_IN"),{session:ce,error:null}):{session:null,error:{name:"Invalid refresh_token",message:"JWT token provided is Invalid"}}}catch(ce){return{error:ce,session:null}}})}setAuth(ue){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:ue,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(ue){return Pe(this,void 0,void 0,function*(){try{if(!Te())throw new Error("No browser detected.");const ce=Ie("error_description");if(ce)throw new Error(ce);const Fe=Ie("provider_token"),et=Ie("access_token");if(!et)throw new Error("No access_token detected.");const It=Ie("expires_in");if(!It)throw new Error("No expires_in detected.");const Le=Ie("refresh_token");if(!Le)throw new Error("No refresh_token detected.");const Ct=Ie("token_type");if(!Ct)throw new Error("No token_type detected.");const Ft=Math.round(Date.now()/1e3)+parseInt(It),{user:Zt,error:Se}=yield this.api.getUser(et);if(Se)throw Se;const Je={provider_token:Fe,access_token:et,expires_in:parseInt(It),expires_at:Ft,refresh_token:Le,token_type:Ct,user:Zt};return(null==ue?void 0:ue.storeSession)&&(this._saveSession(Je),this._notifyAllSubscribers("SIGNED_IN"),"recovery"===Ie("type")&&this._notifyAllSubscribers("PASSWORD_RECOVERY")),window.location.hash="",{data:Je,error:null}}catch(ce){return{data:null,error:ce}}})}signOut(){var ue;return Pe(this,void 0,void 0,function*(){const ce=null===(ue=this.currentSession)||void 0===ue?void 0:ue.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),ce){const{error:Fe}=yield this.api.signOut(ce);if(Fe)return{error:Fe}}return{error:null}})}onAuthStateChange(ue){try{const ce="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Et){var ue=16*Math.random()|0;return("x"==Et?ue:3&ue|8).toString(16)}),Fe=this,et={id:ce,callback:ue,unsubscribe:()=>{Fe.stateChangeEmitters.delete(ce)}};return this.stateChangeEmitters.set(ce,et),{data:et,error:null}}catch(ce){return{data:null,error:ce}}}_handleEmailSignIn(ue,ce,Fe={}){var et,It;return Pe(this,void 0,void 0,function*(){try{const{data:Le,error:Ct}=yield this.api.signInWithEmail(ue,ce,{redirectTo:Fe.redirectTo});return Ct||!Le?{data:null,user:null,session:null,error:Ct}:(((null===(et=null==Le?void 0:Le.user)||void 0===et?void 0:et.confirmed_at)||(null===(It=null==Le?void 0:Le.user)||void 0===It?void 0:It.email_confirmed_at))&&(this._saveSession(Le),this._notifyAllSubscribers("SIGNED_IN")),{data:Le,user:Le.user,session:Le,error:null})}catch(Le){return{data:null,user:null,session:null,error:Le}}})}_handlePhoneSignIn(ue,ce){var Fe;return Pe(this,void 0,void 0,function*(){try{const{data:et,error:It}=yield this.api.signInWithPhone(ue,ce);return It||!et?{data:null,user:null,session:null,error:It}:((null===(Fe=null==et?void 0:et.user)||void 0===Fe?void 0:Fe.phone_confirmed_at)&&(this._saveSession(et),this._notifyAllSubscribers("SIGNED_IN")),{data:et,user:et.user,session:et,error:null})}catch(et){return{data:null,user:null,session:null,error:et}}})}_handleProviderSignIn(ue,ce={}){const Fe=this.api.getUrlForProvider(ue,{redirectTo:ce.redirectTo,scopes:ce.scopes});try{return Te()&&(window.location.href=Fe),{provider:ue,url:Fe,data:null,session:null,user:null,error:null}}catch(et){return Fe?{provider:ue,url:Fe,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:et}}}_recoverSession(){var ue;try{const ce=Te()&&(null===(ue=this.localStorage)||void 0===ue?void 0:ue.getItem(R));if(!ce||"string"!=typeof ce)return null;const Fe=JSON.parse(ce),{currentSession:et,expiresAt:It}=Fe;It>=Math.round(Date.now()/1e3)&&(null==et?void 0:et.user)&&(this._saveSession(et),this._notifyAllSubscribers("SIGNED_IN"))}catch(ce){console.log("error",ce)}}_recoverAndRefresh(){return Pe(this,void 0,void 0,function*(){try{const ue=Te()&&(yield this.localStorage.getItem(R));if(!ue)return null;const ce=JSON.parse(ue),{currentSession:Fe,expiresAt:et}=ce;if(et<Math.round(Date.now()/1e3))if(this.autoRefreshToken&&Fe.refresh_token){const{error:Le}=yield this._callRefreshToken(Fe.refresh_token);Le&&(console.log(Le.message),yield this._removeSession())}else this._removeSession();else Fe&&Fe.user?(this._saveSession(Fe),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(ue){return console.error(ue),null}})}_callRefreshToken(ue){var ce;return void 0===ue&&(ue=null===(ce=this.currentSession)||void 0===ce?void 0:ce.refresh_token),Pe(this,void 0,void 0,function*(){try{if(!ue)throw new Error("No current session.");const{data:Fe,error:et}=yield this.api.refreshAccessToken(ue);if(et)throw et;if(!Fe)throw Error("Invalid session data.");return this._saveSession(Fe),this._notifyAllSubscribers("SIGNED_IN"),{data:Fe,error:null}}catch(Fe){return{data:null,error:Fe}}})}_notifyAllSubscribers(ue){this.stateChangeEmitters.forEach(ce=>ce.callback(ue,this.currentSession))}_saveSession(ue){this.currentSession=ue,this.currentUser=ue.user;const ce=ue.expires_at;if(ce){const et=ce-Math.round(Date.now()/1e3);this._startAutoRefreshToken(1e3*(et-(et>60?60:.5)))}this.persistSession&&ue.expires_at&&this._persistSession(this.currentSession)}_persistSession(ue){const ce={currentSession:ue,expiresAt:ue.expires_at};Te()&&this.localStorage.setItem(R,JSON.stringify(ce))}_removeSession(){return Pe(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),Te()&&(yield this.localStorage.removeItem(R))})}_startAutoRefreshToken(ue){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(ue<=0)&&this.autoRefreshToken&&(this.refreshTokenTimer=setTimeout(()=>this._callRefreshToken(),ue),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}}{constructor(ue){super(ue)}}class ke{constructor(ue){Object.assign(this,ue)}throwOnError(){return this.shouldThrowOnError=!0,this}then(ue,ce){return void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json"),S()(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body)}).then(Fe=>function(Et,ue,ce,Fe){return new(ce||(ce=Promise))(function(It,Le){function Ct(Zt){try{Ft(Fe.next(Zt))}catch(Se){Le(Se)}}function St(Zt){try{Ft(Fe.throw(Zt))}catch(Se){Le(Se)}}function Ft(Zt){Zt.done?It(Zt.value):function(It){return It instanceof ce?It:new ce(function(Le){Le(It)})}(Zt.value).then(Ct,St)}Ft((Fe=Fe.apply(Et,ue||[])).next())})}(this,void 0,void 0,function*(){var et,It,Le;let Ct=null,St=null,Ft=null;if(Fe.ok){const Se=null===(et=this.headers.Prefer)||void 0===et?void 0:et.split(",").includes("return=minimal");if("HEAD"!==this.method&&!Se){const it=yield Fe.text();it&&(St="text/csv"===this.headers.Accept?it:JSON.parse(it))}const Je=null===(It=this.headers.Prefer)||void 0===It?void 0:It.match(/count=(exact|planned|estimated)/),je=null===(Le=Fe.headers.get("content-range"))||void 0===Le?void 0:Le.split("/");Je&&je&&je.length>1&&(Ft=parseInt(je[1]))}else if(Ct=yield Fe.json(),Ct&&this.shouldThrowOnError)throw Ct;return{error:Ct,data:St,count:Ft,status:Fe.status,statusText:Fe.statusText,body:St}})).then(ue,ce)}}class qe extends ke{select(ue="*"){let ce=!1;const Fe=ue.split("").map(et=>/\s/.test(et)&&!ce?"":('"'===et&&(ce=!ce),et)).join("");return this.url.searchParams.set("select",Fe),this}order(ue,{ascending:ce=!0,nullsFirst:Fe=!1,foreignTable:et}={}){const It=void 0===et?"order":`${et}.order`,Le=this.url.searchParams.get(It);return this.url.searchParams.set(It,`${Le?`${Le},`:""}${ue}.${ce?"asc":"desc"}.${Fe?"nullsfirst":"nullslast"}`),this}limit(ue,{foreignTable:ce}={}){return this.url.searchParams.set(void 0===ce?"limit":`${ce}.limit`,`${ue}`),this}range(ue,ce,{foreignTable:Fe}={}){const It=void 0===Fe?"limit":`${Fe}.limit`;return this.url.searchParams.set(void 0===Fe?"offset":`${Fe}.offset`,`${ue}`),this.url.searchParams.set(It,""+(ce-ue+1)),this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const ue=new qe(this);return ue.then=(ce,Fe)=>this.then(et=>{var It,Le;return(null===(Le=null===(It=et.error)||void 0===It?void 0:It.details)||void 0===Le?void 0:Le.includes("Results contain 0 rows"))?ce({error:null,data:null,count:et.count,status:200,statusText:"OK",body:null}):ce(et)},Fe),ue}csv(){return this.headers.Accept="text/csv",this}}class at extends qe{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(ue,ce,Fe){return this.url.searchParams.append(`${ue}`,`not.${ce}.${Fe}`),this}or(ue,{foreignTable:ce}={}){return this.url.searchParams.append(void 0===ce?"or":`${ce}.or`,`(${ue})`),this}eq(ue,ce){return this.url.searchParams.append(`${ue}`,`eq.${ce}`),this}neq(ue,ce){return this.url.searchParams.append(`${ue}`,`neq.${ce}`),this}gt(ue,ce){return this.url.searchParams.append(`${ue}`,`gt.${ce}`),this}gte(ue,ce){return this.url.searchParams.append(`${ue}`,`gte.${ce}`),this}lt(ue,ce){return this.url.searchParams.append(`${ue}`,`lt.${ce}`),this}lte(ue,ce){return this.url.searchParams.append(`${ue}`,`lte.${ce}`),this}like(ue,ce){return this.url.searchParams.append(`${ue}`,`like.${ce}`),this}ilike(ue,ce){return this.url.searchParams.append(`${ue}`,`ilike.${ce}`),this}is(ue,ce){return this.url.searchParams.append(`${ue}`,`is.${ce}`),this}in(ue,ce){const Fe=ce.map(et=>"string"==typeof et&&new RegExp("[,()]").test(et)?`"${et}"`:`${et}`).join(",");return this.url.searchParams.append(`${ue}`,`in.(${Fe})`),this}contains(ue,ce){return"string"==typeof ce?this.url.searchParams.append(`${ue}`,`cs.${ce}`):Array.isArray(ce)?this.url.searchParams.append(`${ue}`,`cs.{${ce.join(",")}}`):this.url.searchParams.append(`${ue}`,`cs.${JSON.stringify(ce)}`),this}containedBy(ue,ce){return"string"==typeof ce?this.url.searchParams.append(`${ue}`,`cd.${ce}`):Array.isArray(ce)?this.url.searchParams.append(`${ue}`,`cd.{${ce.join(",")}}`):this.url.searchParams.append(`${ue}`,`cd.${JSON.stringify(ce)}`),this}rangeLt(ue,ce){return this.url.searchParams.append(`${ue}`,`sl.${ce}`),this}rangeGt(ue,ce){return this.url.searchParams.append(`${ue}`,`sr.${ce}`),this}rangeGte(ue,ce){return this.url.searchParams.append(`${ue}`,`nxl.${ce}`),this}rangeLte(ue,ce){return this.url.searchParams.append(`${ue}`,`nxr.${ce}`),this}rangeAdjacent(ue,ce){return this.url.searchParams.append(`${ue}`,`adj.${ce}`),this}overlaps(ue,ce){return this.url.searchParams.append(`${ue}`,"string"==typeof ce?`ov.${ce}`:`ov.{${ce.join(",")}}`),this}textSearch(ue,ce,{config:Fe,type:et=null}={}){let It="";return"plain"===et?It="pl":"phrase"===et?It="ph":"websearch"===et&&(It="w"),this.url.searchParams.append(`${ue}`,`${It}fts${void 0===Fe?"":`(${Fe})`}.${ce}`),this}fts(ue,ce,{config:Fe}={}){return this.url.searchParams.append(`${ue}`,`fts${void 0===Fe?"":`(${Fe})`}.${ce}`),this}plfts(ue,ce,{config:Fe}={}){return this.url.searchParams.append(`${ue}`,`plfts${void 0===Fe?"":`(${Fe})`}.${ce}`),this}phfts(ue,ce,{config:Fe}={}){return this.url.searchParams.append(`${ue}`,`phfts${void 0===Fe?"":`(${Fe})`}.${ce}`),this}wfts(ue,ce,{config:Fe}={}){return this.url.searchParams.append(`${ue}`,`wfts${void 0===Fe?"":`(${Fe})`}.${ce}`),this}filter(ue,ce,Fe){return this.url.searchParams.append(`${ue}`,`${ce}.${Fe}`),this}match(ue){return Object.keys(ue).forEach(ce=>{this.url.searchParams.append(`${ce}`,`eq.${ue[ce]}`)}),this}}class Gt extends ke{constructor(ue,{headers:ce={},schema:Fe}={}){super({}),this.url=new URL(ue),this.headers=Object.assign({},ce),this.schema=Fe}select(ue="*",{head:ce=!1,count:Fe=null}={}){this.method="GET";let et=!1;const It=ue.split("").map(Le=>/\s/.test(Le)&&!et?"":('"'===Le&&(et=!et),Le)).join("");return this.url.searchParams.set("select",It),Fe&&(this.headers.Prefer=`count=${Fe}`),ce&&(this.method="HEAD"),new at(this)}insert(ue,{upsert:ce=!1,onConflict:Fe,returning:et="representation",count:It=null}={}){this.method="POST";const Le=[`return=${et}`];if(ce&&Le.push("resolution=merge-duplicates"),ce&&void 0!==Fe&&this.url.searchParams.set("on_conflict",Fe),this.body=ue,It&&Le.push(`count=${It}`),this.headers.Prefer=Le.join(","),Array.isArray(ue)){const Ct=ue.reduce((St,Ft)=>St.concat(Object.keys(Ft)),[]);if(Ct.length>0){const St=[...new Set(Ct)].map(Ft=>`"${Ft}"`);this.url.searchParams.set("columns",St.join(","))}}return new at(this)}upsert(ue,{onConflict:ce,returning:Fe="representation",count:et=null,ignoreDuplicates:It=!1}={}){this.method="POST";const Le=[`resolution=${It?"ignore":"merge"}-duplicates`,`return=${Fe}`];return void 0!==ce&&this.url.searchParams.set("on_conflict",ce),this.body=ue,et&&Le.push(`count=${et}`),this.headers.Prefer=Le.join(","),new at(this)}update(ue,{returning:ce="representation",count:Fe=null}={}){this.method="PATCH";const et=[`return=${ce}`];return this.body=ue,Fe&&et.push(`count=${Fe}`),this.headers.Prefer=et.join(","),new at(this)}delete({returning:ue="representation",count:ce=null}={}){this.method="DELETE";const Fe=[`return=${ue}`];return ce&&Fe.push(`count=${ce}`),this.headers.Prefer=Fe.join(","),new at(this)}}class Tt extends ke{constructor(ue,{headers:ce={},schema:Fe}={}){super({}),this.url=new URL(ue),this.headers=Object.assign({},ce),this.schema=Fe}rpc(ue,{count:ce=null}={}){return this.method="POST",this.body=ue,ce&&(void 0!==this.headers.Prefer?this.headers.Prefer+=`,count=${ce}`:this.headers.Prefer=`count=${ce}`),new at(this)}}const wn={"X-Client-Info":"postgrest-js/0.33.3"};class fn{constructor(ue,{headers:ce={},schema:Fe}={}){this.url=ue,this.headers=Object.assign(Object.assign({},wn),ce),this.schema=Fe}auth(ue){return this.headers.Authorization=`Bearer ${ue}`,this}from(ue){return new Gt(`${this.url}/${ue}`,{headers:this.headers,schema:this.schema})}rpc(ue,ce,{count:Fe=null}={}){return new Tt(`${this.url}/rpc/${ue}`,{headers:this.headers,schema:this.schema}).rpc(ce,{count:Fe})}}var He=(()=>{return(Et=He||(He={})).abstime="abstime",Et.bool="bool",Et.date="date",Et.daterange="daterange",Et.float4="float4",Et.float8="float8",Et.int2="int2",Et.int4="int4",Et.int4range="int4range",Et.int8="int8",Et.int8range="int8range",Et.json="json",Et.jsonb="jsonb",Et.money="money",Et.numeric="numeric",Et.oid="oid",Et.reltime="reltime",Et.time="time",Et.timestamp="timestamp",Et.timestamptz="timestamptz",Et.timetz="timetz",Et.tsrange="tsrange",Et.tstzrange="tstzrange",He;var Et})();const bt=(Et,ue,ce={})=>{let Fe={},et=void 0!==ce.skipTypes?ce.skipTypes:[];return Object.entries(ue).map(([It,Le])=>{Fe[It]=nt(It,Et,ue,et)}),Fe},nt=(Et,ue,ce,Fe)=>{let et=ue.find(It=>It.name==Et);return!et||Fe.includes(et.type)?Lt(ce[Et]):Ut(et.type,ce[Et])},Ut=(Et,ue)=>{try{if(null===ue)return null;if("_"===Et.charAt(0)){let ce=Et.slice(1,Et.length);return $t(ue,ce)}switch(Et){case He.abstime:return Lt(ue);case He.bool:return vn(ue);case He.date:return Lt(ue);case He.daterange:return kt(ue);case He.float4:case He.float8:return dt(ue);case He.int2:case He.int4:return ht(ue);case He.int4range:return ot(ue);case He.int8:return ht(ue);case He.int8range:return ot(ue);case He.json:case He.jsonb:return _t(ue);case He.money:case He.numeric:return dt(ue);case He.oid:return ht(ue);case He.reltime:case He.time:return Lt(ue);case He.timestamp:return Rt(ue);case He.timestamptz:case He.timetz:return Lt(ue);case He.tsrange:case He.tstzrange:return kt(ue);default:return Lt(ue)}}catch(ce){return console.log(`Could not convert cell of type ${Et} and value ${ue}`),console.log(`This is the error: ${ce}`),ue}},Lt=Et=>Et,vn=Et=>{switch(Et){case"t":return!0;case"f":return!1;default:return null}},kt=Et=>{let ue=JSON.parse(Et);return[new Date(ue[0]),new Date(ue[1])]},dt=Et=>parseFloat(Et),ht=Et=>parseInt(Et),ot=Et=>{let ue=JSON.parse(Et);return[parseInt(ue[0]),parseInt(ue[1])]},_t=Et=>JSON.parse(Et),$t=(Et,ue)=>{let ce=Et.slice(1,Et.length-1);return(ce.length>0?ce.split(","):[]).map(It=>Ut(ue,It))},Rt=Et=>Et.replace(" ","T"),_n={"X-Client-Info":"realtime-js/1.1.3"};var On=(()=>{return(Et=On||(On={}))[Et.connecting=0]="connecting",Et[Et.open=1]="open",Et[Et.closing=2]="closing",Et[Et.closed=3]="closed",On;var Et})(),Vn=(()=>{return(Et=Vn||(Vn={})).closed="closed",Et.errored="errored",Et.joined="joined",Et.joining="joining",Et.leaving="leaving",Vn;var Et})(),Fn=(()=>{return(Et=Fn||(Fn={})).close="phx_close",Et.error="phx_error",Et.join="phx_join",Et.reply="phx_reply",Et.leave="phx_leave",Fn;var Et})(),er=(()=>((er||(er={})).websocket="websocket",er))();class gr{constructor(ue,ce){this.callback=ue,this.timerCalc=ce,this.timer=void 0,this.tries=0,this.callback=ue,this.timerCalc=ce}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class kn{constructor(ue,ce,Fe={},et=1e4){this.channel=ue,this.event=ce,this.payload=Fe,this.timeout=et,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(ue){this.timeout=ue,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}receive(ue,ce){var Fe;return this._hasReceived(ue)&&ce(null===(Fe=this.receivedResp)||void 0===Fe?void 0:Fe.response),this.recHooks.push({status:ue,callback:ce}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,ue=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=ue,this._matchReceive(ue)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(ue,ce){this.refEvent&&this.channel.trigger(this.refEvent,{status:ue,response:ce})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:ue,response:ce}){this.recHooks.filter(Fe=>Fe.status===ue).forEach(Fe=>Fe.callback(ce))}_hasReceived(ue){return this.receivedResp&&this.receivedResp.status===ue}}class Ar{constructor(ue,ce={},Fe){this.topic=ue,this.params=ce,this.socket=Fe,this.bindings=[],this.state=Vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new kn(this,Fn.join,this.params,this.timeout),this.rejoinTimer=new gr(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(et=>et.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=Vn.closed,this.socket.remove(this)}),this.onError(et=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,et),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this.on(Fn.reply,(et,It)=>{this.trigger(this.replyEventName(It),et)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(ue=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(ue),this.joinPush}onClose(ue){this.on(Fn.close,ue)}onError(ue){this.on(Fn.error,ce=>ue(ce))}on(ue,ce){this.bindings.push({event:ue,callback:ce})}off(ue){this.bindings=this.bindings.filter(ce=>ce.event!==ue)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(ue,ce,Fe=this.timeout){if(!this.joinedOnce)throw`tried to push '${ue}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let et=new kn(this,ue,ce,Fe);return this.canPush()?et.send():(et.startTimeout(),this.pushBuffer.push(et)),et}unsubscribe(ue=this.timeout){this.state=Vn.leaving;let ce=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(Fn.close,"leave",this.joinRef())};this.joinPush.destroy();let Fe=new kn(this,Fn.leave,{},ue);return Fe.receive("ok",()=>ce()).receive("timeout",()=>ce()),Fe.send(),this.canPush()||Fe.trigger("ok",{}),Fe}onMessage(ue,ce,Fe){return ce}isMember(ue){return this.topic===ue}joinRef(){return this.joinPush.ref}sendJoin(ue){this.state=Vn.joining,this.joinPush.resend(ue)}rejoin(ue=this.timeout){this.isLeaving()||this.sendJoin(ue)}trigger(ue,ce,Fe){let{close:et,error:It,leave:Le,join:Ct}=Fn;if(Fe&&[et,It,Le,Ct].indexOf(ue)>=0&&Fe!==this.joinRef())return;let Ft=this.onMessage(ue,ce,Fe);if(ce&&!Ft)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(Zt=>"*"===Zt.event?ue===(null==ce?void 0:ce.type):Zt.event===ue).map(Zt=>Zt.callback(Ft,Fe))}replyEventName(ue){return`chan_reply_${ue}`}isClosed(){return this.state===Vn.closed}isErrored(){return this.state===Vn.errored}isJoined(){return this.state===Vn.joined}isJoining(){return this.state===Vn.joining}isLeaving(){return this.state===Vn.leaving}}var ni=p(2762);class Gr{constructor(){this.HEADER_LENGTH=1}decode(ue,ce){return ue.constructor===ArrayBuffer?ce(this._binaryDecode(ue)):ce("string"==typeof ue?JSON.parse(ue):{})}_binaryDecode(ue){const ce=new DataView(ue),Fe=new TextDecoder;return this._decodeBroadcast(ue,ce,Fe)}_decodeBroadcast(ue,ce,Fe){const et=ce.getUint8(1),It=ce.getUint8(2);let Le=this.HEADER_LENGTH+2;const Ct=Fe.decode(ue.slice(Le,Le+et));Le+=et;const St=Fe.decode(ue.slice(Le,Le+It));return Le+=It,{ref:null,topic:Ct,event:St,payload:JSON.parse(Fe.decode(ue.slice(Le,ue.byteLength)))}}}const zr=()=>{};class or{constructor(ue,ce){this.channels=[],this.endPoint="",this.headers=_n,this.params={},this.timeout=1e4,this.transport=ni.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zr,this.conn=null,this.sendBuffer=[],this.serializer=new Gr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${ue}/${er.websocket}`,(null==ce?void 0:ce.params)&&(this.params=ce.params),(null==ce?void 0:ce.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),ce.headers)),(null==ce?void 0:ce.timeout)&&(this.timeout=ce.timeout),(null==ce?void 0:ce.logger)&&(this.logger=ce.logger),(null==ce?void 0:ce.transport)&&(this.transport=ce.transport),(null==ce?void 0:ce.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=ce.heartbeatIntervalMs),(null==ce?void 0:ce.longpollerTimeout)&&(this.longpollerTimeout=ce.longpollerTimeout),this.reconnectAfterMs=(null==ce?void 0:ce.reconnectAfterMs)?ce.reconnectAfterMs:Fe=>[1e3,2e3,5e3,1e4][Fe-1]||1e4,this.encode=(null==ce?void 0:ce.encode)?ce.encode:(Fe,et)=>et(JSON.stringify(Fe)),this.decode=(null==ce?void 0:ce.decode)?ce.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gr(()=>function(Et,ue,ce,Fe){return new(ce||(ce=Promise))(function(It,Le){function Ct(Zt){try{Ft(Fe.next(Zt))}catch(Se){Le(Se)}}function St(Zt){try{Ft(Fe.throw(Zt))}catch(Se){Le(Se)}}function Ft(Zt){Zt.done?It(Zt.value):function(It){return It instanceof ce?It:new ce(function(Le){Le(It)})}(Zt.value).then(Ct,St)}Ft((Fe=Fe.apply(Et,ue||[])).next())})}(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=ue=>this._onConnError(ue),this.conn.onmessage=ue=>this.onConnMessage(ue),this.conn.onclose=ue=>this._onConnClose(ue)))}disconnect(ue,ce){return new Promise((Fe,et)=>{try{this.conn&&(this.conn.onclose=function(){},ue?this.conn.close(ue,ce||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),Fe({error:null,data:!0})}catch(It){Fe({error:It,data:!1})}})}log(ue,ce,Fe){this.logger(ue,ce,Fe)}onOpen(ue){this.stateChangeCallbacks.open.push(ue)}onClose(ue){this.stateChangeCallbacks.close.push(ue)}onError(ue){this.stateChangeCallbacks.error.push(ue)}onMessage(ue){this.stateChangeCallbacks.message.push(ue)}connectionState(){switch(this.conn&&this.conn.readyState){case On.connecting:return"connecting";case On.open:return"open";case On.closing:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(ue){this.channels=this.channels.filter(ce=>ce.joinRef()!==ue.joinRef())}channel(ue,ce={}){let Fe=new Ar(ue,ce,this);return this.channels.push(Fe),Fe}push(ue){let{topic:ce,event:Fe,payload:et,ref:It}=ue,Le=()=>{this.encode(ue,Ct=>{var St;null===(St=this.conn)||void 0===St||St.send(Ct)})};this.log("push",`${ce} ${Fe} (${It})`,et),this.isConnected()?Le():this.sendBuffer.push(Le)}onConnMessage(ue){this.decode(ue.data,ce=>{let{topic:Fe,event:et,payload:It,ref:Le}=ce;Le&&Le===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:et===(null==It?void 0:It.type)&&this._resetHeartbeat(),this.log("receive",`${It.status||""} ${Fe} ${et} ${Le&&"("+Le+")"||""}`,It),this.channels.filter(Ct=>Ct.isMember(Fe)).forEach(Ct=>Ct.trigger(et,It,Le)),this.stateChangeCallbacks.message.forEach(Ct=>Ct(ce))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}makeRef(){let ue=this.ref+1;return this.ref=ue===this.ref?0:ue,this.ref.toString()}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach(ue=>ue())}_onConnClose(ue){this.log("transport","close",ue),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(ce=>ce(ue))}_onConnError(ue){this.log("transport",ue.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(ce=>ce(ue))}_triggerChanError(){this.channels.forEach(ue=>ue.trigger(Fn.error))}_appendParams(ue,ce){if(0===Object.keys(ce).length)return ue;const Fe=ue.match(/\?/)?"&":"?";return`${ue}${Fe}${new URLSearchParams(ce)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(ue=>ue()),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs)}_sendHeartbeat(){var ue;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(ue=this.conn)||void 0===ue||ue.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}}class Wr{constructor(ue,ce,Fe){this.subscription=ue.channel("*"===Fe?`realtime:${ce}`:`realtime:${ce}:${Fe}`)}getPayloadRecords(ue){const ce={new:{},old:{}};return("INSERT"===ue.type||"UPDATE"===ue.type)&&(ce.new=bt(ue.columns,ue.record)),("UPDATE"===ue.type||"DELETE"===ue.type)&&(ce.old=bt(ue.columns,ue.old_record)),ce}on(ue,ce){return this.subscription.on(ue,Fe=>{let et={schema:Fe.schema,table:Fe.table,commit_timestamp:Fe.commit_timestamp,eventType:Fe.type,new:{},old:{}};et=Object.assign(Object.assign({},et),this.getPayloadRecords(Fe)),ce(et)}),this}subscribe(ue=(()=>{})){return this.subscription.onError(ce=>ue("SUBSCRIPTION_ERROR",ce)),this.subscription.onClose(()=>ue("CLOSED")),this.subscription.subscribe().receive("ok",()=>ue("SUBSCRIBED")).receive("error",ce=>ue("SUBSCRIPTION_ERROR",ce)).receive("timeout",()=>ue("RETRYING_AFTER_TIMEOUT")),this.subscription}}class oi extends Gt{constructor(ue,{headers:ce={},schema:Fe,realtime:et,table:It}){super(ue,{headers:ce,schema:Fe}),this._subscription=new Wr(et,Fe,It),this._realtime=et}on(ue,ce){return this._realtime.isConnected()||this._realtime.connect(),this._subscription.on(ue,ce)}}var Mr=function(Et,ue,ce,Fe){return new(ce||(ce=Promise))(function(It,Le){function Ct(Zt){try{Ft(Fe.next(Zt))}catch(Se){Le(Se)}}function St(Zt){try{Ft(Fe.throw(Zt))}catch(Se){Le(Se)}}function Ft(Zt){Zt.done?It(Zt.value):function(It){return It instanceof ce?It:new ce(function(Le){Le(It)})}(Zt.value).then(Ct,St)}Ft((Fe=Fe.apply(Et,ue||[])).next())})};const Qr=Et=>Et.msg||Et.message||Et.error_description||Et.error||JSON.stringify(Et);function Dt(Et,ue,ce,Fe,et){return Mr(this,void 0,void 0,function*(){return new Promise((It,Le)=>{S()(ue,((Et,ue,ce,Fe)=>{const et={method:Et,headers:(null==ue?void 0:ue.headers)||{}};return"GET"===Et?et:(et.headers=Object.assign({"Content-Type":"application/json"},null==ue?void 0:ue.headers),et.body=JSON.stringify(Fe),Object.assign(Object.assign({},et),ce))})(Et,ce,Fe,et)).then(Ct=>{if(!Ct.ok)throw Ct;return(null==ce?void 0:ce.noResolveJson)?It(Ct):Ct.json()}).then(Ct=>It(Ct)).catch(Ct=>((Et,ue)=>{if("function"!=typeof Et.json)return ue(Et);Et.json().then(ce=>ue({message:Qr(ce),status:(null==Et?void 0:Et.status)||500}))})(Ct,Le))})})}function lt(Et,ue,ce){return Mr(this,void 0,void 0,function*(){return Dt("GET",Et,ue,ce)})}function jt(Et,ue,ce,Fe){return Mr(this,void 0,void 0,function*(){return Dt("POST",Et,ce,Fe,ue)})}function gn(Et,ue,ce,Fe){return Mr(this,void 0,void 0,function*(){return Dt("PUT",Et,ce,Fe,ue)})}function tr(Et,ue,ce,Fe){return Mr(this,void 0,void 0,function*(){return Dt("DELETE",Et,ce,Fe,ue)})}const ct={"X-Client-Info":"storage-js/0.0.0"};var gt=function(Et,ue,ce,Fe){return new(ce||(ce=Promise))(function(It,Le){function Ct(Zt){try{Ft(Fe.next(Zt))}catch(Se){Le(Se)}}function St(Zt){try{Ft(Fe.throw(Zt))}catch(Se){Le(Se)}}function Ft(Zt){Zt.done?It(Zt.value):function(It){return It instanceof ce?It:new ce(function(Le){Le(It)})}(Zt.value).then(Ct,St)}Ft((Fe=Fe.apply(Et,ue||[])).next())})},zt=function(Et,ue,ce,Fe){return new(ce||(ce=Promise))(function(It,Le){function Ct(Zt){try{Ft(Fe.next(Zt))}catch(Se){Le(Se)}}function St(Zt){try{Ft(Fe.throw(Zt))}catch(Se){Le(Se)}}function Ft(Zt){Zt.done?It(Zt.value):function(It){return It instanceof ce?It:new ce(function(Le){Le(It)})}(Zt.value).then(Ct,St)}Ft((Fe=Fe.apply(Et,ue||[])).next())})};const un={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},En={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dn{constructor(ue,ce={},Fe){this.url=ue,this.headers=ce,this.bucketId=Fe}uploadOrUpdate(ue,ce,Fe,et){return zt(this,void 0,void 0,function*(){try{let It;const Le=Object.assign(Object.assign({},En),et),Ct=Object.assign(Object.assign({},this.headers),"POST"===ue&&{"x-upsert":String(Le.upsert)});"undefined"!=typeof Blob&&Fe instanceof Blob?(It=new FormData,It.append("cacheControl",Le.cacheControl),It.append("",Fe)):"undefined"!=typeof FormData&&Fe instanceof FormData?(It=Fe,It.append("cacheControl",Le.cacheControl)):(It=Fe,Ct["cache-control"]=`max-age=${Le.cacheControl}`,Ct["content-type"]=Le.contentType);const St=this._getFinalPath(ce),Ft=yield S()(`${this.url}/object/${St}`,{method:ue,body:It,headers:Ct});return Ft.ok?{data:{Key:St},error:null}:{data:null,error:yield Ft.json()}}catch(It){return{data:null,error:It}}})}upload(ue,ce,Fe){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",ue,ce,Fe)})}update(ue,ce,Fe){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",ue,ce,Fe)})}move(ue,ce){return zt(this,void 0,void 0,function*(){try{return{data:yield jt(`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:ue,destinationKey:ce},{headers:this.headers}),error:null}}catch(Fe){return{data:null,error:Fe}}})}createSignedUrl(ue,ce){return zt(this,void 0,void 0,function*(){try{const Fe=this._getFinalPath(ue);let et=yield jt(`${this.url}/object/sign/${Fe}`,{expiresIn:ce},{headers:this.headers});const It=`${this.url}${et.signedURL}`;return et={signedURL:It},{data:et,error:null,signedURL:It}}catch(Fe){return{data:null,error:Fe,signedURL:null}}})}download(ue){return zt(this,void 0,void 0,function*(){try{const ce=this._getFinalPath(ue);return{data:yield(yield lt(`${this.url}/object/${ce}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(ce){return{data:null,error:ce}}})}getPublicUrl(ue){try{const ce=this._getFinalPath(ue),Fe=`${this.url}/object/public/${ce}`;return{data:{publicURL:Fe},error:null,publicURL:Fe}}catch(ce){return{data:null,error:ce,publicURL:null}}}remove(ue){return zt(this,void 0,void 0,function*(){try{return{data:yield tr(`${this.url}/object/${this.bucketId}`,{prefixes:ue},{headers:this.headers}),error:null}}catch(ce){return{data:null,error:ce}}})}list(ue,ce,Fe){return zt(this,void 0,void 0,function*(){try{const et=Object.assign(Object.assign(Object.assign({},un),ce),{prefix:ue||""});return{data:yield jt(`${this.url}/object/list/${this.bucketId}`,et,{headers:this.headers},Fe),error:null}}catch(et){return{data:null,error:et}}})}_getFinalPath(ue){return`${this.bucketId}/${ue}`}}class Un extends class{constructor(ue,ce={}){this.url=ue,this.headers=Object.assign(Object.assign({},ct),ce)}listBuckets(){return gt(this,void 0,void 0,function*(){try{return{data:yield lt(`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(ue){return{data:null,error:ue}}})}getBucket(ue){return gt(this,void 0,void 0,function*(){try{return{data:yield lt(`${this.url}/bucket/${ue}`,{headers:this.headers}),error:null}}catch(ce){return{data:null,error:ce}}})}createBucket(ue,ce={public:!1}){return gt(this,void 0,void 0,function*(){try{return{data:(yield jt(`${this.url}/bucket`,{id:ue,name:ue,public:ce.public},{headers:this.headers})).name,error:null}}catch(Fe){return{data:null,error:Fe}}})}updateBucket(ue,ce){return gt(this,void 0,void 0,function*(){try{return{data:yield gn(`${this.url}/bucket/${ue}`,{id:ue,name:ue,public:ce.public},{headers:this.headers}),error:null}}catch(Fe){return{data:null,error:Fe}}})}emptyBucket(ue){return gt(this,void 0,void 0,function*(){try{return{data:yield jt(`${this.url}/bucket/${ue}/empty`,{},{headers:this.headers}),error:null}}catch(ce){return{data:null,error:ce}}})}deleteBucket(ue){return gt(this,void 0,void 0,function*(){try{return{data:yield tr(`${this.url}/bucket/${ue}`,{},{headers:this.headers}),error:null}}catch(ce){return{data:null,error:ce}}})}}{constructor(ue,ce={}){super(ue,ce)}from(ue){return new dn(this.url,this.headers,ue)}}var Mn=function(Et,ue,ce,Fe){return new(ce||(ce=Promise))(function(It,Le){function Ct(Zt){try{Ft(Fe.next(Zt))}catch(Se){Le(Se)}}function St(Zt){try{Ft(Fe.throw(Zt))}catch(Se){Le(Se)}}function Ft(Zt){Zt.done?It(Zt.value):function(It){return It instanceof ce?It:new ce(function(Le){Le(It)})}(Zt.value).then(Ct,St)}Ft((Fe=Fe.apply(Et,ue||[])).next())})};const cn={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:L};class Bn{constructor(ue,ce,Fe){if(this.supabaseUrl=ue,this.supabaseKey=ce,!ue)throw new Error("supabaseUrl is required.");if(!ce)throw new Error("supabaseKey is required.");const et=Object.assign(Object.assign({},cn),Fe);this.restUrl=`${ue}/rest/v1`,this.realtimeUrl=`${ue}/realtime/v1`.replace("http","ws"),this.authUrl=`${ue}/auth/v1`,this.storageUrl=`${ue}/storage/v1`,this.schema=et.schema,this.auth=this._initSupabaseAuthClient(et),this.realtime=this._initRealtimeClient(et.realtime)}get storage(){return new Un(this.storageUrl,this._getAuthHeaders())}from(ue){return new oi(`${this.restUrl}/${ue}`,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:ue})}rpc(ue,ce,{count:Fe=null}={}){return this._initPostgRESTClient().rpc(ue,ce,{count:Fe})}removeSubscription(ue){return new Promise(ce=>Mn(this,void 0,void 0,function*(){try{yield this._closeSubscription(ue);const Fe=this.getSubscriptions().length;if(!Fe){const{error:et}=yield this.realtime.disconnect();if(et)return ce({error:et})}return ce({error:null,data:{openSubscriptions:Fe}})}catch(Fe){return ce({error:Fe})}}))}_closeSubscription(ue){return Mn(this,void 0,void 0,function*(){ue.isClosed()||(yield this._closeChannel(ue))})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:ue,persistSession:ce,detectSessionInUrl:Fe,localStorage:et,headers:It}){const Le={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Be({url:this.authUrl,headers:Object.assign(Object.assign({},It),Le),autoRefreshToken:ue,persistSession:ce,detectSessionInUrl:Fe,localStorage:et})}_initRealtimeClient(ue){return new or(this.realtimeUrl,Object.assign(Object.assign({},ue),{params:Object.assign(Object.assign({},null==ue?void 0:ue.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new fn(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema})}_getAuthHeaders(){var ue,ce;const Fe=L,et=null!==(ce=null===(ue=this.auth.session())||void 0===ue?void 0:ue.access_token)&&void 0!==ce?ce:this.supabaseKey;return Fe.apikey=this.supabaseKey,Fe.Authorization=`Bearer ${et}`,Fe}_closeChannel(ue){return new Promise((ce,Fe)=>{ue.unsubscribe().receive("ok",()=>(this.realtime.remove(ue),ce(!0))).receive("error",et=>Fe(et))})}}var $r=p(2340),gi=p(5e3);let Dr=(()=>{class Et{constructor(){this._session$=new D.X(null),this.session$=this._session$.asObservable(),this.authenticated$=this.session$.pipe((0,ne.U)(ce=>"authenticated"===(null==ce?void 0:ce.user.aud))),this.supabase=((Et,ue,ce)=>new Bn(Et,ue,{autoRefreshToken:!0,persistSession:!0}))($r.N.supabaseUrl,$r.N.supbaseKey),this.loadSession()}loadSession(){const ce=this.supabase.auth.session();this._session$.next(ce||null)}signIn(ce){return(0,i.mG)(this,void 0,void 0,function*(){return new Promise((Fe,et)=>(0,i.mG)(this,void 0,void 0,function*(){const{error:It,session:Le}=yield this.supabase.auth.signIn(ce);It?et(It):(this._session$.next(Le),Fe(Le))}))})}signOut(){this.supabase.auth.signOut().then(ce=>(this.supabase.getSubscriptions().map(Fe=>{this.supabase.removeSubscription(Fe)}),this._session$.next(null),this.supabase.auth.signOut()))}signUp(ce){return(0,i.mG)(this,void 0,void 0,function*(){return new Promise((Fe,et)=>(0,i.mG)(this,void 0,void 0,function*(){const{error:It,session:Le}=yield this.supabase.auth.signUp(ce);It?et(It):(this._session$.next(Le),Fe(Le))}))})}authChanges(ce){this.supabase.auth.onAuthStateChange(ce)}addProject(ce){const Fe=Object.assign({user_id:this._session$.value.user.id},ce);return(0,G.D)(this.supabase.from("projects").insert(Fe,{returning:"representation"})).pipe((0,ne.U)(et=>et.data))}loadProjects(){return(0,G.D)(this.supabase.from("projects").select("\n        *,\n        map_state (\n          name,\n          map_state\n        ),\n        images (\n          id,\n          file_name,\n          description,\n          geom\n        ),\n        features (\n          id,\n          geom,\n          properties\n        )\n      ").order("inserted_at",{ascending:!1})).pipe((0,ne.U)(ce=>ce.data))}addMapViewState(ce,Fe){const et={user_id:this._session$.value.user.id,project_id:ce,name:"test",map_state:Fe};return(0,G.D)(this.supabase.from("map_state").insert(et,{returning:"representation"})).pipe((0,ne.U)(It=>It.data))}addImageInfo(ce){const Fe=Object.assign({user_id:this._session$.value.user.id},ce);return(0,G.D)(this.supabase.from("images").insert(Fe,{returning:"representation"})).pipe((0,ne.U)(et=>et.data))}addFeature(ce){const Fe=Object.assign({user_id:this._session$.value.user.id},ce);return(0,G.D)(this.supabase.from("features").insert(Fe,{returning:"representation"})).pipe((0,ne.U)(et=>et.data))}uploadImage(ce,Fe){return(0,G.D)(this.supabase.storage.from("images").upload(ce,Fe))}downloadImage(ce){return(0,G.D)(this.supabase.storage.from("images").download(ce))}}return Et.\u0275fac=function(ce){return new(ce||Et)},Et.\u0275prov=gi.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})()},2880:(Ye,fe,p)=>{"use strict";p.d(fe,{l:()=>H});var i=p(109),D=p(6785),G=p(5044),ne=p(949);const H={default:[new i.ZP({stroke:new D.Z({color:"blue",width:2}),fill:new G.Z({color:"rgba(61, 235, 245, 0.5)"})}),new i.ZP({image:new ne.Z({radius:10,fill:new G.Z({color:"#3399CC"}),stroke:new D.Z({color:"#fff",width:2})})})],edit:[new i.ZP({stroke:new D.Z({color:"yellow",width:1}),fill:new G.Z({color:"black"})}),new i.ZP({image:new ne.Z({radius:2,fill:new G.Z({color:"black"}),stroke:new D.Z({color:"yellow",width:2})})})],selection:[new i.ZP({stroke:new D.Z({color:"tomato",width:2}),fill:new G.Z({color:"rgba(0, 255, 0, 0.519)"})}),new i.ZP({image:new ne.Z({radius:10,fill:new G.Z({color:"red"}),stroke:new D.Z({color:"#fff",width:2})})})],projectArea:new i.ZP({stroke:new D.Z({color:"red",width:3,lineDash:[4,8]})}),addressInfo:new i.ZP({image:new ne.Z({radius:5,fill:new G.Z({color:"#3399CC"}),stroke:new D.Z({color:"#fff",width:1})})})}},4160:(Ye,fe,p)=>{"use strict";p.d(fe,{bH:()=>G,Tq:()=>H,wE:()=>L,Vv:()=>$,nX:()=>S,$o:()=>P,Ob:()=>x,hB:()=>w,yD:()=>C,pU:()=>m,oV:()=>T,jd:()=>g,fZ:()=>v,Dr:()=>O,Xn:()=>F,HD:()=>M,w6:()=>y,js:()=>le,Ig:()=>he,HV:()=>A});var i=p(5094);const G=(0,i.PH)("[Map Component] Map Loaded"),H=(0,i.PH)("[Map Component] Update view params",(0,i.Ky)()),L="[Map Component] Zoom To Project Area",$="[Map Component] Add Project Area To Map",S="[Map Component] Add Project Features To Map",P="[Map Component] Add Project Features To Map",x="[Map Page] Remove Project Map Overlays",w=(0,i.PH)(L),C=(0,i.PH)($),m=(0,i.PH)(S),T=(0,i.PH)(P),g=(0,i.PH)(x),v="[Map Component] Selected Features",O=(0,i.PH)(v,(0,i.Ky)()),F=(0,i.PH)("[MAP COMPONENT] Drawn Feature",(0,i.Ky)()),M=(0,i.PH)("[MAP COMPONENT] Clear Drawn Feature"),y="[Map Page] Current Location",le=(0,i.PH)(y),he=(0,i.PH)("[Map Page] Current Location Success",(0,i.Ky)()),A=((0,i.PH)("[Map Page] Current Location Fail"),(0,i.PH)("[Map Page] Clear Current Position"))},9202:(Ye,fe,p)=>{"use strict";p.d(fe,{lw:()=>D,m2:()=>S,He:()=>m,iP:()=>T,a_:()=>v,_G:()=>O,TN:()=>B,vM:()=>F});var i=p(5094);const D="[Project Page] Load Projects",S="[Draw Tool Component] Add Project Features",m=(0,i.PH)(D),T=(0,i.PH)("[Project Page] Load Projects Success",(0,i.Ky)()),v=((0,i.PH)("[Project Page] Load Projects Error",(0,i.Ky)()),(0,i.PH)("[Project Page] Selected Project",(0,i.Ky)())),O=(0,i.PH)("[Map Page] Clear Selected Project"),B=((0,i.PH)("[Map Page] Add Project",(0,i.Ky)()),(0,i.PH)(S,(0,i.Ky)())),F=(0,i.PH)("[Draw Tool Component] Add Project Features Success");(0,i.PH)("[Draw Tool Component] Add Project Features Error")},8273:(Ye,fe,p)=>{"use strict";p.d(fe,{C:()=>x});var i=p(3722),D=p(591),G=p(1086),ne=p(2198),H=p(1709),L=p(4850),$=p(5e3),S=p(7914),P=p(2313);let x=(()=>{class w{constructor(m,T){this.supabase=m,this.domSanitizer=T,this._drawnGeometry$=new D.X(null),this.drawnGeometry$=this._drawnGeometry$.asObservable(),this.initialMapState={mapInteraction:"singleSelect",tracking:!1,locating:!1,loadingLayer:!1,loadingFeatureInfo:!1,mapLoaded:!1},this._mapstate$=new D.X(this.initialMapState),this.mapstate$=this._mapstate$.asObservable(),this._selectedFeature$=new D.X(null),this.selectedFeature$=this._selectedFeature$.asObservable(),this.selectedImage$=this.selectedFeature$.pipe((0,ne.h)(g=>!!g),(0,H.zg)(g=>{const v=g.getProperties().file_name;return v?this.supabase.downloadImage(v.replace("images/","")).pipe((0,L.U)(O=>{const k=this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(O.data));return Object.assign(Object.assign({},g),{webView:k})})):(0,G.of)(null)})),this.selectedFeatureAsWKT$=this.selectedFeature$.pipe((0,L.U)(g=>(new i.Z).writeFeature(g,{featureProjection:"EPSG:3857",dataProjection:"EPSG:25832"})))}get viewState(){return this._mapstate$.value.view}updateMapState(m,T){const g=Object.assign(Object.assign({},this._mapstate$.value),{[m]:T});this._mapstate$.next(g)}emitSelectedFeature(m){this._selectedFeature$.next(m)}emitDrawnGeometry(m){this._drawnGeometry$.next(m)}}return w.\u0275fac=function(m){return new(m||w)($.LFG(S.T),$.LFG(P.H7))},w.\u0275prov=$.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},2340:(Ye,fe,p)=>{"use strict";p.d(fe,{N:()=>i});const i={production:!0,supabaseUrl:"https://ktgaesteklunjvbrwjif.supabase.co",supbaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMTk0NDM0MywiZXhwIjoxOTQ3NTIwMzQzfQ.kYu6W0vF-v2Kkx-U7jxFRV6LR_GtjGfbH8KxSpXOU6Q",dawaBaseUrl:"https://api.dataforsyningen.dk"}},8007:(Ye,fe,p)=>{"use strict";var i=p(2313),D=p(5e3),G=p(520),ne=p(618),H=p(9808),L=p(8514),$=p(1737),S=p(3753),P=p(1086),x=p(1221),w=p(8929),C=p(2916),m=p(7876);const T=new C.y(m.Z);var v=p(6787),O=p(4850),k=p(2198),B=p(7545),F=p(2536),y=p(2986),R=p(2994),z=p(353),re=p(2697),le=p(3489),he=p(9312);class A{constructor(st,ut){this.delay=st,this.scheduler=ut}call(st,ut){return ut.subscribe(new W(st,this.delay,this.scheduler))}}class W extends le.L{constructor(st,ut,Xt){super(st),this.delay=ut,this.scheduler=Xt,this.queue=[],this.active=!1,this.errored=!1}static dispatch(st){const ut=st.source,Xt=ut.queue,xn=st.scheduler,Nn=st.destination;for(;Xt.length>0&&Xt[0].time-xn.now()<=0;)Xt.shift().notification.observe(Nn);if(Xt.length>0){const Zn=Math.max(0,Xt[0].time-xn.now());this.schedule(st,Zn)}else this.unsubscribe(),ut.active=!1}_schedule(st){this.active=!0,this.destination.add(st.schedule(W.dispatch,this.delay,{source:this,destination:this.destination,scheduler:st}))}scheduleNotification(st){if(!0===this.errored)return;const ut=this.scheduler,Xt=new te(ut.now()+this.delay,st);this.queue.push(Xt),!1===this.active&&this._schedule(ut)}_next(st){this.scheduleNotification(he.P.createNext(st))}_error(st){this.errored=!0,this.queue=[],this.destination.error(st),this.unsubscribe()}_complete(){this.scheduleNotification(he.P.createComplete()),this.unsubscribe()}}class te{constructor(st,ut){this.time=st,this.notification=ut}}const oe="Service workers are disabled or not supported by this browser";class Ie{constructor(st){if(this.serviceWorker=st,st){const Xt=(0,S.R)(st,"controllerchange").pipe((0,O.U)(()=>st.controller)),xn=(0,L.P)(()=>(0,P.of)(st.controller)),Nn=(0,x.z)(xn,Xt);this.worker=Nn.pipe((0,k.h)(Fr=>!!Fr)),this.registration=this.worker.pipe((0,B.w)(()=>st.getRegistration()));const Tr=(0,S.R)(st,"message").pipe((0,O.U)(Fr=>Fr.data)).pipe((0,k.h)(Fr=>Fr&&Fr.type)).pipe((0,F.O)(new w.xQ));Tr.connect(),this.events=Tr}else this.worker=this.events=this.registration=(oe,(0,L.P)(()=>(0,$._)(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(st,ut){return this.worker.pipe((0,y.q)(1),(0,R.b)(Xt=>{Xt.postMessage(Object.assign({action:st},ut))})).toPromise().then(()=>{})}postMessageWithOperation(st,ut,Xt){const xn=this.waitForOperationCompleted(Xt),Nn=this.postMessage(st,ut);return Promise.all([Nn,xn]).then(([,Zn])=>Zn)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(st){let ut;return ut="string"==typeof st?Xt=>Xt.type===st:Xt=>st.includes(Xt.type),this.events.pipe((0,k.h)(ut))}nextEventOfType(st){return this.eventsOfType(st).pipe((0,y.q)(1))}waitForOperationCompleted(st){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,k.h)(ut=>ut.nonce===st),(0,y.q)(1),(0,O.U)(ut=>{if(void 0!==ut.result)return ut.result;throw new Error(ut.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ae=(()=>{class Xe{constructor(ut){if(this.sw=ut,this.subscriptionChanges=new w.xQ,!ut.isEnabled)return this.messages=T,this.notificationClicks=T,void(this.subscription=T);this.messages=this.sw.eventsOfType("PUSH").pipe((0,O.U)(xn=>xn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,O.U)(xn=>xn.data)),this.pushManager=this.sw.registration.pipe((0,O.U)(xn=>xn.pushManager));const Xt=this.pushManager.pipe((0,B.w)(xn=>xn.getSubscription()));this.subscription=(0,v.T)(Xt,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(ut){if(!this.sw.isEnabled)return Promise.reject(new Error(oe));const Xt={userVisibleOnly:!0};let xn=this.decodeBase64(ut.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Nn=new Uint8Array(new ArrayBuffer(xn.length));for(let Zn=0;Zn<xn.length;Zn++)Nn[Zn]=xn.charCodeAt(Zn);return Xt.applicationServerKey=Nn,this.pushManager.pipe((0,B.w)(Zn=>Zn.subscribe(Xt)),(0,y.q)(1)).toPromise().then(Zn=>(this.subscriptionChanges.next(Zn),Zn))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,y.q)(1),(0,B.w)(Xt=>{if(null===Xt)throw new Error("Not subscribed to push notifications.");return Xt.unsubscribe().then(xn=>{if(!xn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(oe))}decodeBase64(ut){return atob(ut)}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(D.LFG(Ie))},Xe.\u0275prov=D.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})(),_e=(()=>{class Xe{constructor(ut){if(this.sw=ut,!ut.isEnabled)return this.versionUpdates=T,this.available=T,this.activated=T,void(this.unrecoverable=T);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,k.h)(Xt=>"VERSION_READY"===Xt.type),(0,O.U)(Xt=>({type:"UPDATE_AVAILABLE",current:Xt.currentVersion,available:Xt.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(oe));const ut=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:ut},ut)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(oe));const ut=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:ut},ut)}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(D.LFG(Ie))},Xe.\u0275prov=D.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();class Ee{}const Pe=new D.OlP("NGSW_REGISTER_SCRIPT");function Ge(Xe,st,ut,Xt){return()=>{if(!(0,H.NF)(Xt)||!("serviceWorker"in navigator)||!1===ut.enabled)return;let Nn;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof ut.registrationStrategy)Nn=ut.registrationStrategy();else{const[Xn,...wr]=(ut.registrationStrategy||"registerWhenStable:30000").split(":");switch(Xn){case"registerImmediately":Nn=(0,P.of)(null);break;case"registerWithDelay":Nn=Ue(+wr[0]||0);break;case"registerWhenStable":Nn=wr[0]?(0,v.T)(Be(Xe),Ue(+wr[0])):Be(Xe);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${ut.registrationStrategy}`)}}Xe.get(D.R0b).runOutsideAngular(()=>Nn.pipe((0,y.q)(1)).subscribe(()=>navigator.serviceWorker.register(st,{scope:ut.scope}).catch(Xn=>console.error("Service worker registration failed with:",Xn))))}}function Ue(Xe){return(0,P.of)(null).pipe(function(Xe,st=z.P){const Xt=(0,re.J)(Xe)?+Xe-st.now():Math.abs(Xe);return xn=>xn.lift(new A(Xt,st))}(Xe))}function Be(Xe){return Xe.get(D.z2F).isStable.pipe((0,k.h)(ut=>ut))}function Ce(Xe,st){return new Ie((0,H.NF)(st)&&!1!==Xe.enabled?navigator.serviceWorker:void 0)}let ke=(()=>{class Xe{static register(ut,Xt={}){return{ngModule:Xe,providers:[{provide:Pe,useValue:ut},{provide:Ee,useValue:Xt},{provide:Ie,useFactory:Ce,deps:[Ee,D.Lbi]},{provide:D.ip1,useFactory:Ge,deps:[D.zs3,Pe,Ee,D.Lbi],multi:!0}]}}}return Xe.\u0275fac=function(ut){return new(ut||Xe)},Xe.\u0275mod=D.oAB({type:Xe}),Xe.\u0275inj=D.cJS({providers:[ae,_e]}),Xe})();var qe=p(3349),at=p(5094);class Tt{call(st,ut){return ut.subscribe(new Ht(st))}}class Ht extends le.L{_next(st){}}class fn{call(st,ut){return ut.subscribe(new He(st))}}class He extends le.L{constructor(st){super(st)}_next(st){this.destination.next(he.P.createNext(st))}_error(st){const ut=this.destination;ut.next(he.P.createError(st)),ut.complete()}_complete(){const st=this.destination;st.next(he.P.createComplete()),st.complete()}}var bt=p(7221),nt=p(2654);function Ut(Xe,st,ut,Xt){return xn=>xn.lift(new Lt(Xe,st,ut,Xt))}class Lt{constructor(st,ut,Xt,xn){this.keySelector=st,this.elementSelector=ut,this.durationSelector=Xt,this.subjectSelector=xn}call(st,ut){return ut.subscribe(new vn(st,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class vn extends le.L{constructor(st,ut,Xt,xn,Nn){super(st),this.keySelector=ut,this.elementSelector=Xt,this.durationSelector=xn,this.subjectSelector=Nn,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(st){let ut;try{ut=this.keySelector(st)}catch(Xt){return void this.error(Xt)}this._group(st,ut)}_group(st,ut){let Xt=this.groups;Xt||(Xt=this.groups=new Map);let Nn,xn=Xt.get(ut);if(this.elementSelector)try{Nn=this.elementSelector(st)}catch(Zn){this.error(Zn)}else Nn=st;if(!xn){xn=this.subjectSelector?this.subjectSelector():new w.xQ,Xt.set(ut,xn);const Zn=new kt(ut,xn,this);if(this.destination.next(Zn),this.durationSelector){let Xn;try{Xn=this.durationSelector(new kt(ut,xn))}catch(wr){return void this.error(wr)}this.add(Xn.subscribe(new Pn(ut,xn,this)))}}xn.closed||xn.next(Nn)}_error(st){const ut=this.groups;ut&&(ut.forEach((Xt,xn)=>{Xt.error(st)}),ut.clear()),this.destination.error(st)}_complete(){const st=this.groups;st&&(st.forEach((ut,Xt)=>{ut.complete()}),st.clear()),this.destination.complete()}removeGroup(st){this.groups.delete(st)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Pn extends le.L{constructor(st,ut,Xt){super(ut),this.key=st,this.group=ut,this.parent=Xt}_next(st){this.complete()}_unsubscribe(){const{parent:st,key:ut}=this;this.key=this.parent=null,st&&st.removeGroup(ut)}}class kt extends C.y{constructor(st,ut,Xt){super(),this.key=st,this.groupSubject=ut,this.refCountSubscription=Xt}_subscribe(st){const ut=new nt.w,{refCountSubscription:Xt,groupSubject:xn}=this;return Xt&&!Xt.closed&&ut.add(new dt(Xt)),ut.add(xn.subscribe(st)),ut}}class dt extends nt.w{constructor(st){super(),this.parent=st,st.count++}unsubscribe(){const st=this.parent;!st.closed&&!this.closed&&(super.unsubscribe(),st.count-=1,0===st.count&&st.attemptedToUnsubscribe&&st.unsubscribe())}}var ht=p(1709),ot=p(5254),_t=p(1177);function $t(Xe,st){return st?ut=>ut.pipe($t((Xt,xn)=>(0,ot.D)(Xe(Xt,xn)).pipe((0,O.U)((Nn,Zn)=>st(Xt,Nn,xn,Zn))))):ut=>ut.lift(new Rt(Xe))}class Rt{constructor(st){this.project=st}call(st,ut){return ut.subscribe(new Wt(st,this.project))}}class Wt extends _t.Ds{constructor(st,ut){super(st),this.project=ut,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(st){this.hasSubscription||this.tryNext(st)}tryNext(st){let ut;const Xt=this.index++;try{ut=this.project(st,Xt)}catch(xn){return void this.destination.error(xn)}this.hasSubscription=!0,this._innerSub(ut)}_innerSub(st){const ut=new _t.IY(this),Xt=this.destination;Xt.add(ut);const xn=(0,_t.ft)(st,ut);xn!==ut&&Xt.add(xn)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(st){this.destination.next(st)}notifyError(st){this.destination.error(st)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class Gn{call(st,ut){return ut.subscribe(new en(st))}}class en extends le.L{constructor(st){super(st)}_next(st){st.observe(this.destination)}}const Hn={dispatch:!0,useEffectsErrorHandler:!0},On="__@ngrx/effects_create__";function Vn(Xe,st){const ut=Xe(),Xt=Object.assign(Object.assign({},Hn),st);return Object.defineProperty(ut,On,{value:Xt}),ut}function Fn(Xe){return Object.getOwnPropertyNames(Xe).filter(Xt=>!(!Xe[Xt]||!Xe[Xt].hasOwnProperty(On))&&Xe[Xt][On].hasOwnProperty("dispatch")).map(Xt=>Object.assign({propertyName:Xt},Xe[Xt][On]))}function er(Xe){return Object.getPrototypeOf(Xe)}const gr="__@ngrx/effects__";function Ar(Xe){return(0,at.qC)(Vr,er)(Xe)}function Vr(Xe){return function(Xe){return Xe.constructor.hasOwnProperty(gr)}(Xe)?Xe.constructor[gr]:[]}function Wr(Xe,st,ut){const Xt=er(Xe).constructor.name,xn=function(Xe){return[Ar,Fn].reduce((ut,Xt)=>ut.concat(Xt(Xe)),[])}(Xe).map(({propertyName:Nn,dispatch:Zn,useEffectsErrorHandler:Xn})=>{const wr="function"==typeof Xe[Nn]?Xe[Nn]():Xe[Nn],Tr=Xn?ut(wr,st):wr;return!1===Zn?Tr.pipe(function(st){return st.lift(new Tt)}):Tr.pipe(function(st){return st.lift(new fn)}).pipe((0,O.U)(wi=>({effect:Xe[Nn],notification:wi,propertyName:Nn,sourceName:Xt,sourceInstance:Xe})))});return(0,v.T)(...xn)}function Mr(Xe,st,ut=10){return Xe.pipe((0,bt.K)(Xt=>(st&&st.handleError(Xt),ut<=1?Xe:Mr(Xe,st,ut-1))))}let Qr=(()=>{class Xe extends C.y{constructor(ut){super(),ut&&(this.source=ut)}lift(ut){const Xt=new Xe;return Xt.source=this,Xt.operator=ut,Xt}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(D.LFG(at.Y$))},Xe.\u0275prov=D.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();function Rr(...Xe){return(0,k.h)(st=>Xe.some(ut=>"string"==typeof ut?ut===st.type:ut.type===st.type))}function ln(Xe){return zt(Xe,"ngrxOnInitEffects")}function zt(Xe,st){return Xe&&st in Xe&&"function"==typeof Xe[st]}const un=new D.OlP("@ngrx/effects Internal Root Guard"),En=new D.OlP("@ngrx/effects User Provided Effects"),dn=new D.OlP("@ngrx/effects Internal Root Effects"),Un=new D.OlP("@ngrx/effects Root Effects"),Mn=new D.OlP("@ngrx/effects Internal Feature Effects"),cn=new D.OlP("@ngrx/effects Feature Effects"),Bn=new D.OlP("@ngrx/effects Effects Error Handler");let ar=(()=>{class Xe extends w.xQ{constructor(ut,Xt){super(),this.errorHandler=ut,this.effectsErrorHandler=Xt}addEffects(ut){this.next(ut)}toActions(){return this.pipe(Ut(er),(0,ht.zg)(ut=>ut.pipe(Ut($r))),(0,ht.zg)(ut=>{const Xt=ut.pipe($t(Nn=>function(Xe,st){return ut=>{const Xt=Wr(ut,Xe,st);return function(Xe){return zt(Xe,"ngrxOnRunEffects")}(ut)?ut.ngrxOnRunEffects(Xt):Xt}}(this.errorHandler,this.effectsErrorHandler)(Nn)),(0,O.U)(Nn=>(function(Xe,st){if("N"===Xe.notification.kind){const ut=Xe.notification.value;!function(Xe){return"function"!=typeof Xe&&Xe&&Xe.type&&"string"==typeof Xe.type}(ut)&&st.handleError(new Error(`Effect ${function({propertyName:Xe,sourceInstance:st,sourceName:ut}){const Xt="function"==typeof st[Xe];return`"${ut}.${String(Xe)}${Xt?"()":""}"`}(Xe)} dispatched an invalid action: ${function(Xe){try{return JSON.stringify(Xe)}catch(st){return Xe}}(ut)}`))}}(Nn,this.errorHandler),Nn.notification)),(0,k.h)(Nn=>"N"===Nn.kind&&null!=Nn.value),function(st){return st.lift(new Gn)}),xn=ut.pipe((0,y.q)(1),(0,k.h)(ln),(0,O.U)(Nn=>Nn.ngrxOnInitEffects()));return(0,v.T)(Xt,xn)}))}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(D.LFG(D.qLn),D.LFG(Bn))},Xe.\u0275prov=D.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();function $r(Xe){return function(Xe){return zt(Xe,"ngrxOnIdentifyEffects")}(Xe)?Xe.ngrxOnIdentifyEffects():""}let Dr=(()=>{class Xe{constructor(ut,Xt){this.effectSources=ut,this.store=Xt,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(D.LFG(ar),D.LFG(at.yh))},Xe.\u0275prov=D.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();const Et="@ngrx/effects/init";(0,at.PH)(Et);let ce=(()=>{class Xe{constructor(ut,Xt,xn,Nn,Zn,Xn,wr){this.sources=ut,Xt.start(),Nn.forEach(Tr=>ut.addEffects(Tr)),xn.dispatch({type:Et})}addEffects(ut){this.sources.addEffects(ut)}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(D.LFG(ar),D.LFG(Dr),D.LFG(at.yh),D.LFG(Un),D.LFG(at.cr,8),D.LFG(at.CK,8),D.LFG(un,8))},Xe.\u0275mod=D.oAB({type:Xe}),Xe.\u0275inj=D.cJS({}),Xe})(),Fe=(()=>{class Xe{constructor(ut,Xt,xn,Nn){Xt.forEach(Zn=>Zn.forEach(Xn=>ut.addEffects(Xn)))}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(D.LFG(ce),D.LFG(cn),D.LFG(at.cr,8),D.LFG(at.CK,8))},Xe.\u0275mod=D.oAB({type:Xe}),Xe.\u0275inj=D.cJS({}),Xe})(),et=(()=>{class Xe{static forFeature(ut=[]){return{ngModule:Fe,providers:[ut,{provide:Mn,multi:!0,useValue:ut},{provide:En,multi:!0,useValue:[]},{provide:cn,multi:!0,useFactory:It,deps:[D.zs3,Mn,En]}]}}static forRoot(ut=[]){return{ngModule:ce,providers:[{provide:Bn,useValue:Mr},Dr,ar,Qr,ut,{provide:dn,useValue:[ut]},{provide:un,useFactory:Ct,deps:[[Dr,new D.FiY,new D.tp0],[dn,new D.PiD]]},{provide:En,multi:!0,useValue:[]},{provide:Un,useFactory:It,deps:[D.zs3,dn,En]}]}}}return Xe.\u0275fac=function(ut){return new(ut||Xe)},Xe.\u0275mod=D.oAB({type:Xe}),Xe.\u0275inj=D.cJS({}),Xe})();function It(Xe,st,ut){const Xt=[];for(const xn of st)Xt.push(...xn);for(const xn of ut)Xt.push(...xn);return function(Xe,st){return st.map(ut=>Xe.get(ut))}(Xe,Xt)}function Ct(Xe,st){if((1!==st.length||0!==st[0].length)&&Xe)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Zt=p(9565);const Se=[{path:"",loadChildren:()=>p.e(1910).then(p.bind(p,1910)).then(Xe=>Xe.TabsPageModule)},{path:"login",loadChildren:()=>Promise.all([p.e(8592),p.e(8802)]).then(p.bind(p,8802)).then(Xe=>Xe.LoginPageModule)}];let Je=(()=>{class Xe{}return Xe.\u0275fac=function(ut){return new(ut||Xe)},Xe.\u0275mod=D.oAB({type:Xe}),Xe.\u0275inj=D.cJS({imports:[[ne.Bz.forRoot(Se,{preloadingStrategy:ne.wm})],ne.Bz]}),Xe})();var je=p(9202),it=p(7914);let Ot=(()=>{class Xe{constructor(ut,Xt){this.supabase=ut,this.store=Xt}ngOnInit(){this.store.dispatch((0,je.He)()),this.supabase.authChanges((ut,Xt)=>{"SIGNED_IN"===ut&&this.store.dispatch((0,je.He)())})}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(D.Y36(it.T),D.Y36(at.yh))},Xe.\u0275cmp=D.Xpm({type:Xe,selectors:[["app-root"]],decls:2,vars:0,template:function(ut,Xt){1&ut&&(D.TgZ(0,"ion-app"),D._UZ(1,"ion-router-outlet"),D.qZA())},directives:[qe.dr,qe.jP],styles:[""],changeDetection:0}),Xe})();const Vt=(0,at.Lq)({projects:[],selectedProject:null,isLoading:!1,isLoadingSuccess:!1,isLoadingFailure:!1},(0,at.on)(je.He,Xe=>Xe),(0,at.on)(je.iP,(Xe,{projects:st})=>Object.assign(Object.assign({},Xe),{projects:st})),(0,at.on)(je.a_,(Xe,{id:st})=>Object.assign(Object.assign({},Xe),{selectedProject:Xe.projects.find(ut=>ut.id===st)})),(0,at.on)(je._G,Xe=>Object.assign(Object.assign({},Xe),{selectedProject:null})));var an=p(4160);const Cn=(0,at.Lq)({mapLoaded:!1,viewParams:null,drawnFeature:null,selectedFeatures:null,currentPosition:null},(0,at.on)(an.bH,Xe=>Object.assign(Object.assign({},Xe),{mapLoaded:!0})),(0,at.on)(an.Xn,(Xe,{feature:st})=>Object.assign(Object.assign({},Xe),{drawnFeature:st})),(0,at.on)(an.HD,Xe=>Object.assign(Object.assign({},Xe),{drawnFeature:null})),(0,at.on)(an.Dr,(Xe,{features:st})=>Object.assign(Object.assign({},Xe),{selectedFeatures:st})),(0,at.on)(an.Ig,(Xe,{position:st})=>Object.assign(Object.assign({},Xe),{currentPosition:st})),(0,at.on)(an.HV,Xe=>Object.assign(Object.assign({},Xe),{currentPosition:null})),(0,at.on)(an.Tq,(Xe,{viewParams:st})=>Object.assign(Object.assign({},Xe),{viewParams:st})));var Wn=p(5357);const Lr=(0,at.Lq)({activatedMapTools:[],photoPosition:null},(0,at.on)(Wn.Z9,(Xe,{tool:st})=>Object.assign(Object.assign({},Xe),{activatedMapTools:[...Xe.activatedMapTools,st]})),(0,at.on)(Wn.DA,(Xe,{tool:st})=>Object.assign(Object.assign({},Xe),{activatedMapTools:[st]})),(0,at.on)(Wn.mZ,(Xe,{tool:st})=>Object.assign(Object.assign({},Xe),{activatedMapTools:Xe.activatedMapTools.includes(st)?Xe.activatedMapTools.filter(ut=>ut!==st):[st]})),(0,at.on)(Wn.lu,(Xe,{tool:st})=>Object.assign(Object.assign({},Xe),{activatedMapTools:Xe.activatedMapTools.filter(ut=>ut!==st)})),(0,at.on)(Wn.ZO,Xe=>Object.assign(Object.assign({},Xe),{activatedMapTools:[]})));var Or=p(6939);const Fi=(0,at.Lq)({photo:null,description:"",geom:null},(0,at.on)(Or.Aj,(Xe,{geom:st})=>Object.assign(Object.assign({},Xe),{geom:st})),(0,at.on)(Or.j0,(Xe,{photo:st})=>Object.assign(Object.assign({},Xe),{photo:st})));var Ai=p(8200);const Io={inEditMode:!1,showBack:!0,showDelete:!0,showSave:!0,showUndo:!0},so=(0,at.Lq)(Io,(0,at.on)(Ai.vs,(Xe,{change:st})=>Object.assign(Object.assign({},Xe),{[st.prop]:st.value})),(0,at.on)(Ai.T_,()=>Io)),fo={project:Vt,map:Cn,mapTools:Lr,photoTool:Fi,drawTool:so};var to=p(8896),Bi=p(7168),bo=p(8222);let Eo=(()=>{class Xe{constructor(ut,Xt,xn,Nn){this.actions$=ut,this.store=Xt,this.mapService=xn,this.supabase=Nn,this.loadProjects$=Vn(()=>this.actions$.pipe(Rr(je.lw),(0,ht.zg)(()=>this.supabase.loadProjects().pipe((0,O.U)(Zn=>je.iP({projects:Zn})),(0,bt.K)(()=>to.E))))),this.addFeature$=Vn(()=>this.actions$.pipe(Rr(je.m2),(0,Bi.M)(this.store.select("project","selectedProject"),this.store.select("map","drawnFeature")),(0,B.w)(([{properties:Xn},wr,Tr])=>{const Fr=this.mapService.featureAsWKT(Tr);return this.supabase.addFeature({geom:Fr,properties:Xn,project_id:wr.id}).pipe((0,O.U)(()=>je.vM()),(0,bt.K)(()=>to.E))})))}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(D.LFG(Qr),D.LFG(at.yh),D.LFG(bo.S),D.LFG(it.T))},Xe.\u0275prov=D.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();var ts=p(655),xo=p(2880),ao=p(7042);let ye=(()=>{class Xe{constructor(ut,Xt,xn,Nn){this.actions$=ut,this.store=Xt,this.mapService=xn,this.geolocationService=Nn,this.zoomToProjectArea$=Vn(()=>this.actions$.pipe(Rr(an.wE),(0,Bi.M)(this.store.select("project","selectedProject")),(0,R.b)(Zn=>{const Xn=Zn[1].map_state[0].map_state;this.mapService.flyTo(Xn.center,Xn.zoom)}),(0,bt.K)(()=>to.E)),{dispatch:!1}),this.addProjectAreaToMap$=Vn(()=>this.actions$.pipe(Rr(an.Vv),(0,B.w)(()=>this.store.select("project","selectedProject")),(0,R.b)(Zn=>{this.mapService.addGeoJSON({type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:25832"}},features:[Zn.geom]},"projectArea","EPSG:25832",xo.l.projectArea)})),{dispatch:!1}),this.addProjectFeaturesToMap$=Vn(()=>this.actions$.pipe(Rr(an.nX),(0,Bi.M)(this.store.select("project","selectedProject")),(0,R.b)(([Zn,Xn])=>{const wr=Xn.features.map(Fr=>{const{geom:wi}=Fr;return{type:"Feature",geometry:wi,properties:(0,ts._T)(Fr,["geom"])}});this.mapService.addGeoJSON({type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:25832"}},features:wr},"projectFeatures","EPSG:25832")})),{dispatch:!1}),this.addProjectPhotosToMap$=Vn(()=>this.actions$.pipe(Rr(an.$o),(0,Bi.M)(this.store.select("project","selectedProject")),(0,R.b)(([Zn,Xn])=>{const wr=Xn.images.map(Fr=>{const{geom:wi}=Fr;return{type:"Feature",geometry:wi,properties:(0,ts._T)(Fr,["geom"])}});this.mapService.addGeoJSON({type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:25832"}},features:wr},"projectPhotos","EPSG:25832")})),{dispatch:!1}),this.removeProjectMapOverlays$=Vn(()=>this.actions$.pipe(Rr(an.Ob),(0,R.b)(()=>this.mapService.removeProjectOverlays())),{dispatch:!1}),this.zoomToCurrentPosition$=Vn(()=>this.actions$.pipe(Rr(an.w6),(0,B.w)(()=>this.geolocationService.getPosition().pipe((0,R.b)(Zn=>{this.mapService.flyTo([Zn.coords.longitude,Zn.coords.latitude])}),(0,O.U)(Zn=>an.Ig({position:Zn})),(0,bt.K)(()=>to.E))))),this.selectedFeature$=Vn(()=>this.actions$.pipe(Rr(an.fZ)),{dispatch:!1})}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(D.LFG(Qr),D.LFG(at.yh),D.LFG(bo.S),D.LFG(ao._))},Xe.\u0275prov=D.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();var we=p(373),$e=p(7224),Ze=p(6883);let At=(()=>{class Xe{constructor(ut,Xt,xn,Nn,Zn){this.actions$=ut,this.store=Xt,this.photoService=xn,this.mapService=Nn,this.supabase=Zn,this.photoPosition$=Vn(()=>this.actions$.pipe(Rr(Or.FI),(0,B.w)(()=>this.store.select("map","viewParams").pipe((0,we.j)("center"),(0,$e.P)())),(0,O.U)(Xn=>{const wr=`POINT(${this.mapService.transform(Xn).join(" ")})`;return Or.Aj({geom:wr})}))),this.takePhoto$=Vn(()=>this.actions$.pipe(Rr(Or.qd),(0,B.w)(()=>this.photoService.takePhoto()),(0,B.w)(Xn=>this.photoService.photoToBlob(Xn)),(0,O.U)(Xn=>Or.j0({photo:Xn})))),this.addPhoto$=Vn(()=>this.actions$.pipe(Rr(Or.QU),(0,Bi.M)(this.store.select("photoTool","photo"),this.store.select("photoTool","geom"),this.store.select("project","selectedProject")),(0,B.w)(([Xn,wr,Tr,Fr])=>{const ei=`${(new Date).getTime()}.png`;return this.supabase.uploadImage(ei,wr).pipe((0,O.U)(li=>({file_name:li.data.Key,description:"",geom:Tr,project_id:Fr.id})))}),(0,B.w)(Xn=>this.supabase.addImageInfo(Xn))),{dispatch:!1})}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(D.LFG(Qr),D.LFG(at.yh),D.LFG(Ze.T),D.LFG(bo.S),D.LFG(it.T))},Xe.\u0275prov=D.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();var Pt=p(2340);let bn=(()=>{class Xe{}return Xe.\u0275fac=function(ut){return new(ut||Xe)},Xe.\u0275mod=D.oAB({type:Xe,bootstrap:[Ot]}),Xe.\u0275inj=D.cJS({providers:[{provide:ne.wN,useClass:qe.r4}],imports:[[i.b2,G.JF,Je,qe.Pc.forRoot(),at.Aw.forRoot(fo),et.forRoot([Eo,ye,At]),Zt.FT.instrument({maxAge:25,logOnly:Pt.N.production}),ke.register("ngsw-worker.js",{enabled:Pt.N.production,registrationStrategy:"registerWhenStable:30000"})]]}),Xe})();var hn=p(6738);Pt.N.production&&(0,D.G48)(),i.q6().bootstrapModule(bn).catch(Xe=>console.log(Xe)),window,(0,hn.a)().then(()=>{(0,hn.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[32,"keyup","handleBackdropKeyUp"]]]]]],undefined)})},8472:function(Ye,fe){var G,p="undefined"!=typeof self?self:this,i=function(){function G(){this.fetch=!1,this.DOMException=p.DOMException}return G.prototype=p,new G}();G=i,function(H){var L_searchParams="URLSearchParams"in G,L_iterable="Symbol"in G&&"iterator"in Symbol,L_blob="FileReader"in G&&"Blob"in G&&function(){try{return new Blob,!0}catch(A){return!1}}(),L_formData="FormData"in G,L_arrayBuffer="ArrayBuffer"in G;if(L_arrayBuffer)var S=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],P=ArrayBuffer.isView||function(A){return A&&S.indexOf(Object.prototype.toString.call(A))>-1};function x(A){if("string"!=typeof A&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(A))throw new TypeError("Invalid character in header field name");return A.toLowerCase()}function w(A){return"string"!=typeof A&&(A=String(A)),A}function C(A){var W={next:function(){var te=A.shift();return{done:void 0===te,value:te}}};return L_iterable&&(W[Symbol.iterator]=function(){return W}),W}function m(A){this.map={},A instanceof m?A.forEach(function(W,te){this.append(te,W)},this):Array.isArray(A)?A.forEach(function(W){this.append(W[0],W[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(W){this.append(W,A[W])},this)}function T(A){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}function g(A){return new Promise(function(W,te){A.onload=function(){W(A.result)},A.onerror=function(){te(A.error)}})}function v(A){var W=new FileReader,te=g(W);return W.readAsArrayBuffer(A),te}function B(A){if(A.slice)return A.slice(0);var W=new Uint8Array(A.byteLength);return W.set(new Uint8Array(A)),W.buffer}function F(){return this.bodyUsed=!1,this._initBody=function(A){this._bodyInit=A,A?"string"==typeof A?this._bodyText=A:L_blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:L_formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:L_searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():L_arrayBuffer&&L_blob&&function(A){return A&&DataView.prototype.isPrototypeOf(A)}(A)?(this._bodyArrayBuffer=B(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):L_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||P(A))?this._bodyArrayBuffer=B(A):this._bodyText=A=Object.prototype.toString.call(A):this._bodyText="",this.headers.get("content-type")||("string"==typeof A?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):L_searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},L_blob&&(this.blob=function(){var A=T(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var A=T(this);if(A)return A;if(this._bodyBlob)return function(A){var W=new FileReader,te=g(W);return W.readAsText(A),te}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(A){for(var W=new Uint8Array(A),te=new Array(W.length),oe=0;oe<W.length;oe++)te[oe]=String.fromCharCode(W[oe]);return te.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},L_formData&&(this.formData=function(){return this.text().then(z)}),this.json=function(){return this.text().then(JSON.parse)},this}m.prototype.append=function(A,W){A=x(A),W=w(W);var te=this.map[A];this.map[A]=te?te+", "+W:W},m.prototype.delete=function(A){delete this.map[x(A)]},m.prototype.get=function(A){return A=x(A),this.has(A)?this.map[A]:null},m.prototype.has=function(A){return this.map.hasOwnProperty(x(A))},m.prototype.set=function(A,W){this.map[x(A)]=w(W)},m.prototype.forEach=function(A,W){for(var te in this.map)this.map.hasOwnProperty(te)&&A.call(W,this.map[te],te,this)},m.prototype.keys=function(){var A=[];return this.forEach(function(W,te){A.push(te)}),C(A)},m.prototype.values=function(){var A=[];return this.forEach(function(W){A.push(W)}),C(A)},m.prototype.entries=function(){var A=[];return this.forEach(function(W,te){A.push([te,W])}),C(A)},L_iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function R(A,W){var te=(W=W||{}).body;if(A instanceof R){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,W.headers||(this.headers=new m(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!te&&null!=A._bodyInit&&(te=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=W.credentials||this.credentials||"same-origin",(W.headers||!this.headers)&&(this.headers=new m(W.headers)),this.method=function(A){var W=A.toUpperCase();return M.indexOf(W)>-1?W:A}(W.method||this.method||"GET"),this.mode=W.mode||this.mode||null,this.signal=W.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&te)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(te)}function z(A){var W=new FormData;return A.trim().split("&").forEach(function(te){if(te){var oe=te.split("="),Te=oe.shift().replace(/\+/g," "),Ie=oe.join("=").replace(/\+/g," ");W.append(decodeURIComponent(Te),decodeURIComponent(Ie))}}),W}function re(A){var W=new m;return A.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(oe){var Te=oe.split(":"),Ie=Te.shift().trim();if(Ie){var ae=Te.join(":").trim();W.append(Ie,ae)}}),W}function le(A,W){W||(W={}),this.type="default",this.status=void 0===W.status?200:W.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in W?W.statusText:"OK",this.headers=new m(W.headers),this.url=W.url||"",this._initBody(A)}R.prototype.clone=function(){return new R(this,{body:this._bodyInit})},F.call(R.prototype),F.call(le.prototype),le.prototype.clone=function(){return new le(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},le.error=function(){var A=new le(null,{status:0,statusText:""});return A.type="error",A};var he=[301,302,303,307,308];le.redirect=function(A,W){if(-1===he.indexOf(W))throw new RangeError("Invalid status code");return new le(null,{status:W,headers:{location:A}})},H.DOMException=G.DOMException;try{new H.DOMException}catch(A){H.DOMException=function(W,te){this.message=W,this.name=te;var oe=Error(W);this.stack=oe.stack},H.DOMException.prototype=Object.create(Error.prototype),H.DOMException.prototype.constructor=H.DOMException}function xe(A,W){return new Promise(function(te,oe){var Te=new R(A,W);if(Te.signal&&Te.signal.aborted)return oe(new H.DOMException("Aborted","AbortError"));var Ie=new XMLHttpRequest;function ae(){Ie.abort()}Ie.onload=function(){var _e={status:Ie.status,statusText:Ie.statusText,headers:re(Ie.getAllResponseHeaders()||"")};_e.url="responseURL"in Ie?Ie.responseURL:_e.headers.get("X-Request-URL"),te(new le("response"in Ie?Ie.response:Ie.responseText,_e))},Ie.onerror=function(){oe(new TypeError("Network request failed"))},Ie.ontimeout=function(){oe(new TypeError("Network request failed"))},Ie.onabort=function(){oe(new H.DOMException("Aborted","AbortError"))},Ie.open(Te.method,Te.url,!0),"include"===Te.credentials?Ie.withCredentials=!0:"omit"===Te.credentials&&(Ie.withCredentials=!1),"responseType"in Ie&&L_blob&&(Ie.responseType="blob"),Te.headers.forEach(function(_e,Ee){Ie.setRequestHeader(Ee,_e)}),Te.signal&&(Te.signal.addEventListener("abort",ae),Ie.onreadystatechange=function(){4===Ie.readyState&&Te.signal.removeEventListener("abort",ae)}),Ie.send(void 0===Te._bodyInit?null:Te._bodyInit)})}xe.polyfill=!0,G.fetch||(G.fetch=xe,G.Headers=m,G.Request=R,G.Response=le),H.Headers=m,H.Request=R,H.Response=le,H.fetch=xe,Object.defineProperty(H,"__esModule",{value:!0})}({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var D=i;(fe=D.fetch).default=D.fetch,fe.fetch=D.fetch,fe.Headers=D.Headers,fe.Request=D.Request,fe.Response=D.Response,Ye.exports=fe},8878:Ye=>{var fe=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};Ye.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(p){return fe()}try{return __global__||fe()}finally{delete Object.prototype.__global__}}()},6310:function(Ye){Ye.exports=function(){"use strict";var fe=Function.prototype.toString,p=Object.create,i=Object.defineProperty,D=Object.getOwnPropertyDescriptor,G=Object.getOwnPropertyNames,ne=Object.getOwnPropertySymbols,H=Object.getPrototypeOf,L=Object.prototype,$=L.hasOwnProperty,S=L.propertyIsEnumerable,P_SYMBOL_PROPERTIES="function"==typeof ne,P_WEAKMAP="function"==typeof WeakMap,w=function(k,B){if(!k.constructor)return p(null);var F=k.constructor,M=k.__proto__||H(k);if(F===B.Object)return M===B.Object.prototype?{}:p(M);if(~fe.call(F).indexOf("[native code]"))try{return new F}catch(y){}return p(M)},C=function(k,B,F,M){var y=w(k,B);for(var R in M.set(k,y),k)$.call(k,R)&&(y[R]=F(k[R],M));if(P_SYMBOL_PROPERTIES){var z=ne(k),re=z.length;if(re)for(var le=0,he=void 0;le<re;le++)S.call(k,he=z[le])&&(y[he]=F(k[he],M))}return y},m=function(k,B,F,M){var y=w(k,B);M.set(k,y);var R=P_SYMBOL_PROPERTIES?G(k).concat(ne(k)):G(k),z=R.length;if(z)for(var re=0,le=void 0,he=void 0;re<z;re++)if("callee"!==(le=R[re])&&"caller"!==le)if(he=D(k,le)){!he.get&&!he.set&&(he.value=F(k[le],M));try{i(y,le,he)}catch(xe){y[le]=he.value}}else y[le]=F(k[le],M);return y},g=Array.isArray,v="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void(console&&console.error&&console.error('Unable to locate global object, returning "this".'));function O(k,B){var F=!(!B||!B.isStrict),M=B&&B.realm||v,y=F?m:C,R=function(z,re){if(!z||"object"!=typeof z)return z;if(re.has(z))return re.get(z);var he,le=z.constructor;if(le===M.Object)return y(z,M,R,re);if(g(z)){if(F)return m(z,M,R,re);var xe=z.length;he=new le,re.set(z,he);for(var A=0;A<xe;A++)he[A]=R(z[A],re);return he}if(z instanceof M.Date)return new le(z.getTime());if(z instanceof M.RegExp)return(he=new le(z.source,z.flags||function(k){var B="";return k.global&&(B+="g"),k.ignoreCase&&(B+="i"),k.multiline&&(B+="m"),k.unicode&&(B+="u"),k.sticky&&(B+="y"),B}(z))).lastIndex=z.lastIndex,he;if(M.Map&&z instanceof M.Map)return he=new le,re.set(z,he),z.forEach(function(W,te){he.set(te,R(W,re))}),he;if(M.Set&&z instanceof M.Set)return he=new le,re.set(z,he),z.forEach(function(W){he.add(R(W,re))}),he;if(M.Blob&&z instanceof M.Blob)return z.slice(0,z.size,z.type);if(M.Buffer&&M.Buffer.isBuffer(z))return he=M.Buffer.allocUnsafe?M.Buffer.allocUnsafe(z.length):new le(z.length),re.set(z,he),z.copy(he),he;if(M.ArrayBuffer){if(M.ArrayBuffer.isView(z))return he=new le(z.buffer.slice(0)),re.set(z,he),he;if(z instanceof M.ArrayBuffer)return he=z.slice(0),re.set(z,he),he}return"function"==typeof z.then||z instanceof Error||M.WeakMap&&z instanceof M.WeakMap||M.WeakSet&&z instanceof M.WeakSet?z:y(z,M,R,re)};return R(k,function(){if(P_WEAKMAP)return new WeakMap;var k=p({has:function(B){return!!~k._keys.indexOf(B)},set:function(B,F){k._keys.push(B),k._values.push(F)},get:function(B){return k._values[k._keys.indexOf(B)]}});return k._keys=[],k._values=[],k}())}return O.default=O,O.strict=function(B,F){return O(B,{isStrict:!0,realm:F?F.realm:void 0})},O}()},8461:(Ye,fe)=>{fe.read=function(p,i,D,G,ne){var H,L,$=8*ne-G-1,S=(1<<$)-1,P=S>>1,x=-7,w=D?ne-1:0,C=D?-1:1,m=p[i+w];for(w+=C,H=m&(1<<-x)-1,m>>=-x,x+=$;x>0;H=256*H+p[i+w],w+=C,x-=8);for(L=H&(1<<-x)-1,H>>=-x,x+=G;x>0;L=256*L+p[i+w],w+=C,x-=8);if(0===H)H=1-P;else{if(H===S)return L?NaN:1/0*(m?-1:1);L+=Math.pow(2,G),H-=P}return(m?-1:1)*L*Math.pow(2,H-G)},fe.write=function(p,i,D,G,ne,H){var L,$,S,P=8*H-ne-1,x=(1<<P)-1,w=x>>1,C=23===ne?Math.pow(2,-24)-Math.pow(2,-77):0,m=G?0:H-1,T=G?1:-1,g=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?($=isNaN(i)?1:0,L=x):(L=Math.floor(Math.log(i)/Math.LN2),i*(S=Math.pow(2,-L))<1&&(L--,S*=2),(i+=L+w>=1?C/S:C*Math.pow(2,1-w))*S>=2&&(L++,S/=2),L+w>=x?($=0,L=x):L+w>=1?($=(i*S-1)*Math.pow(2,ne),L+=w):($=i*Math.pow(2,w-1)*Math.pow(2,ne),L=0));ne>=8;p[D+m]=255&$,m+=T,$/=256,ne-=8);for(L=L<<ne|$,P+=ne;P>0;p[D+m]=255&L,m+=T,L/=256,P-=8);p[D+m-T]|=128*g}},3459:Ye=>{var fe={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},p=" ",i=/(italic|oblique)$/i,D={};Ye.exports=function(G,ne,H){var L=D[G];if(!L){Array.isArray(G)||(G=[G]);for(var $=400,S="normal",P=[],C=0,m=G.length;C<m;++C){var g=G[C].split(" "),v=g[g.length-1].toLowerCase();for(var O in"normal"==v||"italic"==v||"oblique"==v?(S=v,g.pop(),v=g[g.length-1].toLowerCase()):i.test(v)&&(v=v.replace(i,""),S=g[g.length-1].replace(v,"")),fe)if(v==O||v==O.replace("-","")||v==O.replace("-",p)){$=fe[O],g.pop();break}"number"==typeof v&&($=v);var k=g.join(p).replace("Klokantech Noto Sans","Noto Sans");-1!==k.indexOf(p)&&(k='"'+k+'"'),P.push(k)}L=D[G]=[S,$,P]}return L[0]+p+L[1]+p+ne+"px"+(H?"/"+H:"")+p+L[2]}},8808:(Ye,fe,p)=>{"use strict";Ye.exports=D;var i=p(8461);function D(A){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(A)?A:new Uint8Array(A||0),this.pos=0,this.type=0,this.length=this.buf.length}D.Varint=0,D.Fixed64=1,D.Bytes=2,D.Fixed32=5;var G=4294967296,ne=1/G,L="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function S(A){return A.type===D.Bytes?A.readVarint()+A.pos:A.pos+1}function m(A,W,te){var oe=W<=16383?1:W<=2097151?2:W<=268435455?3:Math.floor(Math.log(W)/(7*Math.LN2));te.realloc(oe);for(var Te=te.pos-1;Te>=A;Te--)te.buf[Te+oe]=te.buf[Te]}function T(A,W){for(var te=0;te<A.length;te++)W.writeVarint(A[te])}function g(A,W){for(var te=0;te<A.length;te++)W.writeSVarint(A[te])}function v(A,W){for(var te=0;te<A.length;te++)W.writeFloat(A[te])}function O(A,W){for(var te=0;te<A.length;te++)W.writeDouble(A[te])}function k(A,W){for(var te=0;te<A.length;te++)W.writeBoolean(A[te])}function B(A,W){for(var te=0;te<A.length;te++)W.writeFixed32(A[te])}function F(A,W){for(var te=0;te<A.length;te++)W.writeSFixed32(A[te])}function M(A,W){for(var te=0;te<A.length;te++)W.writeFixed64(A[te])}function y(A,W){for(var te=0;te<A.length;te++)W.writeSFixed64(A[te])}function R(A,W){return(A[W]|A[W+1]<<8|A[W+2]<<16)+16777216*A[W+3]}function z(A,W,te){A[te]=W,A[te+1]=W>>>8,A[te+2]=W>>>16,A[te+3]=W>>>24}function re(A,W){return(A[W]|A[W+1]<<8|A[W+2]<<16)+(A[W+3]<<24)}D.prototype={destroy:function(){this.buf=null},readFields:function(A,W,te){for(te=te||this.length;this.pos<te;){var oe=this.readVarint(),Te=oe>>3,Ie=this.pos;this.type=7&oe,A(Te,W,this),this.pos===Ie&&this.skip(oe)}return W},readMessage:function(A,W){return this.readFields(A,W,this.readVarint()+this.pos)},readFixed32:function(){var A=R(this.buf,this.pos);return this.pos+=4,A},readSFixed32:function(){var A=re(this.buf,this.pos);return this.pos+=4,A},readFixed64:function(){var A=R(this.buf,this.pos)+R(this.buf,this.pos+4)*G;return this.pos+=8,A},readSFixed64:function(){var A=R(this.buf,this.pos)+re(this.buf,this.pos+4)*G;return this.pos+=8,A},readFloat:function(){var A=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,A},readDouble:function(){var A=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,A},readVarint:function(A){var te,oe,W=this.buf;return te=127&(oe=W[this.pos++]),oe<128||(te|=(127&(oe=W[this.pos++]))<<7,oe<128)||(te|=(127&(oe=W[this.pos++]))<<14,oe<128)||(te|=(127&(oe=W[this.pos++]))<<21,oe<128)?te:function(A,W,te){var Te,Ie,oe=te.buf;if(Te=(112&(Ie=oe[te.pos++]))>>4,Ie<128||(Te|=(127&(Ie=oe[te.pos++]))<<3,Ie<128)||(Te|=(127&(Ie=oe[te.pos++]))<<10,Ie<128)||(Te|=(127&(Ie=oe[te.pos++]))<<17,Ie<128)||(Te|=(127&(Ie=oe[te.pos++]))<<24,Ie<128)||(Te|=(1&(Ie=oe[te.pos++]))<<31,Ie<128))return function(A,W,te){return te?4294967296*W+(A>>>0):4294967296*(W>>>0)+(A>>>0)}(A,Te,W);throw new Error("Expected varint not more than 10 bytes")}(te|=(15&(oe=W[this.pos]))<<28,A,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var A=this.readVarint();return A%2==1?(A+1)/-2:A/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var A=this.readVarint()+this.pos,W=this.pos;return this.pos=A,A-W>=12&&L?function(A,W,te){return L.decode(A.subarray(W,te))}(this.buf,W,A):function(A,W,te){for(var oe="",Te=W;Te<te;){var Ee,Pe,Ge,Ie=A[Te],ae=null,_e=Ie>239?4:Ie>223?3:Ie>191?2:1;if(Te+_e>te)break;1===_e?Ie<128&&(ae=Ie):2===_e?128==(192&(Ee=A[Te+1]))&&(ae=(31&Ie)<<6|63&Ee)<=127&&(ae=null):3===_e?(Pe=A[Te+2],128==(192&(Ee=A[Te+1]))&&128==(192&Pe)&&((ae=(15&Ie)<<12|(63&Ee)<<6|63&Pe)<=2047||ae>=55296&&ae<=57343)&&(ae=null)):4===_e&&(Pe=A[Te+2],Ge=A[Te+3],128==(192&(Ee=A[Te+1]))&&128==(192&Pe)&&128==(192&Ge)&&((ae=(15&Ie)<<18|(63&Ee)<<12|(63&Pe)<<6|63&Ge)<=65535||ae>=1114112)&&(ae=null)),null===ae?(ae=65533,_e=1):ae>65535&&(ae-=65536,oe+=String.fromCharCode(ae>>>10&1023|55296),ae=56320|1023&ae),oe+=String.fromCharCode(ae),Te+=_e}return oe}(this.buf,W,A)},readBytes:function(){var A=this.readVarint()+this.pos,W=this.buf.subarray(this.pos,A);return this.pos=A,W},readPackedVarint:function(A,W){if(this.type!==D.Bytes)return A.push(this.readVarint(W));var te=S(this);for(A=A||[];this.pos<te;)A.push(this.readVarint(W));return A},readPackedSVarint:function(A){if(this.type!==D.Bytes)return A.push(this.readSVarint());var W=S(this);for(A=A||[];this.pos<W;)A.push(this.readSVarint());return A},readPackedBoolean:function(A){if(this.type!==D.Bytes)return A.push(this.readBoolean());var W=S(this);for(A=A||[];this.pos<W;)A.push(this.readBoolean());return A},readPackedFloat:function(A){if(this.type!==D.Bytes)return A.push(this.readFloat());var W=S(this);for(A=A||[];this.pos<W;)A.push(this.readFloat());return A},readPackedDouble:function(A){if(this.type!==D.Bytes)return A.push(this.readDouble());var W=S(this);for(A=A||[];this.pos<W;)A.push(this.readDouble());return A},readPackedFixed32:function(A){if(this.type!==D.Bytes)return A.push(this.readFixed32());var W=S(this);for(A=A||[];this.pos<W;)A.push(this.readFixed32());return A},readPackedSFixed32:function(A){if(this.type!==D.Bytes)return A.push(this.readSFixed32());var W=S(this);for(A=A||[];this.pos<W;)A.push(this.readSFixed32());return A},readPackedFixed64:function(A){if(this.type!==D.Bytes)return A.push(this.readFixed64());var W=S(this);for(A=A||[];this.pos<W;)A.push(this.readFixed64());return A},readPackedSFixed64:function(A){if(this.type!==D.Bytes)return A.push(this.readSFixed64());var W=S(this);for(A=A||[];this.pos<W;)A.push(this.readSFixed64());return A},skip:function(A){var W=7&A;if(W===D.Varint)for(;this.buf[this.pos++]>127;);else if(W===D.Bytes)this.pos=this.readVarint()+this.pos;else if(W===D.Fixed32)this.pos+=4;else{if(W!==D.Fixed64)throw new Error("Unimplemented type: "+W);this.pos+=8}},writeTag:function(A,W){this.writeVarint(A<<3|W)},realloc:function(A){for(var W=this.length||16;W<this.pos+A;)W*=2;if(W!==this.length){var te=new Uint8Array(W);te.set(this.buf),this.buf=te,this.length=W}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(A){this.realloc(4),z(this.buf,A,this.pos),this.pos+=4},writeSFixed32:function(A){this.realloc(4),z(this.buf,A,this.pos),this.pos+=4},writeFixed64:function(A){this.realloc(8),z(this.buf,-1&A,this.pos),z(this.buf,Math.floor(A*ne),this.pos+4),this.pos+=8},writeSFixed64:function(A){this.realloc(8),z(this.buf,-1&A,this.pos),z(this.buf,Math.floor(A*ne),this.pos+4),this.pos+=8},writeVarint:function(A){(A=+A||0)>268435455||A<0?function(A,W){var te,oe;if(A>=0?(te=A%4294967296|0,oe=A/4294967296|0):(oe=~(-A/4294967296),4294967295^(te=~(-A%4294967296))?te=te+1|0:(te=0,oe=oe+1|0)),A>=0x10000000000000000||A<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");W.realloc(10),function(A,W,te){te.buf[te.pos++]=127&A|128,A>>>=7,te.buf[te.pos++]=127&A|128,A>>>=7,te.buf[te.pos++]=127&A|128,A>>>=7,te.buf[te.pos++]=127&A|128,te.buf[te.pos]=127&(A>>>=7)}(te,0,W),function(A,W){var te=(7&A)<<4;W.buf[W.pos++]|=te|((A>>>=3)?128:0),A&&(W.buf[W.pos++]=127&A|((A>>>=7)?128:0),A&&(W.buf[W.pos++]=127&A|((A>>>=7)?128:0),A&&(W.buf[W.pos++]=127&A|((A>>>=7)?128:0),A&&(W.buf[W.pos++]=127&A|((A>>>=7)?128:0),A&&(W.buf[W.pos++]=127&A)))))}(oe,W)}(A,this):(this.realloc(4),this.buf[this.pos++]=127&A|(A>127?128:0),!(A<=127)&&(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),!(A<=127)&&(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),!(A<=127)&&(this.buf[this.pos++]=A>>>7&127))))},writeSVarint:function(A){this.writeVarint(A<0?2*-A-1:2*A)},writeBoolean:function(A){this.writeVarint(Boolean(A))},writeString:function(A){A=String(A),this.realloc(4*A.length),this.pos++;var W=this.pos;this.pos=function(A,W,te){for(var Te,Ie,oe=0;oe<W.length;oe++){if((Te=W.charCodeAt(oe))>55295&&Te<57344){if(!Ie){Te>56319||oe+1===W.length?(A[te++]=239,A[te++]=191,A[te++]=189):Ie=Te;continue}if(Te<56320){A[te++]=239,A[te++]=191,A[te++]=189,Ie=Te;continue}Te=Ie-55296<<10|Te-56320|65536,Ie=null}else Ie&&(A[te++]=239,A[te++]=191,A[te++]=189,Ie=null);Te<128?A[te++]=Te:(Te<2048?A[te++]=Te>>6|192:(Te<65536?A[te++]=Te>>12|224:(A[te++]=Te>>18|240,A[te++]=Te>>12&63|128),A[te++]=Te>>6&63|128),A[te++]=63&Te|128)}return te}(this.buf,A,this.pos);var te=this.pos-W;te>=128&&m(W,te,this),this.pos=W-1,this.writeVarint(te),this.pos+=te},writeFloat:function(A){this.realloc(4),i.write(this.buf,A,this.pos,!0,23,4),this.pos+=4},writeDouble:function(A){this.realloc(8),i.write(this.buf,A,this.pos,!0,52,8),this.pos+=8},writeBytes:function(A){var W=A.length;this.writeVarint(W),this.realloc(W);for(var te=0;te<W;te++)this.buf[this.pos++]=A[te]},writeRawMessage:function(A,W){this.pos++;var te=this.pos;A(W,this);var oe=this.pos-te;oe>=128&&m(te,oe,this),this.pos=te-1,this.writeVarint(oe),this.pos+=oe},writeMessage:function(A,W,te){this.writeTag(A,D.Bytes),this.writeRawMessage(W,te)},writePackedVarint:function(A,W){W.length&&this.writeMessage(A,T,W)},writePackedSVarint:function(A,W){W.length&&this.writeMessage(A,g,W)},writePackedBoolean:function(A,W){W.length&&this.writeMessage(A,k,W)},writePackedFloat:function(A,W){W.length&&this.writeMessage(A,v,W)},writePackedDouble:function(A,W){W.length&&this.writeMessage(A,O,W)},writePackedFixed32:function(A,W){W.length&&this.writeMessage(A,B,W)},writePackedSFixed32:function(A,W){W.length&&this.writeMessage(A,F,W)},writePackedFixed64:function(A,W){W.length&&this.writeMessage(A,M,W)},writePackedSFixed64:function(A,W){W.length&&this.writeMessage(A,y,W)},writeBytesField:function(A,W){this.writeTag(A,D.Bytes),this.writeBytes(W)},writeFixed32Field:function(A,W){this.writeTag(A,D.Fixed32),this.writeFixed32(W)},writeSFixed32Field:function(A,W){this.writeTag(A,D.Fixed32),this.writeSFixed32(W)},writeFixed64Field:function(A,W){this.writeTag(A,D.Fixed64),this.writeFixed64(W)},writeSFixed64Field:function(A,W){this.writeTag(A,D.Fixed64),this.writeSFixed64(W)},writeVarintField:function(A,W){this.writeTag(A,D.Varint),this.writeVarint(W)},writeSVarintField:function(A,W){this.writeTag(A,D.Varint),this.writeSVarint(W)},writeStringField:function(A,W){this.writeTag(A,D.Bytes),this.writeString(W)},writeFloatField:function(A,W){this.writeTag(A,D.Fixed32),this.writeFloat(W)},writeDoubleField:function(A,W){this.writeTag(A,D.Fixed64),this.writeDouble(W)},writeBooleanField:function(A,W){this.writeVarintField(A,Boolean(W))}}},2402:function(Ye){Ye.exports=function(){"use strict";function fe(g,v,O,k,B){!function F(M,y,R,z,re){for(;z>R;){if(z-R>600){var le=z-R+1,he=y-R+1,xe=Math.log(le),A=.5*Math.exp(2*xe/3),W=.5*Math.sqrt(xe*A*(le-A)/le)*(he-le/2<0?-1:1);F(M,y,Math.max(R,Math.floor(y-he*A/le+W)),Math.min(z,Math.floor(y+(le-he)*A/le+W)),re)}var Te=M[y],Ie=R,ae=z;for(p(M,R,y),re(M[z],Te)>0&&p(M,R,z);Ie<ae;){for(p(M,Ie,ae),Ie++,ae--;re(M[Ie],Te)<0;)Ie++;for(;re(M[ae],Te)>0;)ae--}0===re(M[R],Te)?p(M,R,ae):p(M,++ae,z),ae<=y&&(R=ae+1),y<=ae&&(z=ae-1)}}(g,v,O||0,k||g.length-1,B||i)}function p(g,v,O){var k=g[v];g[v]=g[O],g[O]=k}function i(g,v){return g<v?-1:g>v?1:0}var D=function(g){void 0===g&&(g=9),this._maxEntries=Math.max(4,g),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function G(g,v,O){if(!O)return v.indexOf(g);for(var k=0;k<v.length;k++)if(O(g,v[k]))return k;return-1}function ne(g,v){H(g,0,g.children.length,v,g)}function H(g,v,O,k,B){B||(B=m(null)),B.minX=1/0,B.minY=1/0,B.maxX=-1/0,B.maxY=-1/0;for(var F=v;F<O;F++){var M=g.children[F];L(B,g.leaf?k(M):M)}return B}function L(g,v){return g.minX=Math.min(g.minX,v.minX),g.minY=Math.min(g.minY,v.minY),g.maxX=Math.max(g.maxX,v.maxX),g.maxY=Math.max(g.maxY,v.maxY),g}function $(g,v){return g.minX-v.minX}function S(g,v){return g.minY-v.minY}function P(g){return(g.maxX-g.minX)*(g.maxY-g.minY)}function x(g){return g.maxX-g.minX+(g.maxY-g.minY)}function w(g,v){return g.minX<=v.minX&&g.minY<=v.minY&&v.maxX<=g.maxX&&v.maxY<=g.maxY}function C(g,v){return v.minX<=g.maxX&&v.minY<=g.maxY&&v.maxX>=g.minX&&v.maxY>=g.minY}function m(g){return{children:g,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(g,v,O,k,B){for(var F=[v,O];F.length;)if(!((O=F.pop())-(v=F.pop())<=k)){var M=v+Math.ceil((O-v)/k/2)*k;fe(g,M,v,O,B),F.push(v,M,M,O)}}return D.prototype.all=function(){return this._all(this.data,[])},D.prototype.search=function(g){var v=this.data,O=[];if(!C(g,v))return O;for(var k=this.toBBox,B=[];v;){for(var F=0;F<v.children.length;F++){var M=v.children[F],y=v.leaf?k(M):M;C(g,y)&&(v.leaf?O.push(M):w(g,y)?this._all(M,O):B.push(M))}v=B.pop()}return O},D.prototype.collides=function(g){var v=this.data;if(!C(g,v))return!1;for(var O=[];v;){for(var k=0;k<v.children.length;k++){var B=v.children[k],F=v.leaf?this.toBBox(B):B;if(C(g,F)){if(v.leaf||w(g,F))return!0;O.push(B)}}v=O.pop()}return!1},D.prototype.load=function(g){if(!g||!g.length)return this;if(g.length<this._minEntries){for(var v=0;v<g.length;v++)this.insert(g[v]);return this}var O=this._build(g.slice(),0,g.length-1,0);if(this.data.children.length)if(this.data.height===O.height)this._splitRoot(this.data,O);else{if(this.data.height<O.height){var k=this.data;this.data=O,O=k}this._insert(O,this.data.height-O.height-1,!0)}else this.data=O;return this},D.prototype.insert=function(g){return g&&this._insert(g,this.data.height-1),this},D.prototype.clear=function(){return this.data=m([]),this},D.prototype.remove=function(g,v){if(!g)return this;for(var O,k,B,F=this.data,M=this.toBBox(g),y=[],R=[];F||y.length;){if(F||(F=y.pop(),k=y[y.length-1],O=R.pop(),B=!0),F.leaf){var z=G(g,F.children,v);if(-1!==z)return F.children.splice(z,1),y.push(F),this._condense(y),this}B||F.leaf||!w(F,M)?k?(O++,F=k.children[O],B=!1):F=null:(y.push(F),R.push(O),O=0,k=F,F=F.children[0])}return this},D.prototype.toBBox=function(g){return g},D.prototype.compareMinX=function(g,v){return g.minX-v.minX},D.prototype.compareMinY=function(g,v){return g.minY-v.minY},D.prototype.toJSON=function(){return this.data},D.prototype.fromJSON=function(g){return this.data=g,this},D.prototype._all=function(g,v){for(var O=[];g;)g.leaf?v.push.apply(v,g.children):O.push.apply(O,g.children),g=O.pop();return v},D.prototype._build=function(g,v,O,k){var B,F=O-v+1,M=this._maxEntries;if(F<=M)return ne(B=m(g.slice(v,O+1)),this.toBBox),B;k||(k=Math.ceil(Math.log(F)/Math.log(M)),M=Math.ceil(F/Math.pow(M,k-1))),(B=m([])).leaf=!1,B.height=k;var y=Math.ceil(F/M),R=y*Math.ceil(Math.sqrt(M));T(g,v,O,R,this.compareMinX);for(var z=v;z<=O;z+=R){var re=Math.min(z+R-1,O);T(g,z,re,y,this.compareMinY);for(var le=z;le<=re;le+=y){var he=Math.min(le+y-1,re);B.children.push(this._build(g,le,he,k-1))}}return ne(B,this.toBBox),B},D.prototype._chooseSubtree=function(g,v,O,k){for(;k.push(v),!v.leaf&&k.length-1!==O;){for(var B=1/0,F=1/0,M=void 0,y=0;y<v.children.length;y++){var R=v.children[y],z=P(R),re=(le=g,he=R,(Math.max(he.maxX,le.maxX)-Math.min(he.minX,le.minX))*(Math.max(he.maxY,le.maxY)-Math.min(he.minY,le.minY))-z);re<F?(F=re,B=z<B?z:B,M=R):re===F&&z<B&&(B=z,M=R)}v=M||v.children[0]}var le,he;return v},D.prototype._insert=function(g,v,O){var k=O?g:this.toBBox(g),B=[],F=this._chooseSubtree(k,this.data,v,B);for(F.children.push(g),L(F,k);v>=0&&B[v].children.length>this._maxEntries;)this._split(B,v),v--;this._adjustParentBBoxes(k,B,v)},D.prototype._split=function(g,v){var O=g[v],k=O.children.length,B=this._minEntries;this._chooseSplitAxis(O,B,k);var F=this._chooseSplitIndex(O,B,k),M=m(O.children.splice(F,O.children.length-F));M.height=O.height,M.leaf=O.leaf,ne(O,this.toBBox),ne(M,this.toBBox),v?g[v-1].children.push(M):this._splitRoot(O,M)},D.prototype._splitRoot=function(g,v){this.data=m([g,v]),this.data.height=g.height+1,this.data.leaf=!1,ne(this.data,this.toBBox)},D.prototype._chooseSplitIndex=function(g,v,O){for(var k,B,F,M,y,R,z,re=1/0,le=1/0,he=v;he<=O-v;he++){var xe=H(g,0,he,this.toBBox),A=H(g,he,O,this.toBBox),W=(B=xe,F=A,void 0,void 0,void 0,void 0,M=Math.max(B.minX,F.minX),y=Math.max(B.minY,F.minY),R=Math.min(B.maxX,F.maxX),z=Math.min(B.maxY,F.maxY),Math.max(0,R-M)*Math.max(0,z-y)),te=P(xe)+P(A);W<re?(re=W,k=he,le=te<le?te:le):W===re&&te<le&&(le=te,k=he)}return k||O-v},D.prototype._chooseSplitAxis=function(g,v,O){var k=g.leaf?this.compareMinX:$,B=g.leaf?this.compareMinY:S;this._allDistMargin(g,v,O,k)<this._allDistMargin(g,v,O,B)&&g.children.sort(k)},D.prototype._allDistMargin=function(g,v,O,k){g.children.sort(k);for(var B=this.toBBox,F=H(g,0,v,B),M=H(g,O-v,O,B),y=x(F)+x(M),R=v;R<O-v;R++){var z=g.children[R];L(F,g.leaf?B(z):z),y+=x(F)}for(var re=O-v-1;re>=v;re--){var le=g.children[re];L(M,g.leaf?B(le):le),y+=x(M)}return y},D.prototype._adjustParentBBoxes=function(g,v,O){for(var k=O;k>=0;k--)L(v[k],g)},D.prototype._condense=function(g){for(var v=g.length-1,O=void 0;v>=0;v--)0===g[v].children.length?v>0?(O=g[v-1].children).splice(O.indexOf(g[v]),1):this.clear():ne(g[v],this.toBBox)},D}()},591:(Ye,fe,p)=>{"use strict";p.d(fe,{X:()=>G});var i=p(8929),D=p(5279);class G extends i.xQ{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const L=super._subscribe(H);return L&&!L.closed&&H.next(this._value),L}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new D.N;return this._value}next(H){super.next(this._value=H)}}},9312:(Ye,fe,p)=>{"use strict";p.d(fe,{P:()=>H});var i=p(8896),D=p(1086),G=p(1737);class H{constructor($,S,P){this.kind=$,this.value=S,this.error=P,this.hasValue="N"===$}observe($){switch(this.kind){case"N":return $.next&&$.next(this.value);case"E":return $.error&&$.error(this.error);case"C":return $.complete&&$.complete()}}do($,S,P){switch(this.kind){case"N":return $&&$(this.value);case"E":return S&&S(this.error);case"C":return P&&P()}}accept($,S,P){return $&&"function"==typeof $.next?this.observe($):this.do($,S,P)}toObservable(){switch(this.kind){case"N":return(0,D.of)(this.value);case"E":return(0,G._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")}static createNext($){return void 0!==$?new H("N",$):H.undefinedValueNotification}static createError($){return new H("E",void 0,$)}static createComplete(){return H.completeNotification}}H.completeNotification=new H("C"),H.undefinedValueNotification=new H("N",void 0)},2916:(Ye,fe,p)=>{"use strict";p.d(fe,{y:()=>w});var i=p(3489),G=p(7668),ne=p(3292),L=p(3821),$=p(5379);var x=p(2830);let w=(()=>{class m{constructor(g){this._isScalar=!1,g&&(this._subscribe=g)}lift(g){const v=new m;return v.source=this,v.operator=g,v}subscribe(g,v,O){const{operator:k}=this,B=function(m,T,g){if(m){if(m instanceof i.L)return m;if(m[G.b])return m[G.b]()}return m||T||g?new i.L(m,T,g):new i.L(ne.c)}(g,v,O);if(B.add(k?k.call(B,this.source):this.source||x.v.useDeprecatedSynchronousErrorHandling&&!B.syncErrorThrowable?this._subscribe(B):this._trySubscribe(B)),x.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable&&(B.syncErrorThrowable=!1,B.syncErrorThrown))throw B.syncErrorValue;return B}_trySubscribe(g){try{return this._subscribe(g)}catch(v){x.v.useDeprecatedSynchronousErrorHandling&&(g.syncErrorThrown=!0,g.syncErrorValue=v),function(m){for(;m;){const{closed:T,destination:g,isStopped:v}=m;if(T||v)return!1;m=g&&g instanceof i.L?g:null}return!0}(g)?g.error(v):console.warn(v)}}forEach(g,v){return new(v=C(v))((O,k)=>{let B;B=this.subscribe(F=>{try{g(F)}catch(M){k(M),B&&B.unsubscribe()}},k,O)})}_subscribe(g){const{source:v}=this;return v&&v.subscribe(g)}[L.L](){return this}pipe(...g){return 0===g.length?this:function(m){return 0===m.length?$.y:1===m.length?m[0]:function(g){return m.reduce((v,O)=>O(v),g)}}(g)(this)}toPromise(g){return new(g=C(g))((v,O)=>{let k;this.subscribe(B=>k=B,B=>O(B),()=>v(k))})}}return m.create=T=>new m(T),m})();function C(m){if(m||(m=x.v.Promise||Promise),!m)throw new Error("no Promise impl found");return m}},3292:(Ye,fe,p)=>{"use strict";p.d(fe,{c:()=>G});var i=p(2830),D=p(2782);const G={closed:!0,next(ne){},error(ne){if(i.v.useDeprecatedSynchronousErrorHandling)throw ne;(0,D.z)(ne)},complete(){}}},826:(Ye,fe,p)=>{"use strict";p.d(fe,{L:()=>D});var i=p(3489);class D extends i.L{notifyNext(ne,H,L,$,S){this.destination.next(H)}notifyError(ne,H){this.destination.error(ne)}notifyComplete(ne){this.destination.complete()}}},839:(Ye,fe,p)=>{"use strict";p.d(fe,{t:()=>$});var i=p(8929),D=p(341),G=p(2654),ne=p(7770),H=p(5279),L=p(5283);class $ extends i.xQ{constructor(x=Number.POSITIVE_INFINITY,w=Number.POSITIVE_INFINITY,C){super(),this.scheduler=C,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=x<1?1:x,this._windowTime=w<1?1:w,w===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(x){if(!this.isStopped){const w=this._events;w.push(x),w.length>this._bufferSize&&w.shift()}super.next(x)}nextTimeWindow(x){this.isStopped||(this._events.push(new S(this._getNow(),x)),this._trimBufferThenGetEvents()),super.next(x)}_subscribe(x){const w=this._infiniteTimeWindow,C=w?this._events:this._trimBufferThenGetEvents(),m=this.scheduler,T=C.length;let g;if(this.closed)throw new H.N;if(this.isStopped||this.hasError?g=G.w.EMPTY:(this.observers.push(x),g=new L.W(this,x)),m&&x.add(x=new ne.ht(x,m)),w)for(let v=0;v<T&&!x.closed;v++)x.next(C[v]);else for(let v=0;v<T&&!x.closed;v++)x.next(C[v].value);return this.hasError?x.error(this.thrownError):this.isStopped&&x.complete(),g}_getNow(){return(this.scheduler||D.c).now()}_trimBufferThenGetEvents(){const x=this._getNow(),w=this._bufferSize,C=this._windowTime,m=this._events,T=m.length;let g=0;for(;g<T&&!(x-m[g].time<C);)g++;return T>w&&(g=Math.max(g,T-w)),g>0&&m.splice(0,g),m}}class S{constructor(x,w){this.time=x,this.value=w}}},8929:(Ye,fe,p)=>{"use strict";p.d(fe,{Yc:()=>$,xQ:()=>S});var i=p(2916),D=p(3489),G=p(2654),ne=p(5279),H=p(5283),L=p(7668);class $ extends D.L{constructor(w){super(w),this.destination=w}}let S=(()=>{class x extends i.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[L.b](){return new $(this)}lift(C){const m=new P(this,this);return m.operator=C,m}next(C){if(this.closed)throw new ne.N;if(!this.isStopped){const{observers:m}=this,T=m.length,g=m.slice();for(let v=0;v<T;v++)g[v].next(C)}}error(C){if(this.closed)throw new ne.N;this.hasError=!0,this.thrownError=C,this.isStopped=!0;const{observers:m}=this,T=m.length,g=m.slice();for(let v=0;v<T;v++)g[v].error(C);this.observers.length=0}complete(){if(this.closed)throw new ne.N;this.isStopped=!0;const{observers:C}=this,m=C.length,T=C.slice();for(let g=0;g<m;g++)T[g].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(C){if(this.closed)throw new ne.N;return super._trySubscribe(C)}_subscribe(C){if(this.closed)throw new ne.N;return this.hasError?(C.error(this.thrownError),G.w.EMPTY):this.isStopped?(C.complete(),G.w.EMPTY):(this.observers.push(C),new H.W(this,C))}asObservable(){const C=new i.y;return C.source=this,C}}return x.create=(w,C)=>new P(w,C),x})();class P extends S{constructor(w,C){super(),this.destination=w,this.source=C}next(w){const{destination:C}=this;C&&C.next&&C.next(w)}error(w){const{destination:C}=this;C&&C.error&&this.destination.error(w)}complete(){const{destination:w}=this;w&&w.complete&&this.destination.complete()}_subscribe(w){const{source:C}=this;return C?this.source.subscribe(w):G.w.EMPTY}}},5283:(Ye,fe,p)=>{"use strict";p.d(fe,{W:()=>D});var i=p(2654);class D extends i.w{constructor(ne,H){super(),this.subject=ne,this.subscriber=H,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ne=this.subject,H=ne.observers;if(this.subject=null,!H||0===H.length||ne.isStopped||ne.closed)return;const L=H.indexOf(this.subscriber);-1!==L&&H.splice(L,1)}}},3489:(Ye,fe,p)=>{"use strict";p.d(fe,{L:()=>$});var i=p(7043),D=p(3292),G=p(2654),ne=p(7668),H=p(2830),L=p(2782);class $ extends G.w{constructor(x,w,C){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=D.c;break;case 1:if(!x){this.destination=D.c;break}if("object"==typeof x){x instanceof $?(this.syncErrorThrowable=x.syncErrorThrowable,this.destination=x,x.add(this)):(this.syncErrorThrowable=!0,this.destination=new S(this,x));break}default:this.syncErrorThrowable=!0,this.destination=new S(this,x,w,C)}}[ne.b](){return this}static create(x,w,C){const m=new $(x,w,C);return m.syncErrorThrowable=!1,m}next(x){this.isStopped||this._next(x)}error(x){this.isStopped||(this.isStopped=!0,this._error(x))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(x){this.destination.next(x)}_error(x){this.destination.error(x),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:x}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=x,this}}class S extends ${constructor(x,w,C,m){super(),this._parentSubscriber=x;let T,g=this;(0,i.m)(w)?T=w:w&&(T=w.next,C=w.error,m=w.complete,w!==D.c&&(g=Object.create(w),(0,i.m)(g.unsubscribe)&&this.add(g.unsubscribe.bind(g)),g.unsubscribe=this.unsubscribe.bind(this))),this._context=g,this._next=T,this._error=C,this._complete=m}next(x){if(!this.isStopped&&this._next){const{_parentSubscriber:w}=this;H.v.useDeprecatedSynchronousErrorHandling&&w.syncErrorThrowable?this.__tryOrSetError(w,this._next,x)&&this.unsubscribe():this.__tryOrUnsub(this._next,x)}}error(x){if(!this.isStopped){const{_parentSubscriber:w}=this,{useDeprecatedSynchronousErrorHandling:C}=H.v;if(this._error)C&&w.syncErrorThrowable?(this.__tryOrSetError(w,this._error,x),this.unsubscribe()):(this.__tryOrUnsub(this._error,x),this.unsubscribe());else if(w.syncErrorThrowable)C?(w.syncErrorValue=x,w.syncErrorThrown=!0):(0,L.z)(x),this.unsubscribe();else{if(this.unsubscribe(),C)throw x;(0,L.z)(x)}}}complete(){if(!this.isStopped){const{_parentSubscriber:x}=this;if(this._complete){const w=()=>this._complete.call(this._context);H.v.useDeprecatedSynchronousErrorHandling&&x.syncErrorThrowable?(this.__tryOrSetError(x,w),this.unsubscribe()):(this.__tryOrUnsub(w),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(x,w){try{x.call(this._context,w)}catch(C){if(this.unsubscribe(),H.v.useDeprecatedSynchronousErrorHandling)throw C;(0,L.z)(C)}}__tryOrSetError(x,w,C){if(!H.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{w.call(this._context,C)}catch(m){return H.v.useDeprecatedSynchronousErrorHandling?(x.syncErrorValue=m,x.syncErrorThrown=!0,!0):((0,L.z)(m),!0)}return!1}_unsubscribe(){const{_parentSubscriber:x}=this;this._context=null,this._parentSubscriber=null,x.unsubscribe()}}},2654:(Ye,fe,p)=>{"use strict";p.d(fe,{w:()=>L});var i=p(6688),D=p(7830),G=p(7043);const H=(()=>{function S(P){return Error.call(this),this.message=P?`${P.length} errors occurred during unsubscription:\n${P.map((x,w)=>`${w+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=P,this}return S.prototype=Object.create(Error.prototype),S})();class L{constructor(P){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,P&&(this._ctorUnsubscribe=!0,this._unsubscribe=P)}unsubscribe(){let P;if(this.closed)return;let{_parentOrParents:x,_ctorUnsubscribe:w,_unsubscribe:C,_subscriptions:m}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,x instanceof L)x.remove(this);else if(null!==x)for(let T=0;T<x.length;++T)x[T].remove(this);if((0,G.m)(C)){w&&(this._unsubscribe=void 0);try{C.call(this)}catch(T){P=T instanceof H?$(T.errors):[T]}}if((0,i.k)(m)){let T=-1,g=m.length;for(;++T<g;){const v=m[T];if((0,D.K)(v))try{v.unsubscribe()}catch(O){P=P||[],O instanceof H?P=P.concat($(O.errors)):P.push(O)}}}if(P)throw new H(P)}add(P){let x=P;if(!P)return L.EMPTY;switch(typeof P){case"function":x=new L(P);case"object":if(x===this||x.closed||"function"!=typeof x.unsubscribe)return x;if(this.closed)return x.unsubscribe(),x;if(!(x instanceof L)){const m=x;x=new L,x._subscriptions=[m]}break;default:throw new Error("unrecognized teardown "+P+" added to Subscription.")}let{_parentOrParents:w}=x;if(null===w)x._parentOrParents=this;else if(w instanceof L){if(w===this)return x;x._parentOrParents=[w,this]}else{if(-1!==w.indexOf(this))return x;w.push(this)}const C=this._subscriptions;return null===C?this._subscriptions=[x]:C.push(x),x}remove(P){const x=this._subscriptions;if(x){const w=x.indexOf(P);-1!==w&&x.splice(w,1)}}}var S;function $(S){return S.reduce((P,x)=>P.concat(x instanceof H?x.errors:x),[])}L.EMPTY=((S=new L).closed=!0,S)},2830:(Ye,fe,p)=>{"use strict";p.d(fe,{v:()=>D});let i=!1;const D={Promise:void 0,set useDeprecatedSynchronousErrorHandling(G){if(G){const ne=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ne.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=G},get useDeprecatedSynchronousErrorHandling(){return i}}},1177:(Ye,fe,p)=>{"use strict";p.d(fe,{IY:()=>ne,Ds:()=>L,ft:()=>S});var i=p(3489),D=p(2916),G=p(9249);class ne extends i.L{constructor(x){super(),this.parent=x}_next(x){this.parent.notifyNext(x)}_error(x){this.parent.notifyError(x),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class L extends i.L{notifyNext(x){this.destination.next(x)}notifyError(x){this.destination.error(x)}notifyComplete(){this.destination.complete()}}function S(P,x){if(x.closed)return;if(P instanceof D.y)return P.subscribe(x);let w;try{w=(0,G.s)(P)(x)}catch(C){x.error(C)}return w}},1762:(Ye,fe,p)=>{"use strict";p.d(fe,{c:()=>H,N:()=>L});var i=p(8929),D=p(2916),G=p(2654),ne=p(4327);class H extends D.y{constructor(w,C){super(),this.source=w,this.subjectFactory=C,this._refCount=0,this._isComplete=!1}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let w=this._connection;return w||(this._isComplete=!1,w=this._connection=new G.w,w.add(this.source.subscribe(new $(this.getSubject(),this))),w.closed&&(this._connection=null,w=G.w.EMPTY)),w}refCount(){return(0,ne.x)()(this)}}const L=(()=>{const x=H.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:x._subscribe},_isComplete:{value:x._isComplete,writable:!0},getSubject:{value:x.getSubject},connect:{value:x.connect},refCount:{value:x.refCount}}})();class $ extends i.Yc{constructor(w,C){super(w),this.connectable=C}_error(w){this._unsubscribe(),super._error(w)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const w=this.connectable;if(w){this.connectable=null;const C=w._connection;w._refCount=0,w._subject=null,w._connection=null,C&&C.unsubscribe()}}}},6053:(Ye,fe,p)=>{"use strict";p.d(fe,{aj:()=>$});var i=p(2866),D=p(6688),G=p(826),ne=p(448),H=p(3009);const L={};function $(...x){let w,C;return(0,i.K)(x[x.length-1])&&(C=x.pop()),"function"==typeof x[x.length-1]&&(w=x.pop()),1===x.length&&(0,D.k)(x[0])&&(x=x[0]),(0,H.n)(x,C).lift(new S(w))}class S{constructor(w){this.resultSelector=w}call(w,C){return C.subscribe(new P(w,this.resultSelector))}}class P extends G.L{constructor(w,C){super(w),this.resultSelector=C,this.active=0,this.values=[],this.observables=[]}_next(w){this.values.push(L),this.observables.push(w)}_complete(){const w=this.observables,C=w.length;if(0===C)this.destination.complete();else{this.active=C,this.toRespond=C;for(let m=0;m<C;m++)this.add((0,ne.D)(this,w[m],void 0,m))}}notifyComplete(w){0==(this.active-=1)&&this.destination.complete()}notifyNext(w,C,m){const T=this.values,v=this.toRespond?T[m]===L?--this.toRespond:this.toRespond:0;T[m]=C,0===v&&(this.resultSelector?this._tryResultSelector(T):this.destination.next(T.slice()))}_tryResultSelector(w){let C;try{C=this.resultSelector.apply(this,w)}catch(m){return void this.destination.error(m)}this.destination.next(C)}}},1221:(Ye,fe,p)=>{"use strict";p.d(fe,{z:()=>ne});var i=p(1086),D=p(9146);function ne(...H){return(0,D.J)(1)((0,i.of)(...H))}},8514:(Ye,fe,p)=>{"use strict";p.d(fe,{P:()=>ne});var i=p(2916),D=p(5254),G=p(8896);function ne(H){return new i.y(L=>{let $;try{$=H()}catch(P){return void L.error(P)}return($?(0,D.D)($):(0,G.c)()).subscribe(L)})}},8896:(Ye,fe,p)=>{"use strict";p.d(fe,{E:()=>D,c:()=>G});var i=p(2916);const D=new i.y(H=>H.complete());function G(H){return H?function(H){return new i.y(L=>H.schedule(()=>L.complete()))}(H):D}},567:(Ye,fe,p)=>{"use strict";p.d(fe,{D:()=>L});var i=p(2916),D=p(6688),G=p(4850),ne=p(7830),H=p(5254);function L(...S){if(1===S.length){const P=S[0];if((0,D.k)(P))return $(P,null);if((0,ne.K)(P)&&Object.getPrototypeOf(P)===Object.prototype){const x=Object.keys(P);return $(x.map(w=>P[w]),x)}}if("function"==typeof S[S.length-1]){const P=S.pop();return $(S=1===S.length&&(0,D.k)(S[0])?S[0]:S,null).pipe((0,G.U)(x=>P(...x)))}return $(S,null)}function $(S,P){return new i.y(x=>{const w=S.length;if(0===w)return void x.complete();const C=new Array(w);let m=0,T=0;for(let g=0;g<w;g++){const v=(0,H.D)(S[g]);let O=!1;x.add(v.subscribe({next:k=>{O||(O=!0,T++),C[g]=k},error:k=>x.error(k),complete:()=>{m++,(m===w||!O)&&(T===w&&x.next(P?P.reduce((k,B,F)=>(k[B]=C[F],k),{}):C),x.complete())}}))}})}},5254:(Ye,fe,p)=>{"use strict";p.d(fe,{D:()=>g});var i=p(2916),D=p(9249),G=p(2654),ne=p(3821),$=p(6454),S=p(5430),w=p(8955),C=p(8515);function g(v,O){return O?function(v,O){if(null!=v){if(function(v){return v&&"function"==typeof v[ne.L]}(v))return function(v,O){return new i.y(k=>{const B=new G.w;return B.add(O.schedule(()=>{const F=v[ne.L]();B.add(F.subscribe({next(M){B.add(O.schedule(()=>k.next(M)))},error(M){B.add(O.schedule(()=>k.error(M)))},complete(){B.add(O.schedule(()=>k.complete()))}}))})),B})}(v,O);if((0,w.t)(v))return function(v,O){return new i.y(k=>{const B=new G.w;return B.add(O.schedule(()=>v.then(F=>{B.add(O.schedule(()=>{k.next(F),B.add(O.schedule(()=>k.complete()))}))},F=>{B.add(O.schedule(()=>k.error(F)))}))),B})}(v,O);if((0,C.z)(v))return(0,$.r)(v,O);if(function(v){return v&&"function"==typeof v[S.hZ]}(v)||"string"==typeof v)return function(v,O){if(!v)throw new Error("Iterable cannot be null");return new i.y(k=>{const B=new G.w;let F;return B.add(()=>{F&&"function"==typeof F.return&&F.return()}),B.add(O.schedule(()=>{F=v[S.hZ](),B.add(O.schedule(function(){if(k.closed)return;let M,y;try{const R=F.next();M=R.value,y=R.done}catch(R){return void k.error(R)}y?k.complete():(k.next(M),this.schedule())}))})),B})}(v,O)}throw new TypeError((null!==v&&typeof v||v)+" is not observable")}(v,O):v instanceof i.y?v:new i.y((0,D.s)(v))}},3009:(Ye,fe,p)=>{"use strict";p.d(fe,{n:()=>ne});var i=p(2916),D=p(3650),G=p(6454);function ne(H,L){return L?(0,G.r)(H,L):new i.y((0,D.V)(H))}},3753:(Ye,fe,p)=>{"use strict";p.d(fe,{R:()=>L});var i=p(2916),D=p(6688),G=p(7043),ne=p(4850);function L(w,C,m,T){return(0,G.m)(m)&&(T=m,m=void 0),T?L(w,C,m).pipe((0,ne.U)(g=>(0,D.k)(g)?T(...g):T(g))):new i.y(g=>{$(w,C,function(O){g.next(arguments.length>1?Array.prototype.slice.call(arguments):O)},g,m)})}function $(w,C,m,T,g){let v;if(function(w){return w&&"function"==typeof w.addEventListener&&"function"==typeof w.removeEventListener}(w)){const O=w;w.addEventListener(C,m,g),v=()=>O.removeEventListener(C,m,g)}else if(function(w){return w&&"function"==typeof w.on&&"function"==typeof w.off}(w)){const O=w;w.on(C,m),v=()=>O.off(C,m)}else if(function(w){return w&&"function"==typeof w.addListener&&"function"==typeof w.removeListener}(w)){const O=w;w.addListener(C,m),v=()=>O.removeListener(C,m)}else{if(!w||!w.length)throw new TypeError("Invalid event target");for(let O=0,k=w.length;O<k;O++)$(w[O],C,m,T,g)}T.add(v)}},6787:(Ye,fe,p)=>{"use strict";p.d(fe,{T:()=>H});var i=p(2916),D=p(2866),G=p(9146),ne=p(3009);function H(...L){let $=Number.POSITIVE_INFINITY,S=null,P=L[L.length-1];return(0,D.K)(P)?(S=L.pop(),L.length>1&&"number"==typeof L[L.length-1]&&($=L.pop())):"number"==typeof P&&($=L.pop()),null===S&&1===L.length&&L[0]instanceof i.y?L[0]:(0,G.J)($)((0,ne.n)(L,S))}},1086:(Ye,fe,p)=>{"use strict";p.d(fe,{of:()=>ne});var i=p(2866),D=p(3009),G=p(6454);function ne(...H){let L=H[H.length-1];return(0,i.K)(L)?(H.pop(),(0,G.r)(H,L)):(0,D.n)(H)}},1737:(Ye,fe,p)=>{"use strict";p.d(fe,{_:()=>D});var i=p(2916);function D(ne,H){return new i.y(H?L=>H.schedule(G,0,{error:ne,subscriber:L}):L=>L.error(ne))}function G({error:ne,subscriber:H}){H.error(ne)}},7221:(Ye,fe,p)=>{"use strict";p.d(fe,{K:()=>D});var i=p(1177);function D(H){return function($){const S=new G(H),P=$.lift(S);return S.caught=P}}class G{constructor(L){this.selector=L}call(L,$){return $.subscribe(new ne(L,this.selector,this.caught))}}class ne extends i.Ds{constructor(L,$,S){super(L),this.selector=$,this.caught=S}error(L){if(!this.isStopped){let $;try{$=this.selector(L,this.caught)}catch(x){return void super.error(x)}this._unsubscribeAndRecycle();const S=new i.IY(this);this.add(S);const P=(0,i.ft)($,S);P!==S&&this.add(P)}}}},1406:(Ye,fe,p)=>{"use strict";p.d(fe,{b:()=>D});var i=p(1709);function D(G,ne){return(0,i.zg)(G,ne,1)}},13:(Ye,fe,p)=>{"use strict";p.d(fe,{b:()=>G});var i=p(3489),D=p(353);function G($,S=D.P){return P=>P.lift(new ne($,S))}class ne{constructor(S,P){this.dueTime=S,this.scheduler=P}call(S,P){return P.subscribe(new H(S,this.dueTime,this.scheduler))}}class H extends i.L{constructor(S,P,x){super(S),this.dueTime=P,this.scheduler=x,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(S){this.clearDebounce(),this.lastValue=S,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(L,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:S}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(S)}}clearDebounce(){const S=this.debouncedSubscription;null!==S&&(this.remove(S),S.unsubscribe(),this.debouncedSubscription=null)}}function L($){$.debouncedNext()}},7314:(Ye,fe,p)=>{"use strict";p.d(fe,{d:()=>D});var i=p(3489);function D(H=null){return L=>L.lift(new G(H))}class G{constructor(L){this.defaultValue=L}call(L,$){return $.subscribe(new ne(L,this.defaultValue))}}class ne extends i.L{constructor(L,$){super(L),this.defaultValue=$,this.isEmpty=!0}_next(L){this.isEmpty=!1,this.destination.next(L)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Ye,fe,p)=>{"use strict";p.d(fe,{x:()=>D});var i=p(3489);function D(H,L){return $=>$.lift(new G(H,L))}class G{constructor(L,$){this.compare=L,this.keySelector=$}call(L,$){return $.subscribe(new ne(L,this.compare,this.keySelector))}}class ne extends i.L{constructor(L,$,S){super(L),this.keySelector=S,this.hasKey=!1,"function"==typeof $&&(this.compare=$)}compare(L,$){return L===$}_next(L){let $;try{const{keySelector:P}=this;$=P?P(L):L}catch(P){return this.destination.error(P)}let S=!1;if(this.hasKey)try{const{compare:P}=this;S=P(this.key,$)}catch(P){return this.destination.error(P)}else this.hasKey=!0;S||(this.key=$,this.destination.next(L))}}},2198:(Ye,fe,p)=>{"use strict";p.d(fe,{h:()=>D});var i=p(3489);function D(H,L){return function(S){return S.lift(new G(H,L))}}class G{constructor(L,$){this.predicate=L,this.thisArg=$}call(L,$){return $.subscribe(new ne(L,this.predicate,this.thisArg))}}class ne extends i.L{constructor(L,$,S){super(L),this.predicate=$,this.thisArg=S,this.count=0}_next(L){let $;try{$=this.predicate.call(this.thisArg,L,this.count++)}catch(S){return void this.destination.error(S)}$&&this.destination.next(L)}}},537:(Ye,fe,p)=>{"use strict";p.d(fe,{x:()=>G});var i=p(3489),D=p(2654);function G(L){return $=>$.lift(new ne(L))}class ne{constructor($){this.callback=$}call($,S){return S.subscribe(new H($,this.callback))}}class H extends i.L{constructor($,S){super($),this.add(new D.w(S))}}},7224:(Ye,fe,p)=>{"use strict";p.d(fe,{P:()=>$});var i=p(4450),D=p(2198),G=p(2986),ne=p(7314),H=p(4907),L=p(5379);function $(S,P){const x=arguments.length>=2;return w=>w.pipe(S?(0,D.h)((C,m)=>S(C,m,w)):L.y,(0,G.q)(1),x?(0,ne.d)(P):(0,H.T)(()=>new i.K))}},4850:(Ye,fe,p)=>{"use strict";p.d(fe,{U:()=>D});var i=p(3489);function D(H,L){return function(S){if("function"!=typeof H)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return S.lift(new G(H,L))}}class G{constructor(L,$){this.project=L,this.thisArg=$}call(L,$){return $.subscribe(new ne(L,this.project,this.thisArg))}}class ne extends i.L{constructor(L,$,S){super(L),this.project=$,this.count=0,this.thisArg=S||this}_next(L){let $;try{$=this.project.call(this.thisArg,L,this.count++)}catch(S){return void this.destination.error(S)}this.destination.next($)}}},9146:(Ye,fe,p)=>{"use strict";p.d(fe,{J:()=>G});var i=p(1709),D=p(5379);function G(ne=Number.POSITIVE_INFINITY){return(0,i.zg)(D.y,ne)}},1709:(Ye,fe,p)=>{"use strict";p.d(fe,{zg:()=>ne});var i=p(4850),D=p(5254),G=p(1177);function ne(S,P,x=Number.POSITIVE_INFINITY){return"function"==typeof P?w=>w.pipe(ne((C,m)=>(0,D.D)(S(C,m)).pipe((0,i.U)((T,g)=>P(C,T,m,g))),x)):("number"==typeof P&&(x=P),w=>w.lift(new H(S,x)))}class H{constructor(P,x=Number.POSITIVE_INFINITY){this.project=P,this.concurrent=x}call(P,x){return x.subscribe(new L(P,this.project,this.concurrent))}}class L extends G.Ds{constructor(P,x,w=Number.POSITIVE_INFINITY){super(P),this.project=x,this.concurrent=w,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(P){this.active<this.concurrent?this._tryNext(P):this.buffer.push(P)}_tryNext(P){let x;const w=this.index++;try{x=this.project(P,w)}catch(C){return void this.destination.error(C)}this.active++,this._innerSub(x)}_innerSub(P){const x=new G.IY(this),w=this.destination;w.add(x);const C=(0,G.ft)(P,x);C!==x&&w.add(C)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(P){this.destination.next(P)}notifyComplete(){const P=this.buffer;this.active--,P.length>0?this._next(P.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2536:(Ye,fe,p)=>{"use strict";p.d(fe,{O:()=>D});var i=p(1762);function D(ne,H){return function($){let S;if(S="function"==typeof ne?ne:function(){return ne},"function"==typeof H)return $.lift(new G(S,H));const P=Object.create($,i.N);return P.source=$,P.subjectFactory=S,P}}class G{constructor(H,L){this.subjectFactory=H,this.selector=L}call(H,L){const{selector:$}=this,S=this.subjectFactory(),P=$(S).subscribe(H);return P.add(L.subscribe(S)),P}}},7770:(Ye,fe,p)=>{"use strict";p.d(fe,{QV:()=>G,ht:()=>H});var i=p(3489),D=p(9312);function G($,S=0){return function(x){return x.lift(new ne($,S))}}class ne{constructor(S,P=0){this.scheduler=S,this.delay=P}call(S,P){return P.subscribe(new H(S,this.scheduler,this.delay))}}class H extends i.L{constructor(S,P,x=0){super(S),this.scheduler=P,this.delay=x}static dispatch(S){const{notification:P,destination:x}=S;P.observe(x),this.unsubscribe()}scheduleMessage(S){this.destination.add(this.scheduler.schedule(H.dispatch,this.delay,new L(S,this.destination)))}_next(S){this.scheduleMessage(D.P.createNext(S))}_error(S){this.scheduleMessage(D.P.createError(S)),this.unsubscribe()}_complete(){this.scheduleMessage(D.P.createComplete()),this.unsubscribe()}}class L{constructor(S,P){this.notification=S,this.destination=P}}},373:(Ye,fe,p)=>{"use strict";p.d(fe,{j:()=>D});var i=p(4850);function D(...ne){const H=ne.length;if(0===H)throw new Error("list of properties cannot be empty.");return L=>(0,i.U)(function(ne,H){return $=>{let S=$;for(let P=0;P<H;P++){const x=null!=S?S[ne[P]]:void 0;if(void 0===x)return;S=x}return S}}(ne,H))(L)}},4327:(Ye,fe,p)=>{"use strict";p.d(fe,{x:()=>D});var i=p(3489);function D(){return function(L){return L.lift(new G(L))}}class G{constructor(L){this.connectable=L}call(L,$){const{connectable:S}=this;S._refCount++;const P=new ne(L,S),x=$.subscribe(P);return P.closed||(P.connection=S.connect()),x}}class ne extends i.L{constructor(L,$){super(L),this.connectable=$}_unsubscribe(){const{connectable:L}=this;if(!L)return void(this.connection=null);this.connectable=null;const $=L._refCount;if($<=0)return void(this.connection=null);if(L._refCount=$-1,$>1)return void(this.connection=null);const{connection:S}=this,P=L._connection;this.connection=null,P&&(!S||P===S)&&P.unsubscribe()}}},2014:(Ye,fe,p)=>{"use strict";p.d(fe,{R:()=>D});var i=p(3489);function D(H,L){let $=!1;return arguments.length>=2&&($=!0),function(P){return P.lift(new G(H,L,$))}}class G{constructor(L,$,S=!1){this.accumulator=L,this.seed=$,this.hasSeed=S}call(L,$){return $.subscribe(new ne(L,this.accumulator,this.seed,this.hasSeed))}}class ne extends i.L{constructor(L,$,S,P){super(L),this.accumulator=$,this._seed=S,this.hasSeed=P,this.index=0}get seed(){return this._seed}set seed(L){this.hasSeed=!0,this._seed=L}_next(L){if(this.hasSeed)return this._tryNext(L);this.seed=L,this.destination.next(L)}_tryNext(L){const $=this.index++;let S;try{S=this.accumulator(this.seed,L,$)}catch(P){this.destination.error(P)}this.seed=S,this.destination.next(S)}}},8117:(Ye,fe,p)=>{"use strict";p.d(fe,{B:()=>H});var i=p(2536),D=p(4327),G=p(8929);function ne(){return new G.xQ}function H(){return L=>(0,D.x)()((0,i.O)(ne)(L))}},1307:(Ye,fe,p)=>{"use strict";p.d(fe,{T:()=>D});var i=p(3489);function D(H){return L=>L.lift(new G(H))}class G{constructor(L){this.total=L}call(L,$){return $.subscribe(new ne(L,this.total))}}class ne extends i.L{constructor(L,$){super(L),this.total=$,this.count=0}_next(L){++this.count>this.total&&this.destination.next(L)}}},7545:(Ye,fe,p)=>{"use strict";p.d(fe,{w:()=>ne});var i=p(4850),D=p(5254),G=p(1177);function ne($,S){return"function"==typeof S?P=>P.pipe(ne((x,w)=>(0,D.D)($(x,w)).pipe((0,i.U)((C,m)=>S(x,C,w,m))))):P=>P.lift(new H($))}class H{constructor(S){this.project=S}call(S,P){return P.subscribe(new L(S,this.project))}}class L extends G.Ds{constructor(S,P){super(S),this.project=P,this.index=0}_next(S){let P;const x=this.index++;try{P=this.project(S,x)}catch(w){return void this.destination.error(w)}this._innerSub(P)}_innerSub(S){const P=this.innerSubscription;P&&P.unsubscribe();const x=new G.IY(this),w=this.destination;w.add(x),this.innerSubscription=(0,G.ft)(S,x),this.innerSubscription!==x&&w.add(this.innerSubscription)}_complete(){const{innerSubscription:S}=this;(!S||S.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(S){this.destination.next(S)}}},2986:(Ye,fe,p)=>{"use strict";p.d(fe,{q:()=>ne});var i=p(3489),D=p(4231),G=p(8896);function ne($){return S=>0===$?(0,G.c)():S.lift(new H($))}class H{constructor(S){if(this.total=S,this.total<0)throw new D.W}call(S,P){return P.subscribe(new L(S,this.total))}}class L extends i.L{constructor(S,P){super(S),this.total=P,this.count=0}_next(S){const P=this.total,x=++this.count;x<=P&&(this.destination.next(S),x===P&&(this.destination.complete(),this.unsubscribe()))}}},7625:(Ye,fe,p)=>{"use strict";p.d(fe,{R:()=>D});var i=p(1177);function D(H){return L=>L.lift(new G(H))}class G{constructor(L){this.notifier=L}call(L,$){const S=new ne(L),P=(0,i.ft)(this.notifier,new i.IY(S));return P&&!S.seenValue?(S.add(P),$.subscribe(S)):S}}class ne extends i.Ds{constructor(L){super(L),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},2994:(Ye,fe,p)=>{"use strict";p.d(fe,{b:()=>ne});var i=p(3489),D=p(7876),G=p(7043);function ne($,S,P){return function(w){return w.lift(new H($,S,P))}}class H{constructor(S,P,x){this.nextOrObserver=S,this.error=P,this.complete=x}call(S,P){return P.subscribe(new L(S,this.nextOrObserver,this.error,this.complete))}}class L extends i.L{constructor(S,P,x,w){super(S),this._tapNext=D.Z,this._tapError=D.Z,this._tapComplete=D.Z,this._tapError=x||D.Z,this._tapComplete=w||D.Z,(0,G.m)(P)?(this._context=this,this._tapNext=P):P&&(this._context=P,this._tapNext=P.next||D.Z,this._tapError=P.error||D.Z,this._tapComplete=P.complete||D.Z)}_next(S){try{this._tapNext.call(this._context,S)}catch(P){return void this.destination.error(P)}this.destination.next(S)}_error(S){try{this._tapError.call(this._context,S)}catch(P){return void this.destination.error(P)}this.destination.error(S)}_complete(){try{this._tapComplete.call(this._context)}catch(S){return void this.destination.error(S)}return this.destination.complete()}}},4907:(Ye,fe,p)=>{"use strict";p.d(fe,{T:()=>G});var i=p(4450),D=p(3489);function G($=L){return S=>S.lift(new ne($))}class ne{constructor(S){this.errorFactory=S}call(S,P){return P.subscribe(new H(S,this.errorFactory))}}class H extends D.L{constructor(S,P){super(S),this.errorFactory=P,this.hasValue=!1}_next(S){this.hasValue=!0,this.destination.next(S)}_complete(){if(this.hasValue)return this.destination.complete();{let S;try{S=this.errorFactory()}catch(P){S=P}this.destination.error(S)}}}function L(){return new i.K}},6227:(Ye,fe,p)=>{"use strict";p.d(fe,{V:()=>x});var i=p(353);const G=(()=>{function w(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return w.prototype=Object.create(Error.prototype),w})();var ne=p(2697),H=p(1177);class ${constructor(C,m,T,g){this.waitFor=C,this.absoluteTimeout=m,this.withObservable=T,this.scheduler=g}call(C,m){return m.subscribe(new S(C,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class S extends H.Ds{constructor(C,m,T,g,v){super(C),this.absoluteTimeout=m,this.waitFor=T,this.withObservable=g,this.scheduler=v,this.scheduleTimeout()}static dispatchTimeout(C){const{withObservable:m}=C;C._unsubscribeAndRecycle(),C.add((0,H.ft)(m,new H.IY(C)))}scheduleTimeout(){const{action:C}=this;C?this.action=C.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(S.dispatchTimeout,this.waitFor,this))}_next(C){this.absoluteTimeout||this.scheduleTimeout(),super._next(C)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var P=p(1737);function x(w,C=i.P){return function(w,C,m=i.P){return T=>{let g=(0,ne.J)(w),v=g?+w-m.now():Math.abs(w);return T.lift(new $(v,g,C,m))}}(w,(0,P._)(new G),C)}},7168:(Ye,fe,p)=>{"use strict";p.d(fe,{M:()=>G});var i=p(826),D=p(448);function G(...L){return $=>{let S;return"function"==typeof L[L.length-1]&&(S=L.pop()),$.lift(new ne(L,S))}}class ne{constructor($,S){this.observables=$,this.project=S}call($,S){return S.subscribe(new H($,this.observables,this.project))}}class H extends i.L{constructor($,S,P){super($),this.observables=S,this.project=P,this.toRespond=[];const x=S.length;this.values=new Array(x);for(let w=0;w<x;w++)this.toRespond.push(w);for(let w=0;w<x;w++)this.add((0,D.D)(this,S[w],void 0,w))}notifyNext($,S,P){this.values[P]=S;const x=this.toRespond;if(x.length>0){const w=x.indexOf(P);-1!==w&&x.splice(w,1)}}notifyComplete(){}_next($){if(0===this.toRespond.length){const S=[$,...this.values];this.project?this._tryProject(S):this.destination.next(S)}}_tryProject($){let S;try{S=this.project.apply(this,$)}catch(P){return void this.destination.error(P)}this.destination.next(S)}}},6454:(Ye,fe,p)=>{"use strict";p.d(fe,{r:()=>G});var i=p(2916),D=p(2654);function G(ne,H){return new i.y(L=>{const $=new D.w;let S=0;return $.add(H.schedule(function(){S!==ne.length?(L.next(ne[S++]),L.closed||$.add(this.schedule())):L.complete()})),$})}},6686:(Ye,fe,p)=>{"use strict";p.d(fe,{o:()=>G});var i=p(2654);class D extends i.w{constructor(H,L){super()}schedule(H,L=0){return this}}class G extends D{constructor(H,L){super(H,L),this.scheduler=H,this.work=L,this.pending=!1}schedule(H,L=0){if(this.closed)return this;this.state=H;const $=this.id,S=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(S,$,L)),this.pending=!0,this.delay=L,this.id=this.id||this.requestAsyncId(S,this.id,L),this}requestAsyncId(H,L,$=0){return setInterval(H.flush.bind(H,this),$)}recycleAsyncId(H,L,$=0){if(null!==$&&this.delay===$&&!1===this.pending)return L;clearInterval(L)}execute(H,L){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $=this._execute(H,L);if($)return $;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(H,L){let S,$=!1;try{this.work(H)}catch(P){$=!0,S=!!P&&P||new Error(P)}if($)return this.unsubscribe(),S}_unsubscribe(){const H=this.id,L=this.scheduler,$=L.actions,S=$.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==S&&$.splice(S,1),null!=H&&(this.id=this.recycleAsyncId(L,H,null)),this.delay=null}}},2268:(Ye,fe,p)=>{"use strict";p.d(fe,{v:()=>D});let i=(()=>{class G{constructor(H,L=G.now){this.SchedulerAction=H,this.now=L}schedule(H,L=0,$){return new this.SchedulerAction(this,H).schedule($,L)}}return G.now=()=>Date.now(),G})();class D extends i{constructor(ne,H=i.now){super(ne,()=>D.delegate&&D.delegate!==this?D.delegate.now():H()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ne,H=0,L){return D.delegate&&D.delegate!==this?D.delegate.schedule(ne,H,L):super.schedule(ne,H,L)}flush(ne){const{actions:H}=this;if(this.active)return void H.push(ne);let L;this.active=!0;do{if(L=ne.execute(ne.state,ne.delay))break}while(ne=H.shift());if(this.active=!1,L){for(;ne=H.shift();)ne.unsubscribe();throw L}}}},353:(Ye,fe,p)=>{"use strict";p.d(fe,{P:()=>ne});var i=p(6686);const ne=new(p(2268).v)(i.o)},341:(Ye,fe,p)=>{"use strict";p.d(fe,{c:()=>L,N:()=>H});var i=p(6686),G=p(2268);const H=new class extends G.v{}(class extends i.o{constructor(S,P){super(S,P),this.scheduler=S,this.work=P}schedule(S,P=0){return P>0?super.schedule(S,P):(this.delay=P,this.state=S,this.scheduler.flush(this),this)}execute(S,P){return P>0||this.closed?super.execute(S,P):this._execute(S,P)}requestAsyncId(S,P,x=0){return null!==x&&x>0||null===x&&this.delay>0?super.requestAsyncId(S,P,x):S.flush(this)}}),L=H},5430:(Ye,fe,p)=>{"use strict";p.d(fe,{hZ:()=>D});const D="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},3821:(Ye,fe,p)=>{"use strict";p.d(fe,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Ye,fe,p)=>{"use strict";p.d(fe,{b:()=>i});const i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Ye,fe,p)=>{"use strict";p.d(fe,{W:()=>D});const D=(()=>{function G(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return G.prototype=Object.create(Error.prototype),G})()},4450:(Ye,fe,p)=>{"use strict";p.d(fe,{K:()=>D});const D=(()=>{function G(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return G.prototype=Object.create(Error.prototype),G})()},5279:(Ye,fe,p)=>{"use strict";p.d(fe,{N:()=>D});const D=(()=>{function G(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return G.prototype=Object.create(Error.prototype),G})()},2782:(Ye,fe,p)=>{"use strict";function i(D){setTimeout(()=>{throw D},0)}p.d(fe,{z:()=>i})},5379:(Ye,fe,p)=>{"use strict";function i(D){return D}p.d(fe,{y:()=>i})},6688:(Ye,fe,p)=>{"use strict";p.d(fe,{k:()=>i});const i=Array.isArray||(D=>D&&"number"==typeof D.length)},8515:(Ye,fe,p)=>{"use strict";p.d(fe,{z:()=>i});const i=D=>D&&"number"==typeof D.length&&"function"!=typeof D},2697:(Ye,fe,p)=>{"use strict";function i(D){return D instanceof Date&&!isNaN(+D)}p.d(fe,{J:()=>i})},7043:(Ye,fe,p)=>{"use strict";function i(D){return"function"==typeof D}p.d(fe,{m:()=>i})},7830:(Ye,fe,p)=>{"use strict";function i(D){return null!==D&&"object"==typeof D}p.d(fe,{K:()=>i})},8955:(Ye,fe,p)=>{"use strict";function i(D){return!!D&&"function"!=typeof D.subscribe&&"function"==typeof D.then}p.d(fe,{t:()=>i})},2866:(Ye,fe,p)=>{"use strict";function i(D){return D&&"function"==typeof D.schedule}p.d(fe,{K:()=>i})},7876:(Ye,fe,p)=>{"use strict";function i(){}p.d(fe,{Z:()=>i})},9249:(Ye,fe,p)=>{"use strict";p.d(fe,{s:()=>w});var i=p(3650),D=p(2782),ne=p(5430),L=p(3821),S=p(8515),P=p(8955),x=p(7830);const w=C=>{if(C&&"function"==typeof C[L.L])return(C=>m=>{const T=C[L.L]();if("function"!=typeof T.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return T.subscribe(m)})(C);if((0,S.z)(C))return(0,i.V)(C);if((0,P.t)(C))return(C=>m=>(C.then(T=>{m.closed||(m.next(T),m.complete())},T=>m.error(T)).then(null,D.z),m))(C);if(C&&"function"==typeof C[ne.hZ])return(C=>m=>{const T=C[ne.hZ]();for(;;){let g;try{g=T.next()}catch(v){return m.error(v),m}if(g.done){m.complete();break}if(m.next(g.value),m.closed)break}return"function"==typeof T.return&&m.add(()=>{T.return&&T.return()}),m})(C);{const T=`You provided ${(0,x.K)(C)?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(T)}}},3650:(Ye,fe,p)=>{"use strict";p.d(fe,{V:()=>i});const i=D=>G=>{for(let ne=0,H=D.length;ne<H&&!G.closed;ne++)G.next(D[ne]);G.complete()}},448:(Ye,fe,p)=>{"use strict";p.d(fe,{D:()=>H});var i=p(3489);class D extends i.L{constructor($,S,P){super(),this.parent=$,this.outerValue=S,this.outerIndex=P,this.index=0}_next($){this.parent.notifyNext(this.outerValue,$,this.outerIndex,this.index++,this)}_error($){this.parent.notifyError($,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var G=p(9249),ne=p(2916);function H(L,$,S,P,x=new D(L,S,P)){if(!x.closed)return $ instanceof ne.y?$.subscribe(x):(0,G.s)($)(x)}},7529:function(Ye){(function(){var fe;Ye.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return fe},getLink:function(p){return"https://fonts.google.com/specimen/"+p.replace(/( )/g,"+")},normalizeName:function(p){return p}},fe=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(this)},2762:(Ye,fe,p)=>{var i;if("object"==typeof globalThis)i=globalThis;else try{i=p(8878)}catch(H){}finally{if(!i&&"undefined"!=typeof window&&(i=window),!i)throw new Error("Could not determine global this")}var D=i.WebSocket||i.MozWebSocket,G=p(3386);function ne(H,L){return L?new D(H,L):new D(H)}D&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(H){Object.defineProperty(ne,H,{get:function(){return D[H]}})}),Ye.exports={w3cwebsocket:D?ne:null,version:G}},3386:(Ye,fe,p)=>{Ye.exports=p(9794).version},863:(Ye,fe,p)=>{var i={"./ion-accordion_2.entry.js":[9654,9654],"./ion-action-sheet.entry.js":[3648,3648],"./ion-alert.entry.js":[1118,1118],"./ion-app_8.entry.js":[53,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8034],"./ion-input.entry.js":[1217,1217],"./ion-item-option_3.entry.js":[2933,2933],"./ion-item_8.entry.js":[4711,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8136],"./ion-modal.entry.js":[2349,2349],"./ion-nav_2.entry.js":[5349,5349],"./ion-picker-column-internal.entry.js":[7602,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[3545,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8628],"./ion-segment_2.entry.js":[9325,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function D(G){if(!p.o(i,G))return Promise.resolve().then(()=>{var L=new Error("Cannot find module '"+G+"'");throw L.code="MODULE_NOT_FOUND",L});var ne=i[G],H=ne[0];return Promise.all(ne.slice(1).map(p.e)).then(()=>p(H))}D.keys=()=>Object.keys(i),D.id=863,Ye.exports=D},5899:(Ye,fe,p)=>{var i={"./pwa-action-sheet.entry.js":[2987,2987],"./pwa-camera-modal-instance.entry.js":[3527,3527],"./pwa-camera-modal.entry.js":[7839,7839],"./pwa-camera.entry.js":[7943,7943],"./pwa-toast.entry.js":[3822,3822]};function D(G){if(!p.o(i,G))return Promise.resolve().then(()=>{var L=new Error("Cannot find module '"+G+"'");throw L.code="MODULE_NOT_FOUND",L});var ne=i[G],H=ne[0];return p.e(ne[1]).then(()=>p(H))}D.keys=()=>Object.keys(i),D.id=5899,Ye.exports=D},655:(Ye,fe,p)=>{"use strict";function ne(he,xe){var A={};for(var W in he)Object.prototype.hasOwnProperty.call(he,W)&&xe.indexOf(W)<0&&(A[W]=he[W]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(W=Object.getOwnPropertySymbols(he);te<W.length;te++)xe.indexOf(W[te])<0&&Object.prototype.propertyIsEnumerable.call(he,W[te])&&(A[W[te]]=he[W[te]])}return A}function H(he,xe,A,W){var Te,te=arguments.length,oe=te<3?xe:null===W?W=Object.getOwnPropertyDescriptor(xe,A):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(he,xe,A,W);else for(var Ie=he.length-1;Ie>=0;Ie--)(Te=he[Ie])&&(oe=(te<3?Te(oe):te>3?Te(xe,A,oe):Te(xe,A))||oe);return te>3&&oe&&Object.defineProperty(xe,A,oe),oe}function S(he,xe,A,W){return new(A||(A=Promise))(function(oe,Te){function Ie(Ee){try{_e(W.next(Ee))}catch(Pe){Te(Pe)}}function ae(Ee){try{_e(W.throw(Ee))}catch(Pe){Te(Pe)}}function _e(Ee){Ee.done?oe(Ee.value):function(oe){return oe instanceof A?oe:new A(function(Te){Te(oe)})}(Ee.value).then(Ie,ae)}_e((W=W.apply(he,xe||[])).next())})}p.d(fe,{_T:()=>ne,gn:()=>H,mG:()=>S})},9808:(Ye,fe,p)=>{"use strict";p.d(fe,{mr:()=>B,Ov:()=>so,ez:()=>Xt,K0:()=>$,uU:()=>ts,Do:()=>M,V_:()=>x,Ye:()=>y,S$:()=>O,sg:()=>St,O5:()=>Se,tP:()=>mr,b0:()=>F,lw:()=>S,EM:()=>li,JF:()=>$i,NF:()=>wr,w_:()=>L,bD:()=>xn,q:()=>G,Mx:()=>et,HT:()=>H});var i=p(5e3);let D=null;function G(){return D}function H(ge){D||(D=ge)}class L{}const $=new i.OlP("DocumentToken");let S=(()=>{class ge{historyGo(I){throw new Error("Not implemented")}}return ge.\u0275fac=function(I){return new(I||ge)},ge.\u0275prov=i.Yz7({token:ge,factory:function(){return(0,i.LFG)(w)},providedIn:"platform"}),ge})();const x=new i.OlP("Location Initialized");let w=(()=>{class ge extends S{constructor(I){super(),this._doc=I,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(I){const j=G().getGlobalEventTarget(this._doc,"window");return j.addEventListener("popstate",I,!1),()=>j.removeEventListener("popstate",I)}onHashChange(I){const j=G().getGlobalEventTarget(this._doc,"window");return j.addEventListener("hashchange",I,!1),()=>j.removeEventListener("hashchange",I)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(I){this.location.pathname=I}pushState(I,j,pe){C()?this._history.pushState(I,j,pe):this.location.hash=pe}replaceState(I,j,pe){C()?this._history.replaceState(I,j,pe):this.location.hash=pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(I=0){this._history.go(I)}getState(){return this._history.state}}return ge.\u0275fac=function(I){return new(I||ge)(i.LFG($))},ge.\u0275prov=i.Yz7({token:ge,factory:function(){return new w((0,i.LFG)($))},providedIn:"platform"}),ge})();function C(){return!!window.history.pushState}function T(ge,Z){if(0==ge.length)return Z;if(0==Z.length)return ge;let I=0;return ge.endsWith("/")&&I++,Z.startsWith("/")&&I++,2==I?ge+Z.substring(1):1==I?ge+Z:ge+"/"+Z}function g(ge){const Z=ge.match(/#|\?|$/),I=Z&&Z.index||ge.length;return ge.slice(0,I-("/"===ge[I-1]?1:0))+ge.slice(I)}function v(ge){return ge&&"?"!==ge[0]?"?"+ge:ge}let O=(()=>{class ge{historyGo(I){throw new Error("Not implemented")}}return ge.\u0275fac=function(I){return new(I||ge)},ge.\u0275prov=i.Yz7({token:ge,factory:function(){return function(ge){const Z=(0,i.LFG)($).location;return new F((0,i.LFG)(S),Z&&Z.origin||"")}()},providedIn:"root"}),ge})();const B=new i.OlP("appBaseHref");let F=(()=>{class ge extends O{constructor(I,j){if(super(),this._platformLocation=I,this._removeListenerFns=[],null==j&&(j=this._platformLocation.getBaseHrefFromDOM()),null==j)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=j}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}prepareExternalUrl(I){return T(this._baseHref,I)}path(I=!1){const j=this._platformLocation.pathname+v(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&I?`${j}${pe}`:j}pushState(I,j,pe,vt){const on=this.prepareExternalUrl(pe+v(vt));this._platformLocation.pushState(I,j,on)}replaceState(I,j,pe,vt){const on=this.prepareExternalUrl(pe+v(vt));this._platformLocation.replaceState(I,j,on)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(I=0){var j,pe;null===(pe=(j=this._platformLocation).historyGo)||void 0===pe||pe.call(j,I)}}return ge.\u0275fac=function(I){return new(I||ge)(i.LFG(S),i.LFG(B,8))},ge.\u0275prov=i.Yz7({token:ge,factory:ge.\u0275fac}),ge})(),M=(()=>{class ge extends O{constructor(I,j){super(),this._platformLocation=I,this._baseHref="",this._removeListenerFns=[],null!=j&&(this._baseHref=j)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}path(I=!1){let j=this._platformLocation.hash;return null==j&&(j="#"),j.length>0?j.substring(1):j}prepareExternalUrl(I){const j=T(this._baseHref,I);return j.length>0?"#"+j:j}pushState(I,j,pe,vt){let on=this.prepareExternalUrl(pe+v(vt));0==on.length&&(on=this._platformLocation.pathname),this._platformLocation.pushState(I,j,on)}replaceState(I,j,pe,vt){let on=this.prepareExternalUrl(pe+v(vt));0==on.length&&(on=this._platformLocation.pathname),this._platformLocation.replaceState(I,j,on)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(I=0){var j,pe;null===(pe=(j=this._platformLocation).historyGo)||void 0===pe||pe.call(j,I)}}return ge.\u0275fac=function(I){return new(I||ge)(i.LFG(S),i.LFG(B,8))},ge.\u0275prov=i.Yz7({token:ge,factory:ge.\u0275fac}),ge})(),y=(()=>{class ge{constructor(I,j){this._subject=new i.vpe,this._urlChangeListeners=[],this._platformStrategy=I;const pe=this._platformStrategy.getBaseHref();this._platformLocation=j,this._baseHref=g(re(pe)),this._platformStrategy.onPopState(vt=>{this._subject.emit({url:this.path(!0),pop:!0,state:vt.state,type:vt.type})})}path(I=!1){return this.normalize(this._platformStrategy.path(I))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(I,j=""){return this.path()==this.normalize(I+v(j))}normalize(I){return ge.stripTrailingSlash(function(ge,Z){return ge&&Z.startsWith(ge)?Z.substring(ge.length):Z}(this._baseHref,re(I)))}prepareExternalUrl(I){return I&&"/"!==I[0]&&(I="/"+I),this._platformStrategy.prepareExternalUrl(I)}go(I,j="",pe=null){this._platformStrategy.pushState(pe,"",I,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+v(j)),pe)}replaceState(I,j="",pe=null){this._platformStrategy.replaceState(pe,"",I,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+v(j)),pe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(I=0){var j,pe;null===(pe=(j=this._platformStrategy).historyGo)||void 0===pe||pe.call(j,I)}onUrlChange(I){this._urlChangeListeners.push(I),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(j=>{this._notifyUrlChangeListeners(j.url,j.state)}))}_notifyUrlChangeListeners(I="",j){this._urlChangeListeners.forEach(pe=>pe(I,j))}subscribe(I,j,pe){return this._subject.subscribe({next:I,error:j,complete:pe})}}return ge.normalizeQueryParams=v,ge.joinWithSlash=T,ge.stripTrailingSlash=g,ge.\u0275fac=function(I){return new(I||ge)(i.LFG(O),i.LFG(S))},ge.\u0275prov=i.Yz7({token:ge,factory:function(){return new y((0,i.LFG)(O),(0,i.LFG)(S))},providedIn:"root"}),ge})();function re(ge){return ge.replace(/\/index.html$/,"")}var xe=(()=>((xe=xe||{})[xe.Zero=0]="Zero",xe[xe.One=1]="One",xe[xe.Two=2]="Two",xe[xe.Few=3]="Few",xe[xe.Many=4]="Many",xe[xe.Other=5]="Other",xe))(),A=(()=>((A=A||{})[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A))(),W=(()=>((W=W||{})[W.Narrow=0]="Narrow",W[W.Abbreviated=1]="Abbreviated",W[W.Wide=2]="Wide",W[W.Short=3]="Short",W))(),te=(()=>((te=te||{})[te.Short=0]="Short",te[te.Medium=1]="Medium",te[te.Long=2]="Long",te[te.Full=3]="Full",te))(),oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Group=1]="Group",oe[oe.List=2]="List",oe[oe.PercentSign=3]="PercentSign",oe[oe.PlusSign=4]="PlusSign",oe[oe.MinusSign=5]="MinusSign",oe[oe.Exponential=6]="Exponential",oe[oe.SuperscriptingExponent=7]="SuperscriptingExponent",oe[oe.PerMille=8]="PerMille",oe[oe.Infinity=9]="Infinity",oe[oe.NaN=10]="NaN",oe[oe.TimeSeparator=11]="TimeSeparator",oe[oe.CurrencyDecimal=12]="CurrencyDecimal",oe[oe.CurrencyGroup=13]="CurrencyGroup",oe))();function Be(ge,Z){return Lt((0,i.cg1)(ge)[i.wAp.DateFormat],Z)}function Ce(ge,Z){return Lt((0,i.cg1)(ge)[i.wAp.TimeFormat],Z)}function ke(ge,Z){return Lt((0,i.cg1)(ge)[i.wAp.DateTimeFormat],Z)}function qe(ge,Z){const I=(0,i.cg1)(ge),j=I[i.wAp.NumberSymbols][Z];if(void 0===j){if(Z===oe.CurrencyDecimal)return I[i.wAp.NumberSymbols][oe.Decimal];if(Z===oe.CurrencyGroup)return I[i.wAp.NumberSymbols][oe.Group]}return j}const fn=i.kL8;function He(ge){if(!ge[i.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${ge[i.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Lt(ge,Z){for(let I=Z;I>-1;I--)if(void 0!==ge[I])return ge[I];throw new Error("Locale data API: locale data undefined")}function vn(ge){const[Z,I]=ge.split(":");return{hours:+Z,minutes:+I}}const ht=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ot={},_t=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $t=(()=>(($t=$t||{})[$t.Short=0]="Short",$t[$t.ShortGMT=1]="ShortGMT",$t[$t.Long=2]="Long",$t[$t.Extended=3]="Extended",$t))(),Rt=(()=>((Rt=Rt||{})[Rt.FullYear=0]="FullYear",Rt[Rt.Month=1]="Month",Rt[Rt.Date=2]="Date",Rt[Rt.Hours=3]="Hours",Rt[Rt.Minutes=4]="Minutes",Rt[Rt.Seconds=5]="Seconds",Rt[Rt.FractionalSeconds=6]="FractionalSeconds",Rt[Rt.Day=7]="Day",Rt))(),Wt=(()=>((Wt=Wt||{})[Wt.DayPeriods=0]="DayPeriods",Wt[Wt.Days=1]="Days",Wt[Wt.Months=2]="Months",Wt[Wt.Eras=3]="Eras",Wt))();function _n(ge,Z,I,j){let pe=function(ge){if(jt(ge))return ge;if("number"==typeof ge&&!isNaN(ge))return new Date(ge);if("string"==typeof ge){if(ge=ge.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ge)){const[pe,vt=1,on=1]=ge.split("-").map(Yn=>+Yn);return Gn(pe,vt-1,on)}const I=parseFloat(ge);if(!isNaN(ge-I))return new Date(I);let j;if(j=ge.match(ht))return function(ge){const Z=new Date(0);let I=0,j=0;const pe=ge[8]?Z.setUTCFullYear:Z.setFullYear,vt=ge[8]?Z.setUTCHours:Z.setHours;ge[9]&&(I=Number(ge[9]+ge[10]),j=Number(ge[9]+ge[11])),pe.call(Z,Number(ge[1]),Number(ge[2])-1,Number(ge[3]));const on=Number(ge[4]||0)-I,Yn=Number(ge[5]||0)-j,Sr=Number(ge[6]||0),fi=Math.floor(1e3*parseFloat("0."+(ge[7]||0)));return vt.call(Z,on,Yn,Sr,fi),Z}(j)}const Z=new Date(ge);if(!jt(Z))throw new Error(`Unable to convert "${ge}" into a date`);return Z}(ge);Z=en(I,Z)||Z;let Yn,on=[];for(;Z;){if(Yn=_t.exec(Z),!Yn){on.push(Z);break}{on=on.concat(Yn.slice(1));const mi=on.pop();if(!mi)break;Z=mi}}let Sr=pe.getTimezoneOffset();j&&(Sr=Qr(j,Sr),pe=function(ge,Z,I){const pe=ge.getTimezoneOffset();return function(ge,Z){return(ge=new Date(ge.getTime())).setMinutes(ge.getMinutes()+Z),ge}(ge,-1*(Qr(Z,pe)-pe))}(pe,j));let fi="";return on.forEach(mi=>{const ui=function(ge){if(oi[ge])return oi[ge];let Z;switch(ge){case"G":case"GG":case"GGG":Z=gr(Wt.Eras,W.Abbreviated);break;case"GGGG":Z=gr(Wt.Eras,W.Wide);break;case"GGGGG":Z=gr(Wt.Eras,W.Narrow);break;case"y":Z=Fn(Rt.FullYear,1,0,!1,!0);break;case"yy":Z=Fn(Rt.FullYear,2,0,!0,!0);break;case"yyy":Z=Fn(Rt.FullYear,3,0,!1,!0);break;case"yyyy":Z=Fn(Rt.FullYear,4,0,!1,!0);break;case"Y":Z=Wr(1);break;case"YY":Z=Wr(2,!0);break;case"YYY":Z=Wr(3);break;case"YYYY":Z=Wr(4);break;case"M":case"L":Z=Fn(Rt.Month,1,1);break;case"MM":case"LL":Z=Fn(Rt.Month,2,1);break;case"MMM":Z=gr(Wt.Months,W.Abbreviated);break;case"MMMM":Z=gr(Wt.Months,W.Wide);break;case"MMMMM":Z=gr(Wt.Months,W.Narrow);break;case"LLL":Z=gr(Wt.Months,W.Abbreviated,A.Standalone);break;case"LLLL":Z=gr(Wt.Months,W.Wide,A.Standalone);break;case"LLLLL":Z=gr(Wt.Months,W.Narrow,A.Standalone);break;case"w":Z=or(1);break;case"ww":Z=or(2);break;case"W":Z=or(1,!0);break;case"d":Z=Fn(Rt.Date,1);break;case"dd":Z=Fn(Rt.Date,2);break;case"c":case"cc":Z=Fn(Rt.Day,1);break;case"ccc":Z=gr(Wt.Days,W.Abbreviated,A.Standalone);break;case"cccc":Z=gr(Wt.Days,W.Wide,A.Standalone);break;case"ccccc":Z=gr(Wt.Days,W.Narrow,A.Standalone);break;case"cccccc":Z=gr(Wt.Days,W.Short,A.Standalone);break;case"E":case"EE":case"EEE":Z=gr(Wt.Days,W.Abbreviated);break;case"EEEE":Z=gr(Wt.Days,W.Wide);break;case"EEEEE":Z=gr(Wt.Days,W.Narrow);break;case"EEEEEE":Z=gr(Wt.Days,W.Short);break;case"a":case"aa":case"aaa":Z=gr(Wt.DayPeriods,W.Abbreviated);break;case"aaaa":Z=gr(Wt.DayPeriods,W.Wide);break;case"aaaaa":Z=gr(Wt.DayPeriods,W.Narrow);break;case"b":case"bb":case"bbb":Z=gr(Wt.DayPeriods,W.Abbreviated,A.Standalone,!0);break;case"bbbb":Z=gr(Wt.DayPeriods,W.Wide,A.Standalone,!0);break;case"bbbbb":Z=gr(Wt.DayPeriods,W.Narrow,A.Standalone,!0);break;case"B":case"BB":case"BBB":Z=gr(Wt.DayPeriods,W.Abbreviated,A.Format,!0);break;case"BBBB":Z=gr(Wt.DayPeriods,W.Wide,A.Format,!0);break;case"BBBBB":Z=gr(Wt.DayPeriods,W.Narrow,A.Format,!0);break;case"h":Z=Fn(Rt.Hours,1,-12);break;case"hh":Z=Fn(Rt.Hours,2,-12);break;case"H":Z=Fn(Rt.Hours,1);break;case"HH":Z=Fn(Rt.Hours,2);break;case"m":Z=Fn(Rt.Minutes,1);break;case"mm":Z=Fn(Rt.Minutes,2);break;case"s":Z=Fn(Rt.Seconds,1);break;case"ss":Z=Fn(Rt.Seconds,2);break;case"S":Z=Fn(Rt.FractionalSeconds,1);break;case"SS":Z=Fn(Rt.FractionalSeconds,2);break;case"SSS":Z=Fn(Rt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Z=Ar($t.Short);break;case"ZZZZZ":Z=Ar($t.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Z=Ar($t.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Z=Ar($t.Long);break;default:return null}return oi[ge]=Z,Z}(mi);fi+=ui?ui(pe,I,Sr):"''"===mi?"'":mi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),fi}function Gn(ge,Z,I){const j=new Date(0);return j.setFullYear(ge,Z,I),j.setHours(0,0,0),j}function en(ge,Z){const I=function(ge){return(0,i.cg1)(ge)[i.wAp.LocaleId]}(ge);if(ot[I]=ot[I]||{},ot[I][Z])return ot[I][Z];let j="";switch(Z){case"shortDate":j=Be(ge,te.Short);break;case"mediumDate":j=Be(ge,te.Medium);break;case"longDate":j=Be(ge,te.Long);break;case"fullDate":j=Be(ge,te.Full);break;case"shortTime":j=Ce(ge,te.Short);break;case"mediumTime":j=Ce(ge,te.Medium);break;case"longTime":j=Ce(ge,te.Long);break;case"fullTime":j=Ce(ge,te.Full);break;case"short":const pe=en(ge,"shortTime"),vt=en(ge,"shortDate");j=Hn(ke(ge,te.Short),[pe,vt]);break;case"medium":const on=en(ge,"mediumTime"),Yn=en(ge,"mediumDate");j=Hn(ke(ge,te.Medium),[on,Yn]);break;case"long":const Sr=en(ge,"longTime"),fi=en(ge,"longDate");j=Hn(ke(ge,te.Long),[Sr,fi]);break;case"full":const mi=en(ge,"fullTime"),ui=en(ge,"fullDate");j=Hn(ke(ge,te.Full),[mi,ui])}return j&&(ot[I][Z]=j),j}function Hn(ge,Z){return Z&&(ge=ge.replace(/\{([^}]+)}/g,function(I,j){return null!=Z&&j in Z?Z[j]:I})),ge}function On(ge,Z,I="-",j,pe){let vt="";(ge<0||pe&&ge<=0)&&(pe?ge=1-ge:(ge=-ge,vt=I));let on=String(ge);for(;on.length<Z;)on="0"+on;return j&&(on=on.substr(on.length-Z)),vt+on}function Fn(ge,Z,I=0,j=!1,pe=!1){return function(vt,on){let Yn=function(ge,Z){switch(ge){case Rt.FullYear:return Z.getFullYear();case Rt.Month:return Z.getMonth();case Rt.Date:return Z.getDate();case Rt.Hours:return Z.getHours();case Rt.Minutes:return Z.getMinutes();case Rt.Seconds:return Z.getSeconds();case Rt.FractionalSeconds:return Z.getMilliseconds();case Rt.Day:return Z.getDay();default:throw new Error(`Unknown DateType value "${ge}".`)}}(ge,vt);if((I>0||Yn>-I)&&(Yn+=I),ge===Rt.Hours)0===Yn&&-12===I&&(Yn=12);else if(ge===Rt.FractionalSeconds)return function(ge,Z){return On(ge,3).substr(0,Z)}(Yn,Z);const Sr=qe(on,oe.MinusSign);return On(Yn,Z,Sr,j,pe)}}function gr(ge,Z,I=A.Format,j=!1){return function(pe,vt){return function(ge,Z,I,j,pe,vt){switch(I){case Wt.Months:return function(ge,Z,I){const j=(0,i.cg1)(ge),vt=Lt([j[i.wAp.MonthsFormat],j[i.wAp.MonthsStandalone]],Z);return Lt(vt,I)}(Z,pe,j)[ge.getMonth()];case Wt.Days:return function(ge,Z,I){const j=(0,i.cg1)(ge),vt=Lt([j[i.wAp.DaysFormat],j[i.wAp.DaysStandalone]],Z);return Lt(vt,I)}(Z,pe,j)[ge.getDay()];case Wt.DayPeriods:const on=ge.getHours(),Yn=ge.getMinutes();if(vt){const fi=function(ge){const Z=(0,i.cg1)(ge);return He(Z),(Z[i.wAp.ExtraData][2]||[]).map(j=>"string"==typeof j?vn(j):[vn(j[0]),vn(j[1])])}(Z),mi=function(ge,Z,I){const j=(0,i.cg1)(ge);He(j);const vt=Lt([j[i.wAp.ExtraData][0],j[i.wAp.ExtraData][1]],Z)||[];return Lt(vt,I)||[]}(Z,pe,j),ui=fi.findIndex(Ei=>{if(Array.isArray(Ei)){const[_i,Ni]=Ei,N=on>=_i.hours&&Yn>=_i.minutes,De=on<Ni.hours||on===Ni.hours&&Yn<Ni.minutes;if(_i.hours<Ni.hours){if(N&&De)return!0}else if(N||De)return!0}else if(Ei.hours===on&&Ei.minutes===Yn)return!0;return!1});if(-1!==ui)return mi[ui]}return function(ge,Z,I){const j=(0,i.cg1)(ge),vt=Lt([j[i.wAp.DayPeriodsFormat],j[i.wAp.DayPeriodsStandalone]],Z);return Lt(vt,I)}(Z,pe,j)[on<12?0:1];case Wt.Eras:return function(ge,Z){return Lt((0,i.cg1)(ge)[i.wAp.Eras],Z)}(Z,j)[ge.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${I}`)}}(pe,vt,ge,Z,I,j)}}function Ar(ge){return function(Z,I,j){const pe=-1*j,vt=qe(I,oe.MinusSign),on=pe>0?Math.floor(pe/60):Math.ceil(pe/60);switch(ge){case $t.Short:return(pe>=0?"+":"")+On(on,2,vt)+On(Math.abs(pe%60),2,vt);case $t.ShortGMT:return"GMT"+(pe>=0?"+":"")+On(on,1,vt);case $t.Long:return"GMT"+(pe>=0?"+":"")+On(on,2,vt)+":"+On(Math.abs(pe%60),2,vt);case $t.Extended:return 0===j?"Z":(pe>=0?"+":"")+On(on,2,vt)+":"+On(Math.abs(pe%60),2,vt);default:throw new Error(`Unknown zone width "${ge}"`)}}}function zr(ge){return Gn(ge.getFullYear(),ge.getMonth(),ge.getDate()+(4-ge.getDay()))}function or(ge,Z=!1){return function(I,j){let pe;if(Z){const vt=new Date(I.getFullYear(),I.getMonth(),1).getDay()-1,on=I.getDate();pe=1+Math.floor((on+vt)/7)}else{const vt=zr(I),on=function(ge){const Z=Gn(ge,0,1).getDay();return Gn(ge,0,1+(Z<=4?4:11)-Z)}(vt.getFullYear()),Yn=vt.getTime()-on.getTime();pe=1+Math.round(Yn/6048e5)}return On(pe,ge,qe(j,oe.MinusSign))}}function Wr(ge,Z=!1){return function(I,j){return On(zr(I).getFullYear(),ge,qe(j,oe.MinusSign),Z)}}const oi={};function Qr(ge,Z){ge=ge.replace(/:/g,"");const I=Date.parse("Jan 01, 1970 00:00:00 "+ge)/6e4;return isNaN(I)?Z:I}function jt(ge){return ge instanceof Date&&!isNaN(ge.valueOf())}class Et{}let ce=(()=>{class ge extends Et{constructor(I){super(),this.locale=I}getPluralCategory(I,j){switch(fn(j||this.locale)(I)){case xe.Zero:return"zero";case xe.One:return"one";case xe.Two:return"two";case xe.Few:return"few";case xe.Many:return"many";default:return"other"}}}return ge.\u0275fac=function(I){return new(I||ge)(i.LFG(i.soG))},ge.\u0275prov=i.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function et(ge,Z){Z=encodeURIComponent(Z);for(const I of ge.split(";")){const j=I.indexOf("="),[pe,vt]=-1==j?[I,""]:[I.slice(0,j),I.slice(j+1)];if(pe.trim()===Z)return decodeURIComponent(vt)}return null}class Ct{constructor(Z,I,j,pe){this.$implicit=Z,this.ngForOf=I,this.index=j,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let St=(()=>{class ge{constructor(I,j,pe){this._viewContainer=I,this._template=j,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(I){this._ngForOf=I,this._ngForOfDirty=!0}set ngForTrackBy(I){this._trackByFn=I}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(I){I&&(this._template=I)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const I=this._ngForOf;!this._differ&&I&&(this._differ=this._differs.find(I).create(this.ngForTrackBy))}if(this._differ){const I=this._differ.diff(this._ngForOf);I&&this._applyChanges(I)}}_applyChanges(I){const j=this._viewContainer;I.forEachOperation((pe,vt,on)=>{if(null==pe.previousIndex)j.createEmbeddedView(this._template,new Ct(pe.item,this._ngForOf,-1,-1),null===on?void 0:on);else if(null==on)j.remove(null===vt?void 0:vt);else if(null!==vt){const Yn=j.get(vt);j.move(Yn,on),Ft(Yn,pe)}});for(let pe=0,vt=j.length;pe<vt;pe++){const Yn=j.get(pe).context;Yn.index=pe,Yn.count=vt,Yn.ngForOf=this._ngForOf}I.forEachIdentityChange(pe=>{Ft(j.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(I,j){return!0}}return ge.\u0275fac=function(I){return new(I||ge)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},ge.\u0275dir=i.lG2({type:ge,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),ge})();function Ft(ge,Z){ge.context.$implicit=Z.item}let Se=(()=>{class ge{constructor(I,j){this._viewContainer=I,this._context=new Je,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=j}set ngIf(I){this._context.$implicit=this._context.ngIf=I,this._updateView()}set ngIfThen(I){je("ngIfThen",I),this._thenTemplateRef=I,this._thenViewRef=null,this._updateView()}set ngIfElse(I){je("ngIfElse",I),this._elseTemplateRef=I,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(I,j){return!0}}return ge.\u0275fac=function(I){return new(I||ge)(i.Y36(i.s_b),i.Y36(i.Rgc))},ge.\u0275dir=i.lG2({type:ge,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),ge})();class Je{constructor(){this.$implicit=null,this.ngIf=null}}function je(ge,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${ge} must be a TemplateRef, but received '${(0,i.AaK)(Z)}'.`)}let mr=(()=>{class ge{constructor(I){this._viewContainerRef=I,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(I){if(I.ngTemplateOutlet){const j=this._viewContainerRef;this._viewRef&&j.remove(j.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?j.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&I.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return ge.\u0275fac=function(I){return new(I||ge)(i.Y36(i.s_b))},ge.\u0275dir=i.lG2({type:ge,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.TTD]}),ge})();function Or(ge,Z){return Error(`InvalidPipeArgument: '${Z}' for pipe '${(0,i.AaK)(ge)}'`)}class xi{createSubscription(Z,I){return Z.subscribe({next:I,error:j=>{throw j}})}dispose(Z){Z.unsubscribe()}onDestroy(Z){Z.unsubscribe()}}class Fi{createSubscription(Z,I){return Z.then(I,j=>{throw j})}dispose(Z){}onDestroy(Z){}}const Ai=new Fi,Io=new xi;let so=(()=>{class ge{constructor(I){this._ref=I,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(I){return this._obj?I!==this._obj?(this._dispose(),this.transform(I)):this._latestValue:(I&&this._subscribe(I),this._latestValue)}_subscribe(I){this._obj=I,this._strategy=this._selectStrategy(I),this._subscription=this._strategy.createSubscription(I,j=>this._updateLatestValue(I,j))}_selectStrategy(I){if((0,i.QGY)(I))return Ai;if((0,i.F4k)(I))return Io;throw Or(ge,I)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(I,j){I===this._obj&&(this._latestValue=j,this._ref.markForCheck())}}return ge.\u0275fac=function(I){return new(I||ge)(i.Y36(i.sBO,16))},ge.\u0275pipe=i.Yjl({name:"async",type:ge,pure:!1}),ge})();const Eo=new i.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ts=(()=>{class ge{constructor(I,j){this.locale=I,this.defaultTimezone=j}transform(I,j="mediumDate",pe,vt){var on;if(null==I||""===I||I!=I)return null;try{return _n(I,j,vt||this.locale,null!==(on=null!=pe?pe:this.defaultTimezone)&&void 0!==on?on:void 0)}catch(Yn){throw Or(ge,Yn.message)}}}return ge.\u0275fac=function(I){return new(I||ge)(i.Y36(i.soG,16),i.Y36(Eo,24))},ge.\u0275pipe=i.Yjl({name:"date",type:ge,pure:!0}),ge})(),Xt=(()=>{class ge{}return ge.\u0275fac=function(I){return new(I||ge)},ge.\u0275mod=i.oAB({type:ge}),ge.\u0275inj=i.cJS({providers:[{provide:Et,useClass:ce}]}),ge})();const xn="browser";function wr(ge){return ge===xn}let li=(()=>{class ge{}return ge.\u0275prov=(0,i.Yz7)({token:ge,providedIn:"root",factory:()=>new Ci((0,i.LFG)($),window)}),ge})();class Ci{constructor(Z,I){this.document=Z,this.window=I,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const I=function(ge,Z){const I=ge.getElementById(Z)||ge.getElementsByName(Z)[0];if(I)return I;if("function"==typeof ge.createTreeWalker&&ge.body&&(ge.body.createShadowRoot||ge.body.attachShadow)){const j=ge.createTreeWalker(ge.body,NodeFilter.SHOW_ELEMENT);let pe=j.currentNode;for(;pe;){const vt=pe.shadowRoot;if(vt){const on=vt.getElementById(Z)||vt.querySelector(`[name="${Z}"]`);if(on)return on}pe=j.nextNode()}}return null}(this.document,Z);I&&(this.scrollToElement(I),this.attemptFocus(I))}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const I=this.window.history;I&&I.scrollRestoration&&(I.scrollRestoration=Z)}}scrollToElement(Z){const I=Z.getBoundingClientRect(),j=I.left+this.window.pageXOffset,pe=I.top+this.window.pageYOffset,vt=this.offset();this.window.scrollTo(j-vt[0],pe-vt[1])}attemptFocus(Z){return Z.focus(),this.document.activeElement===Z}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=hi(this.window.history)||hi(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch(Z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Z){return!1}}}function hi(ge){return Object.getOwnPropertyDescriptor(ge,"scrollRestoration")}class $i{}},520:(Ye,fe,p)=>{"use strict";p.d(fe,{eN:()=>oe,JF:()=>Lt});var i=p(9808),D=p(5e3),G=p(1086),ne=p(2916),H=p(1406),L=p(2198),$=p(4850);class S{}class P{}class x{constructor(dt){this.normalizedNames=new Map,this.lazyUpdate=null,dt?this.lazyInit="string"==typeof dt?()=>{this.headers=new Map,dt.split("\n").forEach(ht=>{const ot=ht.indexOf(":");if(ot>0){const _t=ht.slice(0,ot),$t=_t.toLowerCase(),Rt=ht.slice(ot+1).trim();this.maybeSetNormalizedName(_t,$t),this.headers.has($t)?this.headers.get($t).push(Rt):this.headers.set($t,[Rt])}})}:()=>{this.headers=new Map,Object.keys(dt).forEach(ht=>{let ot=dt[ht];const _t=ht.toLowerCase();"string"==typeof ot&&(ot=[ot]),ot.length>0&&(this.headers.set(_t,ot),this.maybeSetNormalizedName(ht,_t))})}:this.headers=new Map}has(dt){return this.init(),this.headers.has(dt.toLowerCase())}get(dt){this.init();const ht=this.headers.get(dt.toLowerCase());return ht&&ht.length>0?ht[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(dt){return this.init(),this.headers.get(dt.toLowerCase())||null}append(dt,ht){return this.clone({name:dt,value:ht,op:"a"})}set(dt,ht){return this.clone({name:dt,value:ht,op:"s"})}delete(dt,ht){return this.clone({name:dt,value:ht,op:"d"})}maybeSetNormalizedName(dt,ht){this.normalizedNames.has(ht)||this.normalizedNames.set(ht,dt)}init(){this.lazyInit&&(this.lazyInit instanceof x?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(dt=>this.applyUpdate(dt)),this.lazyUpdate=null))}copyFrom(dt){dt.init(),Array.from(dt.headers.keys()).forEach(ht=>{this.headers.set(ht,dt.headers.get(ht)),this.normalizedNames.set(ht,dt.normalizedNames.get(ht))})}clone(dt){const ht=new x;return ht.lazyInit=this.lazyInit&&this.lazyInit instanceof x?this.lazyInit:this,ht.lazyUpdate=(this.lazyUpdate||[]).concat([dt]),ht}applyUpdate(dt){const ht=dt.name.toLowerCase();switch(dt.op){case"a":case"s":let ot=dt.value;if("string"==typeof ot&&(ot=[ot]),0===ot.length)return;this.maybeSetNormalizedName(dt.name,ht);const _t=("a"===dt.op?this.headers.get(ht):void 0)||[];_t.push(...ot),this.headers.set(ht,_t);break;case"d":const $t=dt.value;if($t){let Rt=this.headers.get(ht);if(!Rt)return;Rt=Rt.filter(Wt=>-1===$t.indexOf(Wt)),0===Rt.length?(this.headers.delete(ht),this.normalizedNames.delete(ht)):this.headers.set(ht,Rt)}else this.headers.delete(ht),this.normalizedNames.delete(ht)}}forEach(dt){this.init(),Array.from(this.normalizedNames.keys()).forEach(ht=>dt(this.normalizedNames.get(ht),this.headers.get(ht)))}}class w{encodeKey(dt){return g(dt)}encodeValue(dt){return g(dt)}decodeKey(dt){return decodeURIComponent(dt)}decodeValue(dt){return decodeURIComponent(dt)}}const m=/%(\d[a-f0-9])/gi,T={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function g(kt){return encodeURIComponent(kt).replace(m,(dt,ht)=>{var ot;return null!==(ot=T[ht])&&void 0!==ot?ot:dt})}function v(kt){return`${kt}`}class O{constructor(dt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=dt.encoder||new w,dt.fromString){if(dt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(kt,dt){const ht=new Map;return kt.length>0&&kt.replace(/^\?/,"").split("&").forEach(_t=>{const $t=_t.indexOf("="),[Rt,Wt]=-1==$t?[dt.decodeKey(_t),""]:[dt.decodeKey(_t.slice(0,$t)),dt.decodeValue(_t.slice($t+1))],_n=ht.get(Rt)||[];_n.push(Wt),ht.set(Rt,_n)}),ht}(dt.fromString,this.encoder)}else dt.fromObject?(this.map=new Map,Object.keys(dt.fromObject).forEach(ht=>{const ot=dt.fromObject[ht];this.map.set(ht,Array.isArray(ot)?ot:[ot])})):this.map=null}has(dt){return this.init(),this.map.has(dt)}get(dt){this.init();const ht=this.map.get(dt);return ht?ht[0]:null}getAll(dt){return this.init(),this.map.get(dt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(dt,ht){return this.clone({param:dt,value:ht,op:"a"})}appendAll(dt){const ht=[];return Object.keys(dt).forEach(ot=>{const _t=dt[ot];Array.isArray(_t)?_t.forEach($t=>{ht.push({param:ot,value:$t,op:"a"})}):ht.push({param:ot,value:_t,op:"a"})}),this.clone(ht)}set(dt,ht){return this.clone({param:dt,value:ht,op:"s"})}delete(dt,ht){return this.clone({param:dt,value:ht,op:"d"})}toString(){return this.init(),this.keys().map(dt=>{const ht=this.encoder.encodeKey(dt);return this.map.get(dt).map(ot=>ht+"="+this.encoder.encodeValue(ot)).join("&")}).filter(dt=>""!==dt).join("&")}clone(dt){const ht=new O({encoder:this.encoder});return ht.cloneFrom=this.cloneFrom||this,ht.updates=(this.updates||[]).concat(dt),ht}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(dt=>this.map.set(dt,this.cloneFrom.map.get(dt))),this.updates.forEach(dt=>{switch(dt.op){case"a":case"s":const ht=("a"===dt.op?this.map.get(dt.param):void 0)||[];ht.push(v(dt.value)),this.map.set(dt.param,ht);break;case"d":if(void 0===dt.value){this.map.delete(dt.param);break}{let ot=this.map.get(dt.param)||[];const _t=ot.indexOf(v(dt.value));-1!==_t&&ot.splice(_t,1),ot.length>0?this.map.set(dt.param,ot):this.map.delete(dt.param)}}}),this.cloneFrom=this.updates=null)}}class B{constructor(){this.map=new Map}set(dt,ht){return this.map.set(dt,ht),this}get(dt){return this.map.has(dt)||this.map.set(dt,dt.defaultValue()),this.map.get(dt)}delete(dt){return this.map.delete(dt),this}has(dt){return this.map.has(dt)}keys(){return this.map.keys()}}function M(kt){return"undefined"!=typeof ArrayBuffer&&kt instanceof ArrayBuffer}function y(kt){return"undefined"!=typeof Blob&&kt instanceof Blob}function R(kt){return"undefined"!=typeof FormData&&kt instanceof FormData}class re{constructor(dt,ht,ot,_t){let $t;if(this.url=ht,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=dt.toUpperCase(),function(kt){switch(kt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||_t?(this.body=void 0!==ot?ot:null,$t=_t):$t=ot,$t&&(this.reportProgress=!!$t.reportProgress,this.withCredentials=!!$t.withCredentials,$t.responseType&&(this.responseType=$t.responseType),$t.headers&&(this.headers=$t.headers),$t.context&&(this.context=$t.context),$t.params&&(this.params=$t.params)),this.headers||(this.headers=new x),this.context||(this.context=new B),this.params){const Rt=this.params.toString();if(0===Rt.length)this.urlWithParams=ht;else{const Wt=ht.indexOf("?");this.urlWithParams=ht+(-1===Wt?"?":Wt<ht.length-1?"&":"")+Rt}}else this.params=new O,this.urlWithParams=ht}serializeBody(){return null===this.body?null:M(this.body)||y(this.body)||R(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof O?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||R(this.body)?null:y(this.body)?this.body.type||null:M(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof O?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(dt={}){var ht;const ot=dt.method||this.method,_t=dt.url||this.url,$t=dt.responseType||this.responseType,Rt=void 0!==dt.body?dt.body:this.body,Wt=void 0!==dt.withCredentials?dt.withCredentials:this.withCredentials,_n=void 0!==dt.reportProgress?dt.reportProgress:this.reportProgress;let Gn=dt.headers||this.headers,en=dt.params||this.params;const Hn=null!==(ht=dt.context)&&void 0!==ht?ht:this.context;return void 0!==dt.setHeaders&&(Gn=Object.keys(dt.setHeaders).reduce((On,Vn)=>On.set(Vn,dt.setHeaders[Vn]),Gn)),dt.setParams&&(en=Object.keys(dt.setParams).reduce((On,Vn)=>On.set(Vn,dt.setParams[Vn]),en)),new re(ot,_t,Rt,{params:en,headers:Gn,context:Hn,reportProgress:_n,responseType:$t,withCredentials:Wt})}}var le=(()=>((le=le||{})[le.Sent=0]="Sent",le[le.UploadProgress=1]="UploadProgress",le[le.ResponseHeader=2]="ResponseHeader",le[le.DownloadProgress=3]="DownloadProgress",le[le.Response=4]="Response",le[le.User=5]="User",le))();class he{constructor(dt,ht=200,ot="OK"){this.headers=dt.headers||new x,this.status=void 0!==dt.status?dt.status:ht,this.statusText=dt.statusText||ot,this.url=dt.url||null,this.ok=this.status>=200&&this.status<300}}class xe extends he{constructor(dt={}){super(dt),this.type=le.ResponseHeader}clone(dt={}){return new xe({headers:dt.headers||this.headers,status:void 0!==dt.status?dt.status:this.status,statusText:dt.statusText||this.statusText,url:dt.url||this.url||void 0})}}class A extends he{constructor(dt={}){super(dt),this.type=le.Response,this.body=void 0!==dt.body?dt.body:null}clone(dt={}){return new A({body:void 0!==dt.body?dt.body:this.body,headers:dt.headers||this.headers,status:void 0!==dt.status?dt.status:this.status,statusText:dt.statusText||this.statusText,url:dt.url||this.url||void 0})}}class W extends he{constructor(dt){super(dt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${dt.url||"(unknown url)"}`:`Http failure response for ${dt.url||"(unknown url)"}: ${dt.status} ${dt.statusText}`,this.error=dt.error||null}}function te(kt,dt){return{body:dt,headers:kt.headers,context:kt.context,observe:kt.observe,params:kt.params,reportProgress:kt.reportProgress,responseType:kt.responseType,withCredentials:kt.withCredentials}}let oe=(()=>{class kt{constructor(ht){this.handler=ht}request(ht,ot,_t={}){let $t;if(ht instanceof re)$t=ht;else{let _n,Gn;_n=_t.headers instanceof x?_t.headers:new x(_t.headers),_t.params&&(Gn=_t.params instanceof O?_t.params:new O({fromObject:_t.params})),$t=new re(ht,ot,void 0!==_t.body?_t.body:null,{headers:_n,context:_t.context,params:Gn,reportProgress:_t.reportProgress,responseType:_t.responseType||"json",withCredentials:_t.withCredentials})}const Rt=(0,G.of)($t).pipe((0,H.b)(_n=>this.handler.handle(_n)));if(ht instanceof re||"events"===_t.observe)return Rt;const Wt=Rt.pipe((0,L.h)(_n=>_n instanceof A));switch(_t.observe||"body"){case"body":switch($t.responseType){case"arraybuffer":return Wt.pipe((0,$.U)(_n=>{if(null!==_n.body&&!(_n.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _n.body}));case"blob":return Wt.pipe((0,$.U)(_n=>{if(null!==_n.body&&!(_n.body instanceof Blob))throw new Error("Response is not a Blob.");return _n.body}));case"text":return Wt.pipe((0,$.U)(_n=>{if(null!==_n.body&&"string"!=typeof _n.body)throw new Error("Response is not a string.");return _n.body}));default:return Wt.pipe((0,$.U)(_n=>_n.body))}case"response":return Wt;default:throw new Error(`Unreachable: unhandled observe type ${_t.observe}}`)}}delete(ht,ot={}){return this.request("DELETE",ht,ot)}get(ht,ot={}){return this.request("GET",ht,ot)}head(ht,ot={}){return this.request("HEAD",ht,ot)}jsonp(ht,ot){return this.request("JSONP",ht,{params:(new O).append(ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ht,ot={}){return this.request("OPTIONS",ht,ot)}patch(ht,ot,_t={}){return this.request("PATCH",ht,te(_t,ot))}post(ht,ot,_t={}){return this.request("POST",ht,te(_t,ot))}put(ht,ot,_t={}){return this.request("PUT",ht,te(_t,ot))}}return kt.\u0275fac=function(ht){return new(ht||kt)(D.LFG(S))},kt.\u0275prov=D.Yz7({token:kt,factory:kt.\u0275fac}),kt})();class Te{constructor(dt,ht){this.next=dt,this.interceptor=ht}handle(dt){return this.interceptor.intercept(dt,this.next)}}const Ie=new D.OlP("HTTP_INTERCEPTORS");let ae=(()=>{class kt{intercept(ht,ot){return ot.handle(ht)}}return kt.\u0275fac=function(ht){return new(ht||kt)},kt.\u0275prov=D.Yz7({token:kt,factory:kt.\u0275fac}),kt})();const ke=/^\)\]\}',?\n/;let at=(()=>{class kt{constructor(ht){this.xhrFactory=ht}handle(ht){if("JSONP"===ht.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ne.y(ot=>{const _t=this.xhrFactory.build();if(_t.open(ht.method,ht.urlWithParams),ht.withCredentials&&(_t.withCredentials=!0),ht.headers.forEach((Vn,Fn)=>_t.setRequestHeader(Vn,Fn.join(","))),ht.headers.has("Accept")||_t.setRequestHeader("Accept","application/json, text/plain, */*"),!ht.headers.has("Content-Type")){const Vn=ht.detectContentTypeHeader();null!==Vn&&_t.setRequestHeader("Content-Type",Vn)}if(ht.responseType){const Vn=ht.responseType.toLowerCase();_t.responseType="json"!==Vn?Vn:"text"}const $t=ht.serializeBody();let Rt=null;const Wt=()=>{if(null!==Rt)return Rt;const Vn=1223===_t.status?204:_t.status,Fn=_t.statusText||"OK",er=new x(_t.getAllResponseHeaders()),gr=function(kt){return"responseURL"in kt&&kt.responseURL?kt.responseURL:/^X-Request-URL:/m.test(kt.getAllResponseHeaders())?kt.getResponseHeader("X-Request-URL"):null}(_t)||ht.url;return Rt=new xe({headers:er,status:Vn,statusText:Fn,url:gr}),Rt},_n=()=>{let{headers:Vn,status:Fn,statusText:er,url:gr}=Wt(),kn=null;204!==Fn&&(kn=void 0===_t.response?_t.responseText:_t.response),0===Fn&&(Fn=kn?200:0);let Ar=Fn>=200&&Fn<300;if("json"===ht.responseType&&"string"==typeof kn){const ni=kn;kn=kn.replace(ke,"");try{kn=""!==kn?JSON.parse(kn):null}catch(Gr){kn=ni,Ar&&(Ar=!1,kn={error:Gr,text:kn})}}Ar?(ot.next(new A({body:kn,headers:Vn,status:Fn,statusText:er,url:gr||void 0})),ot.complete()):ot.error(new W({error:kn,headers:Vn,status:Fn,statusText:er,url:gr||void 0}))},Gn=Vn=>{const{url:Fn}=Wt(),er=new W({error:Vn,status:_t.status||0,statusText:_t.statusText||"Unknown Error",url:Fn||void 0});ot.error(er)};let en=!1;const Hn=Vn=>{en||(ot.next(Wt()),en=!0);let Fn={type:le.DownloadProgress,loaded:Vn.loaded};Vn.lengthComputable&&(Fn.total=Vn.total),"text"===ht.responseType&&!!_t.responseText&&(Fn.partialText=_t.responseText),ot.next(Fn)},On=Vn=>{let Fn={type:le.UploadProgress,loaded:Vn.loaded};Vn.lengthComputable&&(Fn.total=Vn.total),ot.next(Fn)};return _t.addEventListener("load",_n),_t.addEventListener("error",Gn),_t.addEventListener("timeout",Gn),_t.addEventListener("abort",Gn),ht.reportProgress&&(_t.addEventListener("progress",Hn),null!==$t&&_t.upload&&_t.upload.addEventListener("progress",On)),_t.send($t),ot.next({type:le.Sent}),()=>{_t.removeEventListener("error",Gn),_t.removeEventListener("abort",Gn),_t.removeEventListener("load",_n),_t.removeEventListener("timeout",Gn),ht.reportProgress&&(_t.removeEventListener("progress",Hn),null!==$t&&_t.upload&&_t.upload.removeEventListener("progress",On)),_t.readyState!==_t.DONE&&_t.abort()}})}}return kt.\u0275fac=function(ht){return new(ht||kt)(D.LFG(i.JF))},kt.\u0275prov=D.Yz7({token:kt,factory:kt.\u0275fac}),kt})();const Gt=new D.OlP("XSRF_COOKIE_NAME"),Tt=new D.OlP("XSRF_HEADER_NAME");class Ht{}let wn=(()=>{class kt{constructor(ht,ot,_t){this.doc=ht,this.platform=ot,this.cookieName=_t,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ht=this.doc.cookie||"";return ht!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,i.Mx)(ht,this.cookieName),this.lastCookieString=ht),this.lastToken}}return kt.\u0275fac=function(ht){return new(ht||kt)(D.LFG(i.K0),D.LFG(D.Lbi),D.LFG(Gt))},kt.\u0275prov=D.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),fn=(()=>{class kt{constructor(ht,ot){this.tokenService=ht,this.headerName=ot}intercept(ht,ot){const _t=ht.url.toLowerCase();if("GET"===ht.method||"HEAD"===ht.method||_t.startsWith("http://")||_t.startsWith("https://"))return ot.handle(ht);const $t=this.tokenService.getToken();return null!==$t&&!ht.headers.has(this.headerName)&&(ht=ht.clone({headers:ht.headers.set(this.headerName,$t)})),ot.handle(ht)}}return kt.\u0275fac=function(ht){return new(ht||kt)(D.LFG(Ht),D.LFG(Tt))},kt.\u0275prov=D.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),He=(()=>{class kt{constructor(ht,ot){this.backend=ht,this.injector=ot,this.chain=null}handle(ht){if(null===this.chain){const ot=this.injector.get(Ie,[]);this.chain=ot.reduceRight((_t,$t)=>new Te(_t,$t),this.backend)}return this.chain.handle(ht)}}return kt.\u0275fac=function(ht){return new(ht||kt)(D.LFG(P),D.LFG(D.zs3))},kt.\u0275prov=D.Yz7({token:kt,factory:kt.\u0275fac}),kt})(),Ut=(()=>{class kt{static disable(){return{ngModule:kt,providers:[{provide:fn,useClass:ae}]}}static withOptions(ht={}){return{ngModule:kt,providers:[ht.cookieName?{provide:Gt,useValue:ht.cookieName}:[],ht.headerName?{provide:Tt,useValue:ht.headerName}:[]]}}}return kt.\u0275fac=function(ht){return new(ht||kt)},kt.\u0275mod=D.oAB({type:kt}),kt.\u0275inj=D.cJS({providers:[fn,{provide:Ie,useExisting:fn,multi:!0},{provide:Ht,useClass:wn},{provide:Gt,useValue:"XSRF-TOKEN"},{provide:Tt,useValue:"X-XSRF-TOKEN"}]}),kt})(),Lt=(()=>{class kt{}return kt.\u0275fac=function(ht){return new(ht||kt)},kt.\u0275mod=D.oAB({type:kt}),kt.\u0275inj=D.cJS({providers:[oe,{provide:S,useClass:He},at,{provide:P,useExisting:at}],imports:[[Ut.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),kt})()},5e3:(Ye,fe,p)=>{"use strict";p.d(fe,{deG:()=>Fc,tb:()=>w0,AFp:()=>b0,ip1:()=>$p,CZH:()=>eh,hGG:()=>V1,z2F:()=>ef,sBO:()=>y1,Sil:()=>Gp,_Vd:()=>Zh,EJc:()=>T0,SBq:()=>Yh,qLn:()=>Ru,vpe:()=>Ll,tBr:()=>Ss,XFs:()=>Ut,OlP:()=>Ji,zs3:()=>Ra,ZZ4:()=>Ff,aQg:()=>Nf,soG:()=>kf,YKP:()=>Av,h0i:()=>Jd,PXZ:()=>c1,R0b:()=>fa,FiY:()=>Os,Lbi:()=>x0,g9A:()=>E0,Qsj:()=>Hb,FYo:()=>Sv,JOm:()=>us,q3G:()=>io,PiD:()=>zl,tp0:()=>wa,Rgc:()=>qh,dDg:()=>S0,GfV:()=>Ov,s_b:()=>If,ifc:()=>Rt,eFA:()=>P0,G48:()=>v1,Gpc:()=>w,X6Q:()=>m1,_c5:()=>F1,VLi:()=>s1,c2e:()=>C0,zSh:()=>zf,wAp:()=>Xr,vHH:()=>g,EiD:()=>Jl,mCW:()=>Zs,qzn:()=>Da,JVY:()=>Kl,pB0:()=>fh,eBb:()=>El,L6k:()=>dh,LAX:()=>hh,cg1:()=>vp,kL8:()=>qm,yhl:()=>Yl,dqk:()=>Hn,sIi:()=>Bh,CqO:()=>rm,QGY:()=>up,F4k:()=>nm,RDi:()=>li,AaK:()=>S,z3N:()=>sa,qOj:()=>Kf,TTD:()=>Xe,_Bn:()=>Tv,xp6:()=>mt,uIk:()=>qf,ekj:()=>fp,Suo:()=>qv,Xpm:()=>or,lG2:()=>lt,Yz7:()=>Ce,cJS:()=>qe,oAB:()=>Rr,Yjl:()=>jt,Y36:()=>Uh,_UZ:()=>Qg,GkF:()=>em,BQk:()=>lp,ynx:()=>ap,qZA:()=>sp,TgZ:()=>op,EpF:()=>tm,n5z:()=>dl,LFG:()=>To,$8M:()=>na,$Z:()=>qg,NdJ:()=>cp,CRH:()=>Qv,oxw:()=>am,ALo:()=>Vv,lcZ:()=>zv,Hsn:()=>um,F$t:()=>lm,Q6J:()=>rp,DdM:()=>Fv,VKq:()=>Nv,iGM:()=>Xv,CHM:()=>Ri,LSH:()=>Su,YNc:()=>Ug,_uU:()=>Rm,Oqu:()=>gp,hij:()=>xf,AsE:()=>mp,Gf:()=>Jv});var i=p(8929),D=p(2654),G=p(2916),ne=p(6787),H=p(8117);function L(e){for(let t in e)if(e[t]===L)return t;throw Error("Could not find renamed property on target object.")}function $(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function S(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(S).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function P(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const x=L({__forward_ref__:L});function w(e){return e.__forward_ref__=w,e.toString=function(){return S(this())},e}function C(e){return m(e)?e():e}function m(e){return"function"==typeof e&&e.hasOwnProperty(x)&&e.__forward_ref__===w}class g extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function k(e){return"string"==typeof e?e:null==e?"":String(e)}function B(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():k(e)}function R(e,t){const n=t?` in ${t}`:"";throw new g("201",`No provider for ${B(e)} found${n}`)}function Ee(e,t){null==e&&function(e,t,n,l){throw new Error(`ASSERTION ERROR: ${e}`+(null==l?"":` [Expected=> ${n} ${l} ${t} <=Actual]`))}(t,e,null,"!=")}function Ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function qe(e){return{providers:e.providers||[],imports:e.imports||[]}}function at(e){return Gt(e,fn)||Gt(e,bt)}function Gt(e,t){return e.hasOwnProperty(t)?e[t]:null}function wn(e){return e&&(e.hasOwnProperty(He)||e.hasOwnProperty(nt))?e[He]:null}const fn=L({\u0275prov:L}),He=L({\u0275inj:L}),bt=L({ngInjectableDef:L}),nt=L({ngInjectorDef:L});var Ut=(()=>((Ut=Ut||{})[Ut.Default=0]="Default",Ut[Ut.Host=1]="Host",Ut[Ut.Self=2]="Self",Ut[Ut.SkipSelf=4]="SkipSelf",Ut[Ut.Optional=8]="Optional",Ut))();let Lt;function Pn(e){const t=Lt;return Lt=e,t}function kt(e,t,n){const l=at(e);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:n&Ut.Optional?null:void 0!==t?t:void R(S(e),"Injector")}function ht(e){return{toString:e}.toString()}var ot=(()=>((ot=ot||{})[ot.OnPush=0]="OnPush",ot[ot.Default=1]="Default",ot))(),Rt=(()=>{return(e=Rt||(Rt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Rt;var e})();const Wt="undefined"!=typeof globalThis&&globalThis,_n="undefined"!=typeof window&&window,Gn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Hn=Wt||"undefined"!=typeof global&&global||_n||Gn,Fn={},er=[],gr=L({\u0275cmp:L}),kn=L({\u0275dir:L}),Ar=L({\u0275pipe:L}),ni=L({\u0275mod:L}),Gr=L({\u0275fac:L}),Vr=L({__NG_ELEMENT_ID__:L});let zr=0;function or(e){return ht(()=>{const n={},l={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||er,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Rt.Emulated,id:"c",styles:e.styles||er,_:null,setInput:null,schemas:e.schemas||null,tView:null},f=e.directives,_=e.features,V=e.pipes;return l.id+=zr++,l.inputs=Dt(e.inputs,n),l.outputs=Dt(e.outputs),_&&_.forEach(ee=>ee(l)),l.directiveDefs=f?()=>("function"==typeof f?f():f).map(oi):null,l.pipeDefs=V?()=>("function"==typeof V?V():V).map(Mr):null,l})}function oi(e){return gn(e)||function(e){return e[kn]||null}(e)}function Mr(e){return function(e){return e[Ar]||null}(e)}const Qr={};function Rr(e){return ht(()=>{const t={type:e.type,bootstrap:e.bootstrap||er,declarations:e.declarations||er,imports:e.imports||er,exports:e.exports||er,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Qr[e.id]=e.type),t})}function Dt(e,t){if(null==e)return Fn;const n={};for(const l in e)if(e.hasOwnProperty(l)){let f=e[l],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),n[f]=l,t&&(t[f]=_)}return n}const lt=or;function jt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function gn(e){return e[gr]||null}function ct(e,t){const n=e[ni]||null;if(!n&&!0===t)throw new Error(`Type ${S(e)} does not have '\u0275mod' property.`);return n}function xt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Vt(e){return Array.isArray(e)&&!0===e[1]}function an(e){return 0!=(8&e.flags)}function yn(e){return 2==(2&e.flags)}function Cn(e){return 1==(1&e.flags)}function Wn(e){return null!==e.template}function mr(e){return 0!=(512&e[2])}function hn(e,t){return e.hasOwnProperty(Gr)?e[Gr]:null}class Kn{constructor(t,n,l){this.previousValue=t,this.currentValue=n,this.firstChange=l}isFirstChange(){return this.firstChange}}function Xe(){return st}function st(e){return e.type.prototype.ngOnChanges&&(e.setInput=Xt),ut}function ut(){const e=Nn(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Fn)e.previous=t;else for(let l in t)n[l]=t[l];e.current=null,this.ngOnChanges(t)}}function Xt(e,t,n,l){const f=Nn(e)||function(e,t){return e[xn]=t}(e,{previous:Fn,current:null}),_=f.current||(f.current={}),V=f.previous,ee=this.declaredInputs[n],se=V[ee];_[ee]=new Kn(se&&se.currentValue,t,V===Fn),e[l]=t}Xe.ngInherit=!0;const xn="__ngSimpleChanges__";function Nn(e){return e[xn]||null}let ei;function li(e){ei=e}function kr(e){return!!e.listen}const lo={createRenderer:(e,t)=>void 0!==ei?ei:"undefined"!=typeof document?document:void 0};function ge(e){for(;Array.isArray(e);)e=e[0];return e}function j(e,t){return ge(t[e])}function pe(e,t){return ge(t[e.index])}function on(e,t){return e.data[t]}function Sr(e,t){const n=t[e];return xt(n)?n:n[0]}function fi(e){return 4==(4&e[2])}function mi(e){return 128==(128&e[2])}function Ei(e,t){return null==t?null:e[t]}function _i(e){e[18]=0}function Ni(e,t){e[5]+=t;let n=e,l=e[3];for(;null!==l&&(1===t&&1===n[5]||-1===t&&0===n[5]);)l[5]+=t,n=l,l=l[3]}const N={lFrame:Uo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function mn(){return N.bindingsEnabled}function pn(){return N.lFrame.lView}function yr(){return N.lFrame.tView}function Ri(e){return N.lFrame.contextLView=e,e[8]}function Nr(){let e=po();for(;null!==e&&64===e.type;)e=e.parent;return e}function po(){return N.lFrame.currentTNode}function qi(e,t){const n=N.lFrame;n.currentTNode=e,n.isParent=t}function Xi(){return N.lFrame.isParent}function js(){N.lFrame.isParent=!1}function Ur(){return N.isInCheckNoChangesMode}function Zr(e){N.isInCheckNoChangesMode=e}function Ti(){const e=N.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ga(){return N.lFrame.bindingIndex++}function rs(e){const t=N.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function wo(e,t){const n=N.lFrame;n.bindingIndex=n.bindingRootIndex=e,Fa(t)}function Fa(e){N.lFrame.currentDirectiveIndex=e}function Na(){return N.lFrame.currentQueryIndex}function os(e){N.lFrame.currentQueryIndex=e}function sl(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function vi(e,t,n){if(n&Ut.SkipSelf){let f=t,_=e;for(;!(f=f.parent,null!==f||n&Ut.Host||(f=sl(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;t=f,e=_}const l=N.lFrame=va();return l.currentTNode=t,l.lView=e,!0}function ma(e){const t=va(),n=e[1];N.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function va(){const e=N.lFrame,t=null===e?null:e.child;return null===t?Uo(e):t}function Uo(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function cs(){const e=N.lFrame;return N.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Fl=cs;function Ts(){const e=cs();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function no(){return N.lFrame.selectedIndex}function Wi(e){N.lFrame.selectedIndex=e}function Vi(){const e=N.lFrame;return on(e.tView,e.selectedIndex)}function ri(e,t){for(let n=t.directiveStart,l=t.directiveEnd;n<l;n++){const _=e.data[n].type.prototype,{ngAfterContentInit:V,ngAfterContentChecked:ee,ngAfterViewInit:se,ngAfterViewChecked:Re,ngOnDestroy:ze}=_;V&&(e.contentHooks||(e.contentHooks=[])).push(-n,V),ee&&((e.contentHooks||(e.contentHooks=[])).push(n,ee),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,ee)),se&&(e.viewHooks||(e.viewHooks=[])).push(-n,se),Re&&((e.viewHooks||(e.viewHooks=[])).push(n,Re),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,Re)),null!=ze&&(e.destroyHooks||(e.destroyHooks=[])).push(n,ze)}}function co(e,t,n){Ds(e,t,3,n)}function as(e,t,n,l){(3&e[2])===n&&Ds(e,t,n,l)}function ya(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ds(e,t,n,l){const _=null!=l?l:-1,V=t.length-1;let ee=0;for(let se=void 0!==l?65535&e[18]:0;se<V;se++)if("number"==typeof t[se+1]){if(ee=t[se],null!=l&&ee>=l)break}else t[se]<0&&(e[18]+=65536),(ee<_||-1==_)&&(Nl(e,n,t,se),e[18]=(4294901760&e[18])+se+2),se++}function Nl(e,t,n,l){const f=n[l]<0,_=n[l+1],ee=e[f?-n[l]:n[l]];if(f){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{_.call(ee)}finally{}}}else try{_.call(ee)}finally{}}class _a{constructor(t,n,l){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=l}}function vs(e,t,n){const l=kr(e);let f=0;for(;f<n.length;){const _=n[f];if("number"==typeof _){if(0!==_)break;f++;const V=n[f++],ee=n[f++],se=n[f++];l?e.setAttribute(t,ee,se,V):t.setAttributeNS(V,ee,se)}else{const V=_,ee=n[++f];Ea(V)?l&&e.setProperty(t,V,ee):l?e.setAttribute(t,V,ee):t.setAttribute(V,ee),f++}}return f}function cu(e){return 3===e||4===e||6===e}function Ea(e){return 64===e.charCodeAt(0)}function Ua(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let l=0;l<t.length;l++){const f=t[l];"number"==typeof f?n=f:0===n||ul(e,n,f,null,-1===n||2===n?t[++l]:null)}}return e}function ul(e,t,n,l,f){let _=0,V=e.length;if(-1===t)V=-1;else for(;_<e.length;){const ee=e[_++];if("number"==typeof ee){if(ee===t){V=-1;break}if(ee>t){V=_-1;break}}}for(;_<e.length;){const ee=e[_];if("number"==typeof ee)break;if(ee===n){if(null===l)return void(null!==f&&(e[_+1]=f));if(l===e[_+1])return void(e[_+2]=f)}_++,null!==l&&_++,null!==f&&_++}-1!==V&&(e.splice(V,0,t),_=V+1),e.splice(_++,0,n),null!==l&&e.splice(_++,0,l),null!==f&&e.splice(_++,0,f)}function $l(e){return-1!==e}function Us(e){return 32767&e}function ta(e,t){let n=function(e){return e>>16}(e),l=t;for(;n>0;)l=l[15],n--;return l}let cl=!0;function Ga(e){const t=cl;return cl=e,t}let Q=0;function ve(e,t){const n=Ke(e,t);if(-1!==n)return n;const l=t[1];l.firstCreatePass&&(e.injectorIndex=t.length,Ae(l.data,e),Ae(t,null),Ae(l.blueprint,null));const f=yt(e,t),_=e.injectorIndex;if($l(f)){const V=Us(f),ee=ta(f,t),se=ee[1].data;for(let Re=0;Re<8;Re++)t[_+Re]=ee[V+Re]|se[V+Re]}return t[_+8]=f,_}function Ae(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ke(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function yt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,l=null,f=t;for(;null!==f;){const _=f[1],V=_.type;if(l=2===V?_.declTNode:1===V?f[6]:null,null===l)return-1;if(n++,f=f[15],-1!==l.injectorIndex)return l.injectorIndex|n<<16}return-1}function rt(e,t,n){!function(e,t,n){let l;"string"==typeof n?l=n.charCodeAt(0)||0:n.hasOwnProperty(Vr)&&(l=n[Vr]),null==l&&(l=n[Vr]=Q++);const f=255&l;t.data[e+(f>>5)]|=1<<f}(e,t,n)}function hr(e,t,n){if(n&Ut.Optional)return e;R(t,"NodeInjector")}function Hr(e,t,n,l){if(n&Ut.Optional&&void 0===l&&(l=null),0==(n&(Ut.Self|Ut.Host))){const f=e[9],_=Pn(void 0);try{return f?f.get(t,l,n&Ut.Optional):kt(t,l,n&Ut.Optional)}finally{Pn(_)}}return hr(l,t,n)}function Tn(e,t,n,l=Ut.Default,f){if(null!==e){const _=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Vr)?e[Vr]:void 0;return"number"==typeof t?t>=0?255&t:ci:t}(n);if("function"==typeof _){if(!vi(t,e,l))return l&Ut.Host?hr(f,n,l):Hr(t,n,l,f);try{const V=_(l);if(null!=V||l&Ut.Optional)return V;R(n)}finally{Fl()}}else if("number"==typeof _){let V=null,ee=Ke(e,t),se=-1,Re=l&Ut.Host?t[16][6]:null;for((-1===ee||l&Ut.SkipSelf)&&(se=-1===ee?yt(e,t):t[ee+8],-1!==se&&ls(l,!1)?(V=t[1],ee=Us(se),t=ta(se,t)):ee=-1);-1!==ee;){const ze=t[1];if(ys(_,ee,ze.data)){const ft=yi(ee,t,n,V,l,Re);if(ft!==Yr)return ft}se=t[ee+8],-1!==se&&ls(l,t[1].data[ee+8]===Re)&&ys(_,ee,t)?(V=ze,ee=Us(se),t=ta(se,t)):ee=-1}}}return Hr(t,n,l,f)}const Yr={};function ci(){return new go(Nr(),pn())}function yi(e,t,n,l,f,_){const V=t[1],ee=V.data[e+8],ze=Co(ee,V,n,null==l?yn(ee)&&cl:l!=V&&0!=(3&ee.type),f&Ut.Host&&_===ee);return null!==ze?bi(t,V,ze,ee):Yr}function Co(e,t,n,l,f){const _=e.providerIndexes,V=t.data,ee=1048575&_,se=e.directiveStart,ze=_>>20,Nt=f?ee+ze:e.directiveEnd;for(let nn=l?ee:ee+ze;nn<Nt;nn++){const An=V[nn];if(nn<se&&n===An||nn>=se&&An.type===n)return nn}if(f){const nn=V[se];if(nn&&Wn(nn)&&nn.type===n)return se}return null}function bi(e,t,n,l){let f=e[n];const _=t.data;if(function(e){return e instanceof _a}(f)){const V=f;V.resolving&&function(e,t){throw new g("200",`Circular dependency in DI detected for ${e}`)}(B(_[n]));const ee=Ga(V.canSeeViewProviders);V.resolving=!0;const se=V.injectImpl?Pn(V.injectImpl):null;vi(e,l,Ut.Default);try{f=e[n]=V.factory(void 0,_,e,l),t.firstCreatePass&&n>=l.directiveStart&&function(e,t,n){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:_}=t.type.prototype;if(l){const V=st(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,V),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,V)}f&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,f),_&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,_),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,_))}(n,_[n],t)}finally{null!==se&&Pn(se),Ga(ee),V.resolving=!1,Fl()}}return f}function ys(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function ls(e,t){return!(e&Ut.Self||e&Ut.Host&&t)}class go{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,l){return Tn(this._tNode,this._lView,t,l,n)}}function dl(e){return ht(()=>{const t=e.prototype.constructor,n=t[Gr]||Vu(t),l=Object.prototype;let f=Object.getPrototypeOf(e.prototype).constructor;for(;f&&f!==l;){const _=f[Gr]||Vu(f);if(_&&_!==n)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function Vu(e){return m(e)?()=>{const t=Vu(C(e));return t&&t()}:hn(e)}function na(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const l=n.length;let f=0;for(;f<l;){const _=n[f];if(cu(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<l&&"string"==typeof n[f];)f++;else{if(_===t)return n[f+1];f+=2}}}return null}(Nr(),e)}const ia="__parameters__";function fl(e,t,n){return ht(()=>{const l=function(e){return function(...n){if(e){const l=e(...n);for(const f in l)this[f]=l[f]}}}(t);function f(..._){if(this instanceof f)return l.apply(this,_),this;const V=new f(..._);return ee.annotation=V,ee;function ee(se,Re,ze){const ft=se.hasOwnProperty(ia)?se[ia]:Object.defineProperty(se,ia,{value:[]})[ia];for(;ft.length<=ze;)ft.push(null);return(ft[ze]=ft[ze]||[]).push(V),se}}return n&&(f.prototype=Object.create(n.prototype)),f.prototype.ngMetadataName=e,f.annotationCls=f,f})}class Ji{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Fc=new Ji("AnalyzeForEntryComponents");function hs(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let l=e[n];Array.isArray(l)?(t===e&&(t=e.slice(0,n)),hs(l,t)):t!==e&&t.push(l)}return t}function Vs(e,t){e.forEach(n=>Array.isArray(n)?Vs(n,t):t(n))}function Uc(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function gu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Gl(e,t){const n=[];for(let l=0;l<e;l++)n.push(t);return n}function cr(e,t,n){let l=Xo(e,t);return l>=0?e[1|l]=n:(l=~l,function(e,t,n,l){let f=e.length;if(f==t)e.push(n,l);else if(1===f)e.push(l,e[0]),e[0]=n;else{for(f--,e.push(e[f-1],e[f]);f>t;)e[f]=e[f-2],f--;e[t]=n,e[t+1]=l}}(e,l,t,n)),l}function fs(e,t){const n=Xo(e,t);if(n>=0)return e[1|n]}function Xo(e,t){return function(e,t,n){let l=0,f=e.length>>n;for(;f!==l;){const _=l+(f-l>>1),V=e[_<<n];if(t===V)return _<<n;V>t?f=_:l=_+1}return~(f<<n)}(e,t,1)}const zs={},bu="__NG_DI_FLAG__",Hs="ngTempTokenPath",gl=/\n/gm,Hu="__source",Wu=L({provide:String,useValue:L});let di;function ro(e){const t=di;return di=e,t}function lh(e,t=Ut.Default){if(void 0===di)throw new Error("inject() must be called from an injection context");return null===di?kt(e,void 0,t):di.get(e,t&Ut.Optional?null:void 0,t)}function To(e,t=Ut.Default){return(Lt||lh)(C(e),t)}function Zu(e){const t=[];for(let n=0;n<e.length;n++){const l=C(e[n]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let f,_=Ut.Default;for(let V=0;V<l.length;V++){const ee=l[V],se=vl(ee);"number"==typeof se?-1===se?f=ee.token:_|=se:f=ee}t.push(To(f,_))}else t.push(To(l))}return t}function ml(e,t){return e[bu]=t,e.prototype[bu]=t,e}function vl(e){return e[bu]}const Ss=ml(fl("Inject",e=>({token:e})),-1),Os=ml(fl("Optional"),8),zl=ml(fl("Self"),2),wa=ml(fl("SkipSelf"),4);let yl;function Gi(e){var t;return(null===(t=function(){if(void 0===yl&&(yl=null,Hn.trustedTypes))try{yl=Hn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return yl}())||void 0===t?void 0:t.createHTML(e))||e}class mo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class bs extends mo{getTypeName(){return"HTML"}}class Zl extends mo{getTypeName(){return"Style"}}class bl extends mo{getTypeName(){return"Script"}}class xu extends mo{getTypeName(){return"URL"}}class wu extends mo{getTypeName(){return"ResourceURL"}}function sa(e){return e instanceof mo?e.changingThisBreaksApplicationSecurity:e}function Da(e,t){const n=Yl(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Yl(e){return e instanceof mo&&e.getTypeName()||null}function Kl(e){return new bs(e)}function dh(e){return new Zl(e)}function El(e){return new bl(e)}function hh(e){return new xu(e)}function fh(e){return new wu(e)}class tc{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Gi(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class ph{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const l=this.inertDocument.createElement("body");n.appendChild(l)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=Gi(t),n;const l=this.inertDocument.createElement("body");return l.innerHTML=Gi(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(t){const n=t.attributes;for(let f=n.length-1;0<f;f--){const V=n.item(f).name;("xmlns:ns1"===V||0===V.indexOf("ns1:"))&&t.removeAttribute(V)}let l=t.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const af=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,mh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zs(e){return(e=String(e)).match(af)||e.match(mh)?e:"unsafe:"+e}function si(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function xl(...e){const t={};for(const n of e)for(const l in n)n.hasOwnProperty(l)&&(t[l]=!0);return t}const Cu=si("area,br,col,hr,img,wbr"),nc=si("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rc=si("rp,rt"),Tu=xl(Cu,xl(nc,si("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xl(rc,si("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xl(rc,nc)),oc=si("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kc=si("srcset"),wl=xl(oc,Kc,si("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),si("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ps=si("script,style,template");class sc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,l=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?l=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,l&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let f=this.checkClobberedElement(n,n.nextSibling);if(f){n=f;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Tu.hasOwnProperty(n))return this.sanitizedSomething=!0,!Ps.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const l=t.attributes;for(let f=0;f<l.length;f++){const _=l.item(f),V=_.name,ee=V.toLowerCase();if(!wl.hasOwnProperty(ee)){this.sanitizedSomething=!0;continue}let se=_.value;oc[ee]&&(se=Zs(se)),Kc[ee]&&(e=se,se=(e=String(e)).split(",").map(t=>Zs(t.trim())).join(", ")),this.buf.push(" ",V,'="',Xa(se),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Tu.hasOwnProperty(n)&&!Cu.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Xa(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Xc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jc=/([^\#-~ |!])/g;function Xa(e){return e.replace(/&/g,"&amp;").replace(Xc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Jc,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xl;function Jl(e,t){let n=null;try{Xl=Xl||function(e){const t=new ph(e);return function(){try{return!!(new window.DOMParser).parseFromString(Gi(""),"text/html")}catch(e){return!1}}()?new tc(t):t}(e);let l=t?String(t):"";n=Xl.getInertBodyElement(l);let f=5,_=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=_,_=n.innerHTML,n=Xl.getInertBodyElement(l)}while(l!==_);return Gi((new sc).sanitizeChildren(Du(n)||n))}finally{if(n){const l=Du(n)||n;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Du(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var io=(()=>((io=io||{})[io.NONE=0]="NONE",io[io.HTML=1]="HTML",io[io.STYLE=2]="STYLE",io[io.SCRIPT=3]="SCRIPT",io[io.URL=4]="URL",io[io.RESOURCE_URL=5]="RESOURCE_URL",io))();function Su(e){const t=function(){const e=pn();return e&&e[12]}();return t?t.sanitize(io.URL,e)||"":Da(e,"URL")?sa(e):Zs(k(e))}const ql="__ngContext__";function ki(e,t){e[ql]=t}function Es(e){const t=function(e){return e[ql]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function od(e){return e.ngOriginalError}function ad(e,...t){e.error(...t)}class Ru{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),l=(e=t)&&e.ngErrorLogger||ad;var e;l(this._console,"ERROR",t),n&&l(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&od(t);for(;n&&od(n);)n=od(n);return n||null}}const gc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Hn))();function Ys(e){return e instanceof Function?e():e}var us=(()=>((us=us||{})[us.Important=1]="Important",us[us.DashCase=2]="DashCase",us))();function Ks(e,t){return undefined(e,t)}function jr(e){const t=e[3];return Vt(t)?t[3]:t}function fd(e){return pd(e[13])}function Xs(e){return pd(e[4])}function pd(e){for(;null!==e&&!Vt(e);)e=e[4];return e}function Qa(e,t,n,l,f){if(null!=l){let _,V=!1;Vt(l)?_=l:xt(l)&&(V=!0,l=l[0]);const ee=ge(l);0===e&&null!==n?null==f?bd(t,n,ee):el(t,n,ee,f||null,!0):1===e&&null!==n?el(t,n,ee,f||null,!0):2===e?function(e,t,n){const l=Nu(e,t);l&&function(e,t,n,l){kr(e)?e.removeChild(t,n,l):t.removeChild(n)}(e,l,t,n)}(t,ee,V):3===e&&t.destroyNode(ee),null!=_&&function(e,t,n,l,f){const _=n[7];_!==ge(n)&&Qa(t,e,l,_,f);for(let ee=10;ee<n.length;ee++){const se=n[ee];tl(se[1],se,e,t,l,_)}}(t,e,_,n,f)}}function Lu(e,t,n){return kr(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function _d(e,t){const n=e[9],l=n.indexOf(t),f=t[3];1024&t[2]&&(t[2]&=-1025,Ni(f,-1)),n.splice(l,1)}function yc(e,t){if(e.length<=10)return;const n=10+t,l=e[n];if(l){const f=l[17];null!==f&&f!==e&&_d(f,l),t>0&&(e[n-1][4]=l[4]);const _=gu(e,10+t);!function(e,t){tl(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(l[1],l);const V=_[19];null!==V&&V.detachView(_[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function _c(e,t){if(!(256&t[2])){const n=t[11];kr(n)&&n.destroyNode&&tl(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Sl(e[1],e);for(;t;){let n=null;if(xt(t))n=t[13];else{const l=t[10];l&&(n=l)}if(!n){for(;t&&!t[4]&&t!==e;)xt(t)&&Sl(t[1],t),t=t[3];null===t&&(t=e),xt(t)&&Sl(t[1],t),n=t&&t[4]}t=n}}(t)}}function Sl(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let l=0;l<n.length;l+=2){const f=t[n[l]];if(!(f instanceof _a)){const _=n[l+1];if(Array.isArray(_))for(let V=0;V<_.length;V+=2){const ee=f[_[V]],se=_[V+1];try{se.call(ee)}finally{}}else try{_.call(f)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,l=t[7];let f=-1;if(null!==n)for(let _=0;_<n.length-1;_+=2)if("string"==typeof n[_]){const V=n[_+1],ee="function"==typeof V?V(t):ge(t[V]),se=l[f=n[_+2]],Re=n[_+3];"boolean"==typeof Re?ee.removeEventListener(n[_],se,Re):Re>=0?l[f=Re]():l[f=-Re].unsubscribe(),_+=2}else{const V=l[f=n[_+1]];n[_].call(V)}if(null!==l){for(let _=f+1;_<l.length;_++)l[_]();t[7]=null}}(e,t),1===t[1].type&&kr(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Vt(t[3])){n!==t[3]&&_d(n,t);const l=t[19];null!==l&&l.detachView(e)}}}function As(e,t,n){return function(e,t,n){let l=t;for(;null!==l&&40&l.type;)l=(t=l).parent;if(null===l)return n[0];if(2&l.flags){const f=e.data[l.directiveStart].encapsulation;if(f===Rt.None||f===Rt.Emulated)return null}return pe(l,n)}(e,t.parent,n)}function el(e,t,n,l,f){kr(e)?e.insertBefore(t,n,l,f):t.insertBefore(n,l,f)}function bd(e,t,n){kr(e)?e.appendChild(t,n):t.appendChild(n)}function wc(e,t,n,l,f){null!==l?el(e,t,n,l,f):bd(e,t,n)}function Nu(e,t){return kr(e)?e.parentNode(t):t.parentNode}function Cc(e,t,n){return Tc(e,t,n)}let Tc=function(e,t,n){return 40&e.type?pe(e,n):null};function Dc(e,t,n,l){const f=As(e,l,t),_=t[11],ee=Cc(l.parent||t[6],l,t);if(null!=f)if(Array.isArray(n))for(let se=0;se<n.length;se++)wc(_,f,n[se],ee,!1);else wc(_,f,n,ee,!1)}function tu(e,t){if(null!==t){const n=t.type;if(3&n)return pe(t,e);if(4&n)return Cd(-1,e[t.index]);if(8&n){const l=t.child;if(null!==l)return tu(e,l);{const f=e[t.index];return Vt(f)?Cd(-1,f):ge(f)}}if(32&n)return Ks(t,e)()||ge(e[t.index]);{const l=Ah(e,t);return null!==l?Array.isArray(l)?l[0]:tu(jr(e[16]),l):tu(e,t.next)}}return null}function Ah(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Cd(e,t){const n=10+e+1;if(n<t.length){const l=t[n],f=l[1].firstChild;if(null!==f)return tu(l,f)}return t[7]}function Bu(e,t,n,l,f,_,V){for(;null!=n;){const ee=l[n.index],se=n.type;if(V&&0===t&&(ee&&ki(ge(ee),l),n.flags|=4),64!=(64&n.flags))if(8&se)Bu(e,t,n.child,l,f,_,!1),Qa(t,e,f,ee,_);else if(32&se){const Re=Ks(n,l);let ze;for(;ze=Re();)Qa(t,e,f,ze,_);Qa(t,e,f,ee,_)}else 16&se?Td(e,t,l,n,f,_):Qa(t,e,f,ee,_);n=V?n.projectionNext:n.next}}function tl(e,t,n,l,f,_){Bu(n,l,e.firstChild,t,f,_,!1)}function Td(e,t,n,l,f,_){const V=n[16],se=V[6].projection[l.projection];if(Array.isArray(se))for(let Re=0;Re<se.length;Re++)Qa(t,e,f,se[Re],_);else Bu(e,t,se,V[3],f,_,!0)}function Uu(e,t,n){kr(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Mc(e,t,n){kr(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Md(e,t,n){let l=e.length;for(;;){const f=e.indexOf(t,n);if(-1===f)return f;if(0===f||e.charCodeAt(f-1)<=32){const _=t.length;if(f+_===l||e.charCodeAt(f+_)<=32)return f}n=f+1}}const Sd="ng-template";function Lh(e,t,n){let l=0;for(;l<e.length;){let f=e[l++];if(n&&"class"===f){if(f=e[l],-1!==Md(f.toLowerCase(),t,0))return!0}else if(1===f){for(;l<e.length&&"string"==typeof(f=e[l++]);)if(f.toLowerCase()===t)return!0;return!1}}return!1}function Sc(e){return 4===e.type&&e.value!==Sd}function Od(e,t,n){return t===(4!==e.type||n?e.value:Sd)}function Fh(e,t,n){let l=4;const f=e.attrs||[],_=function(e){for(let t=0;t<e.length;t++)if(cu(e[t]))return t;return e.length}(f);let V=!1;for(let ee=0;ee<t.length;ee++){const se=t[ee];if("number"!=typeof se){if(!V)if(4&l){if(l=2|1&l,""!==se&&!Od(e,se,n)||""===se&&1===t.length){if(Rs(l))return!1;V=!0}}else{const Re=8&l?se:t[++ee];if(8&l&&null!==e.attrs){if(!Lh(e.attrs,Re,n)){if(Rs(l))return!1;V=!0}continue}const ft=Nh(8&l?"class":se,f,Sc(e),n);if(-1===ft){if(Rs(l))return!1;V=!0;continue}if(""!==Re){let Nt;Nt=ft>_?"":f[ft+1].toLowerCase();const nn=8&l?Nt:null;if(nn&&-1!==Md(nn,Re,0)||2&l&&Re!==Nt){if(Rs(l))return!1;V=!0}}}}else{if(!V&&!Rs(l)&&!Rs(se))return!1;if(V&&Rs(se))continue;V=!1,l=se|1&l}}return Rs(l)||V}function Rs(e){return 0==(1&e)}function Nh(e,t,n,l){if(null===t)return-1;let f=0;if(l||!n){let _=!1;for(;f<t.length;){const V=t[f];if(V===e)return f;if(3===V||6===V)_=!0;else{if(1===V||2===V){let ee=t[++f];for(;"string"==typeof ee;)ee=t[++f];continue}if(4===V)break;if(0===V){f+=4;continue}}f+=_?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const l=e[n];if("number"==typeof l)return-1;if(l===t)return n;n++}return-1}(t,e)}function d(e,t,n=!1){for(let l=0;l<t.length;l++)if(Fh(e,t[l],n))return!0;return!1}function Y(e,t){e:for(let n=0;n<t.length;n++){const l=t[n];if(e.length===l.length){for(let f=0;f<e.length;f++)if(e[f]!==l[f])continue e;return!0}}return!1}function q(e,t){return e?":not("+t.trim()+")":t}function de(e){let t=e[0],n=1,l=2,f="",_=!1;for(;n<e.length;){let V=e[n];if("string"==typeof V)if(2&l){const ee=e[++n];f+="["+V+(ee.length>0?'="'+ee+'"':"")+"]"}else 8&l?f+="."+V:4&l&&(f+=" "+V);else""!==f&&!Rs(V)&&(t+=q(_,f),f=""),l=V,_=_||!Rs(l);n++}return""!==f&&(t+=q(_,f)),t}const Ne={};function mt(e){pt(yr(),pn(),no()+e,Ur())}function pt(e,t,n,l){if(!l)if(3==(3&t[2])){const _=e.preOrderCheckHooks;null!==_&&co(t,_,n)}else{const _=e.preOrderHooks;null!==_&&as(t,_,0,n)}Wi(n)}function rn(e,t){return e<<17|t<<2}function Kt(e){return e>>17&32767}function zn(e){return 2|e}function qt(e){return(131068&e)>>2}function Rn(e,t){return-131069&e|t<<2}function Jn(e){return 1|e}function da(e,t){const n=e.contentQueries;if(null!==n)for(let l=0;l<n.length;l+=2){const f=n[l],_=n[l+1];if(-1!==_){const V=e.data[_];os(f),V.contentQueries(2,t[_],_)}}}function Oa(e,t,n,l,f,_,V,ee,se,Re){const ze=t.blueprint.slice();return ze[0]=f,ze[2]=140|l,_i(ze),ze[3]=ze[15]=e,ze[8]=n,ze[10]=V||e&&e[10],ze[11]=ee||e&&e[11],ze[12]=se||e&&e[12]||null,ze[9]=Re||e&&e[9]||null,ze[6]=_,ze[16]=2==t.type?e[16]:ze,ze}function Oo(e,t,n,l,f){let _=e.data[t];if(null===_)_=function(e,t,n,l,f){const _=po(),V=Xi(),se=e.data[t]=function(e,t,n,l,f,_){return{type:n,index:l,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,V?_:_&&_.parent,n,t,l,f);return null===e.firstChild&&(e.firstChild=se),null!==_&&(V?null==_.child&&null!==se.parent&&(_.child=se):null===_.next&&(_.next=se)),se}(e,t,n,l,f),N.lFrame.inI18n&&(_.flags|=64);else if(64&_.type){_.type=n,_.value=l,_.attrs=f;const V=function(){const e=N.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();_.injectorIndex=null===V?-1:V.injectorIndex}return qi(_,!0),_}function ha(e,t,n,l){if(0===n)return-1;const f=t.length;for(let _=0;_<n;_++)t.push(l),e.blueprint.push(l),e.data.push(null);return f}function Ia(e,t,n){ma(t);try{const l=e.viewQuery;null!==l&&Gf(1,l,n);const f=e.template;null!==f&&su(e,t,f,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&da(e,t),e.staticViewQueries&&Gf(2,e.viewQuery,n);const _=e.components;null!==_&&function(e,t){for(let n=0;n<t.length;n++)jf(e,t[n])}(t,_)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{t[2]&=-5,Ts()}}function Pa(e,t,n,l){const f=t[2];if(256==(256&f))return;ma(t);const _=Ur();try{_i(t),function(e){N.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&su(e,t,n,2,l);const V=3==(3&f);if(!_)if(V){const Re=e.preOrderCheckHooks;null!==Re&&co(t,Re,null)}else{const Re=e.preOrderHooks;null!==Re&&as(t,Re,0,null),ya(t,0)}if(function(e){for(let t=fd(e);null!==t;t=Xs(t)){if(!t[2])continue;const n=t[9];for(let l=0;l<n.length;l++){const f=n[l],_=f[3];0==(1024&f[2])&&Ni(_,1),f[2]|=1024}}}(t),function(e){for(let t=fd(e);null!==t;t=Xs(t))for(let n=10;n<t.length;n++){const l=t[n],f=l[1];mi(l)&&Pa(f,l,f.template,l[8])}}(t),null!==e.contentQueries&&da(e,t),!_)if(V){const Re=e.contentCheckHooks;null!==Re&&co(t,Re)}else{const Re=e.contentHooks;null!==Re&&as(t,Re,1),ya(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let l=0;l<n.length;l++){const f=n[l];if(f<0)Wi(~f);else{const _=f,V=n[++l],ee=n[++l];wo(V,_),ee(2,t[_])}}}finally{Wi(-1)}}(e,t);const ee=e.components;null!==ee&&function(e,t){for(let n=0;n<t.length;n++)Ic(e,t[n])}(t,ee);const se=e.viewQuery;if(null!==se&&Gf(2,se,l),!_)if(V){const Re=e.viewCheckHooks;null!==Re&&co(t,Re)}else{const Re=e.viewHooks;null!==Re&&as(t,Re,2),ya(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),_||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ni(t[3],-1))}finally{Ts()}}function ws(e,t,n,l){const f=t[10],_=!Ur(),V=fi(t);try{_&&!V&&f.begin&&f.begin(),V&&Ia(e,t,l),Pa(e,t,n,l)}finally{_&&!V&&f.end&&f.end()}}function su(e,t,n,l,f){const _=no(),V=2&l;try{Wi(-1),V&&t.length>20&&pt(e,t,20,Ur()),n(l,f)}finally{Wi(_)}}function Ad(e,t,n){if(an(t)){const f=t.directiveEnd;for(let _=t.directiveStart;_<f;_++){const V=e.data[_];V.contentQueries&&V.contentQueries(1,n[_],_)}}}function Aa(e,t,n){!mn()||(function(e,t,n,l){const f=n.directiveStart,_=n.directiveEnd;e.firstCreatePass||ve(n,t),ki(l,t);const V=n.initialInputs;for(let ee=f;ee<_;ee++){const se=e.data[ee],Re=Wn(se);Re&&qs(t,n,se);const ze=bi(t,e,ee,n);ki(ze,t),null!==V&&Pl(0,ee-f,ze,se,0,V),Re&&(Sr(n.index,t)[8]=ze)}}(e,t,n,pe(n,t)),128==(128&n.flags)&&function(e,t,n){const l=n.directiveStart,f=n.directiveEnd,V=n.index,ee=N.lFrame.currentDirectiveIndex;try{Wi(V);for(let se=l;se<f;se++){const Re=e.data[se],ze=t[se];Fa(se),(null!==Re.hostBindings||0!==Re.hostVars||null!==Re.hostAttrs)&&Hi(Re,ze)}}finally{Wi(-1),Fa(ee)}}(e,t,n))}function Il(e,t,n=pe){const l=t.localNames;if(null!==l){let f=t.index+1;for(let _=0;_<l.length;_+=2){const V=l[_+1],ee=-1===V?n(t,e):e[V];e[f++]=ee}}}function au(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=s(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function s(e,t,n,l,f,_,V,ee,se,Re){const ze=20+l,ft=ze+f,Nt=function(e,t){const n=[];for(let l=0;l<t;l++)n.push(l<e?null:Ne);return n}(ze,ft),nn="function"==typeof Re?Re():Re;return Nt[1]={type:e,blueprint:Nt,template:n,queries:null,viewQuery:ee,declTNode:t,data:Nt.slice().fill(null,ze),bindingStartIndex:ze,expandoStartIndex:ft,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof V?V():V,firstChild:null,schemas:se,consts:nn,incompleteFirstPass:!1}}function E(e,t,n,l){const f=ug(t);null===n?f.push(l):(f.push(n),e.firstCreatePass&&cg(e).push(l,f.length-1))}function J(e,t,n){for(let l in e)if(e.hasOwnProperty(l)){const f=e[l];(n=null===n?{}:n).hasOwnProperty(l)?n[l].push(t,f):n[l]=[t,f]}return n}function sr(e,t,n,l){let f=!1;if(mn()){const _=function(e,t,n){const l=e.directiveRegistry;let f=null;if(l)for(let _=0;_<l.length;_++){const V=l[_];d(n,V.selectors,!1)&&(f||(f=[]),rt(ve(n,t),e,V.type),Wn(V)?(_o(e,n),f.unshift(V)):f.push(V))}return f}(e,t,n),V=null===l?null:{"":-1};if(null!==_){f=!0,Bo(n,e.data.length,_.length);for(let ze=0;ze<_.length;ze++){const ft=_[ze];ft.providersResolver&&ft.providersResolver(ft)}let ee=!1,se=!1,Re=ha(e,t,_.length,null);for(let ze=0;ze<_.length;ze++){const ft=_[ze];n.mergedAttrs=Ua(n.mergedAttrs,ft.hostAttrs),gs(e,n,t,Re,ft),ps(Re,ft,V),null!==ft.contentQueries&&(n.flags|=8),(null!==ft.hostBindings||null!==ft.hostAttrs||0!==ft.hostVars)&&(n.flags|=128);const Nt=ft.type.prototype;!ee&&(Nt.ngOnChanges||Nt.ngOnInit||Nt.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),ee=!0),!se&&(Nt.ngOnChanges||Nt.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),se=!0),Re++}!function(e,t){const l=t.directiveEnd,f=e.data,_=t.attrs,V=[];let ee=null,se=null;for(let Re=t.directiveStart;Re<l;Re++){const ze=f[Re],ft=ze.inputs,Nt=null===_||Sc(t)?null:Oc(ft,_);V.push(Nt),ee=J(ft,Re,ee),se=J(ze.outputs,Re,se)}null!==ee&&(ee.hasOwnProperty("class")&&(t.flags|=16),ee.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=V,t.inputs=ee,t.outputs=se}(e,n)}V&&function(e,t,n){if(t){const l=e.localNames=[];for(let f=0;f<t.length;f+=2){const _=n[t[f+1]];if(null==_)throw new g("301",`Export of name '${t[f+1]}' not found!`);l.push(t[f],_)}}}(n,l,V)}return n.mergedAttrs=Ua(n.mergedAttrs,n.attrs),f}function Pr(e,t,n,l,f,_){const V=_.hostBindings;if(V){let ee=e.hostBindingOpCodes;null===ee&&(ee=e.hostBindingOpCodes=[]);const se=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(ee)!=se&&ee.push(se),ee.push(l,f,V)}}function Hi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function _o(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ps(e,t,n){if(n){if(t.exportAs)for(let l=0;l<t.exportAs.length;l++)n[t.exportAs[l]]=e;Wn(t)&&(n[""]=e)}}function Bo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function gs(e,t,n,l,f){e.data[l]=f;const _=f.factory||(f.factory=hn(f.type)),V=new _a(_,Wn(f),null);e.blueprint[l]=V,n[l]=V,Pr(e,t,0,l,ha(e,n,f.hostVars,Ne),f)}function qs(e,t,n){const l=pe(t,e),f=au(n),_=e[10],V=mf(e,Oa(e,f,null,n.onPush?64:16,l,t,_,_.createRenderer(l,n),null,null));e[t.index]=V}function oo(e,t,n,l,f,_){const V=pe(e,t);!function(e,t,n,l,f,_,V){if(null==_)kr(e)?e.removeAttribute(t,f,n):t.removeAttribute(f);else{const ee=null==V?k(_):V(_,l||"",f);kr(e)?e.setAttribute(t,f,ee,n):n?t.setAttributeNS(n,f,ee):t.setAttribute(f,ee)}}(t[11],V,_,e.value,n,l,f)}function Pl(e,t,n,l,f,_){const V=_[t];if(null!==V){const ee=l.setInput;for(let se=0;se<V.length;){const Re=V[se++],ze=V[se++],ft=V[se++];null!==ee?l.setInput(n,ft,Re,ze):n[ze]=ft}}}function Oc(e,t){let n=null,l=0;for(;l<t.length;){const f=t[l];if(0!==f)if(5!==f){if("number"==typeof f)break;e.hasOwnProperty(f)&&(null===n&&(n=[]),n.push(f,e[f],t[l+1])),l+=2}else l+=2;else l+=4}return n}function Rd(e,t,n,l){return new Array(e,!0,!1,t,null,0,l,n,null,null)}function Ic(e,t){const n=Sr(t,e);if(mi(n)){const l=n[1];80&n[2]?Pa(l,n,l.template,n[8]):n[5]>0&&lu(n)}}function lu(e){for(let l=fd(e);null!==l;l=Xs(l))for(let f=10;f<l.length;f++){const _=l[f];if(1024&_[2]){const V=_[1];Pa(V,_,V.template,_[8])}else _[5]>0&&lu(_)}const n=e[1].components;if(null!==n)for(let l=0;l<n.length;l++){const f=Sr(n[l],e);mi(f)&&f[5]>0&&lu(f)}}function jf(e,t){const n=Sr(t,e),l=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(l,n),Ia(l,n,n[8])}function mf(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Bf(e){for(;e;){e[2]|=64;const t=jr(e);if(mr(e)&&!t)return e;e=t}return null}function Uf(e,t,n){const l=t[10];l.begin&&l.begin();try{Pa(e,t,e.template,n)}catch(f){throw hg(t,f),f}finally{l.end&&l.end()}}function lg(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],l=Es(n),f=l[1];ws(f,l,f.template,n)}}(e[8])}function Gf(e,t,n){os(0),t(e,n)}const ey=(()=>Promise.resolve(null))();function ug(e){return e[7]||(e[7]=[])}function cg(e){return e.cleanup||(e.cleanup=[])}function hg(e,t){const n=e[9],l=n?n.get(Ru,null):null;l&&l.handleError(t)}function fg(e,t,n,l,f){for(let _=0;_<n.length;){const V=n[_++],ee=n[_++],se=t[V],Re=e.data[V];null!==Re.setInput?Re.setInput(se,f,l,ee):se[ee]=f}}function uu(e,t,n){const l=j(t,e);!function(e,t,n){kr(e)?e.setValue(t,n):t.textContent=n}(e[11],l,n)}function vf(e,t,n){let l=n?e.styles:null,f=n?e.classes:null,_=0;if(null!==t)for(let V=0;V<t.length;V++){const ee=t[V];"number"==typeof ee?_=ee:1==_?f=P(f,ee):2==_&&(l=P(l,ee+": "+t[++V]+";"))}n?e.styles=l:e.stylesWithoutHost=l,n?e.classes=f:e.classesWithoutHost=f}const Vf=new Ji("INJECTOR",-1);class pg{get(t,n=zs){if(n===zs){const l=new Error(`NullInjectorError: No provider for ${S(t)}!`);throw l.name="NullInjectorError",l}return n}}const zf=new Ji("Set Injector scope."),jh={},ry={};let Hf;function gg(){return void 0===Hf&&(Hf=new pg),Hf}function mg(e,t=null,n=null,l){const f=vg(e,t,n,l);return f._resolveInjectorDefTypes(),f}function vg(e,t=null,n=null,l){return new iy(e,n,t||gg(),l)}class iy{constructor(t,n,l,f=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];n&&Vs(n,ee=>this.processProvider(ee,t,n)),Vs([t],ee=>this.processInjectorType(ee,[],_)),this.records.set(Vf,kd(void 0,this));const V=this.records.get(zf);this.scope=null!=V?V.value:null,this.source=f||("object"==typeof t?null:S(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=zs,l=Ut.Default){this.assertNotDestroyed();const f=ro(this),_=Pn(void 0);try{if(!(l&Ut.SkipSelf)){let ee=this.records.get(t);if(void 0===ee){const se=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Ji)&&at(t);ee=se&&this.injectableDefInScope(se)?kd(Wf(t),jh):null,this.records.set(t,ee)}if(null!=ee)return this.hydrate(t,ee)}return(l&Ut.Self?gg():this.parent).get(t,n=l&Ut.Optional&&n===zs?null:n)}catch(V){if("NullInjectorError"===V.name){if((V[Hs]=V[Hs]||[]).unshift(S(t)),f)throw V;return function(e,t,n,l){const f=e[Hs];throw t[Hu]&&f.unshift(t[Hu]),e.message=function(e,t,n,l=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let f=S(t);if(Array.isArray(t))f=t.map(S).join(" -> ");else if("object"==typeof t){let _=[];for(let V in t)if(t.hasOwnProperty(V)){let ee=t[V];_.push(V+":"+("string"==typeof ee?JSON.stringify(ee):S(ee)))}f=`{${_.join(", ")}}`}return`${n}${l?"("+l+")":""}[${f}]: ${e.replace(gl,"\n  ")}`}("\n"+e.message,f,n,l),e.ngTokenPath=f,e[Hs]=null,e}(V,t,"R3InjectorError",this.source)}throw V}finally{Pn(_),ro(f)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((l,f)=>t.push(S(f))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,l){if(!(t=C(t)))return!1;let f=wn(t);const _=null==f&&t.ngModule||void 0,V=void 0===_?t:_,ee=-1!==l.indexOf(V);if(void 0!==_&&(f=wn(_)),null==f)return!1;if(null!=f.imports&&!ee){let ze;l.push(V);try{Vs(f.imports,ft=>{this.processInjectorType(ft,n,l)&&(void 0===ze&&(ze=[]),ze.push(ft))})}finally{}if(void 0!==ze)for(let ft=0;ft<ze.length;ft++){const{ngModule:Nt,providers:nn}=ze[ft];Vs(nn,An=>this.processProvider(An,Nt,nn||er))}}this.injectorDefTypes.add(V);const se=hn(V)||(()=>new V);this.records.set(V,kd(se,jh));const Re=f.providers;if(null!=Re&&!ee){const ze=t;Vs(Re,ft=>this.processProvider(ft,ze,Re))}return void 0!==_&&void 0!==t.providers}processProvider(t,n,l){let f=Ld(t=C(t))?t:C(t&&t.provide);const _=(e=t,_g(e)?kd(void 0,e.useValue):kd(yg(e),jh));var e;if(Ld(t)||!0!==t.multi)this.records.get(f);else{let V=this.records.get(f);V||(V=kd(void 0,jh,!0),V.factory=()=>Zu(V.multi),this.records.set(f,V)),f=t,V.multi.push(t)}this.records.set(f,_)}hydrate(t,n){return n.value===jh&&(n.value=ry,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=C(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Wf(e){const t=at(e),n=null!==t?t.factory:hn(e);if(null!==n)return n;if(e instanceof Ji)throw new Error(`Token ${S(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const l=Gl(t,"?");throw new Error(`Can't resolve all parameters for ${S(e)}: (${l.join(", ")}).`)}const n=function(e){const t=e&&(e[fn]||e[bt]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function yg(e,t,n){let l;if(Ld(e)){const f=C(e);return hn(f)||Wf(f)}if(_g(e))l=()=>C(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))l=()=>e.useFactory(...Zu(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))l=()=>To(C(e.useExisting));else{const f=C(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return hn(f)||Wf(f);l=()=>new f(...Zu(e.deps))}return l}function kd(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function _g(e){return null!==e&&"object"==typeof e&&Wu in e}function Ld(e){return"function"==typeof e}let Ra=(()=>{class e{static create(n,l){var f;if(Array.isArray(n))return mg({name:""},l,n,"");{const _=null!==(f=n.name)&&void 0!==f?f:"";return mg({name:_},n.parent,n.providers,_)}}}return e.THROW_IF_NOT_FOUND=zs,e.NULL=new pg,e.\u0275prov=Ce({token:e,providedIn:"any",factory:()=>To(Vf)}),e.__NG_ELEMENT_ID__=-1,e})();function by(e,t){ri(Es(e)[1],Nr())}function Kf(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const l=[e];for(;t;){let f;if(Wn(e))f=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");f=t.\u0275dir}if(f){if(n){l.push(f);const V=e;V.inputs=Xf(e.inputs),V.declaredInputs=Xf(e.declaredInputs),V.outputs=Xf(e.outputs);const ee=f.hostBindings;ee&&Cy(e,ee);const se=f.viewQuery,Re=f.contentQueries;if(se&&xy(e,se),Re&&wy(e,Re),$(e.inputs,f.inputs),$(e.declaredInputs,f.declaredInputs),$(e.outputs,f.outputs),Wn(f)&&f.data.animation){const ze=e.data;ze.animation=(ze.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let V=0;V<_.length;V++){const ee=_[V];ee&&ee.ngInherit&&ee(e),ee===Kf&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let l=e.length-1;l>=0;l--){const f=e[l];f.hostVars=t+=f.hostVars,f.hostAttrs=Ua(f.hostAttrs,n=Ua(n,f.hostAttrs))}}(l)}function Xf(e){return e===Fn?{}:e===er?[]:e}function xy(e,t){const n=e.viewQuery;e.viewQuery=n?(l,f)=>{t(l,f),n(l,f)}:t}function wy(e,t){const n=e.contentQueries;e.contentQueries=n?(l,f,_)=>{t(l,f,_),n(l,f,_)}:t}function Cy(e,t){const n=e.hostBindings;e.hostBindings=n?(l,f)=>{t(l,f),n(l,f)}:t}let yf=null;function Fd(){if(!yf){const e=Hn.Symbol;if(e&&e.iterator)yf=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const l=t[n];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(yf=l)}}}return yf}function Bh(e){return!!Jf(e)&&(Array.isArray(e)||!(e instanceof Map)&&Fd()in e)}function Jf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Al(e,t,n){return e[t]=n}function Cs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function qf(e,t,n,l){const f=pn();return Cs(f,ga(),t)&&(yr(),oo(Vi(),f,e,t,n,l)),qf}function Bd(e,t,n,l,f,_){const ee=function(e,t,n,l){const f=Cs(e,t,n);return Cs(e,t+1,l)||f}(e,N.lFrame.bindingIndex,n,f);return rs(2),ee?t+k(n)+l+k(f)+_:Ne}function Ug(e,t,n,l,f,_,V,ee){const se=pn(),Re=yr(),ze=e+20,ft=Re.firstCreatePass?function(e,t,n,l,f,_,V,ee,se){const Re=t.consts,ze=Oo(t,e,4,V||null,Ei(Re,ee));sr(t,n,ze,Ei(Re,se)),ri(t,ze);const ft=ze.tViews=s(2,ze,l,f,_,t.directiveRegistry,t.pipeRegistry,null,t.schemas,Re);return null!==t.queries&&(t.queries.template(t,ze),ft.queries=t.queries.embeddedTView(ze)),ze}(ze,Re,se,t,n,l,f,_,V):Re.data[ze];qi(ft,!1);const Nt=se[11].createComment("");Dc(Re,se,Nt,ft),ki(Nt,se),mf(se,se[ze]=Rd(Nt,se,Nt,ft)),Cn(ft)&&Aa(Re,se,ft),null!=V&&Il(se,ft,ee)}function Uh(e,t=Ut.Default){const n=pn();return null===n?To(e,t):Tn(Nr(),n,C(e),t)}function qg(){throw new Error("invalid")}function rp(e,t,n){const l=pn();return Cs(l,ga(),t)&&function(e,t,n,l,f,_,V,ee){const se=pe(t,n);let ze,Re=t.inputs;!ee&&null!=Re&&(ze=Re[l])?(fg(e,n,ze,l,f),yn(t)&&function(e,t){const n=Sr(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(l=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(l),f=null!=V?V(f,t.value||"",l):f,kr(_)?_.setProperty(se,l,f):Ea(l)||(se.setProperty?se.setProperty(l,f):se[l]=f))}(yr(),Vi(),l,e,t,l[11],n,!1),rp}function ip(e,t,n,l,f){const V=f?"class":"style";fg(e,n,t.inputs[V],V,l)}function op(e,t,n,l){const f=pn(),_=yr(),V=20+e,ee=f[11],se=f[V]=Lu(ee,t,N.lFrame.currentNamespace),Re=_.firstCreatePass?function(e,t,n,l,f,_,V){const ee=t.consts,Re=Oo(t,e,2,f,Ei(ee,_));return sr(t,n,Re,Ei(ee,V)),null!==Re.attrs&&vf(Re,Re.attrs,!1),null!==Re.mergedAttrs&&vf(Re,Re.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,Re),Re}(V,_,f,0,t,n,l):_.data[V];qi(Re,!0);const ze=Re.mergedAttrs;null!==ze&&vs(ee,se,ze);const ft=Re.classes;null!==ft&&Mc(ee,se,ft);const Nt=Re.styles;null!==Nt&&Uu(ee,se,Nt),64!=(64&Re.flags)&&Dc(_,f,se,Re),0===N.lFrame.elementDepthCount&&ki(se,f),N.lFrame.elementDepthCount++,Cn(Re)&&(Aa(_,f,Re),Ad(_,Re,f)),null!==l&&Il(f,Re)}function sp(){let e=Nr();Xi()?js():(e=e.parent,qi(e,!1));const t=e;N.lFrame.elementDepthCount--;const n=yr();n.firstCreatePass&&(ri(n,e),an(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ip(n,t,pn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ip(n,t,pn(),t.stylesWithoutHost,!1)}function Qg(e,t,n,l){op(e,t,n,l),sp()}function ap(e,t,n){const l=pn(),f=yr(),_=e+20,V=f.firstCreatePass?function(e,t,n,l,f){const _=t.consts,V=Ei(_,l),ee=Oo(t,e,8,"ng-container",V);return null!==V&&vf(ee,V,!0),sr(t,n,ee,Ei(_,f)),null!==t.queries&&t.queries.elementStart(t,ee),ee}(_,f,l,t,n):f.data[_];qi(V,!0);const ee=l[_]=l[11].createComment("");Dc(f,l,ee,V),ki(ee,l),Cn(V)&&(Aa(f,l,V),Ad(f,V,l)),null!=n&&Il(l,V)}function lp(){let e=Nr();const t=yr();Xi()?js():(e=e.parent,qi(e,!1)),t.firstCreatePass&&(ri(t,e),an(e)&&t.queries.elementEnd(e))}function em(e,t,n){ap(e,t,n),lp()}function tm(){return pn()}function up(e){return!!e&&"function"==typeof e.then}function nm(e){return!!e&&"function"==typeof e.subscribe}const rm=nm;function cp(e,t,n,l){const f=pn(),_=yr(),V=Nr();return function(e,t,n,l,f,_,V,ee){const se=Cn(l),ze=e.firstCreatePass&&cg(e),ft=t[8],Nt=ug(t);let nn=!0;if(3&l.type||ee){const dr=pe(l,t),Cr=ee?ee(dr):dr,jn=Nt.length,Br=ee?Pi=>ee(ge(Pi[l.index])):l.index;if(kr(n)){let Pi=null;if(!ee&&se&&(Pi=function(e,t,n,l){const f=e.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const V=f[_];if(V===n&&f[_+1]===l){const ee=t[7],se=f[_+2];return ee.length>se?ee[se]:null}"string"==typeof V&&(_+=2)}return null}(e,t,f,l.index)),null!==Pi)(Pi.__ngLastListenerFn__||Pi).__ngNextListenerFn__=_,Pi.__ngLastListenerFn__=_,nn=!1;else{_=dp(l,t,ft,_,!1);const Ki=n.listen(Cr,f,_);Nt.push(_,Ki),ze&&ze.push(f,Br,jn,jn+1)}}else _=dp(l,t,ft,_,!0),Cr.addEventListener(f,_,V),Nt.push(_),ze&&ze.push(f,Br,jn,V)}else _=dp(l,t,ft,_,!1);const An=l.outputs;let ir;if(nn&&null!==An&&(ir=An[f])){const dr=ir.length;if(dr)for(let Cr=0;Cr<dr;Cr+=2){const pa=t[ir[Cr]][ir[Cr+1]].subscribe(_),kc=Nt.length;Nt.push(_,pa),ze&&ze.push(f,l.index,kc,-(kc+1))}}}(_,f,f[11],V,e,t,!!n,l),cp}function sm(e,t,n,l){try{return!1!==n(l)}catch(f){return hg(e,f),!1}}function dp(e,t,n,l,f){return function _(V){if(V===Function)return l;const ee=2&e.flags?Sr(e.index,t):t;0==(32&t[2])&&Bf(ee);let se=sm(t,0,l,V),Re=_.__ngNextListenerFn__;for(;Re;)se=sm(t,0,Re,V)&&se,Re=Re.__ngNextListenerFn__;return f&&!1===se&&(V.preventDefault(),V.returnValue=!1),se}}function am(e=1){return function(e){return(N.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,N.lFrame.contextLView))[8]}(e)}function n_(e,t){let n=null;const l=function(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let f=0;f<t.length;f++){const _=t[f];if("*"!==_){if(null===l?d(e,_,!0):Y(l,_))return f}else n=f}return n}function lm(e){const t=pn()[16][6];if(!t.projection){const l=t.projection=Gl(e?e.length:1,null),f=l.slice();let _=t.child;for(;null!==_;){const V=e?n_(_,e):0;null!==V&&(f[V]?f[V].projectionNext=_:l[V]=_,f[V]=_),_=_.next}}}function um(e,t=0,n){const l=pn(),f=yr(),_=Oo(f,20+e,16,null,n||null);null===_.projection&&(_.projection=t),js(),64!=(64&_.flags)&&function(e,t,n){Td(t[11],0,t,n,As(e,n,t),Cc(n.parent||t[6],n,t))}(f,l,_)}function _m(e,t,n,l,f){const _=e[n+1],V=null===t;let ee=l?Kt(_):qt(_),se=!1;for(;0!==ee&&(!1===se||V);){const ze=e[ee+1];o_(e[ee],t)&&(se=!0,e[ee+1]=l?Jn(ze):zn(ze)),ee=l?Kt(ze):qt(ze)}se&&(e[n+1]=l?zn(_):Jn(_))}function o_(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Xo(e,t)>=0}function fp(e,t){return function(e,t,n,l){const f=pn(),_=yr(),V=rs(2);_.firstUpdatePass&&function(e,t,n,l){const f=e.data;if(null===f[n+1]){const _=f[no()],V=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(_,l)&&null===t&&!V&&(t=!1),t=function(e,t,n,l){const f=function(e){const t=N.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let _=l?t.residualClasses:t.residualStyles;if(null===f)0===(l?t.classBindings:t.styleBindings)&&(n=Gh(n=pp(null,e,t,n,l),t.attrs,l),_=null);else{const V=t.directiveStylingLast;if(-1===V||e[V]!==f)if(n=pp(f,e,t,n,l),null===_){let se=function(e,t,n){const l=n?t.classBindings:t.styleBindings;if(0!==qt(l))return e[Kt(l)]}(e,t,l);void 0!==se&&Array.isArray(se)&&(se=pp(null,e,t,se[1],l),se=Gh(se,t.attrs,l),function(e,t,n,l){e[Kt(n?t.classBindings:t.styleBindings)]=l}(e,t,l,se))}else _=function(e,t,n){let l;const f=t.directiveEnd;for(let _=1+t.directiveStylingLast;_<f;_++)l=Gh(l,e[_].hostAttrs,n);return Gh(l,t.attrs,n)}(e,t,l)}return void 0!==_&&(l?t.residualClasses=_:t.residualStyles=_),n}(f,_,t,l),function(e,t,n,l,f,_){let V=_?t.classBindings:t.styleBindings,ee=Kt(V),se=qt(V);e[l]=n;let ze,Re=!1;if(Array.isArray(n)){const ft=n;ze=ft[1],(null===ze||Xo(ft,ze)>0)&&(Re=!0)}else ze=n;if(f)if(0!==se){const Nt=Kt(e[ee+1]);e[l+1]=rn(Nt,ee),0!==Nt&&(e[Nt+1]=Rn(e[Nt+1],l)),e[ee+1]=function(e,t){return 131071&e|t<<17}(e[ee+1],l)}else e[l+1]=rn(ee,0),0!==ee&&(e[ee+1]=Rn(e[ee+1],l)),ee=l;else e[l+1]=rn(se,0),0===ee?ee=l:e[se+1]=Rn(e[se+1],l),se=l;Re&&(e[l+1]=zn(e[l+1])),_m(e,ze,l,!0),_m(e,ze,l,!1),function(e,t,n,l,f){const _=f?e.residualClasses:e.residualStyles;null!=_&&"string"==typeof t&&Xo(_,t)>=0&&(n[l+1]=Jn(n[l+1]))}(t,ze,e,l,_),V=rn(ee,se),_?t.classBindings=V:t.styleBindings=V}(f,_,t,n,V,l)}}(_,e,V,l),t!==Ne&&Cs(f,V,t)&&function(e,t,n,l,f,_,V,ee){if(!(3&t.type))return;const se=e.data,Re=se[ee+1];Ef(function(e){return 1==(1&e)}(Re)?Pm(se,t,n,f,qt(Re),V):void 0)||(Ef(_)||function(e){return 2==(2&e)}(Re)&&(_=Pm(se,null,n,f,ee,V)),function(e,t,n,l,f){const _=kr(e);if(t)f?_?e.addClass(n,l):n.classList.add(l):_?e.removeClass(n,l):n.classList.remove(l);else{let V=-1===l.indexOf("-")?void 0:us.DashCase;if(null==f)_?e.removeStyle(n,l,V):n.style.removeProperty(l);else{const ee="string"==typeof f&&f.endsWith("!important");ee&&(f=f.slice(0,-10),V|=us.Important),_?e.setStyle(n,l,f,V):n.style.setProperty(l,f,ee?"important":"")}}}(l,V,j(no(),n),f,_))}(_,_.data[no()],f,f[11],e,f[V+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=S(sa(e)))),e}(t,n),l,V)}(e,t,null,!0),fp}function pp(e,t,n,l,f){let _=null;const V=n.directiveEnd;let ee=n.directiveStylingLast;for(-1===ee?ee=n.directiveStart:ee++;ee<V&&(_=t[ee],l=Gh(l,_.hostAttrs,f),_!==e);)ee++;return null!==e&&(n.directiveStylingLast=ee),l}function Gh(e,t,n){const l=n?1:2;let f=-1;if(null!==t)for(let _=0;_<t.length;_++){const V=t[_];"number"==typeof V?f=V:f===l&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),cr(e,V,!!n||t[++_]))}return void 0===e?null:e}function Pm(e,t,n,l,f,_){const V=null===t;let ee;for(;f>0;){const se=e[f],Re=Array.isArray(se),ze=Re?se[1]:se,ft=null===ze;let Nt=n[f+1];Nt===Ne&&(Nt=ft?er:void 0);let nn=ft?fs(Nt,l):ze===l?Nt:void 0;if(Re&&!Ef(nn)&&(nn=fs(se,l)),Ef(nn)&&(ee=nn,V))return ee;const An=e[f+1];f=V?Kt(An):qt(An)}if(null!==t){let se=_?t.residualClasses:t.residualStyles;null!=se&&(ee=fs(se,l))}return ee}function Ef(e){return void 0!==e}function Rm(e,t=""){const n=pn(),l=yr(),f=e+20,_=l.firstCreatePass?Oo(l,f,1,t,null):l.data[f],V=n[f]=function(e,t){return kr(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Dc(l,n,V,_),qi(_,!1)}function gp(e){return xf("",e,""),gp}function xf(e,t,n){const l=pn(),f=function(e,t,n,l){return Cs(e,ga(),n)?t+k(n)+l:Ne}(l,e,t,n);return f!==Ne&&uu(l,no(),f),xf}function mp(e,t,n,l,f){const _=pn(),V=Bd(_,e,t,n,l,f);return V!==Ne&&uu(_,no(),V),mp}const Ac=void 0;var $_=["en",[["a","p"],["AM","PM"],Ac],[["AM","PM"],Ac,Ac],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ac,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ac,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ac,"{1} 'at' {0}",Ac],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const n=Math.floor(Math.abs(e)),l=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===l?1:5}];let Yd={};function vp(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Qm(t);if(n)return n;const l=t.split("-")[0];if(n=Qm(l),n)return n;if("en"===l)return $_;throw new Error(`Missing locale data for the locale "${e}".`)}function qm(e){return vp(e)[Xr.PluralCase]}function Qm(e){return e in Yd||(Yd[e]=Hn.ng&&Hn.ng.common&&Hn.ng.common.locales&&Hn.ng.common.locales[e]),Yd[e]}var Xr=(()=>((Xr=Xr||{})[Xr.LocaleId=0]="LocaleId",Xr[Xr.DayPeriodsFormat=1]="DayPeriodsFormat",Xr[Xr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xr[Xr.DaysFormat=3]="DaysFormat",Xr[Xr.DaysStandalone=4]="DaysStandalone",Xr[Xr.MonthsFormat=5]="MonthsFormat",Xr[Xr.MonthsStandalone=6]="MonthsStandalone",Xr[Xr.Eras=7]="Eras",Xr[Xr.FirstDayOfWeek=8]="FirstDayOfWeek",Xr[Xr.WeekendRange=9]="WeekendRange",Xr[Xr.DateFormat=10]="DateFormat",Xr[Xr.TimeFormat=11]="TimeFormat",Xr[Xr.DateTimeFormat=12]="DateTimeFormat",Xr[Xr.NumberSymbols=13]="NumberSymbols",Xr[Xr.NumberFormats=14]="NumberFormats",Xr[Xr.CurrencyCode=15]="CurrencyCode",Xr[Xr.CurrencySymbol=16]="CurrencySymbol",Xr[Xr.CurrencyName=17]="CurrencyName",Xr[Xr.Currencies=18]="Currencies",Xr[Xr.Directionality=19]="Directionality",Xr[Xr.PluralCase=20]="PluralCase",Xr[Xr.ExtraData=21]="ExtraData",Xr))();const wf="en-US";let ev=wf;function bp(e,t,n,l,f){if(e=C(e),Array.isArray(e))for(let _=0;_<e.length;_++)bp(e[_],t,n,l,f);else{const _=yr(),V=pn();let ee=Ld(e)?e:C(e.provide),se=yg(e);const Re=Nr(),ze=1048575&Re.providerIndexes,ft=Re.directiveStart,Nt=Re.providerIndexes>>20;if(Ld(e)||!e.multi){const nn=new _a(se,f,Uh),An=xp(ee,t,f?ze:ze+Nt,ft);-1===An?(rt(ve(Re,V),_,ee),Ep(_,e,t.length),t.push(ee),Re.directiveStart++,Re.directiveEnd++,f&&(Re.providerIndexes+=1048576),n.push(nn),V.push(nn)):(n[An]=nn,V[An]=nn)}else{const nn=xp(ee,t,ze+Nt,ft),An=xp(ee,t,ze,ze+Nt),ir=nn>=0&&n[nn],dr=An>=0&&n[An];if(f&&!dr||!f&&!ir){rt(ve(Re,V),_,ee);const Cr=function(e,t,n,l,f){const _=new _a(e,n,Uh);return _.multi=[],_.index=t,_.componentProviders=0,Cv(_,f,l&&!n),_}(f?jb:Nb,n.length,f,l,se);!f&&dr&&(n[An].providerFactory=Cr),Ep(_,e,t.length,0),t.push(ee),Re.directiveStart++,Re.directiveEnd++,f&&(Re.providerIndexes+=1048576),n.push(Cr),V.push(Cr)}else Ep(_,e,nn>-1?nn:An,Cv(n[f?An:nn],se,!f&&l));!f&&l&&dr&&n[An].componentProviders++}}}function Ep(e,t,n,l){const f=Ld(t),_=function(e){return!!e.useClass}(t);if(f||_){const se=(_?C(t.useClass):t).prototype.ngOnDestroy;if(se){const Re=e.destroyHooks||(e.destroyHooks=[]);if(!f&&t.multi){const ze=Re.indexOf(n);-1===ze?Re.push(n,[l,se]):Re[ze+1].push(l,se)}else Re.push(n,se)}}}function Cv(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function xp(e,t,n,l){for(let f=n;f<l;f++)if(t[f]===e)return f;return-1}function Nb(e,t,n,l){return wp(this.multi,[])}function jb(e,t,n,l){const f=this.multi;let _;if(this.providerFactory){const V=this.providerFactory.componentProviders,ee=bi(n,n[1],this.providerFactory.index,l);_=ee.slice(0,V),wp(f,_);for(let se=V;se<ee.length;se++)_.push(ee[se])}else _=[],wp(f,_);return _}function wp(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Tv(e,t=[]){return n=>{n.providersResolver=(l,f)=>function(e,t,n){const l=yr();if(l.firstCreatePass){const f=Wn(e);bp(n,l.data,l.blueprint,f,!0),bp(t,l.data,l.blueprint,f,!1)}}(l,f?f(e):e,t)}}class Dv{}class Gb{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${S(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Zh=(()=>{class e{}return e.NULL=new Gb,e})();function Vb(){return Xd(Nr(),pn())}function Xd(e,t){return new Yh(pe(e,t))}let Yh=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Vb,e})();function zb(e){return e instanceof Yh?e.nativeElement:e}class Sv{}let Hb=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function(){const e=pn(),n=Sr(Nr().index,e);return function(e){return e[11]}(xt(n)?n:e)}(),e})(),Yb=(()=>{class e{}return e.\u0275prov=Ce({token:e,providedIn:"root",factory:()=>null}),e})();class Ov{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Kb=new Ov("13.1.1"),Cp={};function Sf(e,t,n,l,f=!1){for(;null!==n;){const _=t[n.index];if(null!==_&&l.push(ge(_)),Vt(_))for(let ee=10;ee<_.length;ee++){const se=_[ee],Re=se[1].firstChild;null!==Re&&Sf(se[1],se,Re,l)}const V=n.type;if(8&V)Sf(e,t,n.child,l);else if(32&V){const ee=Ks(n,t);let se;for(;se=ee();)l.push(se)}else if(16&V){const ee=Ah(t,n);if(Array.isArray(ee))l.push(...ee);else{const se=jr(t[16]);Sf(se[1],se,ee,l,!0)}}n=f?n.projectionNext:n.next}return l}class Kh{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Sf(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Vt(t)){const n=t[8],l=n?n.indexOf(this):-1;l>-1&&(yc(t,l),gu(n,l))}this._attachedToViewContainer=!1}_c(this._lView[1],this._lView)}onDestroy(t){E(this._lView[1],this._lView,null,t)}markForCheck(){Bf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Uf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Zr(!0);try{Uf(e,t,n)}finally{Zr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,tl(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Xb extends Kh{constructor(t){super(t),this._view=t}detectChanges(){lg(this._view)}checkNoChanges(){!function(e){Zr(!0);try{lg(e)}finally{Zr(!1)}}(this._view)}get context(){return null}}class Iv extends Zh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=gn(t);return new Tp(n,this.ngModule)}}function Pv(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const qb=new Ji("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>gc});class Tp extends Dv{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(de).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Pv(this.componentDef.inputs)}get outputs(){return Pv(this.componentDef.outputs)}create(t,n,l,f){const _=(f=f||this.ngModule)?function(e,t){return{get:(n,l,f)=>{const _=e.get(n,Cp,f);return _!==Cp||l===Cp?_:t.get(n,l,f)}}}(t,f.injector):t,V=_.get(Sv,lo),ee=_.get(Yb,null),se=V.createRenderer(null,this.componentDef),Re=this.componentDef.selectors[0][0]||"div",ze=l?function(e,t,n){if(kr(e))return e.selectRootElement(t,n===Rt.ShadowDom);let l="string"==typeof t?e.querySelector(t):t;return l.textContent="",l}(se,l,this.componentDef.encapsulation):Lu(V.createRenderer(null,this.componentDef),Re,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(Re)),ft=this.componentDef.onPush?576:528,Nt=function(e,t){return{components:[],scheduler:e||gc,clean:ey,playerHandler:t||null,flags:0}}(),nn=s(0,null,null,1,0,null,null,null,null,null),An=Oa(null,nn,Nt,ft,null,null,V,se,ee,_);let ir,dr;ma(An);try{const Cr=function(e,t,n,l,f,_){const V=n[1];n[20]=e;const se=Oo(V,20,2,"#host",null),Re=se.mergedAttrs=t.hostAttrs;null!==Re&&(vf(se,Re,!0),null!==e&&(vs(f,e,Re),null!==se.classes&&Mc(f,e,se.classes),null!==se.styles&&Uu(f,e,se.styles)));const ze=l.createRenderer(e,t),ft=Oa(n,au(t),null,t.onPush?64:16,n[20],se,l,ze,_||null,null);return V.firstCreatePass&&(rt(ve(se,n),V,t.type),_o(V,se),Bo(se,n.length,1)),mf(n,ft),n[20]=ft}(ze,this.componentDef,An,V,se);if(ze)if(l)vs(se,ze,["ng-version",Kb.full]);else{const{attrs:jn,classes:Br}=function(e){const t=[],n=[];let l=1,f=2;for(;l<e.length;){let _=e[l];if("string"==typeof _)2===f?""!==_&&t.push(_,e[++l]):8===f&&n.push(_);else{if(!Rs(f))break;f=_}l++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);jn&&vs(se,ze,jn),Br&&Br.length>0&&Mc(se,ze,Br.join(" "))}if(dr=on(nn,20),void 0!==n){const jn=dr.projection=[];for(let Br=0;Br<this.ngContentSelectors.length;Br++){const Pi=n[Br];jn.push(null!=Pi?Array.from(Pi):null)}}ir=function(e,t,n,l,f){const _=n[1],V=function(e,t,n){const l=Nr();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),gs(e,l,t,ha(e,t,1,null),n));const f=bi(t,e,l.directiveStart,l);ki(f,t);const _=pe(l,t);return _&&ki(_,t),f}(_,n,t);if(l.components.push(V),e[8]=V,f&&f.forEach(se=>se(V,t)),t.contentQueries){const se=Nr();t.contentQueries(1,V,se.directiveStart)}const ee=Nr();return!_.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Wi(ee.index),Pr(n[1],ee,0,ee.directiveStart,ee.directiveEnd,t),Hi(t,V)),V}(Cr,this.componentDef,An,Nt,[by]),Ia(nn,An,null)}finally{Ts()}return new tE(this.componentType,ir,Xd(dr,An),An,dr)}}class tE extends class{}{constructor(t,n,l,f,_){super(),this.location=l,this._rootLView=f,this._tNode=_,this.instance=n,this.hostView=this.changeDetectorRef=new Xb(f),this.componentType=t}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Jd{}class Av{}const qd=new Map;class Lv extends Jd{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Iv(this);const l=ct(t);this._bootstrapComponents=Ys(l.bootstrap),this._r3Injector=vg(t,n,[{provide:Jd,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver}],S(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Ra.THROW_IF_NOT_FOUND,l=Ut.Default){return t===Ra||t===Jd||t===Vf?this:this._r3Injector.get(t,n,l)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Dp extends Av{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(e){const t=new Set;!function n(l){const f=ct(l,!0),_=f.id;null!==_&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${S(t)} vs ${S(t.name)}`)}(_,qd.get(_),l),qd.set(_,l));const V=Ys(f.imports);for(const ee of V)t.has(ee)||(t.add(ee),n(ee))}(e)}(t)}create(t){return new Lv(this.moduleType,t)}}function Fv(e,t,n){const l=Ti()+e,f=pn();return f[l]===Ne?Al(f,l,n?t.call(n):t()):function(e,t){return e[t]}(f,l)}function Nv(e,t,n,l){return jv(pn(),Ti(),e,t,n,l)}function jv(e,t,n,l,f,_){const V=t+n;return Cs(e,V,f)?Al(e,V+1,_?l.call(_,f):l(f)):function(e,t){const n=e[t];return n===Ne?void 0:n}(e,V+1)}function Vv(e,t){const n=yr();let l;const f=e+20;n.firstCreatePass?(l=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const l=t[n];if(e===l.name)return l}}(t,n.pipeRegistry),n.data[f]=l,l.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(f,l.onDestroy)):l=n.data[f];const _=l.factory||(l.factory=hn(l.type)),V=Pn(Uh);try{const ee=Ga(!1),se=_();return Ga(ee),function(e,t,n,l){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=l}(n,pn(),f,se),se}finally{Pn(V)}}function zv(e,t,n){const l=e+20,f=pn(),_=function(e,t){return e[t]}(f,l);return function(e,t){return e[1].data[t].pure}(f,l)?jv(f,Ti(),t,_.transform,n,_):_.transform(n)}function Mp(e){return t=>{setTimeout(e,void 0,t)}}const Ll=class extends i.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,l){var f,_,V;let ee=t,se=n||(()=>null),Re=l;if(t&&"object"==typeof t){const ft=t;ee=null===(f=ft.next)||void 0===f?void 0:f.bind(ft),se=null===(_=ft.error)||void 0===_?void 0:_.bind(ft),Re=null===(V=ft.complete)||void 0===V?void 0:V.bind(ft)}this.__isAsync&&(se=Mp(se),ee&&(ee=Mp(ee)),Re&&(Re=Mp(Re)));const ze=super.subscribe({next:ee,error:se,complete:Re});return t instanceof D.w&&t.add(ze),ze}};function yE(){return this._results[Fd()]()}class Sp{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Fd(),l=Sp.prototype;l[n]||(l[n]=yE)}get changes(){return this._changes||(this._changes=new Ll)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const l=this;l.dirty=!1;const f=hs(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let l=0;l<e.length;l++){let f=e[l],_=t[l];if(n&&(f=n(f),_=n(_)),_!==f)return!1}return!0}(l._results,f,n))&&(l._results=f,l.length=f.length,l.last=f[this.length-1],l.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let qh=(()=>{class e{}return e.__NG_ELEMENT_ID__=EE,e})();const _E=qh,bE=class extends _E{constructor(t,n,l){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=l}createEmbeddedView(t){const n=this._declarationTContainer.tViews,l=Oa(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(l[19]=_.createEmbeddedView(n)),Ia(n,l,t),new Kh(l)}};function EE(){return Of(Nr(),pn())}function Of(e,t){return 4&e.type?new bE(t,e,Xd(e,t)):null}let If=(()=>{class e{}return e.__NG_ELEMENT_ID__=xE,e})();function xE(){return Zv(Nr(),pn())}const wE=If,Hv=class extends wE{constructor(t,n,l){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=l}get element(){return Xd(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const t=yt(this._hostTNode,this._hostLView);if($l(t)){const n=ta(t,this._hostLView),l=Us(t);return new go(n[1].data[l+8],n)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Wv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,l){const f=t.createEmbeddedView(n||{});return this.insert(f,l),f}createComponent(t,n,l,f,_){const V=t&&!("function"==typeof t);let ee;if(V)ee=n;else{const ft=n||{};ee=ft.index,l=ft.injector,f=ft.projectableNodes,_=ft.ngModuleRef}const se=V?t:new Tp(gn(t)),Re=l||this.parentInjector;if(!_&&null==se.ngModule&&Re){const ft=Re.get(Jd,null);ft&&(_=ft)}const ze=se.create(Re,f,void 0,_);return this.insert(ze.hostView,ee),ze}insert(t,n){const l=t._lView,f=l[1];if(Vt(l[3])){const ze=this.indexOf(t);if(-1!==ze)this.detach(ze);else{const ft=l[3],Nt=new Hv(ft,ft[6],ft[3]);Nt.detach(Nt.indexOf(t))}}const _=this._adjustIndex(n),V=this._lContainer;!function(e,t,n,l){const f=10+l,_=n.length;l>0&&(n[f-1][4]=t),l<_-10?(t[4]=n[f],Uc(n,10+l,t)):(n.push(t),t[4]=null),t[3]=n;const V=t[17];null!==V&&n!==V&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(V,t);const ee=t[19];null!==ee&&ee.insertView(e),t[2]|=128}(f,l,V,_);const ee=Cd(_,V),se=l[11],Re=Nu(se,V[7]);return null!==Re&&function(e,t,n,l,f,_){l[0]=f,l[6]=t,tl(e,l,n,1,f,_)}(f,V[6],se,l,Re,ee),t.attachToViewContainerRef(),Uc(Op(V),_,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Wv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),l=yc(this._lContainer,n);l&&(gu(Op(this._lContainer),n),_c(l[1],l))}detach(t){const n=this._adjustIndex(t,-1),l=yc(this._lContainer,n);return l&&null!=gu(Op(this._lContainer),n)?new Kh(l):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function Wv(e){return e[8]}function Op(e){return e[8]||(e[8]=[])}function Zv(e,t){let n;const l=t[e.index];if(Vt(l))n=l;else{let f;if(8&e.type)f=ge(l);else{const _=t[11];f=_.createComment("");const V=pe(e,t);el(_,Nu(_,V),f,function(e,t){return kr(e)?e.nextSibling(t):t.nextSibling}(_,V),!1)}t[e.index]=n=Rd(l,t,f,e),mf(t,n)}return new Hv(n,e,t)}class Ip{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ip(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const l=null!==t.contentQueries?t.contentQueries[0]:n.length,f=[];for(let _=0;_<l;_++){const V=n.getByIndex(_);f.push(this.queries[V.indexInDeclarationView].clone())}return new Pp(f)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==n0(t,n).matches&&this.queries[n].setDirty()}}class Yv{constructor(t,n,l=null){this.predicate=t,this.flags=n,this.read=l}}class Ap{constructor(t=[]){this.queries=t}elementStart(t,n){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let l=0;l<this.length;l++){const f=null!==n?n.length:0,_=this.getByIndex(l).embeddedTView(t,f);_&&(_.indexInDeclarationView=l,null!==n?n.push(_):n=[_])}return null!==n?new Ap(n):null}template(t,n){for(let l=0;l<this.queries.length;l++)this.queries[l].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Rp{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Rp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let l=t.parent;for(;null!==l&&8&l.type&&l.index!==n;)l=l.parent;return n===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const l=this.metadata.predicate;if(Array.isArray(l))for(let f=0;f<l.length;f++){const _=l[f];this.matchTNodeWithReadOption(t,n,DE(n,_)),this.matchTNodeWithReadOption(t,n,Co(n,t,_,!1,!1))}else l===qh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Co(n,t,l,!1,!1))}matchTNodeWithReadOption(t,n,l){if(null!==l){const f=this.metadata.read;if(null!==f)if(f===Yh||f===If||f===qh&&4&n.type)this.addMatch(n.index,-2);else{const _=Co(n,t,f,!1,!1);null!==_&&this.addMatch(n.index,_)}else this.addMatch(n.index,l)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function DE(e,t){const n=e.localNames;if(null!==n)for(let l=0;l<n.length;l+=2)if(n[l]===t)return n[l+1];return null}function SE(e,t,n,l){return-1===n?function(e,t){return 11&e.type?Xd(e,t):4&e.type?Of(e,t):null}(t,e):-2===n?function(e,t,n){return n===Yh?Xd(t,e):n===qh?Of(t,e):n===If?Zv(t,e):void 0}(e,t,l):bi(e,e[1],n,t)}function Kv(e,t,n,l){const f=t[19].queries[l];if(null===f.matches){const _=e.data,V=n.matches,ee=[];for(let se=0;se<V.length;se+=2){const Re=V[se];ee.push(Re<0?null:SE(t,_[Re],V[se+1],n.metadata.read))}f.matches=ee}return f.matches}function kp(e,t,n,l){const f=e.queries.getByIndex(n),_=f.matches;if(null!==_){const V=Kv(e,t,f,n);for(let ee=0;ee<_.length;ee+=2){const se=_[ee];if(se>0)l.push(V[ee/2]);else{const Re=_[ee+1],ze=t[-se];for(let ft=10;ft<ze.length;ft++){const Nt=ze[ft];Nt[17]===Nt[3]&&kp(Nt[1],Nt,Re,l)}if(null!==ze[9]){const ft=ze[9];for(let Nt=0;Nt<ft.length;Nt++){const nn=ft[Nt];kp(nn[1],nn,Re,l)}}}}}return l}function Xv(e){const t=pn(),n=yr(),l=Na();os(l+1);const f=n0(n,l);if(e.dirty&&fi(t)===(2==(2&f.metadata.flags))){if(null===f.matches)e.reset([]);else{const _=f.crossesNgTemplate?kp(n,t,l,[]):Kv(n,t,f,l);e.reset(_,zb),e.notifyOnChanges()}return!0}return!1}function Jv(e,t,n){const l=yr();l.firstCreatePass&&(t0(l,new Yv(e,t,n),-1),2==(2&t)&&(l.staticViewQueries=!0)),e0(l,pn(),t)}function qv(e,t,n,l){const f=yr();if(f.firstCreatePass){const _=Nr();t0(f,new Yv(t,n,l),_.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(f,e),2==(2&n)&&(f.staticContentQueries=!0)}e0(f,pn(),n)}function Qv(){return e=pn(),t=Na(),e[19].queries[t].queryList;var e,t}function e0(e,t,n){const l=new Sp(4==(4&n));E(e,t,l,l.destroy),null===t[19]&&(t[19]=new Pp),t[19].queries.push(new Ip(l))}function t0(e,t,n){null===e.queries&&(e.queries=new Ap),e.queries.track(new Rp(t,n))}function n0(e,t){return e.queries.getByIndex(t)}function Rf(...e){}const $p=new Ji("Application Initializer");let eh=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Rf,this.reject=Rf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f})}runInitializers(){if(this.initialized)return;const n=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(up(_))n.push(_);else if(rm(_)){const V=new Promise((ee,se)=>{_.subscribe({complete:ee,error:se})});n.push(V)}}Promise.all(n).then(()=>{l()}).catch(f=>{this.reject(f)}),0===n.length&&l(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(To($p,8))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();const b0=new Ji("AppId"),XE={provide:b0,useFactory:function(){return`${Up()}${Up()}${Up()}`},deps:[]};function Up(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const E0=new Ji("Platform Initializer"),x0=new Ji("Platform ID"),w0=new Ji("appBootstrapListener");let C0=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();const kf=new Ji("LocaleId"),T0=new Ji("DefaultCurrencyCode");class JE{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Gp=(()=>{class e{compileModuleSync(n){return new Dp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const l=this.compileModuleSync(n),_=Ys(ct(n).declarations).reduce((V,ee)=>{const se=gn(ee);return se&&V.push(new Tp(se)),V},[]);return new JE(l,_)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();const QE=(()=>Promise.resolve(0))();function Vp(e){"undefined"==typeof Zone?QE.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class fa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ll(!1),this.onMicrotaskEmpty=new Ll(!1),this.onStable=new Ll(!1),this.onError=new Ll(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&n,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let e=Hn.requestAnimationFrame,t=Hn.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const l=t[Zone.__symbol__("OriginalDelegate")];l&&(t=l)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Hn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Hp(e),e.isCheckStableRunning=!0,zp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Hp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,l,f,_,V,ee)=>{try{return D0(e),n.invokeTask(f,_,V,ee)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||e.shouldCoalesceRunChangeDetection)&&t(),M0(e)}},onInvoke:(n,l,f,_,V,ee,se)=>{try{return D0(e),n.invoke(f,_,V,ee,se)}finally{e.shouldCoalesceRunChangeDetection&&t(),M0(e)}},onHasTask:(n,l,f,_)=>{n.hasTask(f,_),l===f&&("microTask"==_.change?(e._hasPendingMicrotasks=_.microTask,Hp(e),zp(e)):"macroTask"==_.change&&(e.hasPendingMacrotasks=_.macroTask))},onHandleError:(n,l,f,_)=>(n.handleError(f,_),e.runOutsideAngular(()=>e.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,l){return this._inner.run(t,n,l)}runTask(t,n,l,f){const _=this._inner,V=_.scheduleEventTask("NgZoneEvent: "+f,t,t1,Rf,Rf);try{return _.runTask(V,n,l)}finally{_.cancelTask(V)}}runGuarded(t,n,l){return this._inner.runGuarded(t,n,l)}runOutsideAngular(t){return this._outer.run(t)}}const t1={};function zp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Hp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function D0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function M0(e){e._nesting--,zp(e)}class i1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ll,this.onMicrotaskEmpty=new Ll,this.onStable=new Ll,this.onError=new Ll}run(t,n,l){return t.apply(n,l)}runGuarded(t,n,l){return t.apply(n,l)}runOutsideAngular(t){return t()}runTask(t,n,l,f){return t.apply(n,l)}}let S0=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fa.assertNotInAngularZone(),Vp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vp(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(n)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,l,f){let _=-1;l&&l>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(V=>V.timeoutId!==_),n(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:n,timeoutId:_,updateCb:f})}whenStable(n,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,l,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,l,f){return[]}}return e.\u0275fac=function(n){return new(n||e)(To(fa))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})(),O0=(()=>{class e{constructor(){this._applications=new Map,Wp.addToWindow(this)}registerApplication(n,l){this._applications.set(n,l)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,l=!0){return Wp.findTestabilityInTree(this,n,l)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();class o1{addToWindow(t){}findTestabilityInTree(t,n,l){return null}}function s1(e){Wp=e}let ol,Wp=new o1;const I0=new Ji("AllowMultipleToken");class c1{constructor(t,n){this.name=t,this.token=n}}function P0(e,t,n=[]){const l=`Platform: ${t}`,f=new Ji(l);return(_=[])=>{let V=A0();if(!V||V.injector.get(I0,!1))if(e)e(n.concat(_).concat({provide:f,useValue:!0}));else{const ee=n.concat(_).concat({provide:f,useValue:!0},{provide:zf,useValue:"platform"});!function(e){if(ol&&!ol.destroyed&&!ol.injector.get(I0,!1))throw new g("400","");ol=e.get(R0);const t=e.get(E0,null);t&&t.forEach(n=>n())}(Ra.create({providers:ee,name:l}))}return function(e){const t=A0();if(!t)throw new g("401","");return t}()}}function A0(){return ol&&!ol.destroyed?ol:null}let R0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,l){const ee=function(e,t){let n;return n="noop"===e?new i1:("zone.js"===e?void 0:e)||new fa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),se=[{provide:fa,useValue:ee}];return ee.run(()=>{const Re=Ra.create({providers:se,parent:this.injector,name:n.moduleType.name}),ze=n.create(Re),ft=ze.injector.get(Ru,null);if(!ft)throw new g("402","");return ee.runOutsideAngular(()=>{const Nt=ee.onError.subscribe({next:nn=>{ft.handleError(nn)}});ze.onDestroy(()=>{Zp(this._modules,ze),Nt.unsubscribe()})}),function(e,t,n){try{const l=n();return up(l)?l.catch(f=>{throw t.runOutsideAngular(()=>e.handleError(f)),f}):l}catch(l){throw t.runOutsideAngular(()=>e.handleError(l)),l}}(ft,ee,()=>{const Nt=ze.injector.get(eh);return Nt.runInitializers(),Nt.donePromise.then(()=>(function(e){Ee(e,"Expected localeId to be defined"),"string"==typeof e&&(ev=e.toLowerCase().replace(/_/g,"-"))}(ze.injector.get(kf,wf)||wf),this._moduleDoBootstrap(ze),ze))})})}bootstrapModule(n,l=[]){const f=k0({},l);return function(e,t,n){const l=new Dp(n);return Promise.resolve(l)}(0,0,n).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(n){const l=n.injector.get(ef);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(f=>l.bootstrap(f));else{if(!n.instance.ngDoBootstrap)throw new g("403","");n.instance.ngDoBootstrap(l)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new g("404","");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(To(Ra))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();function k0(e,t){return Array.isArray(t)?t.reduce(k0,e):Object.assign(Object.assign({},e),t)}let ef=(()=>{class e{constructor(n,l,f,_,V){this._zone=n,this._injector=l,this._exceptionHandler=f,this._componentFactoryResolver=_,this._initStatus=V,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const ee=new G.y(Re=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Re.next(this._stable),Re.complete()})}),se=new G.y(Re=>{let ze;this._zone.runOutsideAngular(()=>{ze=this._zone.onStable.subscribe(()=>{fa.assertNotInAngularZone(),Vp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Re.next(!0))})})});const ft=this._zone.onUnstable.subscribe(()=>{fa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Re.next(!1)}))});return()=>{ze.unsubscribe(),ft.unsubscribe()}});this.isStable=(0,ne.T)(ee,se.pipe((0,H.B)()))}bootstrap(n,l){if(!this._initStatus.done)throw new g("405","");let f;f=n instanceof Dv?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(f.componentType);const _=function(e){return e.isBoundToModule}(f)?void 0:this._injector.get(Jd),ee=f.create(Ra.NULL,[],l||f.selector,_),se=ee.location.nativeElement,Re=ee.injector.get(S0,null),ze=Re&&ee.injector.get(O0);return Re&&ze&&ze.registerApplication(se,Re),ee.onDestroy(()=>{this.detachView(ee.hostView),Zp(this.components,ee),ze&&ze.unregisterApplication(se)}),this._loadComponent(ee),ee}tick(){if(this._runningTick)throw new g("101","");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const l=n;this._views.push(l),l.attachToAppRef(this)}detachView(n){const l=n;Zp(this._views,l),l.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(w0,[]).concat(this._bootstrapListeners).forEach(f=>f(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(To(fa),To(Ra),To(Ru),To(Zh),To(eh))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();function Zp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let F0=!0,N0=!1;function m1(){return N0=!0,F0}function v1(){if(N0)throw new Error("Cannot enable prod mode after platform setup.");F0=!1}let y1=(()=>{class e{}return e.__NG_ELEMENT_ID__=_1,e})();function _1(e){return function(e,t,n){if(yn(e)&&!n){const l=Sr(e.index,t);return new Kh(l,l)}return 47&e.type?new Kh(t[16],t):null}(Nr(),pn(),16==(16&e))}class V0{constructor(){}supports(t){return Bh(t)}create(t){return new D1(t)}}const T1=(e,t)=>t;class D1{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||T1}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,l=this._removalsHead,f=0,_=null;for(;n||l;){const V=!l||n&&n.currentIndex<H0(l,f,_)?n:l,ee=H0(V,f,_),se=V.currentIndex;if(V===l)f--,l=l._nextRemoved;else if(n=n._next,null==V.previousIndex)f++;else{_||(_=[]);const Re=ee-f,ze=se-f;if(Re!=ze){for(let Nt=0;Nt<Re;Nt++){const nn=Nt<_.length?_[Nt]:_[Nt]=0,An=nn+Nt;ze<=An&&An<Re&&(_[Nt]=nn+1)}_[V.previousIndex]=ze-Re}}ee!==se&&t(V,ee,se)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Bh(t))throw new Error(`Error trying to diff '${S(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let f,_,V,n=this._itHead,l=!1;if(Array.isArray(t)){this.length=t.length;for(let ee=0;ee<this.length;ee++)_=t[ee],V=this._trackByFn(ee,_),null!==n&&Object.is(n.trackById,V)?(l&&(n=this._verifyReinsertion(n,_,V,ee)),Object.is(n.item,_)||this._addIdentityChange(n,_)):(n=this._mismatch(n,_,V,ee),l=!0),n=n._next}else f=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Fd()]();let l;for(;!(l=n.next()).done;)t(l.value)}}(t,ee=>{V=this._trackByFn(f,ee),null!==n&&Object.is(n.trackById,V)?(l&&(n=this._verifyReinsertion(n,ee,V,f)),Object.is(n.item,ee)||this._addIdentityChange(n,ee)):(n=this._mismatch(n,ee,V,f),l=!0),n=n._next,f++}),this.length=f;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,l,f){let _;return null===t?_=this._itTail:(_=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,_,f)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,_,f)):t=this._addAfter(new M1(n,l),_,f),t}_verifyReinsertion(t,n,l,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==_?t=this._reinsertAfter(_,t._prev,f):t.currentIndex!=f&&(t.currentIndex=f,this._addToMoves(t,f)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const f=t._prevRemoved,_=t._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(t,n,l),this._addToMoves(t,l),t}_moveAfter(t,n,l){return this._unlink(t),this._insertAfter(t,n,l),this._addToMoves(t,l),t}_addAfter(t,n,l){return this._insertAfter(t,n,l),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,l){const f=null===n?this._itHead:n._next;return t._next=f,t._prev=n,null===f?this._itTail=t:f._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new z0),this._linkedRecords.put(t),t.currentIndex=l,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,l=t._next;return null===n?this._itHead=l:n._next=l,null===l?this._itTail=n:l._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new z0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class M1{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class S1{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===n||n<=l.currentIndex)&&Object.is(l.trackById,t))return l;return null}remove(t){const n=t._prevDup,l=t._nextDup;return null===n?this._head=l:n._nextDup=l,null===l?this._tail=n:l._prevDup=n,null===this._head}}class z0{constructor(){this.map=new Map}put(t){const n=t.trackById;let l=this.map.get(n);l||(l=new S1,this.map.set(n,l)),l.add(t)}get(t,n){const f=this.map.get(t);return f?f.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H0(e,t,n){const l=e.previousIndex;if(null===l)return l;let f=0;return n&&l<n.length&&(f=n[l]),l+t+f}class W0{constructor(){}supports(t){return t instanceof Map||Jf(t)}create(){return new O1}}class O1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Jf(t)))throw new Error(`Error trying to diff '${S(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(l,f)=>{if(n&&n.key===f)this._maybeAddToChanges(n,l),this._appendAfter=n,n=n._next;else{const _=this._getOrCreateRecordForKey(f,l);n=this._insertBeforeOrAppend(n,_)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let l=n;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const l=t._prev;return n._next=t,n._prev=l,t._prev=n,l&&(l._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const f=this._records.get(t);this._maybeAddToChanges(f,n);const _=f._prev,V=f._next;return _&&(_._next=V),V&&(V._prev=_),f._next=null,f._prev=null,f}const l=new I1(t);return this._records.set(t,l),l.currentValue=n,this._addToAdditions(l),l}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(l=>n(t[l],l))}}class I1{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Z0(){return new Ff([new V0])}let Ff=(()=>{class e{constructor(n){this.factories=n}static create(n,l){if(null!=l){const f=l.factories.slice();n=n.concat(f)}return new e(n)}static extend(n){return{provide:e,useFactory:l=>e.create(n,l||Z0()),deps:[[e,new wa,new Os]]}}find(n){const l=this.factories.find(f=>f.supports(n));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=Ce({token:e,providedIn:"root",factory:Z0}),e})();function Y0(){return new Nf([new W0])}let Nf=(()=>{class e{constructor(n){this.factories=n}static create(n,l){if(l){const f=l.factories.slice();n=n.concat(f)}return new e(n)}static extend(n){return{provide:e,useFactory:l=>e.create(n,l||Y0()),deps:[[e,new wa,new Os]]}}find(n){const l=this.factories.find(f=>f.supports(n));if(l)return l;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=Ce({token:e,providedIn:"root",factory:Y0}),e})();const A1=[new W0],k1=new Ff([new V0]),L1=new Nf(A1),F1=P0(null,"core",[{provide:x0,useValue:"unknown"},{provide:R0,deps:[Ra]},{provide:O0,deps:[]},{provide:C0,deps:[]}]),U1=[{provide:ef,useClass:ef,deps:[fa,Ra,Ru,Zh,eh]},{provide:qb,deps:[fa],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:eh,useClass:eh,deps:[[new Os,$p]]},{provide:Gp,useClass:Gp,deps:[]},XE,{provide:Ff,useFactory:function(){return k1},deps:[]},{provide:Nf,useFactory:function(){return L1},deps:[]},{provide:kf,useFactory:function(e){return e||"undefined"!=typeof $localize&&$localize.locale||wf},deps:[[new Ss(kf),new Os,new wa]]},{provide:T0,useValue:"USD"}];let V1=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(To(ef))},e.\u0275mod=Rr({type:e}),e.\u0275inj=qe({providers:U1}),e})()},3075:(Ye,fe,p)=>{"use strict";p.d(fe,{qu:()=>$i,u:()=>Ai,sg:()=>Cn,u5:()=>hi,JU:()=>S,a5:()=>Ht,JJ:()=>nt,JL:()=>Ut,On:()=>It,UX:()=>kr,kI:()=>F,_Y:()=>Le});var i=p(5e3),D=p(9808),G=p(5254),ne=p(567),H=p(4850);let L=(()=>{class Z{constructor(j,pe){this._renderer=j,this._elementRef=pe,this.onChange=vt=>{},this.onTouched=()=>{}}setProperty(j,pe){this._renderer.setProperty(this._elementRef.nativeElement,j,pe)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}}return Z.\u0275fac=function(j){return new(j||Z)(i.Y36(i.Qsj),i.Y36(i.SBq))},Z.\u0275dir=i.lG2({type:Z}),Z})(),$=(()=>{class Z extends L{}return Z.\u0275fac=function(){let I;return function(pe){return(I||(I=i.n5z(Z)))(pe||Z)}}(),Z.\u0275dir=i.lG2({type:Z,features:[i.qOj]}),Z})();const S=new i.OlP("NgValueAccessor"),w={provide:S,useExisting:(0,i.Gpc)(()=>T),multi:!0},m=new i.OlP("CompositionEventMode");let T=(()=>{class Z extends L{constructor(j,pe,vt){super(j,pe),this._compositionMode=vt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const Z=(0,D.q)()?(0,D.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(j){this.setProperty("value",null==j?"":j)}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}}return Z.\u0275fac=function(j){return new(j||Z)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(m,8))},Z.\u0275dir=i.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(j,pe){1&j&&i.NdJ("input",function(on){return pe._handleInput(on.target.value)})("blur",function(){return pe.onTouched()})("compositionstart",function(){return pe._compositionStart()})("compositionend",function(on){return pe._compositionEnd(on.target.value)})},features:[i._Bn([w]),i.qOj]}),Z})();function g(Z){return null==Z||0===Z.length}function v(Z){return null!=Z&&"number"==typeof Z.length}const O=new i.OlP("NgValidators"),k=new i.OlP("NgAsyncValidators"),B=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class F{static min(I){return Z=I,I=>{if(g(I.value)||g(Z))return null;const j=parseFloat(I.value);return!isNaN(j)&&j<Z?{min:{min:Z,actual:I.value}}:null};var Z}static max(I){return Z=I,I=>{if(g(I.value)||g(Z))return null;const j=parseFloat(I.value);return!isNaN(j)&&j>Z?{max:{max:Z,actual:I.value}}:null};var Z}static required(I){return g(I.value)?{required:!0}:null}static requiredTrue(I){return!0===I.value?null:{required:!0}}static email(I){return g((Z=I).value)||B.test(Z.value)?null:{email:!0};var Z}static minLength(I){return Z=I,I=>g(I.value)||!v(I.value)?null:I.value.length<Z?{minlength:{requiredLength:Z,actualLength:I.value.length}}:null;var Z}static maxLength(I){return Z=I,I=>v(I.value)&&I.value.length>Z?{maxlength:{requiredLength:Z,actualLength:I.value.length}}:null;var Z}static pattern(I){return function(Z){if(!Z)return A;let I,j;return"string"==typeof Z?(j="","^"!==Z.charAt(0)&&(j+="^"),j+=Z,"$"!==Z.charAt(Z.length-1)&&(j+="$"),I=new RegExp(j)):(j=Z.toString(),I=Z),pe=>{if(g(pe.value))return null;const vt=pe.value;return I.test(vt)?null:{pattern:{requiredPattern:j,actualValue:vt}}}}(I)}static nullValidator(I){return null}static compose(I){return _e(I)}static composeAsync(I){return Pe(I)}}function A(Z){return null}function W(Z){return null!=Z}function te(Z){const I=(0,i.QGY)(Z)?(0,G.D)(Z):Z;return(0,i.CqO)(I),I}function oe(Z){let I={};return Z.forEach(j=>{I=null!=j?Object.assign(Object.assign({},I),j):I}),0===Object.keys(I).length?null:I}function Te(Z,I){return I.map(j=>j(Z))}function ae(Z){return Z.map(I=>function(Z){return!Z.validate}(I)?I:j=>I.validate(j))}function _e(Z){if(!Z)return null;const I=Z.filter(W);return 0==I.length?null:function(j){return oe(Te(j,I))}}function Ee(Z){return null!=Z?_e(ae(Z)):null}function Pe(Z){if(!Z)return null;const I=Z.filter(W);return 0==I.length?null:function(j){const pe=Te(j,I).map(te);return(0,ne.D)(pe).pipe((0,H.U)(oe))}}function Ge(Z){return null!=Z?Pe(ae(Z)):null}function Ue(Z,I){return null===Z?[I]:Array.isArray(Z)?[...Z,I]:[Z,I]}function Be(Z){return Z._rawValidators}function Ce(Z){return Z._rawAsyncValidators}function ke(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function qe(Z,I){return Array.isArray(Z)?Z.includes(I):Z===I}function at(Z,I){const j=ke(I);return ke(Z).forEach(vt=>{qe(j,vt)||j.push(vt)}),j}function Gt(Z,I){return ke(I).filter(j=>!qe(Z,j))}class Tt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(I){this._rawValidators=I||[],this._composedValidatorFn=Ee(this._rawValidators)}_setAsyncValidators(I){this._rawAsyncValidators=I||[],this._composedAsyncValidatorFn=Ge(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(I){this._onDestroyCallbacks.push(I)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(I=>I()),this._onDestroyCallbacks=[]}reset(I){this.control&&this.control.reset(I)}hasError(I,j){return!!this.control&&this.control.hasError(I,j)}getError(I,j){return this.control?this.control.getError(I,j):null}}class Ht extends Tt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wn extends Tt{get formDirective(){return null}get path(){return null}}class fn{constructor(I){this._cd=I}is(I){var j,pe,vt;return"submitted"===I?!!(null===(j=this._cd)||void 0===j?void 0:j.submitted):!!(null===(vt=null===(pe=this._cd)||void 0===pe?void 0:pe.control)||void 0===vt?void 0:vt[I])}}let nt=(()=>{class Z extends fn{constructor(j){super(j)}}return Z.\u0275fac=function(j){return new(j||Z)(i.Y36(Ht,2))},Z.\u0275dir=i.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(j,pe){2&j&&i.ekj("ng-untouched",pe.is("untouched"))("ng-touched",pe.is("touched"))("ng-pristine",pe.is("pristine"))("ng-dirty",pe.is("dirty"))("ng-valid",pe.is("valid"))("ng-invalid",pe.is("invalid"))("ng-pending",pe.is("pending"))},features:[i.qOj]}),Z})(),Ut=(()=>{class Z extends fn{constructor(j){super(j)}}return Z.\u0275fac=function(j){return new(j||Z)(i.Y36(wn,10))},Z.\u0275dir=i.lG2({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(j,pe){2&j&&i.ekj("ng-untouched",pe.is("untouched"))("ng-touched",pe.is("touched"))("ng-pristine",pe.is("pristine"))("ng-dirty",pe.is("dirty"))("ng-valid",pe.is("valid"))("ng-invalid",pe.is("invalid"))("ng-pending",pe.is("pending"))("ng-submitted",pe.is("submitted"))},features:[i.qOj]}),Z})();function Gn(Z,I){return[...I.path,Z]}function en(Z,I){Fn(Z,I),I.valueAccessor.writeValue(Z.value),function(Z,I){I.valueAccessor.registerOnChange(j=>{Z._pendingValue=j,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&Ar(Z,I)})}(Z,I),function(Z,I){const j=(pe,vt)=>{I.valueAccessor.writeValue(pe),vt&&I.viewToModelUpdate(pe)};Z.registerOnChange(j),I._registerOnDestroy(()=>{Z._unregisterOnChange(j)})}(Z,I),function(Z,I){I.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&Ar(Z,I),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,I),function(Z,I){if(I.valueAccessor.setDisabledState){const j=pe=>{I.valueAccessor.setDisabledState(pe)};Z.registerOnDisabledChange(j),I._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(j)})}}(Z,I)}function Hn(Z,I,j=!0){const pe=()=>{};I.valueAccessor&&(I.valueAccessor.registerOnChange(pe),I.valueAccessor.registerOnTouched(pe)),er(Z,I),Z&&(I._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function On(Z,I){Z.forEach(j=>{j.registerOnValidatorChange&&j.registerOnValidatorChange(I)})}function Fn(Z,I){const j=Be(Z);null!==I.validator?Z.setValidators(Ue(j,I.validator)):"function"==typeof j&&Z.setValidators([j]);const pe=Ce(Z);null!==I.asyncValidator?Z.setAsyncValidators(Ue(pe,I.asyncValidator)):"function"==typeof pe&&Z.setAsyncValidators([pe]);const vt=()=>Z.updateValueAndValidity();On(I._rawValidators,vt),On(I._rawAsyncValidators,vt)}function er(Z,I){let j=!1;if(null!==Z){if(null!==I.validator){const vt=Be(Z);if(Array.isArray(vt)&&vt.length>0){const on=vt.filter(Yn=>Yn!==I.validator);on.length!==vt.length&&(j=!0,Z.setValidators(on))}}if(null!==I.asyncValidator){const vt=Ce(Z);if(Array.isArray(vt)&&vt.length>0){const on=vt.filter(Yn=>Yn!==I.asyncValidator);on.length!==vt.length&&(j=!0,Z.setAsyncValidators(on))}}}const pe=()=>{};return On(I._rawValidators,pe),On(I._rawAsyncValidators,pe),j}function Ar(Z,I){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),I.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function Wr(Z,I){if(!Z.hasOwnProperty("model"))return!1;const j=Z.model;return!!j.isFirstChange()||!Object.is(I,j.currentValue)}function Qr(Z,I){if(!I)return null;let j,pe,vt;return Array.isArray(I),I.forEach(on=>{on.constructor===T?j=on:function(Z){return Object.getPrototypeOf(Z.constructor)===$}(on)?pe=on:vt=on}),vt||pe||j||null}function Rr(Z,I){const j=Z.indexOf(I);j>-1&&Z.splice(j,1)}const Dt="VALID",lt="INVALID",jt="PENDING",gn="DISABLED";function pr(Z){return(zt(Z)?Z.validators:Z)||null}function ct(Z){return Array.isArray(Z)?Ee(Z):Z||null}function gt(Z,I){return(zt(I)?I.asyncValidators:Z)||null}function ln(Z){return Array.isArray(Z)?Ge(Z):Z||null}function zt(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}class un{constructor(I,j){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=I,this._rawAsyncValidators=j,this._composedValidatorFn=ct(this._rawValidators),this._composedAsyncValidatorFn=ln(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(I){this._rawValidators=this._composedValidatorFn=I}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(I){this._rawAsyncValidators=this._composedAsyncValidatorFn=I}get parent(){return this._parent}get valid(){return this.status===Dt}get invalid(){return this.status===lt}get pending(){return this.status==jt}get disabled(){return this.status===gn}get enabled(){return this.status!==gn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(I){this._rawValidators=I,this._composedValidatorFn=ct(I)}setAsyncValidators(I){this._rawAsyncValidators=I,this._composedAsyncValidatorFn=ln(I)}addValidators(I){this.setValidators(at(I,this._rawValidators))}addAsyncValidators(I){this.setAsyncValidators(at(I,this._rawAsyncValidators))}removeValidators(I){this.setValidators(Gt(I,this._rawValidators))}removeAsyncValidators(I){this.setAsyncValidators(Gt(I,this._rawAsyncValidators))}hasValidator(I){return qe(this._rawValidators,I)}hasAsyncValidator(I){return qe(this._rawAsyncValidators,I)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(I={}){this.touched=!0,this._parent&&!I.onlySelf&&this._parent.markAsTouched(I)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(I=>I.markAllAsTouched())}markAsUntouched(I={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(j=>{j.markAsUntouched({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}markAsDirty(I={}){this.pristine=!1,this._parent&&!I.onlySelf&&this._parent.markAsDirty(I)}markAsPristine(I={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(j=>{j.markAsPristine({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}markAsPending(I={}){this.status=jt,!1!==I.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!I.onlySelf&&this._parent.markAsPending(I)}disable(I={}){const j=this._parentMarkedDirty(I.onlySelf);this.status=gn,this.errors=null,this._forEachChild(pe=>{pe.disable(Object.assign(Object.assign({},I),{onlySelf:!0}))}),this._updateValue(),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},I),{skipPristineCheck:j})),this._onDisabledChange.forEach(pe=>pe(!0))}enable(I={}){const j=this._parentMarkedDirty(I.onlySelf);this.status=Dt,this._forEachChild(pe=>{pe.enable(Object.assign(Object.assign({},I),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},I),{skipPristineCheck:j})),this._onDisabledChange.forEach(pe=>pe(!1))}_updateAncestors(I){this._parent&&!I.onlySelf&&(this._parent.updateValueAndValidity(I),I.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(I){this._parent=I}updateValueAndValidity(I={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dt||this.status===jt)&&this._runAsyncValidator(I.emitEvent)),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!I.onlySelf&&this._parent.updateValueAndValidity(I)}_updateTreeValidity(I={emitEvent:!0}){this._forEachChild(j=>j._updateTreeValidity(I)),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gn:Dt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(I){if(this.asyncValidator){this.status=jt,this._hasOwnPendingAsyncValidator=!0;const j=te(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(pe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(pe,{emitEvent:I})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(I,j={}){this.errors=I,this._updateControlsErrors(!1!==j.emitEvent)}get(I){return function(Z,I,j){if(null==I||(Array.isArray(I)||(I=I.split(".")),Array.isArray(I)&&0===I.length))return null;let pe=Z;return I.forEach(vt=>{pe=pe instanceof dn?pe.controls.hasOwnProperty(vt)?pe.controls[vt]:null:pe instanceof Un&&pe.at(vt)||null}),pe}(this,I)}getError(I,j){const pe=j?this.get(j):this;return pe&&pe.errors?pe.errors[I]:null}hasError(I,j){return!!this.getError(I,j)}get root(){let I=this;for(;I._parent;)I=I._parent;return I}_updateControlsErrors(I){this.status=this._calculateStatus(),I&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(I)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?gn:this.errors?lt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jt)?jt:this._anyControlsHaveStatus(lt)?lt:Dt}_anyControlsHaveStatus(I){return this._anyControls(j=>j.status===I)}_anyControlsDirty(){return this._anyControls(I=>I.dirty)}_anyControlsTouched(){return this._anyControls(I=>I.touched)}_updatePristine(I={}){this.pristine=!this._anyControlsDirty(),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}_updateTouched(I={}){this.touched=this._anyControlsTouched(),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}_isBoxedValue(I){return"object"==typeof I&&null!==I&&2===Object.keys(I).length&&"value"in I&&"disabled"in I}_registerOnCollectionChange(I){this._onCollectionChange=I}_setUpdateStrategy(I){zt(I)&&null!=I.updateOn&&(this._updateOn=I.updateOn)}_parentMarkedDirty(I){return!I&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class En extends un{constructor(I=null,j,pe){super(pr(j),gt(pe,j)),this._onChange=[],this._pendingChange=!1,this._applyFormState(I),this._setUpdateStrategy(j),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(I,j={}){this.value=this._pendingValue=I,this._onChange.length&&!1!==j.emitModelToViewChange&&this._onChange.forEach(pe=>pe(this.value,!1!==j.emitViewToModelChange)),this.updateValueAndValidity(j)}patchValue(I,j={}){this.setValue(I,j)}reset(I=null,j={}){this._applyFormState(I),this.markAsPristine(j),this.markAsUntouched(j),this.setValue(this.value,j),this._pendingChange=!1}_updateValue(){}_anyControls(I){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(I){this._onChange.push(I)}_unregisterOnChange(I){Rr(this._onChange,I)}registerOnDisabledChange(I){this._onDisabledChange.push(I)}_unregisterOnDisabledChange(I){Rr(this._onDisabledChange,I)}_forEachChild(I){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(I){this._isBoxedValue(I)?(this.value=this._pendingValue=I.value,I.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=I}}class dn extends un{constructor(I,j,pe){super(pr(j),gt(pe,j)),this.controls=I,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(I,j){return this.controls[I]?this.controls[I]:(this.controls[I]=j,j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange),j)}addControl(I,j,pe={}){this.registerControl(I,j),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}removeControl(I,j={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}setControl(I,j,pe={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],j&&this.registerControl(I,j),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}contains(I){return this.controls.hasOwnProperty(I)&&this.controls[I].enabled}setValue(I,j={}){this._checkAllValuesPresent(I),Object.keys(I).forEach(pe=>{this._throwIfControlMissing(pe),this.controls[pe].setValue(I[pe],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(I,j={}){null!=I&&(Object.keys(I).forEach(pe=>{this.controls[pe]&&this.controls[pe].patchValue(I[pe],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(I={},j={}){this._forEachChild((pe,vt)=>{pe.reset(I[vt],{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this._reduceChildren({},(I,j,pe)=>(I[pe]=j instanceof En?j.value:j.getRawValue(),I))}_syncPendingControls(){let I=this._reduceChildren(!1,(j,pe)=>!!pe._syncPendingControls()||j);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_throwIfControlMissing(I){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[I])throw new Error(`Cannot find form control with name: ${I}.`)}_forEachChild(I){Object.keys(this.controls).forEach(j=>{const pe=this.controls[j];pe&&I(pe,j)})}_setUpControls(){this._forEachChild(I=>{I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(I){for(const j of Object.keys(this.controls)){const pe=this.controls[j];if(this.contains(j)&&I(pe))return!0}return!1}_reduceValue(){return this._reduceChildren({},(I,j,pe)=>((j.enabled||this.disabled)&&(I[pe]=j.value),I))}_reduceChildren(I,j){let pe=I;return this._forEachChild((vt,on)=>{pe=j(pe,vt,on)}),pe}_allControlsDisabled(){for(const I of Object.keys(this.controls))if(this.controls[I].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(I){this._forEachChild((j,pe)=>{if(void 0===I[pe])throw new Error(`Must supply a value for form control with name: '${pe}'.`)})}}class Un extends un{constructor(I,j,pe){super(pr(j),gt(pe,j)),this.controls=I,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(I){return this.controls[I]}push(I,j={}){this.controls.push(I),this._registerControl(I),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}insert(I,j,pe={}){this.controls.splice(I,0,j),this._registerControl(j),this.updateValueAndValidity({emitEvent:pe.emitEvent})}removeAt(I,j={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),this.controls.splice(I,1),this.updateValueAndValidity({emitEvent:j.emitEvent})}setControl(I,j,pe={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),this.controls.splice(I,1),j&&(this.controls.splice(I,0,j),this._registerControl(j)),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(I,j={}){this._checkAllValuesPresent(I),I.forEach((pe,vt)=>{this._throwIfControlMissing(vt),this.at(vt).setValue(pe,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(I,j={}){null!=I&&(I.forEach((pe,vt)=>{this.at(vt)&&this.at(vt).patchValue(pe,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(I=[],j={}){this._forEachChild((pe,vt)=>{pe.reset(I[vt],{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this.controls.map(I=>I instanceof En?I.value:I.getRawValue())}clear(I={}){this.controls.length<1||(this._forEachChild(j=>j._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:I.emitEvent}))}_syncPendingControls(){let I=this.controls.reduce((j,pe)=>!!pe._syncPendingControls()||j,!1);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_throwIfControlMissing(I){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(I))throw new Error(`Cannot find form control at index ${I}`)}_forEachChild(I){this.controls.forEach((j,pe)=>{I(j,pe)})}_updateValue(){this.value=this.controls.filter(I=>I.enabled||this.disabled).map(I=>I.value)}_anyControls(I){return this.controls.some(j=>j.enabled&&I(j))}_setUpControls(){this._forEachChild(I=>this._registerControl(I))}_checkAllValuesPresent(I){this._forEachChild((j,pe)=>{if(void 0===I[pe])throw new Error(`Must supply a value for form control at index: ${pe}.`)})}_allControlsDisabled(){for(const I of this.controls)if(I.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(I){I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)}}const Fe={provide:Ht,useExisting:(0,i.Gpc)(()=>It)},et=(()=>Promise.resolve(null))();let It=(()=>{class Z extends Ht{constructor(j,pe,vt,on){super(),this.control=new En,this._registered=!1,this.update=new i.vpe,this._parent=j,this._setValidators(pe),this._setAsyncValidators(vt),this.valueAccessor=Qr(0,on)}ngOnChanges(j){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in j&&this._updateDisabled(j),Wr(j,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Gn(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){en(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(j){et.then(()=>{this.control.setValue(j,{emitViewToModelChange:!1})})}_updateDisabled(j){const pe=j.isDisabled.currentValue,vt=""===pe||pe&&"false"!==pe;et.then(()=>{vt&&!this.control.disabled?this.control.disable():!vt&&this.control.disabled&&this.control.enable()})}}return Z.\u0275fac=function(j){return new(j||Z)(i.Y36(wn,9),i.Y36(O,10),i.Y36(k,10),i.Y36(S,10))},Z.\u0275dir=i.lG2({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([Fe]),i.qOj,i.TTD]}),Z})(),Le=(()=>{class Z{}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275dir=i.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Z})(),Se=(()=>{class Z{}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=i.oAB({type:Z}),Z.\u0275inj=i.cJS({}),Z})();const xt=new i.OlP("NgModelWithFormControlWarning"),yn={provide:wn,useExisting:(0,i.Gpc)(()=>Cn)};let Cn=(()=>{class Z extends wn{constructor(j,pe){super(),this.validators=j,this.asyncValidators=pe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(j),this._setAsyncValidators(pe)}ngOnChanges(j){this._checkFormPresent(),j.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(er(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(j){const pe=this.form.get(j.path);return en(pe,j),pe.updateValueAndValidity({emitEvent:!1}),this.directives.push(j),pe}getControl(j){return this.form.get(j.path)}removeControl(j){Hn(j.control||null,j,!1),Rr(this.directives,j)}addFormGroup(j){this._setUpFormContainer(j)}removeFormGroup(j){this._cleanUpFormContainer(j)}getFormGroup(j){return this.form.get(j.path)}addFormArray(j){this._setUpFormContainer(j)}removeFormArray(j){this._cleanUpFormContainer(j)}getFormArray(j){return this.form.get(j.path)}updateModel(j,pe){this.form.get(j.path).setValue(pe)}onSubmit(j){return this.submitted=!0,function(Z,I){Z._syncPendingControls(),I.forEach(j=>{const pe=j.control;"submit"===pe.updateOn&&pe._pendingChange&&(j.viewToModelUpdate(pe._pendingValue),pe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(j),!1}onReset(){this.resetForm()}resetForm(j){this.form.reset(j),this.submitted=!1}_updateDomValue(){this.directives.forEach(j=>{const pe=j.control,vt=this.form.get(j.path);pe!==vt&&(Hn(pe||null,j),vt instanceof En&&(en(vt,j),j.control=vt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(j){const pe=this.form.get(j.path);(function(Z,I){Fn(Z,I)})(pe,j),pe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(j){if(this.form){const pe=this.form.get(j.path);pe&&function(Z,I){return er(Z,I)}(pe,j)&&pe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fn(this.form,this),this._oldForm&&er(this._oldForm,this)}_checkFormPresent(){}}return Z.\u0275fac=function(j){return new(j||Z)(i.Y36(O,10),i.Y36(k,10))},Z.\u0275dir=i.lG2({type:Z,selectors:[["","formGroup",""]],hostBindings:function(j,pe){1&j&&i.NdJ("submit",function(on){return pe.onSubmit(on)})("reset",function(){return pe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([yn]),i.qOj,i.TTD]}),Z})();const Fi={provide:Ht,useExisting:(0,i.Gpc)(()=>Ai)};let Ai=(()=>{class Z extends Ht{constructor(j,pe,vt,on,Yn){super(),this._ngModelWarningConfig=Yn,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=j,this._setValidators(pe),this._setAsyncValidators(vt),this.valueAccessor=Qr(0,on)}set isDisabled(j){}ngOnChanges(j){this._added||this._setUpControl(),Wr(j,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}get path(){return Gn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return Z._ngModelWarningSentOnce=!1,Z.\u0275fac=function(j){return new(j||Z)(i.Y36(wn,13),i.Y36(O,10),i.Y36(k,10),i.Y36(S,10),i.Y36(xt,8))},Z.\u0275dir=i.lG2({type:Z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([Fi]),i.qOj,i.TTD]}),Z})(),Ci=(()=>{class Z{}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=i.oAB({type:Z}),Z.\u0275inj=i.cJS({imports:[[Se]]}),Z})(),hi=(()=>{class Z{}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=i.oAB({type:Z}),Z.\u0275inj=i.cJS({imports:[Ci]}),Z})(),kr=(()=>{class Z{static withConfig(j){return{ngModule:Z,providers:[{provide:xt,useValue:j.warnOnNgModelWithFormControl}]}}}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=i.oAB({type:Z}),Z.\u0275inj=i.cJS({imports:[Ci]}),Z})(),$i=(()=>{class Z{group(j,pe=null){const vt=this._reduceControls(j);let Sr,on=null,Yn=null;return null!=pe&&(function(Z){return void 0!==Z.asyncValidators||void 0!==Z.validators||void 0!==Z.updateOn}(pe)?(on=null!=pe.validators?pe.validators:null,Yn=null!=pe.asyncValidators?pe.asyncValidators:null,Sr=null!=pe.updateOn?pe.updateOn:void 0):(on=null!=pe.validator?pe.validator:null,Yn=null!=pe.asyncValidator?pe.asyncValidator:null)),new dn(vt,{asyncValidators:Yn,updateOn:Sr,validators:on})}control(j,pe,vt){return new En(j,pe,vt)}array(j,pe,vt){const on=j.map(Yn=>this._createControl(Yn));return new Un(on,pe,vt)}_reduceControls(j){const pe={};return Object.keys(j).forEach(vt=>{pe[vt]=this._createControl(j[vt])}),pe}_createControl(j){return j instanceof En||j instanceof dn||j instanceof Un?j:Array.isArray(j)?this.control(j[0],j.length>1?j[1]:null,j.length>2?j[2]:null):this.control(j)}}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275prov=i.Yz7({token:Z,factory:Z.\u0275fac,providedIn:kr}),Z})()},2313:(Ye,fe,p)=>{"use strict";p.d(fe,{b2:()=>He,H7:()=>oi,q6:()=>wn});var i=p(9808),D=p(5e3);class G extends i.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends G{static makeCurrent(){(0,i.HT)(new ne)}onAndCancel(Dt,lt,jt){return Dt.addEventListener(lt,jt,!1),()=>{Dt.removeEventListener(lt,jt,!1)}}dispatchEvent(Dt,lt){Dt.dispatchEvent(lt)}remove(Dt){Dt.parentNode&&Dt.parentNode.removeChild(Dt)}createElement(Dt,lt){return(lt=lt||this.getDefaultDocument()).createElement(Dt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Dt){return Dt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Dt){return Dt instanceof DocumentFragment}getGlobalEventTarget(Dt,lt){return"window"===lt?window:"document"===lt?Dt:"body"===lt?Dt.body:null}getBaseHref(Dt){const lt=(H=H||document.querySelector("base"),H?H.getAttribute("href"):null);return null==lt?null:function(Qt){$=$||document.createElement("a"),$.setAttribute("href",Qt);const Dt=$.pathname;return"/"===Dt.charAt(0)?Dt:`/${Dt}`}(lt)}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}getCookie(Dt){return(0,i.Mx)(document.cookie,Dt)}}let $,H=null;const P=new D.OlP("TRANSITION_ID"),w=[{provide:D.ip1,useFactory:function(Qt,Dt,lt){return()=>{lt.get(D.CZH).donePromise.then(()=>{const jt=(0,i.q)(),gn=Dt.querySelectorAll(`style[ng-transition="${Qt}"]`);for(let tr=0;tr<gn.length;tr++)jt.remove(gn[tr])})}},deps:[P,i.K0,D.zs3],multi:!0}];class C{static init(){(0,D.VLi)(new C)}addToWindow(Dt){D.dqk.getAngularTestability=(jt,gn=!0)=>{const tr=Dt.findTestabilityInTree(jt,gn);if(null==tr)throw new Error("Could not find testability for element.");return tr},D.dqk.getAllAngularTestabilities=()=>Dt.getAllTestabilities(),D.dqk.getAllAngularRootElements=()=>Dt.getAllRootElements(),D.dqk.frameworkStabilizers||(D.dqk.frameworkStabilizers=[]),D.dqk.frameworkStabilizers.push(jt=>{const gn=D.dqk.getAllAngularTestabilities();let tr=gn.length,pr=!1;const ct=function(gt){pr=pr||gt,tr--,0==tr&&jt(pr)};gn.forEach(function(gt){gt.whenStable(ct)})})}findTestabilityInTree(Dt,lt,jt){if(null==lt)return null;const gn=Dt.getTestability(lt);return null!=gn?gn:jt?(0,i.q)().isShadowRoot(lt)?this.findTestabilityInTree(Dt,lt.host,!0):this.findTestabilityInTree(Dt,lt.parentElement,!0):null}}let m=(()=>{class Qt{build(){return new XMLHttpRequest}}return Qt.\u0275fac=function(lt){return new(lt||Qt)},Qt.\u0275prov=D.Yz7({token:Qt,factory:Qt.\u0275fac}),Qt})();const T=new D.OlP("EventManagerPlugins");let g=(()=>{class Qt{constructor(lt,jt){this._zone=jt,this._eventNameToPlugin=new Map,lt.forEach(gn=>gn.manager=this),this._plugins=lt.slice().reverse()}addEventListener(lt,jt,gn){return this._findPluginFor(jt).addEventListener(lt,jt,gn)}addGlobalEventListener(lt,jt,gn){return this._findPluginFor(jt).addGlobalEventListener(lt,jt,gn)}getZone(){return this._zone}_findPluginFor(lt){const jt=this._eventNameToPlugin.get(lt);if(jt)return jt;const gn=this._plugins;for(let tr=0;tr<gn.length;tr++){const pr=gn[tr];if(pr.supports(lt))return this._eventNameToPlugin.set(lt,pr),pr}throw new Error(`No event manager plugin found for event ${lt}`)}}return Qt.\u0275fac=function(lt){return new(lt||Qt)(D.LFG(T),D.LFG(D.R0b))},Qt.\u0275prov=D.Yz7({token:Qt,factory:Qt.\u0275fac}),Qt})();class v{constructor(Dt){this._doc=Dt}addGlobalEventListener(Dt,lt,jt){const gn=(0,i.q)().getGlobalEventTarget(this._doc,Dt);if(!gn)throw new Error(`Unsupported event target ${gn} for event ${lt}`);return this.addEventListener(gn,lt,jt)}}let O=(()=>{class Qt{constructor(){this._stylesSet=new Set}addStyles(lt){const jt=new Set;lt.forEach(gn=>{this._stylesSet.has(gn)||(this._stylesSet.add(gn),jt.add(gn))}),this.onStylesAdded(jt)}onStylesAdded(lt){}getAllStyles(){return Array.from(this._stylesSet)}}return Qt.\u0275fac=function(lt){return new(lt||Qt)},Qt.\u0275prov=D.Yz7({token:Qt,factory:Qt.\u0275fac}),Qt})(),k=(()=>{class Qt extends O{constructor(lt){super(),this._doc=lt,this._hostNodes=new Map,this._hostNodes.set(lt.head,[])}_addStylesToHost(lt,jt,gn){lt.forEach(tr=>{const pr=this._doc.createElement("style");pr.textContent=tr,gn.push(jt.appendChild(pr))})}addHost(lt){const jt=[];this._addStylesToHost(this._stylesSet,lt,jt),this._hostNodes.set(lt,jt)}removeHost(lt){const jt=this._hostNodes.get(lt);jt&&jt.forEach(B),this._hostNodes.delete(lt)}onStylesAdded(lt){this._hostNodes.forEach((jt,gn)=>{this._addStylesToHost(lt,gn,jt)})}ngOnDestroy(){this._hostNodes.forEach(lt=>lt.forEach(B))}}return Qt.\u0275fac=function(lt){return new(lt||Qt)(D.LFG(i.K0))},Qt.\u0275prov=D.Yz7({token:Qt,factory:Qt.\u0275fac}),Qt})();function B(Qt){(0,i.q)().remove(Qt)}const F={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},M=/%COMP%/g,R="%COMP%",z=`_nghost-${R}`,re=`_ngcontent-${R}`;function xe(Qt,Dt,lt){for(let jt=0;jt<Dt.length;jt++){let gn=Dt[jt];Array.isArray(gn)?xe(Qt,gn,lt):(gn=gn.replace(M,Qt),lt.push(gn))}return lt}function A(Qt){return Dt=>{if("__ngUnwrap__"===Dt)return Qt;!1===Qt(Dt)&&(Dt.preventDefault(),Dt.returnValue=!1)}}let te=(()=>{class Qt{constructor(lt,jt,gn){this.eventManager=lt,this.sharedStylesHost=jt,this.appId=gn,this.rendererByCompId=new Map,this.defaultRenderer=new oe(lt)}createRenderer(lt,jt){if(!lt||!jt)return this.defaultRenderer;switch(jt.encapsulation){case D.ifc.Emulated:{let gn=this.rendererByCompId.get(jt.id);return gn||(gn=new ae(this.eventManager,this.sharedStylesHost,jt,this.appId),this.rendererByCompId.set(jt.id,gn)),gn.applyToHost(lt),gn}case 1:case D.ifc.ShadowDom:return new _e(this.eventManager,this.sharedStylesHost,lt,jt);default:if(!this.rendererByCompId.has(jt.id)){const gn=xe(jt.id,jt.styles,[]);this.sharedStylesHost.addStyles(gn),this.rendererByCompId.set(jt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Qt.\u0275fac=function(lt){return new(lt||Qt)(D.LFG(g),D.LFG(k),D.LFG(D.AFp))},Qt.\u0275prov=D.Yz7({token:Qt,factory:Qt.\u0275fac}),Qt})();class oe{constructor(Dt){this.eventManager=Dt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Dt,lt){return lt?document.createElementNS(F[lt]||lt,Dt):document.createElement(Dt)}createComment(Dt){return document.createComment(Dt)}createText(Dt){return document.createTextNode(Dt)}appendChild(Dt,lt){Dt.appendChild(lt)}insertBefore(Dt,lt,jt){Dt&&Dt.insertBefore(lt,jt)}removeChild(Dt,lt){Dt&&Dt.removeChild(lt)}selectRootElement(Dt,lt){let jt="string"==typeof Dt?document.querySelector(Dt):Dt;if(!jt)throw new Error(`The selector "${Dt}" did not match any elements`);return lt||(jt.textContent=""),jt}parentNode(Dt){return Dt.parentNode}nextSibling(Dt){return Dt.nextSibling}setAttribute(Dt,lt,jt,gn){if(gn){lt=gn+":"+lt;const tr=F[gn];tr?Dt.setAttributeNS(tr,lt,jt):Dt.setAttribute(lt,jt)}else Dt.setAttribute(lt,jt)}removeAttribute(Dt,lt,jt){if(jt){const gn=F[jt];gn?Dt.removeAttributeNS(gn,lt):Dt.removeAttribute(`${jt}:${lt}`)}else Dt.removeAttribute(lt)}addClass(Dt,lt){Dt.classList.add(lt)}removeClass(Dt,lt){Dt.classList.remove(lt)}setStyle(Dt,lt,jt,gn){gn&(D.JOm.DashCase|D.JOm.Important)?Dt.style.setProperty(lt,jt,gn&D.JOm.Important?"important":""):Dt.style[lt]=jt}removeStyle(Dt,lt,jt){jt&D.JOm.DashCase?Dt.style.removeProperty(lt):Dt.style[lt]=""}setProperty(Dt,lt,jt){Dt[lt]=jt}setValue(Dt,lt){Dt.nodeValue=lt}listen(Dt,lt,jt){return"string"==typeof Dt?this.eventManager.addGlobalEventListener(Dt,lt,A(jt)):this.eventManager.addEventListener(Dt,lt,A(jt))}}class ae extends oe{constructor(Dt,lt,jt,gn){super(Dt),this.component=jt;const tr=xe(gn+"-"+jt.id,jt.styles,[]);lt.addStyles(tr),this.contentAttr=re.replace(M,gn+"-"+jt.id),this.hostAttr=z.replace(M,gn+"-"+jt.id)}applyToHost(Dt){super.setAttribute(Dt,this.hostAttr,"")}createElement(Dt,lt){const jt=super.createElement(Dt,lt);return super.setAttribute(jt,this.contentAttr,""),jt}}class _e extends oe{constructor(Dt,lt,jt,gn){super(Dt),this.sharedStylesHost=lt,this.hostEl=jt,this.shadowRoot=jt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tr=xe(gn.id,gn.styles,[]);for(let pr=0;pr<tr.length;pr++){const ct=document.createElement("style");ct.textContent=tr[pr],this.shadowRoot.appendChild(ct)}}nodeOrShadowRoot(Dt){return Dt===this.hostEl?this.shadowRoot:Dt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Dt,lt){return super.appendChild(this.nodeOrShadowRoot(Dt),lt)}insertBefore(Dt,lt,jt){return super.insertBefore(this.nodeOrShadowRoot(Dt),lt,jt)}removeChild(Dt,lt){return super.removeChild(this.nodeOrShadowRoot(Dt),lt)}parentNode(Dt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Dt)))}}let Ee=(()=>{class Qt extends v{constructor(lt){super(lt)}supports(lt){return!0}addEventListener(lt,jt,gn){return lt.addEventListener(jt,gn,!1),()=>this.removeEventListener(lt,jt,gn)}removeEventListener(lt,jt,gn){return lt.removeEventListener(jt,gn)}}return Qt.\u0275fac=function(lt){return new(lt||Qt)(D.LFG(i.K0))},Qt.\u0275prov=D.Yz7({token:Qt,factory:Qt.\u0275fac}),Qt})();const Pe=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Be={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ce={alt:Qt=>Qt.altKey,control:Qt=>Qt.ctrlKey,meta:Qt=>Qt.metaKey,shift:Qt=>Qt.shiftKey};let ke=(()=>{class Qt extends v{constructor(lt){super(lt)}supports(lt){return null!=Qt.parseEventName(lt)}addEventListener(lt,jt,gn){const tr=Qt.parseEventName(jt),pr=Qt.eventCallback(tr.fullKey,gn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,i.q)().onAndCancel(lt,tr.domEventName,pr))}static parseEventName(lt){const jt=lt.toLowerCase().split("."),gn=jt.shift();if(0===jt.length||"keydown"!==gn&&"keyup"!==gn)return null;const tr=Qt._normalizeKey(jt.pop());let pr="";if(Pe.forEach(gt=>{const ln=jt.indexOf(gt);ln>-1&&(jt.splice(ln,1),pr+=gt+".")}),pr+=tr,0!=jt.length||0===tr.length)return null;const ct={};return ct.domEventName=gn,ct.fullKey=pr,ct}static getEventFullKey(lt){let jt="",gn=function(Qt){let Dt=Qt.key;if(null==Dt){if(Dt=Qt.keyIdentifier,null==Dt)return"Unidentified";Dt.startsWith("U+")&&(Dt=String.fromCharCode(parseInt(Dt.substring(2),16)),3===Qt.location&&Be.hasOwnProperty(Dt)&&(Dt=Be[Dt]))}return Ue[Dt]||Dt}(lt);return gn=gn.toLowerCase()," "===gn?gn="space":"."===gn&&(gn="dot"),Pe.forEach(tr=>{tr!=gn&&Ce[tr](lt)&&(jt+=tr+".")}),jt+=gn,jt}static eventCallback(lt,jt,gn){return tr=>{Qt.getEventFullKey(tr)===lt&&gn.runGuarded(()=>jt(tr))}}static _normalizeKey(lt){return"esc"===lt?"escape":lt}}return Qt.\u0275fac=function(lt){return new(lt||Qt)(D.LFG(i.K0))},Qt.\u0275prov=D.Yz7({token:Qt,factory:Qt.\u0275fac}),Qt})();const wn=(0,D.eFA)(D._c5,"browser",[{provide:D.Lbi,useValue:i.bD},{provide:D.g9A,useValue:function(){ne.makeCurrent(),C.init()},multi:!0},{provide:i.K0,useFactory:function(){return(0,D.RDi)(document),document},deps:[]}]),fn=[{provide:D.zSh,useValue:"root"},{provide:D.qLn,useFactory:function(){return new D.qLn},deps:[]},{provide:T,useClass:Ee,multi:!0,deps:[i.K0,D.R0b,D.Lbi]},{provide:T,useClass:ke,multi:!0,deps:[i.K0]},{provide:te,useClass:te,deps:[g,k,D.AFp]},{provide:D.FYo,useExisting:te},{provide:O,useExisting:k},{provide:k,useClass:k,deps:[i.K0]},{provide:D.dDg,useClass:D.dDg,deps:[D.R0b]},{provide:g,useClass:g,deps:[T,D.R0b]},{provide:i.JF,useClass:m,deps:[]}];let He=(()=>{class Qt{constructor(lt){if(lt)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(lt){return{ngModule:Qt,providers:[{provide:D.AFp,useValue:lt.appId},{provide:P,useExisting:D.AFp},w]}}}return Qt.\u0275fac=function(lt){return new(lt||Qt)(D.LFG(Qt,12))},Qt.\u0275mod=D.oAB({type:Qt}),Qt.\u0275inj=D.cJS({providers:fn,imports:[i.ez,D.hGG]}),Qt})();"undefined"!=typeof window&&window;let oi=(()=>{class Qt{}return Qt.\u0275fac=function(lt){return new(lt||Qt)},Qt.\u0275prov=D.Yz7({token:Qt,factory:function(lt){let jt=null;return jt=lt?new(lt||Qt):D.LFG(Qr),jt},providedIn:"root"}),Qt})(),Qr=(()=>{class Qt extends oi{constructor(lt){super(),this._doc=lt}sanitize(lt,jt){if(null==jt)return null;switch(lt){case D.q3G.NONE:return jt;case D.q3G.HTML:return(0,D.qzn)(jt,"HTML")?(0,D.z3N)(jt):(0,D.EiD)(this._doc,String(jt)).toString();case D.q3G.STYLE:return(0,D.qzn)(jt,"Style")?(0,D.z3N)(jt):jt;case D.q3G.SCRIPT:if((0,D.qzn)(jt,"Script"))return(0,D.z3N)(jt);throw new Error("unsafe value used in a script context");case D.q3G.URL:return(0,D.yhl)(jt),(0,D.qzn)(jt,"URL")?(0,D.z3N)(jt):(0,D.mCW)(String(jt));case D.q3G.RESOURCE_URL:if((0,D.qzn)(jt,"ResourceURL"))return(0,D.z3N)(jt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${lt} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(lt){return(0,D.JVY)(lt)}bypassSecurityTrustStyle(lt){return(0,D.L6k)(lt)}bypassSecurityTrustScript(lt){return(0,D.eBb)(lt)}bypassSecurityTrustUrl(lt){return(0,D.LAX)(lt)}bypassSecurityTrustResourceUrl(lt){return(0,D.pB0)(lt)}}return Qt.\u0275fac=function(lt){return new(lt||Qt)(D.LFG(i.K0))},Qt.\u0275prov=D.Yz7({token:Qt,factory:function(lt){let jt=null;return jt=lt?new lt:function(Qt){return new Qr(Qt.get(i.K0))}(D.LFG(D.zs3)),jt},providedIn:"root"}),Qt})()},618:(Ye,fe,p)=>{"use strict";p.d(fe,{gz:()=>Le,y6:()=>xn,OD:()=>Ge,eC:()=>Lt,wm:()=>$s,wN:()=>Uo,F0:()=>Go,rH:()=>ri,Bz:()=>Bl,Hx:()=>Rr});var i=p(5e3),D=p(5254),G=p(1086),ne=p(591),H=p(6053),L=p(2916),$=p(4450),S=p(1221),P=p(8514),x=p(8896),w=p(1762),C=p(8929),m=p(2866),g=p(2198),v=p(3489),O=p(4231);function k(ie){return function(X){return 0===ie?(0,x.c)():X.lift(new B(ie))}}class B{constructor(Q){if(this.total=Q,this.total<0)throw new O.W}call(Q,X){return X.subscribe(new F(Q,this.total))}}class F extends v.L{constructor(Q,X){super(Q),this.total=X,this.ring=new Array,this.count=0}_next(Q){const X=this.ring,ve=this.total,Ae=this.count++;X.length<ve?X.push(Q):X[Ae%ve]=Q}_complete(){const Q=this.destination;let X=this.count;if(X>0){const ve=this.count>=this.total?this.total:this.count,Ae=this.ring;for(let Ke=0;Ke<ve;Ke++){const yt=X++%ve;Q.next(Ae[yt])}}Q.complete()}}var M=p(4907),y=p(7314),R=p(5379),re=p(4850),le=p(7545),he=p(2986),xe=p(2014),A=p(7221),W=p(1406),te=p(7224),oe=p(1709),Te=p(2994),Ie=p(4327),ae=p(537),_e=p(9146),Ee=p(9808);class Pe{constructor(Q,X){this.id=Q,this.url=X}}class Ge extends Pe{constructor(Q,X,ve="imperative",Ae=null){super(Q,X),this.navigationTrigger=ve,this.restoredState=Ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ue extends Pe{constructor(Q,X,ve){super(Q,X),this.urlAfterRedirects=ve}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Be extends Pe{constructor(Q,X,ve){super(Q,X),this.reason=ve}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ce extends Pe{constructor(Q,X,ve){super(Q,X),this.error=ve}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ke extends Pe{constructor(Q,X,ve,Ae){super(Q,X),this.urlAfterRedirects=ve,this.state=Ae}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends Pe{constructor(Q,X,ve,Ae){super(Q,X),this.urlAfterRedirects=ve,this.state=Ae}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class at extends Pe{constructor(Q,X,ve,Ae,Ke){super(Q,X),this.urlAfterRedirects=ve,this.state=Ae,this.shouldActivate=Ke}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gt extends Pe{constructor(Q,X,ve,Ae){super(Q,X),this.urlAfterRedirects=ve,this.state=Ae}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tt extends Pe{constructor(Q,X,ve,Ae){super(Q,X),this.urlAfterRedirects=ve,this.state=Ae}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht{constructor(Q){this.route=Q}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wn{constructor(Q){this.route=Q}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fn{constructor(Q){this.snapshot=Q}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(Q){this.snapshot=Q}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bt{constructor(Q){this.snapshot=Q}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nt{constructor(Q){this.snapshot=Q}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ut{constructor(Q,X,ve){this.routerEvent=Q,this.position=X,this.anchor=ve}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Lt="primary";class vn{constructor(Q){this.params=Q||{}}has(Q){return Object.prototype.hasOwnProperty.call(this.params,Q)}get(Q){if(this.has(Q)){const X=this.params[Q];return Array.isArray(X)?X[0]:X}return null}getAll(Q){if(this.has(Q)){const X=this.params[Q];return Array.isArray(X)?X:[X]}return[]}get keys(){return Object.keys(this.params)}}function Pn(ie){return new vn(ie)}const kt="ngNavigationCancelingError";function dt(ie){const Q=Error("NavigationCancelingError: "+ie);return Q[kt]=!0,Q}function ot(ie,Q,X){const ve=X.path.split("/");if(ve.length>ie.length||"full"===X.pathMatch&&(Q.hasChildren()||ve.length<ie.length))return null;const Ae={};for(let Ke=0;Ke<ve.length;Ke++){const yt=ve[Ke],rt=ie[Ke];if(yt.startsWith(":"))Ae[yt.substring(1)]=rt;else if(yt!==rt.path)return null}return{consumed:ie.slice(0,ve.length),posParams:Ae}}function $t(ie,Q){const X=ie?Object.keys(ie):void 0,ve=Q?Object.keys(Q):void 0;if(!X||!ve||X.length!=ve.length)return!1;let Ae;for(let Ke=0;Ke<X.length;Ke++)if(Ae=X[Ke],!Rt(ie[Ae],Q[Ae]))return!1;return!0}function Rt(ie,Q){if(Array.isArray(ie)&&Array.isArray(Q)){if(ie.length!==Q.length)return!1;const X=[...ie].sort(),ve=[...Q].sort();return X.every((Ae,Ke)=>ve[Ke]===Ae)}return ie===Q}function Wt(ie){return Array.prototype.concat.apply([],ie)}function _n(ie){return ie.length>0?ie[ie.length-1]:null}function en(ie,Q){for(const X in ie)ie.hasOwnProperty(X)&&Q(ie[X],X)}function Hn(ie){return(0,i.CqO)(ie)?ie:(0,i.QGY)(ie)?(0,D.D)(Promise.resolve(ie)):(0,G.of)(ie)}const Vn={exact:function kn(ie,Q,X){if(!Mr(ie.segments,Q.segments)||!Vr(ie.segments,Q.segments,X)||ie.numberOfChildren!==Q.numberOfChildren)return!1;for(const ve in Q.children)if(!ie.children[ve]||!kn(ie.children[ve],Q.children[ve],X))return!1;return!0},subset:ni},Fn={exact:function(ie,Q){return $t(ie,Q)},subset:function(ie,Q){return Object.keys(Q).length<=Object.keys(ie).length&&Object.keys(Q).every(X=>Rt(ie[X],Q[X]))},ignored:()=>!0};function er(ie,Q,X){return Vn[X.paths](ie.root,Q.root,X.matrixParams)&&Fn[X.queryParams](ie.queryParams,Q.queryParams)&&!("exact"===X.fragment&&ie.fragment!==Q.fragment)}function ni(ie,Q,X){return Gr(ie,Q,Q.segments,X)}function Gr(ie,Q,X,ve){if(ie.segments.length>X.length){const Ae=ie.segments.slice(0,X.length);return!(!Mr(Ae,X)||Q.hasChildren()||!Vr(Ae,X,ve))}if(ie.segments.length===X.length){if(!Mr(ie.segments,X)||!Vr(ie.segments,X,ve))return!1;for(const Ae in Q.children)if(!ie.children[Ae]||!ni(ie.children[Ae],Q.children[Ae],ve))return!1;return!0}{const Ae=X.slice(0,ie.segments.length),Ke=X.slice(ie.segments.length);return!!(Mr(ie.segments,Ae)&&Vr(ie.segments,Ae,ve)&&ie.children[Lt])&&Gr(ie.children[Lt],Q,Ke,ve)}}function Vr(ie,Q,X){return Q.every((ve,Ae)=>Fn[X](ie[Ae].parameters,ve.parameters))}class zr{constructor(Q,X,ve){this.root=Q,this.queryParams=X,this.fragment=ve}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return Dt.serialize(this)}}class or{constructor(Q,X){this.segments=Q,this.children=X,this.parent=null,en(X,(ve,Ae)=>ve.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lt(this)}}class Wr{constructor(Q,X){this.path=Q,this.parameters=X}get parameterMap(){return this._parameterMap||(this._parameterMap=Pn(this.parameters)),this._parameterMap}toString(){return zt(this)}}function Mr(ie,Q){return ie.length===Q.length&&ie.every((X,ve)=>X.path===Q[ve].path)}class Rr{}class Qt{parse(Q){const X=new $r(Q);return new zr(X.parseRootSegment(),X.parseQueryParams(),X.parseFragment())}serialize(Q){const X=`/${jt(Q.root,!0)}`,ve=function(ie){const Q=Object.keys(ie).map(X=>{const ve=ie[X];return Array.isArray(ve)?ve.map(Ae=>`${tr(X)}=${tr(Ae)}`).join("&"):`${tr(X)}=${tr(ve)}`}).filter(X=>!!X);return Q.length?`?${Q.join("&")}`:""}(Q.queryParams);var ie;return`${X}${ve}${"string"==typeof Q.fragment?`#${ie=Q.fragment,encodeURI(ie)}`:""}`}}const Dt=new Qt;function lt(ie){return ie.segments.map(Q=>zt(Q)).join("/")}function jt(ie,Q){if(!ie.hasChildren())return lt(ie);if(Q){const X=ie.children[Lt]?jt(ie.children[Lt],!1):"",ve=[];return en(ie.children,(Ae,Ke)=>{Ke!==Lt&&ve.push(`${Ke}:${jt(Ae,!1)}`)}),ve.length>0?`${X}(${ve.join("//")})`:X}{const X=function(ie,Q){let X=[];return en(ie.children,(ve,Ae)=>{Ae===Lt&&(X=X.concat(Q(ve,Ae)))}),en(ie.children,(ve,Ae)=>{Ae!==Lt&&(X=X.concat(Q(ve,Ae)))}),X}(ie,(ve,Ae)=>Ae===Lt?[jt(ie.children[Lt],!1)]:[`${Ae}:${jt(ve,!1)}`]);return 1===Object.keys(ie.children).length&&null!=ie.children[Lt]?`${lt(ie)}/${X[0]}`:`${lt(ie)}/(${X.join("//")})`}}function gn(ie){return encodeURIComponent(ie).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tr(ie){return gn(ie).replace(/%3B/gi,";")}function ct(ie){return gn(ie).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gt(ie){return decodeURIComponent(ie)}function ln(ie){return gt(ie.replace(/\+/g,"%20"))}function zt(ie){return`${ct(ie.path)}${function(ie){return Object.keys(ie).map(Q=>`;${ct(Q)}=${ct(ie[Q])}`).join("")}(ie.parameters)}`}const dn=/^[^\/()?;=#]+/;function Un(ie){const Q=ie.match(dn);return Q?Q[0]:""}const Mn=/^[^=?&#]+/,Bn=/^[^&#]+/;class $r{constructor(Q){this.url=Q,this.remaining=Q}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new or([],{}):new or([],this.parseChildren())}parseQueryParams(){const Q={};if(this.consumeOptional("?"))do{this.parseQueryParam(Q)}while(this.consumeOptional("&"));return Q}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Q=[];for(this.peekStartsWith("(")||Q.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Q.push(this.parseSegment());let X={};this.peekStartsWith("/(")&&(this.capture("/"),X=this.parseParens(!0));let ve={};return this.peekStartsWith("(")&&(ve=this.parseParens(!1)),(Q.length>0||Object.keys(X).length>0)&&(ve[Lt]=new or(Q,X)),ve}parseSegment(){const Q=Un(this.remaining);if(""===Q&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(Q),new Wr(gt(Q),this.parseMatrixParams())}parseMatrixParams(){const Q={};for(;this.consumeOptional(";");)this.parseParam(Q);return Q}parseParam(Q){const X=Un(this.remaining);if(!X)return;this.capture(X);let ve="";if(this.consumeOptional("=")){const Ae=Un(this.remaining);Ae&&(ve=Ae,this.capture(ve))}Q[gt(X)]=gt(ve)}parseQueryParam(Q){const X=function(ie){const Q=ie.match(Mn);return Q?Q[0]:""}(this.remaining);if(!X)return;this.capture(X);let ve="";if(this.consumeOptional("=")){const yt=function(ie){const Q=ie.match(Bn);return Q?Q[0]:""}(this.remaining);yt&&(ve=yt,this.capture(ve))}const Ae=ln(X),Ke=ln(ve);if(Q.hasOwnProperty(Ae)){let yt=Q[Ae];Array.isArray(yt)||(yt=[yt],Q[Ae]=yt),yt.push(Ke)}else Q[Ae]=Ke}parseParens(Q){const X={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const ve=Un(this.remaining),Ae=this.remaining[ve.length];if("/"!==Ae&&")"!==Ae&&";"!==Ae)throw new Error(`Cannot parse url '${this.url}'`);let Ke;ve.indexOf(":")>-1?(Ke=ve.substr(0,ve.indexOf(":")),this.capture(Ke),this.capture(":")):Q&&(Ke=Lt);const yt=this.parseChildren();X[Ke]=1===Object.keys(yt).length?yt[Lt]:new or([],yt),this.consumeOptional("//")}return X}peekStartsWith(Q){return this.remaining.startsWith(Q)}consumeOptional(Q){return!!this.peekStartsWith(Q)&&(this.remaining=this.remaining.substring(Q.length),!0)}capture(Q){if(!this.consumeOptional(Q))throw new Error(`Expected "${Q}".`)}}class gi{constructor(Q){this._root=Q}get root(){return this._root.value}parent(Q){const X=this.pathFromRoot(Q);return X.length>1?X[X.length-2]:null}children(Q){const X=Dr(Q,this._root);return X?X.children.map(ve=>ve.value):[]}firstChild(Q){const X=Dr(Q,this._root);return X&&X.children.length>0?X.children[0].value:null}siblings(Q){const X=Et(Q,this._root);return X.length<2?[]:X[X.length-2].children.map(Ae=>Ae.value).filter(Ae=>Ae!==Q)}pathFromRoot(Q){return Et(Q,this._root).map(X=>X.value)}}function Dr(ie,Q){if(ie===Q.value)return Q;for(const X of Q.children){const ve=Dr(ie,X);if(ve)return ve}return null}function Et(ie,Q){if(ie===Q.value)return[Q];for(const X of Q.children){const ve=Et(ie,X);if(ve.length)return ve.unshift(Q),ve}return[]}class ue{constructor(Q,X){this.value=Q,this.children=X}toString(){return`TreeNode(${this.value})`}}function ce(ie){const Q={};return ie&&ie.children.forEach(X=>Q[X.value.outlet]=X),Q}class Fe extends gi{constructor(Q,X){super(Q),this.snapshot=X,Se(this,Q)}toString(){return this.snapshot.toString()}}function et(ie,Q){const X=function(ie,Q){const yt=new Ft([],{},{},"",{},Lt,Q,null,ie.root,-1,{});return new Zt("",new ue(yt,[]))}(ie,Q),ve=new ne.X([new Wr("",{})]),Ae=new ne.X({}),Ke=new ne.X({}),yt=new ne.X({}),rt=new ne.X(""),Sn=new Le(ve,Ae,yt,rt,Ke,Lt,Q,X.root);return Sn.snapshot=X.root,new Fe(new ue(Sn,[]),X)}class Le{constructor(Q,X,ve,Ae,Ke,yt,rt,Sn){this.url=Q,this.params=X,this.queryParams=ve,this.fragment=Ae,this.data=Ke,this.outlet=yt,this.component=rt,this._futureSnapshot=Sn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,re.U)(Q=>Pn(Q)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,re.U)(Q=>Pn(Q)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ct(ie,Q="emptyOnly"){const X=ie.pathFromRoot;let ve=0;if("always"!==Q)for(ve=X.length-1;ve>=1;){const Ae=X[ve],Ke=X[ve-1];if(Ae.routeConfig&&""===Ae.routeConfig.path)ve--;else{if(Ke.component)break;ve--}}return function(ie){return ie.reduce((Q,X)=>({params:Object.assign(Object.assign({},Q.params),X.params),data:Object.assign(Object.assign({},Q.data),X.data),resolve:Object.assign(Object.assign({},Q.resolve),X._resolvedData)}),{params:{},data:{},resolve:{}})}(X.slice(ve))}class Ft{constructor(Q,X,ve,Ae,Ke,yt,rt,Sn,hr,Hr,Tn){this.url=Q,this.params=X,this.queryParams=ve,this.fragment=Ae,this.data=Ke,this.outlet=yt,this.component=rt,this.routeConfig=Sn,this._urlSegment=hr,this._lastPathIndex=Hr,this._resolve=Tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(ve=>ve.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zt extends gi{constructor(Q,X){super(X),this.url=Q,Se(this,X)}toString(){return Je(this._root)}}function Se(ie,Q){Q.value._routerState=ie,Q.children.forEach(X=>Se(ie,X))}function Je(ie){const Q=ie.children.length>0?` { ${ie.children.map(Je).join(", ")} } `:"";return`${ie.value}${Q}`}function je(ie){if(ie.snapshot){const Q=ie.snapshot,X=ie._futureSnapshot;ie.snapshot=X,$t(Q.queryParams,X.queryParams)||ie.queryParams.next(X.queryParams),Q.fragment!==X.fragment&&ie.fragment.next(X.fragment),$t(Q.params,X.params)||ie.params.next(X.params),function(ie,Q){if(ie.length!==Q.length)return!1;for(let X=0;X<ie.length;++X)if(!$t(ie[X],Q[X]))return!1;return!0}(Q.url,X.url)||ie.url.next(X.url),$t(Q.data,X.data)||ie.data.next(X.data)}else ie.snapshot=ie._futureSnapshot,ie.data.next(ie._futureSnapshot.data)}function it(ie,Q){const X=$t(ie.params,Q.params)&&function(ie,Q){return Mr(ie,Q)&&ie.every((X,ve)=>$t(X.parameters,Q[ve].parameters))}(ie.url,Q.url);return X&&!(!ie.parent!=!Q.parent)&&(!ie.parent||it(ie.parent,Q.parent))}function xt(ie,Q,X){if(X&&ie.shouldReuseRoute(Q.value,X.value.snapshot)){const ve=X.value;ve._futureSnapshot=Q.value;const Ae=function(ie,Q,X){return Q.children.map(ve=>{for(const Ae of X.children)if(ie.shouldReuseRoute(ve.value,Ae.value.snapshot))return xt(ie,ve,Ae);return xt(ie,ve)})}(ie,Q,X);return new ue(ve,Ae)}{if(ie.shouldAttach(Q.value)){const Ke=ie.retrieve(Q.value);if(null!==Ke){const yt=Ke.route;return yt.value._futureSnapshot=Q.value,yt.children=Q.children.map(rt=>xt(ie,rt)),yt}}const ve=function(ie){return new Le(new ne.X(ie.url),new ne.X(ie.params),new ne.X(ie.queryParams),new ne.X(ie.fragment),new ne.X(ie.data),ie.outlet,ie.component,ie)}(Q.value),Ae=Q.children.map(Ke=>xt(ie,Ke));return new ue(ve,Ae)}}function Cn(ie){return"object"==typeof ie&&null!=ie&&!ie.outlets&&!ie.segmentPath}function Wn(ie){return"object"==typeof ie&&null!=ie&&ie.outlets}function mr(ie,Q,X,ve,Ae){let Ke={};return ve&&en(ve,(yt,rt)=>{Ke[rt]=Array.isArray(yt)?yt.map(Sn=>`${Sn}`):`${yt}`}),new zr(X.root===ie?Q:Lr(X.root,ie,Q),Ke,Ae)}function Lr(ie,Q,X){const ve={};return en(ie.children,(Ae,Ke)=>{ve[Ke]=Ae===Q?X:Lr(Ae,Q,X)}),new or(ie.segments,ve)}class Or{constructor(Q,X,ve){if(this.isAbsolute=Q,this.numberOfDoubleDots=X,this.commands=ve,Q&&ve.length>0&&Cn(ve[0]))throw new Error("Root segment cannot have matrix parameters");const Ae=ve.find(Wn);if(Ae&&Ae!==_n(ve))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fi{constructor(Q,X,ve){this.segmentGroup=Q,this.processChildren=X,this.index=ve}}function fo(ie,Q,X){if(ie||(ie=new or([],{})),0===ie.segments.length&&ie.hasChildren())return to(ie,Q,X);const ve=function(ie,Q,X){let ve=0,Ae=Q;const Ke={match:!1,pathIndex:0,commandIndex:0};for(;Ae<ie.segments.length;){if(ve>=X.length)return Ke;const yt=ie.segments[Ae],rt=X[ve];if(Wn(rt))break;const Sn=`${rt}`,hr=ve<X.length-1?X[ve+1]:null;if(Ae>0&&void 0===Sn)break;if(Sn&&hr&&"object"==typeof hr&&void 0===hr.outlets){if(!xo(Sn,hr,yt))return Ke;ve+=2}else{if(!xo(Sn,{},yt))return Ke;ve++}Ae++}return{match:!0,pathIndex:Ae,commandIndex:ve}}(ie,Q,X),Ae=X.slice(ve.commandIndex);if(ve.match&&ve.pathIndex<ie.segments.length){const Ke=new or(ie.segments.slice(0,ve.pathIndex),{});return Ke.children[Lt]=new or(ie.segments.slice(ve.pathIndex),ie.children),to(Ke,0,Ae)}return ve.match&&0===Ae.length?new or(ie.segments,{}):ve.match&&!ie.hasChildren()?bo(ie,Q,X):ve.match?to(ie,0,Ae):bo(ie,Q,X)}function to(ie,Q,X){if(0===X.length)return new or(ie.segments,{});{const ve=function(ie){return Wn(ie[0])?ie[0].outlets:{[Lt]:ie}}(X),Ae={};return en(ve,(Ke,yt)=>{"string"==typeof Ke&&(Ke=[Ke]),null!==Ke&&(Ae[yt]=fo(ie.children[yt],Q,Ke))}),en(ie.children,(Ke,yt)=>{void 0===ve[yt]&&(Ae[yt]=Ke)}),new or(ie.segments,Ae)}}function bo(ie,Q,X){const ve=ie.segments.slice(0,Q);let Ae=0;for(;Ae<X.length;){const Ke=X[Ae];if(Wn(Ke)){const Sn=Eo(Ke.outlets);return new or(ve,Sn)}if(0===Ae&&Cn(X[0])){ve.push(new Wr(ie.segments[Q].path,ts(X[0]))),Ae++;continue}const yt=Wn(Ke)?Ke.outlets[Lt]:`${Ke}`,rt=Ae<X.length-1?X[Ae+1]:null;yt&&rt&&Cn(rt)?(ve.push(new Wr(yt,ts(rt))),Ae+=2):(ve.push(new Wr(yt,{})),Ae++)}return new or(ve,{})}function Eo(ie){const Q={};return en(ie,(X,ve)=>{"string"==typeof X&&(X=[X]),null!==X&&(Q[ve]=bo(new or([],{}),0,X))}),Q}function ts(ie){const Q={};return en(ie,(X,ve)=>Q[ve]=`${X}`),Q}function xo(ie,Q,X){return ie==X.path&&$t(Q,X.parameters)}class ye{constructor(Q,X,ve,Ae){this.routeReuseStrategy=Q,this.futureState=X,this.currState=ve,this.forwardEvent=Ae}activate(Q){const X=this.futureState._root,ve=this.currState?this.currState._root:null;this.deactivateChildRoutes(X,ve,Q),je(this.futureState.root),this.activateChildRoutes(X,ve,Q)}deactivateChildRoutes(Q,X,ve){const Ae=ce(X);Q.children.forEach(Ke=>{const yt=Ke.value.outlet;this.deactivateRoutes(Ke,Ae[yt],ve),delete Ae[yt]}),en(Ae,(Ke,yt)=>{this.deactivateRouteAndItsChildren(Ke,ve)})}deactivateRoutes(Q,X,ve){const Ae=Q.value,Ke=X?X.value:null;if(Ae===Ke)if(Ae.component){const yt=ve.getContext(Ae.outlet);yt&&this.deactivateChildRoutes(Q,X,yt.children)}else this.deactivateChildRoutes(Q,X,ve);else Ke&&this.deactivateRouteAndItsChildren(X,ve)}deactivateRouteAndItsChildren(Q,X){Q.value.component&&this.routeReuseStrategy.shouldDetach(Q.value.snapshot)?this.detachAndStoreRouteSubtree(Q,X):this.deactivateRouteAndOutlet(Q,X)}detachAndStoreRouteSubtree(Q,X){const ve=X.getContext(Q.value.outlet),Ae=ve&&Q.value.component?ve.children:X,Ke=ce(Q);for(const yt of Object.keys(Ke))this.deactivateRouteAndItsChildren(Ke[yt],Ae);if(ve&&ve.outlet){const yt=ve.outlet.detach(),rt=ve.children.onOutletDeactivated();this.routeReuseStrategy.store(Q.value.snapshot,{componentRef:yt,route:Q,contexts:rt})}}deactivateRouteAndOutlet(Q,X){const ve=X.getContext(Q.value.outlet),Ae=ve&&Q.value.component?ve.children:X,Ke=ce(Q);for(const yt of Object.keys(Ke))this.deactivateRouteAndItsChildren(Ke[yt],Ae);ve&&ve.outlet&&(ve.outlet.deactivate(),ve.children.onOutletDeactivated(),ve.attachRef=null,ve.resolver=null,ve.route=null)}activateChildRoutes(Q,X,ve){const Ae=ce(X);Q.children.forEach(Ke=>{this.activateRoutes(Ke,Ae[Ke.value.outlet],ve),this.forwardEvent(new nt(Ke.value.snapshot))}),Q.children.length&&this.forwardEvent(new He(Q.value.snapshot))}activateRoutes(Q,X,ve){const Ae=Q.value,Ke=X?X.value:null;if(je(Ae),Ae===Ke)if(Ae.component){const yt=ve.getOrCreateContext(Ae.outlet);this.activateChildRoutes(Q,X,yt.children)}else this.activateChildRoutes(Q,X,ve);else if(Ae.component){const yt=ve.getOrCreateContext(Ae.outlet);if(this.routeReuseStrategy.shouldAttach(Ae.snapshot)){const rt=this.routeReuseStrategy.retrieve(Ae.snapshot);this.routeReuseStrategy.store(Ae.snapshot,null),yt.children.onOutletReAttached(rt.contexts),yt.attachRef=rt.componentRef,yt.route=rt.route.value,yt.outlet&&yt.outlet.attach(rt.componentRef,rt.route.value),je(rt.route.value),this.activateChildRoutes(Q,null,yt.children)}else{const rt=function(ie){for(let Q=ie.parent;Q;Q=Q.parent){const X=Q.routeConfig;if(X&&X._loadedConfig)return X._loadedConfig;if(X&&X.component)return null}return null}(Ae.snapshot),Sn=rt?rt.module.componentFactoryResolver:null;yt.attachRef=null,yt.route=Ae,yt.resolver=Sn,yt.outlet&&yt.outlet.activateWith(Ae,Sn),this.activateChildRoutes(Q,null,yt.children)}}else this.activateChildRoutes(Q,null,ve)}}class $e{constructor(Q,X){this.routes=Q,this.module=X}}function Ze(ie){return"function"==typeof ie}function Pt(ie){return ie instanceof zr}const st=Symbol("INITIAL_VALUE");function ut(){return(0,le.w)(ie=>(0,H.aj)(ie.map(Q=>Q.pipe((0,he.q)(1),function(...ie){const Q=ie[ie.length-1];return(0,m.K)(Q)?(ie.pop(),X=>(0,S.z)(ie,X,Q)):X=>(0,S.z)(ie,X)}(st)))).pipe((0,xe.R)((Q,X)=>{let ve=!1;return X.reduce((Ae,Ke,yt)=>Ae!==st?Ae:(Ke===st&&(ve=!0),ve||!1!==Ke&&yt!==X.length-1&&!Pt(Ke)?Ae:Ke),Q)},st),(0,g.h)(Q=>Q!==st),(0,re.U)(Q=>Pt(Q)?Q:!0===Q),(0,he.q)(1)))}class Xt{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xn,this.attachRef=null}}class xn{constructor(){this.contexts=new Map}onChildOutletCreated(Q,X){const ve=this.getOrCreateContext(Q);ve.outlet=X,this.contexts.set(Q,ve)}onChildOutletDestroyed(Q){const X=this.getContext(Q);X&&(X.outlet=null,X.attachRef=null)}onOutletDeactivated(){const Q=this.contexts;return this.contexts=new Map,Q}onOutletReAttached(Q){this.contexts=Q}getOrCreateContext(Q){let X=this.getContext(Q);return X||(X=new Xt,this.contexts.set(Q,X)),X}getContext(Q){return this.contexts.get(Q)||null}}let Nn=(()=>{class ie{constructor(X,ve,Ae,Ke,yt){this.parentContexts=X,this.location=ve,this.resolver=Ae,this.changeDetector=yt,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.name=Ke||Lt,X.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const X=this.parentContexts.getContext(this.name);X&&X.route&&(X.attachRef?this.attach(X.attachRef,X.route):this.activateWith(X.route,X.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const X=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(X.instance),X}attach(X,ve){this.activated=X,this._activatedRoute=ve,this.location.insert(X.hostView),this.attachEvents.emit(X.instance)}deactivate(){if(this.activated){const X=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(X)}}activateWith(X,ve){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=X;const yt=(ve=ve||this.resolver).resolveComponentFactory(X._futureSnapshot.routeConfig.component),rt=this.parentContexts.getOrCreateContext(this.name).children,Sn=new Zn(X,rt,this.location.injector);this.activated=this.location.createComponent(yt,this.location.length,Sn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return ie.\u0275fac=function(X){return new(X||ie)(i.Y36(xn),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},ie.\u0275dir=i.lG2({type:ie,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),ie})();class Zn{constructor(Q,X,ve){this.route=Q,this.childContexts=X,this.parent=ve}get(Q,X){return Q===Le?this.route:Q===xn?this.childContexts:this.parent.get(Q,X)}}let Xn=(()=>{class ie{}return ie.\u0275fac=function(X){return new(X||ie)},ie.\u0275cmp=i.Xpm({type:ie,selectors:[["ng-component"]],decls:1,vars:0,template:function(X,ve){1&X&&i._UZ(0,"router-outlet")},directives:[Nn],encapsulation:2}),ie})();function wr(ie,Q=""){for(let X=0;X<ie.length;X++){const ve=ie[X];Tr(ve,Fr(Q,ve))}}function Tr(ie,Q){ie.children&&wr(ie.children,Q)}function Fr(ie,Q){return Q?ie||Q.path?ie&&!Q.path?`${ie}/`:!ie&&Q.path?Q.path:`${ie}/${Q.path}`:"":ie}function wi(ie){const Q=ie.children&&ie.children.map(wi),X=Q?Object.assign(Object.assign({},ie),{children:Q}):Object.assign({},ie);return!X.component&&(Q||X.loadChildren)&&X.outlet&&X.outlet!==Lt&&(X.component=Xn),X}function ei(ie){return ie.outlet||Lt}function li(ie,Q){const X=ie.filter(ve=>ei(ve)===Q);return X.push(...ie.filter(ve=>ei(ve)!==Q)),X}const Ci={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function hi(ie,Q,X){var ve;if(""===Q.path)return"full"===Q.pathMatch&&(ie.hasChildren()||X.length>0)?Object.assign({},Ci):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Ke=(Q.matcher||ot)(X,ie,Q);if(!Ke)return Object.assign({},Ci);const yt={};en(Ke.posParams,(Sn,hr)=>{yt[hr]=Sn.path});const rt=Ke.consumed.length>0?Object.assign(Object.assign({},yt),Ke.consumed[Ke.consumed.length-1].parameters):yt;return{matched:!0,consumedSegments:Ke.consumed,lastChild:Ke.consumed.length,parameters:rt,positionalParamSegments:null!==(ve=Ke.posParams)&&void 0!==ve?ve:{}}}function kr(ie,Q,X,ve,Ae="corrected"){if(X.length>0&&function(ie,Q,X){return X.some(ve=>I(ie,Q,ve)&&ei(ve)!==Lt)}(ie,X,ve)){const yt=new or(Q,function(ie,Q,X,ve){const Ae={};Ae[Lt]=ve,ve._sourceSegment=ie,ve._segmentIndexShift=Q.length;for(const Ke of X)if(""===Ke.path&&ei(Ke)!==Lt){const yt=new or([],{});yt._sourceSegment=ie,yt._segmentIndexShift=Q.length,Ae[ei(Ke)]=yt}return Ae}(ie,Q,ve,new or(X,ie.children)));return yt._sourceSegment=ie,yt._segmentIndexShift=Q.length,{segmentGroup:yt,slicedSegments:[]}}if(0===X.length&&function(ie,Q,X){return X.some(ve=>I(ie,Q,ve))}(ie,X,ve)){const yt=new or(ie.segments,function(ie,Q,X,ve,Ae,Ke){const yt={};for(const rt of ve)if(I(ie,X,rt)&&!Ae[ei(rt)]){const Sn=new or([],{});Sn._sourceSegment=ie,Sn._segmentIndexShift="legacy"===Ke?ie.segments.length:Q.length,yt[ei(rt)]=Sn}return Object.assign(Object.assign({},Ae),yt)}(ie,Q,X,ve,ie.children,Ae));return yt._sourceSegment=ie,yt._segmentIndexShift=Q.length,{segmentGroup:yt,slicedSegments:X}}const Ke=new or(ie.segments,ie.children);return Ke._sourceSegment=ie,Ke._segmentIndexShift=Q.length,{segmentGroup:Ke,slicedSegments:X}}function I(ie,Q,X){return(!(ie.hasChildren()||Q.length>0)||"full"!==X.pathMatch)&&""===X.path}function j(ie,Q,X,ve){return!!(ei(ie)===ve||ve!==Lt&&I(Q,X,ie))&&("**"===ie.path||hi(Q,ie,X).matched)}function pe(ie,Q,X){return 0===Q.length&&!ie.children[X]}class vt{constructor(Q){this.segmentGroup=Q||null}}class on{constructor(Q){this.urlTree=Q}}function Yn(ie){return new L.y(Q=>Q.error(new vt(ie)))}function Sr(ie){return new L.y(Q=>Q.error(new on(ie)))}function fi(ie){return new L.y(Q=>Q.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${ie}'`)))}class Ei{constructor(Q,X,ve,Ae,Ke){this.configLoader=X,this.urlSerializer=ve,this.urlTree=Ae,this.config=Ke,this.allowRedirects=!0,this.ngModule=Q.get(i.h0i)}apply(){const Q=kr(this.urlTree.root,[],[],this.config).segmentGroup,X=new or(Q.segments,Q.children);return this.expandSegmentGroup(this.ngModule,this.config,X,Lt).pipe((0,re.U)(Ke=>this.createUrlTree(Ni(Ke),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,A.K)(Ke=>{if(Ke instanceof on)return this.allowRedirects=!1,this.match(Ke.urlTree);throw Ke instanceof vt?this.noMatchError(Ke):Ke}))}match(Q){return this.expandSegmentGroup(this.ngModule,this.config,Q.root,Lt).pipe((0,re.U)(Ae=>this.createUrlTree(Ni(Ae),Q.queryParams,Q.fragment))).pipe((0,A.K)(Ae=>{throw Ae instanceof vt?this.noMatchError(Ae):Ae}))}noMatchError(Q){return new Error(`Cannot match any routes. URL Segment: '${Q.segmentGroup}'`)}createUrlTree(Q,X,ve){const Ae=Q.segments.length>0?new or([],{[Lt]:Q}):Q;return new zr(Ae,X,ve)}expandSegmentGroup(Q,X,ve,Ae){return 0===ve.segments.length&&ve.hasChildren()?this.expandChildren(Q,X,ve).pipe((0,re.U)(Ke=>new or([],Ke))):this.expandSegment(Q,ve,X,ve.segments,Ae,!0)}expandChildren(Q,X,ve){const Ae=[];for(const Ke of Object.keys(ve.children))"primary"===Ke?Ae.unshift(Ke):Ae.push(Ke);return(0,D.D)(Ae).pipe((0,W.b)(Ke=>{const yt=ve.children[Ke],rt=li(X,Ke);return this.expandSegmentGroup(Q,rt,yt,Ke).pipe((0,re.U)(Sn=>({segment:Sn,outlet:Ke})))}),(0,xe.R)((Ke,yt)=>(Ke[yt.outlet]=yt.segment,Ke),{}),function(ie,Q){const X=arguments.length>=2;return ve=>ve.pipe(ie?(0,g.h)((Ae,Ke)=>ie(Ae,Ke,ve)):R.y,k(1),X?(0,y.d)(Q):(0,M.T)(()=>new $.K))}())}expandSegment(Q,X,ve,Ae,Ke,yt){return(0,D.D)(ve).pipe((0,W.b)(rt=>this.expandSegmentAgainstRoute(Q,X,ve,rt,Ae,Ke,yt).pipe((0,A.K)(hr=>{if(hr instanceof vt)return(0,G.of)(null);throw hr}))),(0,te.P)(rt=>!!rt),(0,A.K)((rt,Sn)=>{if(rt instanceof $.K||"EmptyError"===rt.name){if(pe(X,Ae,Ke))return(0,G.of)(new or([],{}));throw new vt(X)}throw rt}))}expandSegmentAgainstRoute(Q,X,ve,Ae,Ke,yt,rt){return j(Ae,X,Ke,yt)?void 0===Ae.redirectTo?this.matchSegmentAgainstRoute(Q,X,Ae,Ke,yt):rt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Q,X,ve,Ae,Ke,yt):Yn(X):Yn(X)}expandSegmentAgainstRouteUsingRedirect(Q,X,ve,Ae,Ke,yt){return"**"===Ae.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Q,ve,Ae,yt):this.expandRegularSegmentAgainstRouteUsingRedirect(Q,X,ve,Ae,Ke,yt)}expandWildCardWithParamsAgainstRouteUsingRedirect(Q,X,ve,Ae){const Ke=this.applyRedirectCommands([],ve.redirectTo,{});return ve.redirectTo.startsWith("/")?Sr(Ke):this.lineralizeSegments(ve,Ke).pipe((0,oe.zg)(yt=>{const rt=new or(yt,{});return this.expandSegment(Q,rt,X,yt,Ae,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Q,X,ve,Ae,Ke,yt){const{matched:rt,consumedSegments:Sn,lastChild:hr,positionalParamSegments:Hr}=hi(X,Ae,Ke);if(!rt)return Yn(X);const Tn=this.applyRedirectCommands(Sn,Ae.redirectTo,Hr);return Ae.redirectTo.startsWith("/")?Sr(Tn):this.lineralizeSegments(Ae,Tn).pipe((0,oe.zg)(Yr=>this.expandSegment(Q,X,ve,Yr.concat(Ke.slice(hr)),yt,!1)))}matchSegmentAgainstRoute(Q,X,ve,Ae,Ke){if("**"===ve.path)return ve.loadChildren?(ve._loadedConfig?(0,G.of)(ve._loadedConfig):this.configLoader.load(Q.injector,ve)).pipe((0,re.U)(Yr=>(ve._loadedConfig=Yr,new or(Ae,{})))):(0,G.of)(new or(Ae,{}));const{matched:yt,consumedSegments:rt,lastChild:Sn}=hi(X,ve,Ae);if(!yt)return Yn(X);const hr=Ae.slice(Sn);return this.getChildConfig(Q,ve,Ae).pipe((0,oe.zg)(Tn=>{const Yr=Tn.module,ci=Tn.routes,{segmentGroup:yi,slicedSegments:Co}=kr(X,rt,hr,ci),bi=new or(yi.segments,yi.children);if(0===Co.length&&bi.hasChildren())return this.expandChildren(Yr,ci,bi).pipe((0,re.U)(go=>new or(rt,go)));if(0===ci.length&&0===Co.length)return(0,G.of)(new or(rt,{}));const Qi=ei(ve)===Ke;return this.expandSegment(Yr,bi,ci,Co,Qi?Lt:Ke,!0).pipe((0,re.U)(ls=>new or(rt.concat(ls.segments),ls.children)))}))}getChildConfig(Q,X,ve){return X.children?(0,G.of)(new $e(X.children,Q)):X.loadChildren?void 0!==X._loadedConfig?(0,G.of)(X._loadedConfig):this.runCanLoadGuards(Q.injector,X,ve).pipe((0,oe.zg)(Ae=>{return Ae?this.configLoader.load(Q.injector,X).pipe((0,re.U)(Ke=>(X._loadedConfig=Ke,Ke))):(ie=X,new L.y(Q=>Q.error(dt(`Cannot load children because the guard of the route "path: '${ie.path}'" returned false`))));var ie})):(0,G.of)(new $e([],Q))}runCanLoadGuards(Q,X,ve){const Ae=X.canLoad;if(!Ae||0===Ae.length)return(0,G.of)(!0);const Ke=Ae.map(yt=>{const rt=Q.get(yt);let Sn;if((ie=rt)&&Ze(ie.canLoad))Sn=rt.canLoad(X,ve);else{if(!Ze(rt))throw new Error("Invalid CanLoad guard");Sn=rt(X,ve)}var ie;return Hn(Sn)});return(0,G.of)(Ke).pipe(ut(),(0,Te.b)(yt=>{if(!Pt(yt))return;const rt=dt(`Redirecting to "${this.urlSerializer.serialize(yt)}"`);throw rt.url=yt,rt}),(0,re.U)(yt=>!0===yt))}lineralizeSegments(Q,X){let ve=[],Ae=X.root;for(;;){if(ve=ve.concat(Ae.segments),0===Ae.numberOfChildren)return(0,G.of)(ve);if(Ae.numberOfChildren>1||!Ae.children[Lt])return fi(Q.redirectTo);Ae=Ae.children[Lt]}}applyRedirectCommands(Q,X,ve){return this.applyRedirectCreatreUrlTree(X,this.urlSerializer.parse(X),Q,ve)}applyRedirectCreatreUrlTree(Q,X,ve,Ae){const Ke=this.createSegmentGroup(Q,X.root,ve,Ae);return new zr(Ke,this.createQueryParams(X.queryParams,this.urlTree.queryParams),X.fragment)}createQueryParams(Q,X){const ve={};return en(Q,(Ae,Ke)=>{if("string"==typeof Ae&&Ae.startsWith(":")){const rt=Ae.substring(1);ve[Ke]=X[rt]}else ve[Ke]=Ae}),ve}createSegmentGroup(Q,X,ve,Ae){const Ke=this.createSegments(Q,X.segments,ve,Ae);let yt={};return en(X.children,(rt,Sn)=>{yt[Sn]=this.createSegmentGroup(Q,rt,ve,Ae)}),new or(Ke,yt)}createSegments(Q,X,ve,Ae){return X.map(Ke=>Ke.path.startsWith(":")?this.findPosParam(Q,Ke,Ae):this.findOrReturn(Ke,ve))}findPosParam(Q,X,ve){const Ae=ve[X.path.substring(1)];if(!Ae)throw new Error(`Cannot redirect to '${Q}'. Cannot find '${X.path}'.`);return Ae}findOrReturn(Q,X){let ve=0;for(const Ae of X){if(Ae.path===Q.path)return X.splice(ve),Ae;ve++}return Q}}function Ni(ie){const Q={};for(const ve of Object.keys(ie.children)){const Ke=Ni(ie.children[ve]);(Ke.segments.length>0||Ke.hasChildren())&&(Q[ve]=Ke)}return function(ie){if(1===ie.numberOfChildren&&ie.children[Lt]){const Q=ie.children[Lt];return new or(ie.segments.concat(Q.segments),Q.children)}return ie}(new or(ie.segments,Q))}class De{constructor(Q){this.path=Q,this.route=this.path[this.path.length-1]}}class U{constructor(Q,X){this.component=Q,this.route=X}}function be(ie,Q,X){const ve=ie._root;return _r(ve,Q?Q._root:null,X,[ve.value])}function mn(ie,Q,X){const ve=function(ie){if(!ie)return null;for(let Q=ie.parent;Q;Q=Q.parent){const X=Q.routeConfig;if(X&&X._loadedConfig)return X._loadedConfig}return null}(Q);return(ve?ve.module.injector:X).get(ie)}function _r(ie,Q,X,ve,Ae={canDeactivateChecks:[],canActivateChecks:[]}){const Ke=ce(Q);return ie.children.forEach(yt=>{(function(ie,Q,X,ve,Ae={canDeactivateChecks:[],canActivateChecks:[]}){const Ke=ie.value,yt=Q?Q.value:null,rt=X?X.getContext(ie.value.outlet):null;if(yt&&Ke.routeConfig===yt.routeConfig){const Sn=function(ie,Q,X){if("function"==typeof X)return X(ie,Q);switch(X){case"pathParamsChange":return!Mr(ie.url,Q.url);case"pathParamsOrQueryParamsChange":return!Mr(ie.url,Q.url)||!$t(ie.queryParams,Q.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!it(ie,Q)||!$t(ie.queryParams,Q.queryParams);default:return!it(ie,Q)}}(yt,Ke,Ke.routeConfig.runGuardsAndResolvers);Sn?Ae.canActivateChecks.push(new De(ve)):(Ke.data=yt.data,Ke._resolvedData=yt._resolvedData),_r(ie,Q,Ke.component?rt?rt.children:null:X,ve,Ae),Sn&&rt&&rt.outlet&&rt.outlet.isActivated&&Ae.canDeactivateChecks.push(new U(rt.outlet.component,yt))}else yt&&Ri(Q,rt,Ae),Ae.canActivateChecks.push(new De(ve)),_r(ie,null,Ke.component?rt?rt.children:null:X,ve,Ae)})(yt,Ke[yt.value.outlet],X,ve.concat([yt.value]),Ae),delete Ke[yt.value.outlet]}),en(Ke,(yt,rt)=>Ri(yt,X.getContext(rt),Ae)),Ae}function Ri(ie,Q,X){const ve=ce(ie),Ae=ie.value;en(ve,(Ke,yt)=>{Ri(Ke,Ae.component?Q?Q.children.getContext(yt):null:Q,X)}),X.canDeactivateChecks.push(new U(Ae.component&&Q&&Q.outlet&&Q.outlet.isActivated?Q.outlet.component:null,Ae))}class Ur{}function Zr(ie){return new L.y(Q=>Q.error(ie))}class Fo{constructor(Q,X,ve,Ae,Ke,yt){this.rootComponentType=Q,this.config=X,this.urlTree=ve,this.url=Ae,this.paramsInheritanceStrategy=Ke,this.relativeLinkResolution=yt}recognize(){const Q=kr(this.urlTree.root,[],[],this.config.filter(yt=>void 0===yt.redirectTo),this.relativeLinkResolution).segmentGroup,X=this.processSegmentGroup(this.config,Q,Lt);if(null===X)return null;const ve=new Ft([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),Ae=new ue(ve,X),Ke=new Zt(this.url,Ae);return this.inheritParamsAndData(Ke._root),Ke}inheritParamsAndData(Q){const X=Q.value,ve=Ct(X,this.paramsInheritanceStrategy);X.params=Object.freeze(ve.params),X.data=Object.freeze(ve.data),Q.children.forEach(Ae=>this.inheritParamsAndData(Ae))}processSegmentGroup(Q,X,ve){return 0===X.segments.length&&X.hasChildren()?this.processChildren(Q,X):this.processSegment(Q,X,X.segments,ve)}processChildren(Q,X){const ve=[];for(const Ke of Object.keys(X.children)){const yt=X.children[Ke],rt=li(Q,Ke),Sn=this.processSegmentGroup(rt,yt,Ke);if(null===Sn)return null;ve.push(...Sn)}const Ae=La(ve);return Ae.sort((Q,X)=>Q.value.outlet===Lt?-1:X.value.outlet===Lt?1:Q.value.outlet.localeCompare(X.value.outlet)),Ae}processSegment(Q,X,ve,Ae){for(const Ke of Q){const yt=this.processSegmentAgainstRoute(Ke,X,ve,Ae);if(null!==yt)return yt}return pe(X,ve,Ae)?[]:null}processSegmentAgainstRoute(Q,X,ve,Ae){if(Q.redirectTo||!j(Q,X,ve,Ae))return null;let Ke,yt=[],rt=[];if("**"===Q.path){const ci=ve.length>0?_n(ve).parameters:{};Ke=new Ft(ve,ci,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fa(Q),ei(Q),Q.component,Q,wo(X),Ui(X)+ve.length,is(Q))}else{const ci=hi(X,Q,ve);if(!ci.matched)return null;yt=ci.consumedSegments,rt=ve.slice(ci.lastChild),Ke=new Ft(yt,ci.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fa(Q),ei(Q),Q.component,Q,wo(X),Ui(X)+yt.length,is(Q))}const Sn=(ie=Q).children?ie.children:ie.loadChildren?ie._loadedConfig.routes:[],{segmentGroup:hr,slicedSegments:Hr}=kr(X,yt,rt,Sn.filter(ci=>void 0===ci.redirectTo),this.relativeLinkResolution);var ie;if(0===Hr.length&&hr.hasChildren()){const ci=this.processChildren(Sn,hr);return null===ci?null:[new ue(Ke,ci)]}if(0===Sn.length&&0===Hr.length)return[new ue(Ke,[])];const Tn=ei(Q)===Ae,Yr=this.processSegment(Sn,hr,Hr,Tn?Lt:Ae);return null===Yr?null:[new ue(Ke,Yr)]}}function rs(ie){const Q=ie.value.routeConfig;return Q&&""===Q.path&&void 0===Q.redirectTo}function La(ie){const Q=[],X=new Set;for(const ve of ie){if(!rs(ve)){Q.push(ve);continue}const Ae=Q.find(Ke=>ve.value.routeConfig===Ke.value.routeConfig);void 0!==Ae?(Ae.children.push(...ve.children),X.add(Ae)):Q.push(ve)}for(const ve of X){const Ae=La(ve.children);Q.push(new ue(ve.value,Ae))}return Q.filter(ve=>!X.has(ve))}function wo(ie){let Q=ie;for(;Q._sourceSegment;)Q=Q._sourceSegment;return Q}function Ui(ie){let Q=ie,X=Q._segmentIndexShift?Q._segmentIndexShift:0;for(;Q._sourceSegment;)Q=Q._sourceSegment,X+=Q._segmentIndexShift?Q._segmentIndexShift:0;return X-1}function Fa(ie){return ie.data||{}}function is(ie){return ie.resolve||{}}function va(ie){return(0,le.w)(Q=>{const X=ie(Q);return X?(0,D.D)(X).pipe((0,re.U)(()=>Q)):(0,G.of)(Q)})}class Uo{}class Fl extends class{shouldDetach(Q){return!1}store(Q,X){}shouldAttach(Q){return!1}retrieve(Q){return null}shouldReuseRoute(Q,X){return Q.routeConfig===X.routeConfig}}{}const Ts=new i.OlP("ROUTES");class uo{constructor(Q,X,ve,Ae){this.injector=Q,this.compiler=X,this.onLoadStartListener=ve,this.onLoadEndListener=Ae}load(Q,X){if(X._loader$)return X._loader$;this.onLoadStartListener&&this.onLoadStartListener(X);const Ae=this.loadModuleFactory(X.loadChildren).pipe((0,re.U)(Ke=>{this.onLoadEndListener&&this.onLoadEndListener(X);const yt=Ke.create(Q);return new $e(Wt(yt.injector.get(Ts,void 0,i.XFs.Self|i.XFs.Optional)).map(wi),yt)}),(0,A.K)(Ke=>{throw X._loader$=void 0,Ke}));return X._loader$=new w.c(Ae,()=>new C.xQ).pipe((0,Ie.x)()),X._loader$}loadModuleFactory(Q){return Hn(Q()).pipe((0,oe.zg)(X=>X instanceof i.YKP?(0,G.of)(X):(0,D.D)(this.compiler.compileModuleAsync(X))))}}class no{shouldProcessUrl(Q){return!0}extract(Q){return Q}merge(Q,X){return Q}}function Wi(ie){throw ie}function Vi(ie,Q,X){return Q.parse("/")}function ss(ie,Q){return(0,G.of)(null)}const Qs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},al={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Go=(()=>{class ie{constructor(X,ve,Ae,Ke,yt,rt,Sn){this.rootComponentType=X,this.urlSerializer=ve,this.rootContexts=Ae,this.location=Ke,this.config=Sn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C.xQ,this.errorHandler=Wi,this.malformedUriErrorHandler=Vi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ss,afterPreactivation:ss},this.urlHandlingStrategy=new no,this.routeReuseStrategy=new Fl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=yt.get(i.h0i),this.console=yt.get(i.c2e);const Tn=yt.get(i.R0b);this.isNgZoneEnabled=Tn instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(Sn),this.currentUrlTree=new zr(new or([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new uo(yt,rt,Yr=>this.triggerEvent(new Ht(Yr)),Yr=>this.triggerEvent(new wn(Yr))),this.routerState=et(this.currentUrlTree,this.rootComponentType),this.transitions=new ne.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var X;return null===(X=this.location.getState())||void 0===X?void 0:X.\u0275routerPageId}setupNavigations(X){const ve=this.events;return X.pipe((0,g.h)(Ae=>0!==Ae.id),(0,re.U)(Ae=>Object.assign(Object.assign({},Ae),{extractedUrl:this.urlHandlingStrategy.extract(Ae.rawUrl)})),(0,le.w)(Ae=>{let Ke=!1,yt=!1;return(0,G.of)(Ae).pipe((0,Te.b)(rt=>{this.currentNavigation={id:rt.id,initialUrl:rt.currentRawUrl,extractedUrl:rt.extractedUrl,trigger:rt.source,extras:rt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,le.w)(rt=>{const Sn=this.browserUrlTree.toString(),hr=!this.navigated||rt.extractedUrl.toString()!==Sn||Sn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||hr)&&this.urlHandlingStrategy.shouldProcessUrl(rt.rawUrl))return Ba(rt.source)&&(this.browserUrlTree=rt.extractedUrl),(0,G.of)(rt).pipe((0,le.w)(Tn=>{const Yr=this.transitions.getValue();return ve.next(new Ge(Tn.id,this.serializeUrl(Tn.extractedUrl),Tn.source,Tn.restoredState)),Yr!==this.transitions.getValue()?x.E:Promise.resolve(Tn)}),function(ie,Q,X,ve){return(0,le.w)(Ae=>function(ie,Q,X,ve,Ae){return new Ei(ie,Q,X,ve,Ae).apply()}(ie,Q,X,Ae.extractedUrl,ve).pipe((0,re.U)(Ke=>Object.assign(Object.assign({},Ae),{urlAfterRedirects:Ke}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Te.b)(Tn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Tn.urlAfterRedirects})}),function(ie,Q,X,ve,Ae){return(0,oe.zg)(Ke=>function(ie,Q,X,ve,Ae="emptyOnly",Ke="legacy"){try{const yt=new Fo(ie,Q,X,ve,Ae,Ke).recognize();return null===yt?Zr(new Ur):(0,G.of)(yt)}catch(yt){return Zr(yt)}}(ie,Q,Ke.urlAfterRedirects,X(Ke.urlAfterRedirects),ve,Ae).pipe((0,re.U)(yt=>Object.assign(Object.assign({},Ke),{targetSnapshot:yt}))))}(this.rootComponentType,this.config,Tn=>this.serializeUrl(Tn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Te.b)(Tn=>{if("eager"===this.urlUpdateStrategy){if(!Tn.extras.skipLocationChange){const ci=this.urlHandlingStrategy.merge(Tn.urlAfterRedirects,Tn.rawUrl);this.setBrowserUrl(ci,Tn)}this.browserUrlTree=Tn.urlAfterRedirects}const Yr=new ke(Tn.id,this.serializeUrl(Tn.extractedUrl),this.serializeUrl(Tn.urlAfterRedirects),Tn.targetSnapshot);ve.next(Yr)}));if(hr&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Yr,extractedUrl:ci,source:yi,restoredState:Co,extras:bi}=rt,Qi=new Ge(Yr,this.serializeUrl(ci),yi,Co);ve.next(Qi);const ys=et(ci,this.rootComponentType).snapshot;return(0,G.of)(Object.assign(Object.assign({},rt),{targetSnapshot:ys,urlAfterRedirects:ci,extras:Object.assign(Object.assign({},bi),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=rt.rawUrl,rt.resolve(null),x.E}),va(rt=>{const{targetSnapshot:Sn,id:hr,extractedUrl:Hr,rawUrl:Tn,extras:{skipLocationChange:Yr,replaceUrl:ci}}=rt;return this.hooks.beforePreactivation(Sn,{navigationId:hr,appliedUrlTree:Hr,rawUrlTree:Tn,skipLocationChange:!!Yr,replaceUrl:!!ci})}),(0,Te.b)(rt=>{const Sn=new qe(rt.id,this.serializeUrl(rt.extractedUrl),this.serializeUrl(rt.urlAfterRedirects),rt.targetSnapshot);this.triggerEvent(Sn)}),(0,re.U)(rt=>Object.assign(Object.assign({},rt),{guards:be(rt.targetSnapshot,rt.currentSnapshot,this.rootContexts)})),function(ie,Q){return(0,oe.zg)(X=>{const{targetSnapshot:ve,currentSnapshot:Ae,guards:{canActivateChecks:Ke,canDeactivateChecks:yt}}=X;return 0===yt.length&&0===Ke.length?(0,G.of)(Object.assign(Object.assign({},X),{guardsResult:!0})):function(ie,Q,X,ve){return(0,D.D)(ie).pipe((0,oe.zg)(Ae=>function(ie,Q,X,ve,Ae){const Ke=Q&&Q.routeConfig?Q.routeConfig.canDeactivate:null;if(!Ke||0===Ke.length)return(0,G.of)(!0);const yt=Ke.map(rt=>{const Sn=mn(rt,Q,Ae);let hr;if(function(ie){return ie&&Ze(ie.canDeactivate)}(Sn))hr=Hn(Sn.canDeactivate(ie,Q,X,ve));else{if(!Ze(Sn))throw new Error("Invalid CanDeactivate guard");hr=Hn(Sn(ie,Q,X,ve))}return hr.pipe((0,te.P)())});return(0,G.of)(yt).pipe(ut())}(Ae.component,Ae.route,X,Q,ve)),(0,te.P)(Ae=>!0!==Ae,!0))}(yt,ve,Ae,ie).pipe((0,oe.zg)(rt=>rt&&function(ie){return"boolean"==typeof ie}(rt)?function(ie,Q,X,ve){return(0,D.D)(Q).pipe((0,W.b)(Ae=>(0,S.z)(function(ie,Q){return null!==ie&&Q&&Q(new fn(ie)),(0,G.of)(!0)}(Ae.route.parent,ve),function(ie,Q){return null!==ie&&Q&&Q(new bt(ie)),(0,G.of)(!0)}(Ae.route,ve),function(ie,Q,X){const ve=Q[Q.length-1],Ke=Q.slice(0,Q.length-1).reverse().map(yt=>function(ie){const Q=ie.routeConfig?ie.routeConfig.canActivateChild:null;return Q&&0!==Q.length?{node:ie,guards:Q}:null}(yt)).filter(yt=>null!==yt).map(yt=>(0,P.P)(()=>{const rt=yt.guards.map(Sn=>{const hr=mn(Sn,yt.node,X);let Hr;if(function(ie){return ie&&Ze(ie.canActivateChild)}(hr))Hr=Hn(hr.canActivateChild(ve,ie));else{if(!Ze(hr))throw new Error("Invalid CanActivateChild guard");Hr=Hn(hr(ve,ie))}return Hr.pipe((0,te.P)())});return(0,G.of)(rt).pipe(ut())}));return(0,G.of)(Ke).pipe(ut())}(ie,Ae.path,X),function(ie,Q,X){const ve=Q.routeConfig?Q.routeConfig.canActivate:null;if(!ve||0===ve.length)return(0,G.of)(!0);const Ae=ve.map(Ke=>(0,P.P)(()=>{const yt=mn(Ke,Q,X);let rt;if(function(ie){return ie&&Ze(ie.canActivate)}(yt))rt=Hn(yt.canActivate(Q,ie));else{if(!Ze(yt))throw new Error("Invalid CanActivate guard");rt=Hn(yt(Q,ie))}return rt.pipe((0,te.P)())}));return(0,G.of)(Ae).pipe(ut())}(ie,Ae.route,X))),(0,te.P)(Ae=>!0!==Ae,!0))}(ve,Ke,ie,Q):(0,G.of)(rt)),(0,re.U)(rt=>Object.assign(Object.assign({},X),{guardsResult:rt})))})}(this.ngModule.injector,rt=>this.triggerEvent(rt)),(0,Te.b)(rt=>{if(Pt(rt.guardsResult)){const hr=dt(`Redirecting to "${this.serializeUrl(rt.guardsResult)}"`);throw hr.url=rt.guardsResult,hr}const Sn=new at(rt.id,this.serializeUrl(rt.extractedUrl),this.serializeUrl(rt.urlAfterRedirects),rt.targetSnapshot,!!rt.guardsResult);this.triggerEvent(Sn)}),(0,g.h)(rt=>!!rt.guardsResult||(this.restoreHistory(rt),this.cancelNavigationTransition(rt,""),!1)),va(rt=>{if(rt.guards.canActivateChecks.length)return(0,G.of)(rt).pipe((0,Te.b)(Sn=>{const hr=new Gt(Sn.id,this.serializeUrl(Sn.extractedUrl),this.serializeUrl(Sn.urlAfterRedirects),Sn.targetSnapshot);this.triggerEvent(hr)}),(0,le.w)(Sn=>{let hr=!1;return(0,G.of)(Sn).pipe(function(ie,Q){return(0,oe.zg)(X=>{const{targetSnapshot:ve,guards:{canActivateChecks:Ae}}=X;if(!Ae.length)return(0,G.of)(X);let Ke=0;return(0,D.D)(Ae).pipe((0,W.b)(yt=>function(ie,Q,X,ve){return function(ie,Q,X,ve){const Ae=Object.keys(ie);if(0===Ae.length)return(0,G.of)({});const Ke={};return(0,D.D)(Ae).pipe((0,oe.zg)(yt=>function(ie,Q,X,ve){const Ae=mn(ie,Q,ve);return Hn(Ae.resolve?Ae.resolve(Q,X):Ae(Q,X))}(ie[yt],Q,X,ve).pipe((0,Te.b)(rt=>{Ke[yt]=rt}))),k(1),(0,oe.zg)(()=>Object.keys(Ke).length===Ae.length?(0,G.of)(Ke):x.E))}(ie._resolve,ie,Q,ve).pipe((0,re.U)(Ke=>(ie._resolvedData=Ke,ie.data=Object.assign(Object.assign({},ie.data),Ct(ie,X).resolve),null)))}(yt.route,ve,ie,Q)),(0,Te.b)(()=>Ke++),k(1),(0,oe.zg)(yt=>Ke===Ae.length?(0,G.of)(X):x.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Te.b)({next:()=>hr=!0,complete:()=>{hr||(this.restoreHistory(Sn),this.cancelNavigationTransition(Sn,"At least one route resolver didn't emit any value."))}}))}),(0,Te.b)(Sn=>{const hr=new Tt(Sn.id,this.serializeUrl(Sn.extractedUrl),this.serializeUrl(Sn.urlAfterRedirects),Sn.targetSnapshot);this.triggerEvent(hr)}))}),va(rt=>{const{targetSnapshot:Sn,id:hr,extractedUrl:Hr,rawUrl:Tn,extras:{skipLocationChange:Yr,replaceUrl:ci}}=rt;return this.hooks.afterPreactivation(Sn,{navigationId:hr,appliedUrlTree:Hr,rawUrlTree:Tn,skipLocationChange:!!Yr,replaceUrl:!!ci})}),(0,re.U)(rt=>{const Sn=function(ie,Q,X){const ve=xt(ie,Q._root,X?X._root:void 0);return new Fe(ve,Q)}(this.routeReuseStrategy,rt.targetSnapshot,rt.currentRouterState);return Object.assign(Object.assign({},rt),{targetRouterState:Sn})}),(0,Te.b)(rt=>{this.currentUrlTree=rt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(rt.urlAfterRedirects,rt.rawUrl),this.routerState=rt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(rt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,rt),this.browserUrlTree=rt.urlAfterRedirects)}),((ie,Q,X)=>(0,re.U)(ve=>(new ye(Q,ve.targetRouterState,ve.currentRouterState,X).activate(ie),ve)))(this.rootContexts,this.routeReuseStrategy,rt=>this.triggerEvent(rt)),(0,Te.b)({next(){Ke=!0},complete(){Ke=!0}}),(0,ae.x)(()=>{var rt;Ke||yt||this.cancelNavigationTransition(Ae,`Navigation ID ${Ae.id} is not equal to the current navigation id ${this.navigationId}`),(null===(rt=this.currentNavigation)||void 0===rt?void 0:rt.id)===Ae.id&&(this.currentNavigation=null)}),(0,A.K)(rt=>{if(yt=!0,function(ie){return ie&&ie[kt]}(rt)){const Sn=Pt(rt.url);Sn||(this.navigated=!0,this.restoreHistory(Ae,!0));const hr=new Be(Ae.id,this.serializeUrl(Ae.extractedUrl),rt.message);ve.next(hr),Sn?setTimeout(()=>{const Hr=this.urlHandlingStrategy.merge(rt.url,this.rawUrlTree),Tn={skipLocationChange:Ae.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ba(Ae.source)};this.scheduleNavigation(Hr,"imperative",null,Tn,{resolve:Ae.resolve,reject:Ae.reject,promise:Ae.promise})},0):Ae.resolve(!1)}else{this.restoreHistory(Ae,!0);const Sn=new Ce(Ae.id,this.serializeUrl(Ae.extractedUrl),rt);ve.next(Sn);try{Ae.resolve(this.errorHandler(rt))}catch(hr){Ae.reject(hr)}}return x.E}))}))}resetRootComponentType(X){this.rootComponentType=X,this.routerState.root.component=this.rootComponentType}setTransition(X){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),X))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(X=>{const ve="popstate"===X.type?"popstate":"hashchange";"popstate"===ve&&setTimeout(()=>{var Ae;const Ke={replaceUrl:!0},yt=(null===(Ae=X.state)||void 0===Ae?void 0:Ae.navigationId)?X.state:null;if(yt){const Sn=Object.assign({},yt);delete Sn.navigationId,delete Sn.\u0275routerPageId,0!==Object.keys(Sn).length&&(Ke.state=Sn)}const rt=this.parseUrl(X.url);this.scheduleNavigation(rt,ve,yt,Ke)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(X){this.events.next(X)}resetConfig(X){wr(X),this.config=X.map(wi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(X,ve={}){const{relativeTo:Ae,queryParams:Ke,fragment:yt,queryParamsHandling:rt,preserveFragment:Sn}=ve,hr=Ae||this.routerState.root,Hr=Sn?this.currentUrlTree.fragment:yt;let Tn=null;switch(rt){case"merge":Tn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Ke);break;case"preserve":Tn=this.currentUrlTree.queryParams;break;default:Tn=Ke||null}return null!==Tn&&(Tn=this.removeEmptyProps(Tn)),function(ie,Q,X,ve,Ae){if(0===X.length)return mr(Q.root,Q.root,Q,ve,Ae);const Ke=function(ie){if("string"==typeof ie[0]&&1===ie.length&&"/"===ie[0])return new Or(!0,0,ie);let Q=0,X=!1;const ve=ie.reduce((Ae,Ke,yt)=>{if("object"==typeof Ke&&null!=Ke){if(Ke.outlets){const rt={};return en(Ke.outlets,(Sn,hr)=>{rt[hr]="string"==typeof Sn?Sn.split("/"):Sn}),[...Ae,{outlets:rt}]}if(Ke.segmentPath)return[...Ae,Ke.segmentPath]}return"string"!=typeof Ke?[...Ae,Ke]:0===yt?(Ke.split("/").forEach((rt,Sn)=>{0==Sn&&"."===rt||(0==Sn&&""===rt?X=!0:".."===rt?Q++:""!=rt&&Ae.push(rt))}),Ae):[...Ae,Ke]},[]);return new Or(X,Q,ve)}(X);if(Ke.toRoot())return mr(Q.root,new or([],{}),Q,ve,Ae);const yt=function(ie,Q,X){if(ie.isAbsolute)return new Fi(Q.root,!0,0);if(-1===X.snapshot._lastPathIndex){const Ke=X.snapshot._urlSegment;return new Fi(Ke,Ke===Q.root,0)}const ve=Cn(ie.commands[0])?0:1;return function(ie,Q,X){let ve=ie,Ae=Q,Ke=X;for(;Ke>Ae;){if(Ke-=Ae,ve=ve.parent,!ve)throw new Error("Invalid number of '../'");Ae=ve.segments.length}return new Fi(ve,!1,Ae-Ke)}(X.snapshot._urlSegment,X.snapshot._lastPathIndex+ve,ie.numberOfDoubleDots)}(Ke,Q,ie),rt=yt.processChildren?to(yt.segmentGroup,yt.index,Ke.commands):fo(yt.segmentGroup,yt.index,Ke.commands);return mr(yt.segmentGroup,rt,Q,ve,Ae)}(hr,this.currentUrlTree,X,Tn,null!=Hr?Hr:null)}navigateByUrl(X,ve={skipLocationChange:!1}){const Ae=Pt(X)?X:this.parseUrl(X),Ke=this.urlHandlingStrategy.merge(Ae,this.rawUrlTree);return this.scheduleNavigation(Ke,"imperative",null,ve)}navigate(X,ve={skipLocationChange:!1}){return function(ie){for(let Q=0;Q<ie.length;Q++){const X=ie[Q];if(null==X)throw new Error(`The requested path contains ${X} segment at index ${Q}`)}}(X),this.navigateByUrl(this.createUrlTree(X,ve),ve)}serializeUrl(X){return this.urlSerializer.serialize(X)}parseUrl(X){let ve;try{ve=this.urlSerializer.parse(X)}catch(Ae){ve=this.malformedUriErrorHandler(Ae,this.urlSerializer,X)}return ve}isActive(X,ve){let Ae;if(Ae=!0===ve?Object.assign({},Qs):!1===ve?Object.assign({},al):ve,Pt(X))return er(this.currentUrlTree,X,Ae);const Ke=this.parseUrl(X);return er(this.currentUrlTree,Ke,Ae)}removeEmptyProps(X){return Object.keys(X).reduce((ve,Ae)=>{const Ke=X[Ae];return null!=Ke&&(ve[Ae]=Ke),ve},{})}processNavigations(){this.navigations.subscribe(X=>{this.navigated=!0,this.lastSuccessfulId=X.id,this.currentPageId=X.targetPageId,this.events.next(new Ue(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,X.resolve(!0)},X=>{this.console.warn(`Unhandled Navigation Error: ${X}`)})}scheduleNavigation(X,ve,Ae,Ke,yt){var rt,Sn,hr;if(this.disposed)return Promise.resolve(!1);const Hr=this.transitions.value,Tn=Ba(ve)&&Hr&&!Ba(Hr.source),Yr=Hr.rawUrl.toString()===X.toString(),ci=Hr.id===(null===(rt=this.currentNavigation)||void 0===rt?void 0:rt.id);if(Tn&&Yr&&ci)return Promise.resolve(!0);let Co,bi,Qi;yt?(Co=yt.resolve,bi=yt.reject,Qi=yt.promise):Qi=new Promise((go,dl)=>{Co=go,bi=dl});const ys=++this.navigationId;let ls;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Ae=this.location.getState()),ls=Ae&&Ae.\u0275routerPageId?Ae.\u0275routerPageId:Ke.replaceUrl||Ke.skipLocationChange?null!==(Sn=this.browserPageId)&&void 0!==Sn?Sn:0:(null!==(hr=this.browserPageId)&&void 0!==hr?hr:0)+1):ls=0,this.setTransition({id:ys,targetPageId:ls,source:ve,restoredState:Ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:X,extras:Ke,resolve:Co,reject:bi,promise:Qi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qi.catch(go=>Promise.reject(go))}setBrowserUrl(X,ve){const Ae=this.urlSerializer.serialize(X),Ke=Object.assign(Object.assign({},ve.extras.state),this.generateNgRouterState(ve.id,ve.targetPageId));this.location.isCurrentPathEqualTo(Ae)||ve.extras.replaceUrl?this.location.replaceState(Ae,"",Ke):this.location.go(Ae,"",Ke)}restoreHistory(X,ve=!1){var Ae,Ke;if("computed"===this.canceledNavigationResolution){const yt=this.currentPageId-X.targetPageId;"popstate"!==X.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Ae=this.currentNavigation)||void 0===Ae?void 0:Ae.finalUrl)||0===yt?this.currentUrlTree===(null===(Ke=this.currentNavigation)||void 0===Ke?void 0:Ke.finalUrl)&&0===yt&&(this.resetState(X),this.browserUrlTree=X.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(yt)}else"replace"===this.canceledNavigationResolution&&(ve&&this.resetState(X),this.resetUrlToCurrentUrlTree())}resetState(X){this.routerState=X.currentRouterState,this.currentUrlTree=X.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,X.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(X,ve){const Ae=new Be(X.id,this.serializeUrl(X.extractedUrl),ve);this.triggerEvent(Ae),X.resolve(!1)}generateNgRouterState(X,ve){return"computed"===this.canceledNavigationResolution?{navigationId:X,\u0275routerPageId:ve}:{navigationId:X}}}return ie.\u0275fac=function(X){i.$Z()},ie.\u0275prov=i.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function Ba(ie){return"imperative"!==ie}let ri=(()=>{class ie{constructor(X,ve,Ae,Ke,yt){this.router=X,this.route=ve,this.tabIndexAttribute=Ae,this.renderer=Ke,this.el=yt,this.commands=null,this.onChanges=new C.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(X){if(null!=this.tabIndexAttribute)return;const ve=this.renderer,Ae=this.el.nativeElement;null!==X?ve.setAttribute(Ae,"tabindex",X):ve.removeAttribute(Ae,"tabindex")}ngOnChanges(X){this.onChanges.next(this)}set routerLink(X){null!=X?(this.commands=Array.isArray(X)?X:[X],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const X={skipLocationChange:as(this.skipLocationChange),replaceUrl:as(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,X),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:as(this.preserveFragment)})}}return ie.\u0275fac=function(X){return new(X||ie)(i.Y36(Go),i.Y36(Le),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},ie.\u0275dir=i.lG2({type:ie,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(X,ve){1&X&&i.NdJ("click",function(){return ve.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[i.TTD]}),ie})();function as(ie){return""===ie||!!ie}class Nl{}class $s{preload(Q,X){return X().pipe((0,A.K)(()=>(0,G.of)(null)))}}class _a{preload(Q,X){return(0,G.of)(null)}}let ba=(()=>{class ie{constructor(X,ve,Ae,Ke){this.router=X,this.injector=Ae,this.preloadingStrategy=Ke,this.loader=new uo(Ae,ve,Sn=>X.triggerEvent(new Ht(Sn)),Sn=>X.triggerEvent(new wn(Sn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,g.h)(X=>X instanceof Ue),(0,W.b)(()=>this.preload())).subscribe(()=>{})}preload(){const X=this.injector.get(i.h0i);return this.processRoutes(X,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(X,ve){const Ae=[];for(const Ke of ve)if(Ke.loadChildren&&!Ke.canLoad&&Ke._loadedConfig){const yt=Ke._loadedConfig;Ae.push(this.processRoutes(yt.module,yt.routes))}else Ke.loadChildren&&!Ke.canLoad?Ae.push(this.preloadConfig(X,Ke)):Ke.children&&Ae.push(this.processRoutes(X,Ke.children));return(0,D.D)(Ae).pipe((0,_e.J)(),(0,re.U)(Ke=>{}))}preloadConfig(X,ve){return this.preloadingStrategy.preload(ve,()=>(ve._loadedConfig?(0,G.of)(ve._loadedConfig):this.loader.load(X.injector,ve)).pipe((0,oe.zg)(Ke=>(ve._loadedConfig=Ke,this.processRoutes(Ke.module,Ke.routes)))))}}return ie.\u0275fac=function(X){return new(X||ie)(i.LFG(Go),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(Nl))},ie.\u0275prov=i.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),jl=(()=>{class ie{constructor(X,ve,Ae={}){this.router=X,this.viewportScroller=ve,this.options=Ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ae.scrollPositionRestoration=Ae.scrollPositionRestoration||"disabled",Ae.anchorScrolling=Ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(X=>{X instanceof Ge?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=X.navigationTrigger,this.restoredId=X.restoredState?X.restoredState.navigationId:0):X instanceof Ue&&(this.lastId=X.id,this.scheduleScrollEvent(X,this.router.parseUrl(X.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(X=>{X instanceof Ut&&(X.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(X.position):X.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(X.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(X,ve){this.router.triggerEvent(new Ut(X,"popstate"===this.lastSource?this.store[this.restoredId]:null,ve))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return ie.\u0275fac=function(X){i.$Z()},ie.\u0275prov=i.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const ds=new i.OlP("ROUTER_CONFIGURATION"),ea=new i.OlP("ROUTER_FORROOT_GUARD"),ll=[Ee.Ye,{provide:Rr,useClass:Qt},{provide:Go,useFactory:function(ie,Q,X,ve,Ae,Ke,yt={},rt,Sn){const hr=new Go(null,ie,Q,X,ve,Ae,Wt(Ke));return rt&&(hr.urlHandlingStrategy=rt),Sn&&(hr.routeReuseStrategy=Sn),function(ie,Q){ie.errorHandler&&(Q.errorHandler=ie.errorHandler),ie.malformedUriErrorHandler&&(Q.malformedUriErrorHandler=ie.malformedUriErrorHandler),ie.onSameUrlNavigation&&(Q.onSameUrlNavigation=ie.onSameUrlNavigation),ie.paramsInheritanceStrategy&&(Q.paramsInheritanceStrategy=ie.paramsInheritanceStrategy),ie.relativeLinkResolution&&(Q.relativeLinkResolution=ie.relativeLinkResolution),ie.urlUpdateStrategy&&(Q.urlUpdateStrategy=ie.urlUpdateStrategy),ie.canceledNavigationResolution&&(Q.canceledNavigationResolution=ie.canceledNavigationResolution)}(yt,hr),yt.enableTracing&&hr.events.subscribe(Hr=>{var Tn,Yr;null===(Tn=console.group)||void 0===Tn||Tn.call(console,`Router Event: ${Hr.constructor.name}`),console.log(Hr.toString()),console.log(Hr),null===(Yr=console.groupEnd)||void 0===Yr||Yr.call(console)}),hr},deps:[Rr,xn,Ee.Ye,i.zs3,i.Sil,Ts,ds,[class{},new i.FiY],[Uo,new i.FiY]]},xn,{provide:Le,useFactory:function(ie){return ie.routerState.root},deps:[Go]},ba,_a,$s,{provide:ds,useValue:{enableTracing:!1}}];function Lc(){return new i.PXZ("Router",Go)}let Bl=(()=>{class ie{constructor(X,ve){}static forRoot(X,ve){return{ngModule:ie,providers:[ll,Ua(X),{provide:ea,useFactory:Ea,deps:[[Go,new i.FiY,new i.tp0]]},{provide:ds,useValue:ve||{}},{provide:Ee.S$,useFactory:cu,deps:[Ee.lw,[new i.tBr(Ee.mr),new i.FiY],ds]},{provide:jl,useFactory:vs,deps:[Go,Ee.EM,ds]},{provide:Nl,useExisting:ve&&ve.preloadingStrategy?ve.preloadingStrategy:_a},{provide:i.PXZ,multi:!0,useFactory:Lc},[Ul,{provide:i.ip1,multi:!0,useFactory:ta,deps:[Ul]},{provide:Ga,useFactory:cl,deps:[Ul]},{provide:i.tb,multi:!0,useExisting:Ga}]]}}static forChild(X){return{ngModule:ie,providers:[Ua(X)]}}}return ie.\u0275fac=function(X){return new(X||ie)(i.LFG(ea,8),i.LFG(Go,8))},ie.\u0275mod=i.oAB({type:ie}),ie.\u0275inj=i.cJS({}),ie})();function vs(ie,Q,X){return X.scrollOffset&&Q.setOffset(X.scrollOffset),new jl(ie,Q,X)}function cu(ie,Q,X={}){return X.useHash?new Ee.Do(ie,Q):new Ee.b0(ie,Q)}function Ea(ie){return"guarded"}function Ua(ie){return[{provide:i.deG,multi:!0,useValue:ie},{provide:Ts,multi:!0,useValue:ie}]}let Ul=(()=>{class ie{constructor(X){this.injector=X,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C.xQ}appInitializer(){return this.injector.get(Ee.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let ve=null;const Ae=new Promise(rt=>ve=rt),Ke=this.injector.get(Go),yt=this.injector.get(ds);return"disabled"===yt.initialNavigation?(Ke.setUpLocationChangeListener(),ve(!0)):"enabled"===yt.initialNavigation||"enabledBlocking"===yt.initialNavigation?(Ke.hooks.afterPreactivation=()=>this.initNavigation?(0,G.of)(null):(this.initNavigation=!0,ve(!0),this.resultOfPreactivationDone),Ke.initialNavigation()):ve(!0),Ae})}bootstrapListener(X){const ve=this.injector.get(ds),Ae=this.injector.get(ba),Ke=this.injector.get(jl),yt=this.injector.get(Go),rt=this.injector.get(i.z2F);X===rt.components[0]&&(("enabledNonBlocking"===ve.initialNavigation||void 0===ve.initialNavigation)&&yt.initialNavigation(),Ae.setUpPreloading(),Ke.init(),yt.resetRootComponentType(rt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return ie.\u0275fac=function(X){return new(X||ie)(i.LFG(i.zs3))},ie.\u0275prov=i.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function ta(ie){return ie.appInitializer.bind(ie)}function cl(ie){return ie.bootstrapListener.bind(ie)}const Ga=new i.OlP("Router Initializer")},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5094),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8896),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2916),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1086),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6787),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(341),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(839),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8117),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2198),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4850),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1406),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6227),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(13),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7221),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2986),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7625),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(7545),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1307),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(7770),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7168),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2014);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Ye){const fe={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},p="function"==typeof Ye?Ye():Ye,G=Object.assign({},fe,{features:p.features||!!p.logOnly&&{pause:!0,export:!0,test:!0}||fe.features},p);if(G.maxAge&&G.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${G.maxAge}`);return G}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(fe,p){if(this.action=fe,this.timestamp=p,this.type=PERFORM_ACTION,void 0===fe.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(fe){this.timestamp=fe,this.type=RESET}}class Rollback{constructor(fe){this.timestamp=fe,this.type=ROLLBACK}}class Commit{constructor(fe){this.timestamp=fe,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(fe){this.id=fe,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(fe,p,i=!0){this.start=fe,this.end=p,this.active=i,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(fe){this.index=fe,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(fe){this.actionId=fe,this.type=JUMP_TO_ACTION}}class ImportState{constructor(fe){this.nextLiftedState=fe,this.type=IMPORT_STATE}}class LockChanges{constructor(fe){this.status=fe,this.type=LOCK_CHANGES}}class PauseRecording{constructor(fe){this.status=fe,this.type=PAUSE_RECORDING}}function difference(Ye,fe){return Ye.filter(p=>fe.indexOf(p)<0)}function unliftState(Ye){const{computedStates:fe,currentStateIndex:p}=Ye;if(p>=fe.length){const{state:D}=fe[fe.length-1];return D}const{state:i}=fe[p];return i}function unliftAction(Ye){return Ye.actionsById[Ye.nextActionId-1]}function liftAction(Ye){return new PerformAction(Ye,+Date.now())}function sanitizeActions(Ye,fe){return Object.keys(fe).reduce((p,i)=>{const D=Number(i);return p[D]=sanitizeAction(Ye,fe[D],D),p},{})}function sanitizeAction(Ye,fe,p){return Object.assign(Object.assign({},fe),{action:Ye(fe.action,p)})}function sanitizeStates(Ye,fe){return fe.map((p,i)=>({state:sanitizeState(Ye,p.state,i),error:p.error}))}function sanitizeState(Ye,fe,p){return Ye(fe,p)}function shouldFilterActions(Ye){return Ye.predicate||Ye.actionsSafelist||Ye.actionsBlocklist}function filterLiftedState(Ye,fe,p,i){const D=[],G={},ne=[];return Ye.stagedActionIds.forEach((H,L)=>{const $=Ye.actionsById[H];!$||L&&isActionFiltered(Ye.computedStates[L],$,fe,p,i)||(G[H]=$,D.push(H),ne.push(Ye.computedStates[L]))}),Object.assign(Object.assign({},Ye),{stagedActionIds:D,actionsById:G,computedStates:ne})}function isActionFiltered(Ye,fe,p,i,D){const G=p&&!p(Ye,fe.action),ne=i&&!fe.action.type.match(i.map(L=>escapeRegExp(L)).join("|")),H=D&&fe.action.type.match(D.map(L=>escapeRegExp(L)).join("|"));return G||ne||H}function escapeRegExp(Ye){return Ye.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Ye,fe,p,i,D){if(i)return{state:p,error:"Interrupted by an error up the chain"};let ne,G=p;try{G=Ye(p,fe)}catch(H){ne=H.toString(),D.handleError(H)}return{state:G,error:ne}}function recomputeStates(Ye,fe,p,i,D,G,ne,H,L){if(fe>=Ye.length&&Ye.length===G.length)return Ye;const $=Ye.slice(0,fe),S=G.length-(L?1:0);for(let P=fe;P<S;P++){const x=G[P],w=D[x].action,C=$[P-1],m=C?C.state:i,T=C?C.error:void 0,v=ne.indexOf(x)>-1?C:computeNextEntry(p,w,m,T,H);$.push(v)}return L&&$.push(Ye[Ye.length-1]),$}function liftInitialState(Ye,fe){return{monitorState:fe(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Ye,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Ye,fe,p,i,D={}){return G=>(ne,H)=>{let{monitorState:L,actionsById:$,nextActionId:S,stagedActionIds:P,skippedActionIds:x,committedState:w,currentStateIndex:C,computedStates:m,isLocked:T,isPaused:g}=ne||fe;function v(B){let F=B,M=P.slice(1,F+1);for(let y=0;y<M.length;y++){if(m[y+1].error){F=y,M=P.slice(1,F+1);break}delete $[M[y]]}x=x.filter(y=>-1===M.indexOf(y)),P=[0,...P.slice(F+1)],w=m[F].state,m=m.slice(F),C=C>F?C-F:0}function O(){$={0:liftAction(INIT_ACTION)},S=1,P=[0],x=[],w=m[C].state,C=0,m=[]}ne||($=Object.create($));let k=0;switch(H.type){case LOCK_CHANGES:T=H.status,k=1/0;break;case PAUSE_RECORDING:g=H.status,g?(P=[...P,S],$[S]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),S++,k=P.length-1,m=m.concat(m[m.length-1]),C===P.length-2&&C++,k=1/0):O();break;case RESET:$={0:liftAction(INIT_ACTION)},S=1,P=[0],x=[],w=Ye,C=0,m=[];break;case COMMIT:O();break;case ROLLBACK:$={0:liftAction(INIT_ACTION)},S=1,P=[0],x=[],C=0,m=[];break;case TOGGLE_ACTION:{const{id:B}=H;x=-1===x.indexOf(B)?[B,...x]:x.filter(M=>M!==B),k=P.indexOf(B);break}case SET_ACTIONS_ACTIVE:{const{start:B,end:F,active:M}=H,y=[];for(let R=B;R<F;R++)y.push(R);x=M?difference(x,y):[...x,...y],k=P.indexOf(B);break}case JUMP_TO_STATE:C=H.index,k=1/0;break;case JUMP_TO_ACTION:{const B=P.indexOf(H.actionId);-1!==B&&(C=B),k=1/0;break}case SWEEP:P=difference(P,x),x=[],C=Math.min(C,P.length-1);break;case PERFORM_ACTION:{if(T)return ne||fe;if(g||ne&&isActionFiltered(ne.computedStates[C],H,D.predicate,D.actionsSafelist,D.actionsBlocklist)){const F=m[m.length-1];m=[...m.slice(0,-1),computeNextEntry(G,H.action,F.state,F.error,p)],k=1/0;break}D.maxAge&&P.length===D.maxAge&&v(1),C===P.length-1&&C++;const B=S++;$[B]=H,P=[...P,B],k=P.length-1;break}case IMPORT_STATE:({monitorState:L,actionsById:$,nextActionId:S,stagedActionIds:P,skippedActionIds:x,committedState:w,currentStateIndex:C,computedStates:m,isLocked:T,isPaused:g}=H.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:k=0,D.maxAge&&P.length>D.maxAge&&(m=recomputeStates(m,k,G,w,$,P,x,p,g),v(P.length-D.maxAge),k=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(m.filter(F=>F.error).length>0)k=0,D.maxAge&&P.length>D.maxAge&&(m=recomputeStates(m,k,G,w,$,P,x,p,g),v(P.length-D.maxAge),k=1/0);else{if(!g&&!T){C===P.length-1&&C++;const F=S++;$[F]=new PerformAction(H,+Date.now()),P=[...P,F],k=P.length-1,m=recomputeStates(m,k,G,w,$,P,x,p,g)}m=m.map(F=>Object.assign(Object.assign({},F),{state:G(F.state,RECOMPUTE_ACTION)})),C=P.length-1,D.maxAge&&P.length>D.maxAge&&v(P.length-D.maxAge),k=1/0}break;default:k=1/0}return m=recomputeStates(m,k,G,w,$,P,x,p,g),L=i(L,H),{monitorState:L,actionsById:$,nextActionId:S,stagedActionIds:P,skippedActionIds:x,committedState:w,currentStateIndex:C,computedStates:m,isLocked:T,isPaused:g}}}let DevtoolsDispatcher=(()=>{class Ye extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return Ye.\u0275fac=function(){let fe;return function(i){return(fe||(fe=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Ye)))(i||Ye)}}(),Ye.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Ye,fe,p){this.config=fe,this.dispatcher=p,this.devtoolsExtension=Ye,this.createActionStreams()}notify(Ye,fe){if(this.devtoolsExtension)if(Ye.type===PERFORM_ACTION){if(fe.isLocked||fe.isPaused)return;const p=unliftState(fe);if(shouldFilterActions(this.config)&&isActionFiltered(p,Ye,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const i=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,p,fe.currentStateIndex):p,D=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Ye,fe.nextActionId):Ye;this.sendToReduxDevtools(()=>this.extensionConnection.send(D,i))}else{const p=Object.assign(Object.assign({},fe),{stagedActionIds:fe.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,fe.actionsById):fe.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,fe.computedStates):fe.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,p,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Ye=>{const fe=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=fe,fe.init(),fe.subscribe(p=>Ye.next(p)),fe.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Ye=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),fe=Ye.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(H=>H.type===ExtensionActionTypes.START)),p=Ye.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(H=>H.type===ExtensionActionTypes.STOP)),i=Ye.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(H=>H.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(H=>this.unwrapAction(H.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(H=>H.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(L=>L.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>H),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(H)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(H))),G=Ye.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(H=>H.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(H=>this.unwrapAction(H.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(p)),ne=i.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(p));this.start$=fe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(p)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>G)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ne))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Ye){var fe;const p={name:Ye.name,features:Ye.features,serialize:Ye.serialize,autoPause:null!==(fe=Ye.autoPause)&&void 0!==fe&&fe};return!1!==Ye.maxAge&&(p.maxAge=Ye.maxAge),p}sendToReduxDevtools(Ye){try{Ye()}catch(fe){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",fe)}}}return DevtoolsExtension.\u0275fac=function(fe){return new(fe||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class Ye{constructor(p,i,D,G,ne,H,L,$){const S=liftInitialState(L,$.monitor),P=liftReducerWith(L,S,H,$.monitor,$),x=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(i.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),G.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),p,G.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),w=D.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(P)),C=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),m=x.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(w),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:O},[k,B])=>{let F=B(O,k);return k.type!==PERFORM_ACTION&&shouldFilterActions($)&&(F=filterLiftedState(F,$.predicate,$.actionsSafelist,$.actionsBlocklist)),G.notify(k,F),{state:F,action:k}},{state:S,action:null})).subscribe(({state:O,action:k})=>{C.next(O),k.type===PERFORM_ACTION&&ne.next(k.action)}),T=G.start$.subscribe(()=>{this.refresh()}),g=C.asObservable(),v=g.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=T,this.stateSubscription=m,this.dispatcher=p,this.liftedState=g,this.state=v}dispatch(p){this.dispatcher.next(p)}next(p){this.dispatcher.next(p)}error(p){}complete(){}performAction(p){this.dispatch(new PerformAction(p,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(p){this.dispatch(new ToggleAction(p))}jumpToAction(p){this.dispatch(new JumpToAction(p))}jumpToState(p){this.dispatch(new JumpToState(p))}importState(p){this.dispatch(new ImportState(p))}lockChanges(p){this.dispatch(new LockChanges(p))}pauseRecording(p){this.dispatch(new PauseRecording(p))}}return Ye.\u0275fac=function(p){return new(p||Ye)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},Ye.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Ye,fe){return Boolean(Ye)||fe.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Ye="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[Ye]?window[Ye]:null}function createStateObservable(Ye){return Ye.state}let StoreDevtoolsModule=(()=>{class Ye{static instrument(p={}){return{ngModule:Ye,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:p},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return Ye.\u0275fac=function(p){return new(p||Ye)},Ye.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Ye}),Ye.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),Ye})()},5094:(Ye,fe,p)=>{"use strict";p.d(fe,{UO:()=>B,qg:()=>k,Y6:()=>R,mK:()=>Ht,n$:()=>Tt,Y$:()=>bt,FR:()=>Ut,yh:()=>kt,CK:()=>ar,Aw:()=>$r,cr:()=>Bn,wb:()=>wn,qC:()=>qe,PH:()=>T,Lq:()=>It,on:()=>et,Ky:()=>g});var i=p(5e3),D=p(591),G=p(2916),ne=p(8929),H=p(341),L=p(7770),$=p(7168),S=p(2014),P=p(373),x=p(4850),w=p(5778);const C={};function T(Le,Ct){if(C[Le]=(C[Le]||0)+1,"function"==typeof Ct)return O(Le,(...Ft)=>Object.assign(Object.assign({},Ct(...Ft)),{type:Le}));switch(Ct?Ct._as:"empty"){case"empty":return O(Le,()=>({type:Le}));case"props":return O(Le,Ft=>Object.assign(Object.assign({},Ft),{type:Le}));default:throw new Error("Unexpected config.")}}function g(){return{_as:"props",_p:void 0}}function O(Le,Ct){return Object.defineProperty(Ct,"type",{value:Le,writable:!1})}const k="@ngrx/store/init";let B=(()=>{class Le extends D.X{constructor(){super({type:k})}next(St){if("function"==typeof St)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===St)throw new TypeError("Actions must be objects");if(void 0===St.type)throw new TypeError("Actions must have a type property");super.next(St)}complete(){}ngOnDestroy(){super.complete()}}return Le.\u0275fac=function(St){return new(St||Le)},Le.\u0275prov=i.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const F=[B],M=new i.OlP("@ngrx/store Internal Root Guard"),y=new i.OlP("@ngrx/store Internal Initial State"),R=new i.OlP("@ngrx/store Initial State"),z=new i.OlP("@ngrx/store Reducer Factory"),re=new i.OlP("@ngrx/store Internal Reducer Factory Provider"),le=new i.OlP("@ngrx/store Initial Reducers"),he=new i.OlP("@ngrx/store Internal Initial Reducers"),xe=new i.OlP("@ngrx/store Store Features"),A=new i.OlP("@ngrx/store Internal Store Reducers"),W=new i.OlP("@ngrx/store Internal Feature Reducers"),te=new i.OlP("@ngrx/store Internal Feature Configs"),oe=new i.OlP("@ngrx/store Internal Store Features"),Te=new i.OlP("@ngrx/store Internal Feature Reducers Token"),Ie=new i.OlP("@ngrx/store Feature Reducers"),ae=new i.OlP("@ngrx/store User Provided Meta Reducers"),_e=new i.OlP("@ngrx/store Meta Reducers"),Ee=new i.OlP("@ngrx/store Internal Resolved Meta Reducers"),Pe=new i.OlP("@ngrx/store User Runtime Checks Config"),Ge=new i.OlP("@ngrx/store Internal User Runtime Checks Config"),Ue=new i.OlP("@ngrx/store Internal Runtime Checks"),Be=new i.OlP("@ngrx/store Check if Action types are unique");function Ce(Le,Ct={}){const St=Object.keys(Le),Ft={};for(let Se=0;Se<St.length;Se++){const Je=St[Se];"function"==typeof Le[Je]&&(Ft[Je]=Le[Je])}const Zt=Object.keys(Ft);return function(Je,je){Je=void 0===Je?Ct:Je;let it=!1;const Ot={};for(let xt=0;xt<Zt.length;xt++){const Vt=Zt[xt],yn=Je[Vt],Cn=(0,Ft[Vt])(yn,je);Ot[Vt]=Cn,it=it||Cn!==yn}return it?Ot:Je}}function qe(...Le){return function(Ct){if(0===Le.length)return Ct;const St=Le[Le.length-1];return Le.slice(0,-1).reduceRight((Zt,Se)=>Se(Zt),St(Ct))}}function at(Le,Ct){return Array.isArray(Ct)&&Ct.length>0&&(Le=qe.apply(null,[...Ct,Le])),(St,Ft)=>{const Zt=Le(St);return(Se,Je)=>Zt(Se=void 0===Se?Ft:Se,Je)}}class Tt extends G.y{}class Ht extends B{}const wn="@ngrx/store/update-reducers";let fn=(()=>{class Le extends D.X{constructor(St,Ft,Zt,Se){super(Se(Zt,Ft)),this.dispatcher=St,this.initialState=Ft,this.reducers=Zt,this.reducerFactory=Se}get currentReducers(){return this.reducers}addFeature(St){this.addFeatures([St])}addFeatures(St){const Ft=St.reduce((Zt,{reducers:Se,reducerFactory:Je,metaReducers:je,initialState:it,key:Ot})=>{const xt="function"==typeof Se?function(Le){const Ct=Array.isArray(Le)&&Le.length>0?qe(...Le):St=>St;return(St,Ft)=>(St=Ct(St),(Zt,Se)=>St(Zt=void 0===Zt?Ft:Zt,Se))}(je)(Se,it):at(Je,je)(Se,it);return Zt[Ot]=xt,Zt},{});this.addReducers(Ft)}removeFeature(St){this.removeFeatures([St])}removeFeatures(St){this.removeReducers(St.map(Ft=>Ft.key))}addReducer(St,Ft){this.addReducers({[St]:Ft})}addReducers(St){this.reducers=Object.assign(Object.assign({},this.reducers),St),this.updateReducers(Object.keys(St))}removeReducer(St){this.removeReducers([St])}removeReducers(St){St.forEach(Ft=>{this.reducers=function(Le,Ct){return Object.keys(Le).filter(St=>St!==Ct).reduce((St,Ft)=>Object.assign(St,{[Ft]:Le[Ft]}),{})}(this.reducers,Ft)}),this.updateReducers(St)}updateReducers(St){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:wn,features:St})}ngOnDestroy(){this.complete()}}return Le.\u0275fac=function(St){return new(St||Le)(i.LFG(Ht),i.LFG(R),i.LFG(le),i.LFG(z))},Le.\u0275prov=i.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const He=[fn,{provide:Tt,useExisting:fn},{provide:Ht,useExisting:B}];let bt=(()=>{class Le extends ne.xQ{ngOnDestroy(){this.complete()}}return Le.\u0275fac=function(){let Ct;return function(Ft){return(Ct||(Ct=i.n5z(Le)))(Ft||Le)}}(),Le.\u0275prov=i.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const nt=[bt];class Ut extends G.y{}let Lt=(()=>{class Le extends D.X{constructor(St,Ft,Zt,Se){super(Se);const Ot=St.pipe((0,L.QV)(H.N)).pipe((0,$.M)(Ft)).pipe((0,S.R)(vn,{state:Se}));this.stateSubscription=Ot.subscribe(({state:xt,action:Vt})=>{this.next(xt),Zt.next(Vt)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Le.INIT=k,Le.\u0275fac=function(St){return new(St||Le)(i.LFG(B),i.LFG(Tt),i.LFG(bt),i.LFG(R))},Le.\u0275prov=i.Yz7({token:Le,factory:Le.\u0275fac}),Le})();function vn(Le={state:void 0},[Ct,St]){const{state:Ft}=Le;return{state:St(Ft,Ct),action:Ct}}const Pn=[Lt,{provide:Ut,useExisting:Lt}];let kt=(()=>{class Le extends G.y{constructor(St,Ft,Zt){super(),this.actionsObserver=Ft,this.reducerManager=Zt,this.source=St}select(St,...Ft){return ht.call(null,St,...Ft)(this)}lift(St){const Ft=new Le(this,this.actionsObserver,this.reducerManager);return Ft.operator=St,Ft}dispatch(St){this.actionsObserver.next(St)}next(St){this.actionsObserver.next(St)}error(St){this.actionsObserver.error(St)}complete(){this.actionsObserver.complete()}addReducer(St,Ft){this.reducerManager.addReducer(St,Ft)}removeReducer(St){this.reducerManager.removeReducer(St)}}return Le.\u0275fac=function(St){return new(St||Le)(i.LFG(Ut),i.LFG(B),i.LFG(fn))},Le.\u0275prov=i.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const dt=[kt];function ht(Le,Ct,...St){return function(Zt){let Se;if("string"==typeof Le){const Je=[Ct,...St].filter(Boolean);Se=Zt.pipe((0,P.j)(Le,...Je))}else{if("function"!=typeof Le)throw new TypeError(`Unexpected type '${typeof Le}' in select operator, expected 'string' or 'function'`);Se=Zt.pipe((0,x.U)(Je=>Le(Je,Ct)))}return Se.pipe((0,w.x)())}}const _t="https://ngrx.io/guide/store/configuration/runtime-checks";function $t(Le){return void 0===Le}function Rt(Le){return null===Le}function Wt(Le){return Array.isArray(Le)}function Hn(Le){return"object"==typeof Le&&null!==Le}function Fn(Le){return"function"==typeof Le}function jt(Le){Object.freeze(Le);const Ct=Fn(Le);return Object.getOwnPropertyNames(Le).forEach(St=>{if(!St.startsWith("\u0275")&&function(Le,Ct){return Object.prototype.hasOwnProperty.call(Le,Ct)}(Le,St)&&(!Ct||"caller"!==St&&"callee"!==St&&"arguments"!==St)){const Ft=Le[St];(Hn(Ft)||Fn(Ft))&&!Object.isFrozen(Ft)&&jt(Ft)}}),Le}function tr(Le,Ct=[]){return($t(Le)||Rt(Le))&&0===Ct.length?{path:["root"],value:Le}:Object.keys(Le).reduce((Ft,Zt)=>{if(Ft)return Ft;const Se=Le[Zt];return function(Le){return Fn(Le)&&Le.hasOwnProperty("\u0275cmp")}(Se)?Ft:!($t(Se)||Rt(Se)||function(Le){return"number"==typeof Le}(Se)||function(Le){return"boolean"==typeof Le}(Se)||function(Le){return"string"==typeof Le}(Se)||Wt(Se))&&(function(Le){if(!function(Le){return Hn(Le)&&!Wt(Le)}(Le))return!1;const Ct=Object.getPrototypeOf(Le);return Ct===Object.prototype||null===Ct}(Se)?tr(Se,[...Ct,Zt]):{path:[...Ct,Zt],value:Se})},!1)}function pr(Le,Ct){if(!1===Le)return;const St=Le.path.join("."),Ft=new Error(`Detected unserializable ${Ct} at "${St}". ${_t}#strict${Ct}serializability`);throw Ft.value=Le.value,Ft.unserializablePath=St,Ft}function gt(Le){return(0,i.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},Le):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ln({strictActionSerializability:Le,strictStateSerializability:Ct}){return St=>Le||Ct?function(Le,Ct){return function(St,Ft){Ct.action(Ft)&&pr(tr(Ft),"action");const Zt=Le(St,Ft);return Ct.state()&&pr(tr(Zt),"state"),Zt}}(St,{action:Ft=>Le&&!un(Ft),state:()=>Ct}):St}function zt({strictActionImmutability:Le,strictStateImmutability:Ct}){return St=>Le||Ct?function(Le,Ct){return function(St,Ft){const Zt=Ct.action(Ft)?jt(Ft):Ft,Se=Le(St,Zt);return Ct.state()?jt(Se):Se}}(St,{action:Ft=>Le&&!un(Ft),state:()=>Ct}):St}function un(Le){return Le.type.startsWith("@ngrx")}function En({strictActionWithinNgZone:Le}){return Ct=>Le?function(Le,Ct){return function(St,Ft){if(Ct.action(Ft)&&!i.R0b.isInAngularZone())throw new Error(`Action '${Ft.type}' running outside NgZone. ${_t}#strictactionwithinngzone`);return Le(St,Ft)}}(Ct,{action:St=>Le&&!un(St)}):Ct}function dn(Le){return[{provide:Ge,useValue:Le},{provide:Pe,useFactory:Mn,deps:[Ge]},{provide:Ue,deps:[Pe],useFactory:gt},{provide:_e,multi:!0,deps:[Ue],useFactory:zt},{provide:_e,multi:!0,deps:[Ue],useFactory:ln},{provide:_e,multi:!0,deps:[Ue],useFactory:En}]}function Un(){return[{provide:Be,multi:!0,deps:[Ue],useFactory:cn}]}function Mn(Le){return Le}function cn(Le){if(!Le.strictActionTypeUniqueness)return;const Ct=Object.entries(C).filter(([,St])=>St>1).map(([St])=>St);if(Ct.length)throw new Error(`Action types are registered more than once, ${Ct.map(St=>`"${St}"`).join(", ")}. ${_t}#strictactiontypeuniqueness`)}let Bn=(()=>{class Le{constructor(St,Ft,Zt,Se,Je,je){}}return Le.\u0275fac=function(St){return new(St||Le)(i.LFG(B),i.LFG(Tt),i.LFG(bt),i.LFG(kt),i.LFG(M,8),i.LFG(Be,8))},Le.\u0275mod=i.oAB({type:Le}),Le.\u0275inj=i.cJS({}),Le})(),ar=(()=>{class Le{constructor(St,Ft,Zt,Se,Je){this.features=St,this.featureReducers=Ft,this.reducerManager=Zt;const je=St.map((it,Ot)=>{const Vt=Ft.shift()[Ot];return Object.assign(Object.assign({},it),{reducers:Vt,initialState:ue(it.initialState)})});Zt.addFeatures(je)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Le.\u0275fac=function(St){return new(St||Le)(i.LFG(oe),i.LFG(Ie),i.LFG(fn),i.LFG(Bn),i.LFG(Be,8))},Le.\u0275mod=i.oAB({type:Le}),Le.\u0275inj=i.cJS({}),Le})(),$r=(()=>{class Le{static forRoot(St,Ft={}){return{ngModule:Bn,providers:[{provide:M,useFactory:Fe,deps:[[kt,new i.FiY,new i.tp0]]},{provide:y,useValue:Ft.initialState},{provide:R,useFactory:ue,deps:[y]},{provide:he,useValue:St},{provide:A,useExisting:St instanceof i.OlP?St:he},{provide:le,deps:[i.zs3,he,[new i.tBr(A)]],useFactory:gi},{provide:ae,useValue:Ft.metaReducers?Ft.metaReducers:[]},{provide:Ee,deps:[_e,ae],useFactory:ce},{provide:re,useValue:Ft.reducerFactory?Ft.reducerFactory:Ce},{provide:z,deps:[re,Ee],useFactory:at},F,He,nt,Pn,dt,dn(Ft.runtimeChecks),Un()]}}static forFeature(St,Ft,Zt={}){return{ngModule:ar,providers:[{provide:te,multi:!0,useValue:St instanceof Object?{}:Zt},{provide:xe,multi:!0,useValue:{key:St instanceof Object?St.name:St,reducerFactory:Zt instanceof i.OlP||!Zt.reducerFactory?Ce:Zt.reducerFactory,metaReducers:Zt instanceof i.OlP||!Zt.metaReducers?[]:Zt.metaReducers,initialState:Zt instanceof i.OlP||!Zt.initialState?void 0:Zt.initialState}},{provide:oe,deps:[i.zs3,te,xe],useFactory:Dr},{provide:W,multi:!0,useValue:St instanceof Object?St.reducer:Ft},{provide:Te,multi:!0,useExisting:Ft instanceof i.OlP?Ft:W},{provide:Ie,multi:!0,deps:[i.zs3,W,[new i.tBr(Te)]],useFactory:Et},Un()]}}}return Le.\u0275fac=function(St){return new(St||Le)},Le.\u0275mod=i.oAB({type:Le}),Le.\u0275inj=i.cJS({}),Le})();function gi(Le,Ct){return Ct instanceof i.OlP?Le.get(Ct):Ct}function Dr(Le,Ct,St){return St.map((Ft,Zt)=>{if(Ct[Zt]instanceof i.OlP){const Se=Le.get(Ct[Zt]);return{key:Ft.key,reducerFactory:Se.reducerFactory?Se.reducerFactory:Ce,metaReducers:Se.metaReducers?Se.metaReducers:[],initialState:Se.initialState}}return Ft})}function Et(Le,Ct){return Ct.map(Ft=>Ft instanceof i.OlP?Le.get(Ft):Ft)}function ue(Le){return"function"==typeof Le?Le():Le}function ce(Le,Ct){return Le.concat(Ct)}function Fe(Le){if(Le)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function et(...Le){return{reducer:Le.pop(),types:Le.map(Ft=>Ft.type)}}function It(Le,...Ct){const St=new Map;for(const Ft of Ct)for(const Zt of Ft.types){const Se=St.get(Zt);St.set(Zt,Se?(je,it)=>Ft.reducer(Se(je,it),it):Ft.reducer)}return function(Ft=Le,Zt){const Se=St.get(Zt.type);return Se?Se(Ft,Zt):Ft}}},6978:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>ne});var H,i=p(119),D=(H=function(L,$){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var x in P)Object.prototype.hasOwnProperty.call(P,x)&&(S[x]=P[x])})(L,$)},function(L,$){if("function"!=typeof $&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function S(){this.constructor=L}H(L,$),L.prototype=null===$?Object.create($):(S.prototype=$.prototype,new S)}),G=function(H){function L($){var S=this,x="Assertion failed. See https://openlayers.org/en/"+("latest"===i.q4?i.q4:"v"+i.q4.split("-")[0])+"/doc/errors/#"+$+" for details.";return(S=H.call(this,x)||this).code=$,S.name="AssertionError",S.message=x,S}return D(L,H),L}(Error);const ne=G},625:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>D});const D=function(){function G(){this.disposed=!1}return G.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},G.prototype.disposeInternal=function(){},G}()},3171:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>S});var P,i=p(3632),D=p(9972),G=p(1911),ne=p(1729),H=(P=function(x,w){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,m){C.__proto__=m}||function(C,m){for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(C[T]=m[T])})(x,w)},function(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function C(){this.constructor=x}P(x,w),x.prototype=null===w?Object.create(w):(C.prototype=w.prototype,new C)}),L=function(P){function x(w){var C=P.call(this)||this;return C.id_=void 0,C.geometryName_="geometry",C.style_=null,C.styleFunction_=void 0,C.geometryChangeKey_=null,C.addChangeListener(C.geometryName_,C.handleGeometryChanged_),w&&("function"==typeof w.getSimplifiedGeometry?C.setGeometry(w):C.setProperties(w)),C}return H(x,P),x.prototype.clone=function(){var w=new x(this.hasProperties()?this.getProperties():null);w.setGeometryName(this.getGeometryName());var C=this.getGeometry();C&&w.setGeometry(C.clone());var m=this.getStyle();return m&&w.setStyle(m),w},x.prototype.getGeometry=function(){return this.get(this.geometryName_)},x.prototype.getId=function(){return this.id_},x.prototype.getGeometryName=function(){return this.geometryName_},x.prototype.getStyle=function(){return this.style_},x.prototype.getStyleFunction=function(){return this.styleFunction_},x.prototype.handleGeometryChange_=function(){this.changed()},x.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,ne.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var w=this.getGeometry();w&&(this.geometryChangeKey_=(0,ne.oL)(w,D.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()},x.prototype.setGeometry=function(w){this.set(this.geometryName_,w)},x.prototype.setStyle=function(w){this.style_=w,this.styleFunction_=w?function(P){return"function"==typeof P?P:(Array.isArray(P)?x=P:((0,G.h)("function"==typeof P.getZIndex,41),x=[P]),function(){return x});var x}(w):void 0,this.changed()},x.prototype.setId=function(w){this.id_=w,this.changed()},x.prototype.setGeometryName=function(w){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=w,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},x}(i.Z);const S=L},201:(Ye,fe,p)=>{"use strict";p.d(fe,{K:()=>m});var g,i=p(9972),D=p(3844),G=p(119),ne=(g=function(v,O){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,B){k.__proto__=B}||function(k,B){for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(k[F]=B[F])})(v,O)},function(v,O){if("function"!=typeof O&&null!==O)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function k(){this.constructor=v}g(v,O),v.prototype=null===O?Object.create(O):(k.prototype=O.prototype,new k)}),H=function(g){function v(O,k,B,F){var M=g.call(this)||this;return M.extent=O,M.pixelRatio_=B,M.resolution=k,M.state=F,M}return ne(v,g),v.prototype.changed=function(){this.dispatchEvent(i.Z.CHANGE)},v.prototype.getExtent=function(){return this.extent},v.prototype.getImage=function(){return(0,G.O3)()},v.prototype.getPixelRatio=function(){return this.pixelRatio_},v.prototype.getResolution=function(){return this.resolution},v.prototype.getState=function(){return this.state},v.prototype.load=function(){(0,G.O3)()},v}(D.Z);const L=H;var $=p(521),S=p(9996),P=p(760),x=p(1729),w=function(){var g=function(v,O){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,B){k.__proto__=B}||function(k,B){for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(k[F]=B[F])})(v,O)};return function(v,O){if("function"!=typeof O&&null!==O)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function k(){this.constructor=v}g(v,O),v.prototype=null===O?Object.create(O):(k.prototype=O.prototype,new k)}}();function m(g,v,O){var k=g,B=!0,F=!1,M=!1,y=[(0,x.Vx)(k,i.Z.LOAD,function(){M=!0,F||v()})];return k.src&&S.Tp?(F=!0,k.decode().then(function(){B&&v()}).catch(function(R){B&&(M?v():O())})):y.push((0,x.Vx)(k,i.Z.ERROR,O)),function(){B=!1,y.forEach(x.bN)}}!function(g){function v(O,k,B,F,M,y){var R=g.call(this,O,k,B,$.Z.IDLE)||this;return R.src_=F,R.image_=new Image,null!==M&&(R.image_.crossOrigin=M),R.unlisten_=null,R.state=$.Z.IDLE,R.imageLoadFunction_=y,R}w(v,g),v.prototype.getImage=function(){return this.image_},v.prototype.handleImageError_=function(){this.state=$.Z.ERROR,this.unlistenImage_(),this.changed()},v.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,P.Cr)(this.extent)/this.image_.height),this.state=$.Z.LOADED,this.unlistenImage_(),this.changed()},v.prototype.load=function(){(this.state==$.Z.IDLE||this.state==$.Z.ERROR)&&(this.state=$.Z.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=m(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},v.prototype.setImage=function(O){this.image_=O,this.resolution=(0,P.Cr)(this.extent)/this.image_.height},v.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(L)},521:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},3632:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>P});var x,i=p(8214),D=p(4587),G=p(4272),ne=p(9466),H=p(119),L=(x=function(w,C){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,T){m.__proto__=T}||function(m,T){for(var g in T)Object.prototype.hasOwnProperty.call(T,g)&&(m[g]=T[g])})(w,C)},function(w,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function m(){this.constructor=w}x(w,C),w.prototype=null===C?Object.create(C):(m.prototype=C.prototype,new m)}),$=function(x){function w(C,m,T){var g=x.call(this,C)||this;return g.key=m,g.oldValue=T,g}return L(w,x),w}(i.ZP),S=function(x){function w(C){var m=x.call(this)||this;return(0,H.sq)(m),m.values_=null,void 0!==C&&m.setProperties(C),m}return L(w,x),w.prototype.get=function(C){var m;return this.values_&&this.values_.hasOwnProperty(C)&&(m=this.values_[C]),m},w.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},w.prototype.getProperties=function(){return this.values_&&(0,ne.f0)({},this.values_)||{}},w.prototype.hasProperties=function(){return!!this.values_},w.prototype.notify=function(C,m){this.dispatchEvent(new $("change:"+C,C,m)),this.dispatchEvent(new $(D.Z.PROPERTYCHANGE,C,m))},w.prototype.addChangeListener=function(C,m){this.addEventListener("change:"+C,m)},w.prototype.removeChangeListener=function(C,m){this.removeEventListener("change:"+C,m)},w.prototype.set=function(C,m,T){var g=this.values_||(this.values_={});if(T)g[C]=m;else{var v=g[C];g[C]=m,v!==m&&this.notify(C,v)}},w.prototype.setProperties=function(C,m){for(var T in C)this.set(T,C[T],m)},w.prototype.applyProperties=function(C){!C.values_||(0,ne.f0)(this.values_||(this.values_={}),C.values_)},w.prototype.unset=function(C,m){if(this.values_&&C in this.values_){var T=this.values_[C];delete this.values_[C],(0,ne.xb)(this.values_)&&(this.values_=null),m||this.notify(C,T)}},w}(G.Z);const P=S},4587:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={PROPERTYCHANGE:"propertychange"}},4272:(Ye,fe,p)=>{"use strict";p.d(fe,{B:()=>L,Z:()=>$});var S,i=p(3844),D=p(9972),G=p(1729),ne=(S=function(P,x){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,C){w.__proto__=C}||function(w,C){for(var m in C)Object.prototype.hasOwnProperty.call(C,m)&&(w[m]=C[m])})(P,x)},function(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function w(){this.constructor=P}S(P,x),P.prototype=null===x?Object.create(x):(w.prototype=x.prototype,new w)}),H=function(S){function P(){var x=S.call(this)||this;return x.on=x.onInternal,x.once=x.onceInternal,x.un=x.unInternal,x.revision_=0,x}return ne(P,S),P.prototype.changed=function(){++this.revision_,this.dispatchEvent(D.Z.CHANGE)},P.prototype.getRevision=function(){return this.revision_},P.prototype.onInternal=function(x,w){if(Array.isArray(x)){for(var C=x.length,m=new Array(C),T=0;T<C;++T)m[T]=(0,G.oL)(this,x[T],w);return m}return(0,G.oL)(this,x,w)},P.prototype.onceInternal=function(x,w){var C;if(Array.isArray(x)){var m=x.length;C=new Array(m);for(var T=0;T<m;++T)C[T]=(0,G.Vx)(this,x[T],w)}else C=(0,G.Vx)(this,x,w);return w.ol_key=C,C},P.prototype.unInternal=function(x,w){var C=w.ol_key;if(C)L(C);else if(Array.isArray(x))for(var m=0,T=x.length;m<T;++m)this.removeEventListener(x[m],w);else this.removeEventListener(x,w)},P}(i.Z);function L(S){if(Array.isArray(S))for(var P=0,x=S.length;P<x;++P)(0,G.bN)(S[P]);else(0,G.bN)(S)}const $=H},1299:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>S});var P,i=p(3844),D=p(9972),G=p(1999),ne=p(119),H=p(6299),L=(P=function(x,w){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,m){C.__proto__=m}||function(C,m){for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(C[T]=m[T])})(x,w)},function(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function C(){this.constructor=x}P(x,w),x.prototype=null===w?Object.create(w):(C.prototype=w.prototype,new C)}),$=function(P){function x(w,C,m){var T=P.call(this)||this,g=m||{};return T.tileCoord=w,T.state=C,T.interimTile=null,T.key="",T.transition_=void 0===g.transition?250:g.transition,T.transitionStarts_={},T.interpolate=!!g.interpolate,T}return L(x,P),x.prototype.changed=function(){this.dispatchEvent(D.Z.CHANGE)},x.prototype.release=function(){},x.prototype.getKey=function(){return this.key+"/"+this.tileCoord},x.prototype.getInterimTile=function(){if(!this.interimTile)return this;var w=this.interimTile;do{if(w.getState()==G.Z.LOADED)return this.transition_=0,w;w=w.interimTile}while(w);return this},x.prototype.refreshInterimChain=function(){if(this.interimTile){var w=this.interimTile,C=this;do{if(w.getState()==G.Z.LOADED){w.interimTile=null;break}w.getState()==G.Z.LOADING?C=w:w.getState()==G.Z.IDLE?C.interimTile=w.interimTile:C=w,w=C.interimTile}while(w)}},x.prototype.getTileCoord=function(){return this.tileCoord},x.prototype.getState=function(){return this.state},x.prototype.setState=function(w){if(this.state!==G.Z.ERROR&&this.state>w)throw new Error("Tile load sequence violation");this.state=w,this.changed()},x.prototype.load=function(){(0,ne.O3)()},x.prototype.getAlpha=function(w,C){if(!this.transition_)return 1;var m=this.transitionStarts_[w];if(m){if(-1===m)return 1}else this.transitionStarts_[w]=m=C;var T=C-m+1e3/60;return T>=this.transition_?1:(0,H.YQ)(T/this.transition_)},x.prototype.inTransition=function(w){return!!this.transition_&&-1!==this.transitionStarts_[w]},x.prototype.endTransition=function(w){this.transition_&&(this.transitionStarts_[w]=-1)},x}(i.Z);const S=$},8399:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>$});var i=p(1911),D=function(){function S(P){this.highWaterMark=void 0!==P?P:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return S.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},S.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},S.prototype.containsKey=function(P){return this.entries_.hasOwnProperty(P)},S.prototype.forEach=function(P){for(var x=this.oldest_;x;)P(x.value_,x.key_,this),x=x.newer},S.prototype.get=function(P,x){var w=this.entries_[P];return(0,i.h)(void 0!==w,15),w===this.newest_||(w===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(w.newer.older=w.older,w.older.newer=w.newer),w.newer=null,w.older=this.newest_,this.newest_.newer=w,this.newest_=w),w.value_},S.prototype.remove=function(P){var x=this.entries_[P];return(0,i.h)(void 0!==x,15),x===this.newest_?(this.newest_=x.older,this.newest_&&(this.newest_.newer=null)):x===this.oldest_?(this.oldest_=x.newer,this.oldest_&&(this.oldest_.older=null)):(x.newer.older=x.older,x.older.newer=x.newer),delete this.entries_[P],--this.count_,x.value_},S.prototype.getCount=function(){return this.count_},S.prototype.getKeys=function(){var w,P=new Array(this.count_),x=0;for(w=this.newest_;w;w=w.older)P[x++]=w.key_;return P},S.prototype.getValues=function(){var w,P=new Array(this.count_),x=0;for(w=this.newest_;w;w=w.older)P[x++]=w.value_;return P},S.prototype.peekLast=function(){return this.oldest_.value_},S.prototype.peekLastKey=function(){return this.oldest_.key_},S.prototype.peekFirstKey=function(){return this.newest_.key_},S.prototype.pop=function(){var P=this.oldest_;return delete this.entries_[P.key_],P.newer&&(P.newer.older=null),this.oldest_=P.newer,this.oldest_||(this.newest_=null),--this.count_,P.value_},S.prototype.replace=function(P,x){this.get(P),this.entries_[P].value_=x},S.prototype.set=function(P,x){(0,i.h)(!(P in this.entries_),16);var w={key_:P,newer:null,older:this.newest_,value_:x};this.newest_?this.newest_.newer=w:this.oldest_=w,this.newest_=w,this.entries_[P]=w,++this.count_},S.prototype.setSize=function(P){this.highWaterMark=P},S}();const G=D;var S,ne=p(6366),H=(S=function(P,x){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,C){w.__proto__=C}||function(w,C){for(var m in C)Object.prototype.hasOwnProperty.call(C,m)&&(w[m]=C[m])})(P,x)},function(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function w(){this.constructor=P}S(P,x),P.prototype=null===x?Object.create(x):(w.prototype=x.prototype,new w)}),L=function(S){function P(){return null!==S&&S.apply(this,arguments)||this}return H(P,S),P.prototype.expireCache=function(x){for(;this.canExpireCache()&&!(this.peekLast().getKey()in x);)this.pop().release()},P.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var x=this.peekFirstKey(),C=(0,ne.Ul)(x)[0];this.forEach(function(m){m.tileCoord[0]!==C&&(this.remove((0,ne.km)(m.tileCoord)),m.release())}.bind(this))}},P}(G);const $=L},6609:(Ye,fe,p)=>{"use strict";p.d(fe,{T:()=>D,Z:()=>G});var i=function(){function ne(H,L,$,S){this.minX=H,this.maxX=L,this.minY=$,this.maxY=S}return ne.prototype.contains=function(H){return this.containsXY(H[1],H[2])},ne.prototype.containsTileRange=function(H){return this.minX<=H.minX&&H.maxX<=this.maxX&&this.minY<=H.minY&&H.maxY<=this.maxY},ne.prototype.containsXY=function(H,L){return this.minX<=H&&H<=this.maxX&&this.minY<=L&&L<=this.maxY},ne.prototype.equals=function(H){return this.minX==H.minX&&this.minY==H.minY&&this.maxX==H.maxX&&this.maxY==H.maxY},ne.prototype.extend=function(H){H.minX<this.minX&&(this.minX=H.minX),H.maxX>this.maxX&&(this.maxX=H.maxX),H.minY<this.minY&&(this.minY=H.minY),H.maxY>this.maxY&&(this.maxY=H.maxY)},ne.prototype.getHeight=function(){return this.maxY-this.minY+1},ne.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},ne.prototype.getWidth=function(){return this.maxX-this.minX+1},ne.prototype.intersects=function(H){return this.minX<=H.maxX&&this.maxX>=H.minX&&this.minY<=H.maxY&&this.maxY>=H.minY},ne}();function D(ne,H,L,$,S){return void 0!==S?(S.minX=ne,S.maxX=H,S.minY=L,S.maxY=$,S):new i(ne,H,L,$)}const G=i},1999:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},8587:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={ANIMATING:0,INTERACTING:1}},2456:(Ye,fe,p)=>{"use strict";function i(m,T,g){for(var v,O,k=g||D,B=0,F=m.length,M=!1;B<F;)(O=+k(m[v=B+(F-B>>1)],T))<0?B=v+1:(F=v,M=!O);return M?B:~B}function D(m,T){return m>T?1:m<T?-1:0}function G(m,T){return m.indexOf(T)>=0}function ne(m,T,g){var v=m.length;if(m[0]<=T)return 0;if(T<=m[v-1])return v-1;var O=void 0;if(g>0){for(O=1;O<v;++O)if(m[O]<T)return O-1}else if(g<0){for(O=1;O<v;++O)if(m[O]<=T)return O}else for(O=1;O<v;++O){if(m[O]==T)return O;if(m[O]<T)return"function"==typeof g?g(T,m[O-1],m[O])>0?O-1:O:m[O-1]-T<T-m[O]?O-1:O}return v-1}function H(m,T,g){for(;T<g;){var v=m[T];m[T]=m[g],m[g]=v,++T,--g}}function L(m,T){for(var g=Array.isArray(T)?T:[T],v=g.length,O=0;O<v;O++)m[m.length]=g[O]}function P(m,T){var g=m.length;if(g!==T.length)return!1;for(var v=0;v<g;v++)if(m[v]!==T[v])return!1;return!0}function C(m,T,g){var v=T||D;return m.every(function(O,k){if(0===k)return!0;var B=v(m[k-1],O);return!(B>0||g&&0===B)})}p.d(fe,{ry:()=>i,kK:()=>D,q9:()=>G,h7:()=>ne,FZ:()=>H,l7:()=>L,fS:()=>P,pT:()=>C})},1911:(Ye,fe,p)=>{"use strict";p.d(fe,{h:()=>D});var i=p(6978);function D(G,ne){if(!G)throw new i.Z(ne)}},3783:(Ye,fe,p)=>{"use strict";p.d(fe,{XC:()=>H,_2:()=>S,BB:()=>w});var i=p(1911),D=p(2156),G=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,ne=/^([a-z]*)$|^hsla?\(.*\)$/i;function H(m){return"string"==typeof m?m:w(m)}var T,g,$=(T={},g=0,function(v){var O;if(T.hasOwnProperty(v))O=T[v];else{if(g>=1024){var k=0;for(var B in T)0==(3&k++)&&(delete T[B],--g)}O=function(m){var T,g,v,O,k;if(ne.exec(m)&&(m=function(m){var T=document.createElement("div");if(T.style.color=m,""!==T.style.color){document.body.appendChild(T);var g=getComputedStyle(T).color;return document.body.removeChild(T),g}return""}(m)),G.exec(m)){var F,B=m.length-1;F=B<=4?1:2;var M=4===B||8===B;T=parseInt(m.substr(1+0*F,F),16),g=parseInt(m.substr(1+1*F,F),16),v=parseInt(m.substr(1+2*F,F),16),O=M?parseInt(m.substr(1+3*F,F),16):255,1==F&&(T=(T<<4)+T,g=(g<<4)+g,v=(v<<4)+v,M&&(O=(O<<4)+O)),k=[T,g,v,O/255]}else 0==m.indexOf("rgba(")?x(k=m.slice(5,-1).split(",").map(Number)):0==m.indexOf("rgb(")?((k=m.slice(4,-1).split(",").map(Number)).push(1),x(k)):(0,i.h)(!1,14);return k}(v),T[v]=O,++g}return O});function S(m){return Array.isArray(m)?m:$(m)}function x(m){return m[0]=(0,D.uZ)(m[0]+.5|0,0,255),m[1]=(0,D.uZ)(m[1]+.5|0,0,255),m[2]=(0,D.uZ)(m[2]+.5|0,0,255),m[3]=(0,D.uZ)(m[3],0,1),m}function w(m){var T=m[0];T!=(0|T)&&(T=T+.5|0);var g=m[1];g!=(0|g)&&(g=g+.5|0);var v=m[2];return v!=(0|v)&&(v=v+.5|0),"rgba("+T+","+g+","+v+","+(void 0===m[3]?1:Math.round(100*m[3])/100)+")"}},5813:(Ye,fe,p)=>{"use strict";p.d(fe,{y:()=>D});var i=p(3783);function D(G){return Array.isArray(G)?(0,i.BB)(G):G}},3481:(Ye,fe,p)=>{"use strict";p.d(fe,{IH:()=>D,oL:()=>ne,fS:()=>S,U1:()=>P,bA:()=>x,bI:()=>w,TE:()=>C,Bs:()=>m,Cf:()=>v,jk:()=>O});var i=p(760);function D(k,B){return k[0]+=+B[0],k[1]+=+B[1],k}function ne(k,B){var te,oe,y=B[0],R=B[1],z=y[0],re=y[1],le=R[0],he=R[1],xe=le-z,A=he-re,W=0===xe&&0===A?0:(xe*(k[0]-z)+A*(k[1]-re))/(xe*xe+A*A||0);return W<=0?(te=z,oe=re):W>=1?(te=le,oe=he):(te=z+W*xe,oe=re+W*A),[te,oe]}function S(k,B){for(var F=!0,M=k.length-1;M>=0;--M)if(k[M]!=B[M]){F=!1;break}return F}function P(k,B){var F=Math.cos(B),M=Math.sin(B),R=k[1]*F+k[0]*M;return k[0]=k[0]*F-k[1]*M,k[1]=R,k}function x(k,B){return k[0]*=B,k[1]*=B,k}function w(k,B){var F=k[0]-B[0],M=k[1]-B[1];return F*F+M*M}function C(k,B){return Math.sqrt(w(k,B))}function m(k,B){return w(k,ne(k,B))}function v(k,B){if(B.canWrapX()){var F=(0,i.dz)(B.getExtent()),M=O(k,B,F);M&&(k[0]-=M*F)}return k}function O(k,B,F){var M=B.getExtent(),y=0;if(B.canWrapX()&&(k[0]<M[0]||k[0]>M[2])){var R=F||(0,i.dz)(M);y=Math.floor((k[0]-M[0])/R)}return y}},5263:(Ye,fe,p)=>{"use strict";p.d(fe,{oj:()=>i,XV:()=>G,hg:()=>H,hN:()=>L,p:()=>P,Xy:()=>x});var i="ol-hidden",G="ol-unselectable",H="ol-control",L="ol-collapsed",$=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),S=["style","variant","weight","size","lineHeight","family"],P=function(w){var C=w.match($);if(!C)return null;for(var m={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},T=0,g=S.length;T<g;++T){var v=C[T+1];void 0!==v&&(m[S[T]]=v)}return m.families=m.family.split(/,\s?/),m};function x(w){return 1===w?"":String(Math.round(100*w)/100)}},1992:(Ye,fe,p)=>{"use strict";p.d(fe,{E4:()=>D,$H:()=>H,ZF:()=>L,ep:()=>$,hF:()=>S});var i=p(9996);function D(P,x,w,C){var m;return m=w&&w.length?w.shift():i.Id?new OffscreenCanvas(P||300,x||300):document.createElement("canvas"),P&&(m.width=P),x&&(m.height=x),m.getContext("2d",C)}function H(P,x){var w=x.parentNode;w&&w.replaceChild(P,x)}function L(P){return P&&P.parentNode?P.parentNode.removeChild(P):null}function $(P){for(;P.lastChild;)P.removeChild(P.lastChild)}function S(P,x){for(var w=P.childNodes,C=0;;++C){var m=w[C],T=x[C];if(!m&&!T)break;if(m!==T){if(!m){P.appendChild(T);continue}if(!T){P.removeChild(m),--C;continue}P.insertBefore(T,m)}}}},6299:(Ye,fe,p)=>{"use strict";function i(L){return Math.pow(L,3)}function D(L){return 1-i(1-L)}function G(L){return 3*L*L-2*L*L*L}function ne(L){return L}p.d(fe,{YQ:()=>i,Vv:()=>D,rd:()=>G,GE:()=>ne})},1729:(Ye,fe,p)=>{"use strict";p.d(fe,{oL:()=>D,Vx:()=>G,bN:()=>ne});var i=p(9466);function D(H,L,$,S,P){if(S&&S!==H&&($=$.bind(S)),P){var x=$;$=function(){H.removeEventListener(L,$),x.apply(this,arguments)}}var w={target:H,type:L,listener:$};return H.addEventListener(L,$),w}function G(H,L,$,S){return D(H,L,$,S,!0)}function ne(H){H&&H.target&&(H.target.removeEventListener(H.type,H.listener),(0,i.ZH)(H))}},8214:(Ye,fe,p)=>{"use strict";p.d(fe,{ZP:()=>ne});const ne=function(){function H(L){this.type=L,this.target=null}return H.prototype.preventDefault=function(){this.defaultPrevented=!0},H.prototype.stopPropagation=function(){this.propagationStopped=!0},H}()},9972:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},3844:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>$});var S,i=p(625),D=p(8214),G=p(1345),ne=p(9466),H=(S=function(P,x){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,C){w.__proto__=C}||function(w,C){for(var m in C)Object.prototype.hasOwnProperty.call(C,m)&&(w[m]=C[m])})(P,x)},function(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function w(){this.constructor=P}S(P,x),P.prototype=null===x?Object.create(x):(w.prototype=x.prototype,new w)}),L=function(S){function P(x){var w=S.call(this)||this;return w.eventTarget_=x,w.pendingRemovals_=null,w.dispatching_=null,w.listeners_=null,w}return H(P,S),P.prototype.addEventListener=function(x,w){if(x&&w){var C=this.listeners_||(this.listeners_={}),m=C[x]||(C[x]=[]);-1===m.indexOf(w)&&m.push(w)}},P.prototype.dispatchEvent=function(x){var w="string"==typeof x?new D.ZP(x):x,C=w.type;w.target||(w.target=this.eventTarget_||this);var T,m=this.listeners_&&this.listeners_[C];if(m){var g=this.dispatching_||(this.dispatching_={}),v=this.pendingRemovals_||(this.pendingRemovals_={});C in g||(g[C]=0,v[C]=0),++g[C];for(var O=0,k=m.length;O<k;++O)if(!1===(T="handleEvent"in m[O]?m[O].handleEvent(w):m[O].call(this,w))||w.propagationStopped){T=!1;break}if(--g[C],0===g[C]){var B=v[C];for(delete v[C];B--;)this.removeEventListener(C,G.Zn);delete g[C]}return T}},P.prototype.disposeInternal=function(){this.listeners_&&(0,ne.ZH)(this.listeners_)},P.prototype.getListeners=function(x){return this.listeners_&&this.listeners_[x]||void 0},P.prototype.hasListener=function(x){return!!this.listeners_&&(x?x in this.listeners_:Object.keys(this.listeners_).length>0)},P.prototype.removeEventListener=function(x,w){var C=this.listeners_&&this.listeners_[x];if(C){var m=C.indexOf(w);-1!==m&&(this.pendingRemovals_&&x in this.pendingRemovals_?(C[m]=G.Zn,++this.pendingRemovals_[x]):(C.splice(m,1),0===C.length&&delete this.listeners_[x]))}},P}(i.Z);const $=L},760:(Ye,fe,p)=>{"use strict";p.d(fe,{hI:()=>ne,f3:()=>L,d9:()=>$,qf:()=>S,b8:()=>P,r4:()=>x,jE:()=>w,pX:()=>C,lJ:()=>m,T9:()=>T,YN:()=>g,HK:()=>v,GN:()=>k,fS:()=>F,l7:()=>y,Wj:()=>R,qP:()=>re,H6:()=>xe,bg:()=>A,hC:()=>W,w$:()=>te,qg:()=>oe,g0:()=>Te,p8:()=>ae,Cr:()=>_e,Ed:()=>Pe,rL:()=>Be,Xv:()=>Ce,dz:()=>ke,kK:()=>qe,xb:()=>at,EO:()=>Gt,I7:()=>Ht,Ne:()=>wn,Cf:()=>fn});var i=p(7655),D=p(2401),G=p(1911);function ne(He){for(var bt=[1/0,1/0,-1/0,-1/0],nt=0,Ut=He.length;nt<Ut;++nt)R(bt,He[nt]);return bt}function L(He,bt,nt){return nt?(nt[0]=He[0]-bt,nt[1]=He[1]-bt,nt[2]=He[2]+bt,nt[3]=He[3]+bt,nt):[He[0]-bt,He[1]-bt,He[2]+bt,He[3]+bt]}function $(He,bt){return bt?(bt[0]=He[0],bt[1]=He[1],bt[2]=He[2],bt[3]=He[3],bt):He.slice()}function S(He,bt,nt){var Ut,Lt;return(Ut=bt<He[0]?He[0]-bt:He[2]<bt?bt-He[2]:0)*Ut+(Lt=nt<He[1]?He[1]-nt:He[3]<nt?nt-He[3]:0)*Lt}function P(He,bt){return w(He,bt[0],bt[1])}function x(He,bt){return He[0]<=bt[0]&&bt[2]<=He[2]&&He[1]<=bt[1]&&bt[3]<=He[3]}function w(He,bt,nt){return He[0]<=bt&&bt<=He[2]&&He[1]<=nt&&nt<=He[3]}function C(He,bt){var Pn=bt[0],kt=bt[1],dt=D.Z.UNKNOWN;return Pn<He[0]?dt|=D.Z.LEFT:Pn>He[2]&&(dt|=D.Z.RIGHT),kt<He[1]?dt|=D.Z.BELOW:kt>He[3]&&(dt|=D.Z.ABOVE),dt===D.Z.UNKNOWN&&(dt=D.Z.INTERSECTING),dt}function m(){return[1/0,1/0,-1/0,-1/0]}function T(He,bt,nt,Ut,Lt){return Lt?(Lt[0]=He,Lt[1]=bt,Lt[2]=nt,Lt[3]=Ut,Lt):[He,bt,nt,Ut]}function g(He){return T(1/0,1/0,-1/0,-1/0,He)}function v(He,bt){var nt=He[0],Ut=He[1];return T(nt,Ut,nt,Ut,bt)}function k(He,bt,nt,Ut,Lt){return re(g(Lt),He,bt,nt,Ut)}function F(He,bt){return He[0]==bt[0]&&He[2]==bt[2]&&He[1]==bt[1]&&He[3]==bt[3]}function y(He,bt){return bt[0]<He[0]&&(He[0]=bt[0]),bt[2]>He[2]&&(He[2]=bt[2]),bt[1]<He[1]&&(He[1]=bt[1]),bt[3]>He[3]&&(He[3]=bt[3]),He}function R(He,bt){bt[0]<He[0]&&(He[0]=bt[0]),bt[0]>He[2]&&(He[2]=bt[0]),bt[1]<He[1]&&(He[1]=bt[1]),bt[1]>He[3]&&(He[3]=bt[1])}function re(He,bt,nt,Ut,Lt){for(;nt<Ut;nt+=Lt)he(He,bt[nt],bt[nt+1]);return He}function he(He,bt,nt){He[0]=Math.min(He[0],bt),He[1]=Math.min(He[1],nt),He[2]=Math.max(He[2],bt),He[3]=Math.max(He[3],nt)}function xe(He,bt){var nt;return!!((nt=bt(W(He)))||(nt=bt(te(He)),nt)||(nt=bt(Ce(He)),nt)||(nt=bt(Be(He)),nt))&&nt}function A(He){var bt=0;return at(He)||(bt=ke(He)*_e(He)),bt}function W(He){return[He[0],He[1]]}function te(He){return[He[2],He[1]]}function oe(He){return[(He[0]+He[2])/2,(He[1]+He[3])/2]}function Te(He,bt){var nt;return bt===i.Z.BOTTOM_LEFT?nt=W(He):bt===i.Z.BOTTOM_RIGHT?nt=te(He):bt===i.Z.TOP_LEFT?nt=Be(He):bt===i.Z.TOP_RIGHT?nt=Ce(He):(0,G.h)(!1,13),nt}function ae(He,bt,nt,Ut,Lt){var vn=bt*Ut[0]/2,Pn=bt*Ut[1]/2,kt=Math.cos(nt),dt=Math.sin(nt),ht=vn*kt,ot=vn*dt,_t=Pn*kt,$t=Pn*dt,Rt=He[0],Wt=He[1],_n=Rt-ht+$t,Gn=Rt-ht-$t,en=Rt+ht-$t,Hn=Rt+ht+$t,On=Wt-ot-_t,Vn=Wt-ot+_t,Fn=Wt+ot+_t,er=Wt+ot-_t;return T(Math.min(_n,Gn,en,Hn),Math.min(On,Vn,Fn,er),Math.max(_n,Gn,en,Hn),Math.max(On,Vn,Fn,er),Lt)}function _e(He){return He[3]-He[1]}function Pe(He,bt,nt){var Ut=nt||[1/0,1/0,-1/0,-1/0];return qe(He,bt)?(Ut[0]=He[0]>bt[0]?He[0]:bt[0],Ut[1]=He[1]>bt[1]?He[1]:bt[1],Ut[2]=He[2]<bt[2]?He[2]:bt[2],Ut[3]=He[3]<bt[3]?He[3]:bt[3]):g(Ut),Ut}function Be(He){return[He[0],He[3]]}function Ce(He){return[He[2],He[3]]}function ke(He){return He[2]-He[0]}function qe(He,bt){return He[0]<=bt[2]&&He[2]>=bt[0]&&He[1]<=bt[3]&&He[3]>=bt[1]}function at(He){return He[2]<He[0]||He[3]<He[1]}function Gt(He,bt){return bt?(bt[0]=He[0],bt[1]=He[1],bt[2]=He[2],bt[3]=He[3],bt):He}function Ht(He,bt,nt){var Ut=!1,Lt=C(He,bt),vn=C(He,nt);if(Lt===D.Z.INTERSECTING||vn===D.Z.INTERSECTING)Ut=!0;else{var Pn=He[0],kt=He[1],dt=He[2],ht=He[3],$t=nt[0],Rt=nt[1],Wt=(Rt-bt[1])/($t-bt[0]),_n=void 0,Gn=void 0;!!(vn&D.Z.ABOVE)&&!(Lt&D.Z.ABOVE)&&(Ut=(_n=$t-(Rt-ht)/Wt)>=Pn&&_n<=dt),Ut||!(vn&D.Z.RIGHT)||Lt&D.Z.RIGHT||(Ut=(Gn=Rt-($t-dt)*Wt)>=kt&&Gn<=ht),Ut||!(vn&D.Z.BELOW)||Lt&D.Z.BELOW||(Ut=(_n=$t-(Rt-kt)/Wt)>=Pn&&_n<=dt),!Ut&&vn&D.Z.LEFT&&!(Lt&D.Z.LEFT)&&(Ut=(Gn=Rt-($t-Pn)*Wt)>=kt&&Gn<=ht)}return Ut}function wn(He,bt,nt,Ut){var Lt=[];if(Ut>1)for(var vn=He[2]-He[0],Pn=He[3]-He[1],kt=0;kt<Ut;++kt)Lt.push(He[0]+vn*kt/Ut,He[1],He[2],He[1]+Pn*kt/Ut,He[2]-vn*kt/Ut,He[3],He[0],He[3]-Pn*kt/Ut);else Lt=[He[0],He[1],He[2],He[1],He[2],He[3],He[0],He[3]];bt(Lt,Lt,2);for(var dt=[],ht=[],ot=(kt=0,Lt.length);kt<ot;kt+=2)dt.push(Lt[kt]),ht.push(Lt[kt+1]);return function(He,bt,nt){return T(Math.min.apply(null,He),Math.min.apply(null,bt),Math.max.apply(null,He),Math.max.apply(null,bt),nt)}(dt,ht,nt)}function fn(He,bt){var nt=bt.getExtent(),Ut=oe(He);if(bt.canWrapX()&&(Ut[0]<nt[0]||Ut[0]>=nt[2])){var Lt=ke(nt),Pn=Math.floor((Ut[0]-nt[0])/Lt)*Lt;He[0]-=Pn,He[2]-=Pn}return He}},7655:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},2401:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},507:(Ye,fe,p)=>{"use strict";p.d(fe,{ov:()=>ne,Be:()=>H});var i=p(5569),D=p(1345);function ne($,S,P,x,w,C,m){var T=new XMLHttpRequest;T.open("GET","function"==typeof $?$(P,x,w):$,!0),S.getType()==i.Z.ARRAY_BUFFER&&(T.responseType="arraybuffer"),T.withCredentials=false,T.onload=function(g){if(!T.status||T.status>=200&&T.status<300){var v=S.getType(),O=void 0;v==i.Z.JSON||v==i.Z.TEXT?O=T.responseText:v==i.Z.XML?(O=T.responseXML)||(O=(new DOMParser).parseFromString(T.responseText,"application/xml")):v==i.Z.ARRAY_BUFFER&&(O=T.response),O?C(S.readFeatures(O,{extent:P,featureProjection:w}),S.readProjection(O)):m()}else m()},T.onerror=m,T.send()}function H($,S){return function(P,x,w,C,m){var T=this;ne($,S,P,x,w,function(g,v){T.addFeatures(g),void 0!==C&&C(g)},m||D.Zn)}}},4096:(Ye,fe,p)=>{"use strict";p.d(fe,{ZP:()=>L,fI:()=>$});var i=p(9849),D=p(119),G=p(9466),ne=p(5478);const L=function(){function P(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return P.prototype.getReadOptions=function(x,w){var C;if(w){var m=w.dataProjection?(0,ne.U2)(w.dataProjection):this.readProjection(x);w.extent&&m&&m.getUnits()===i.ZP.TILE_PIXELS&&(m=(0,ne.U2)(m)).setWorldExtent(w.extent),C={dataProjection:m,featureProjection:w.featureProjection}}return this.adaptOptions(C)},P.prototype.adaptOptions=function(x){return(0,G.f0)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},x)},P.prototype.getType=function(){return(0,D.O3)()},P.prototype.readFeature=function(x,w){return(0,D.O3)()},P.prototype.readFeatures=function(x,w){return(0,D.O3)()},P.prototype.readGeometry=function(x,w){return(0,D.O3)()},P.prototype.readProjection=function(x){return(0,D.O3)()},P.prototype.writeFeature=function(x,w){return(0,D.O3)()},P.prototype.writeFeatures=function(x,w){return(0,D.O3)()},P.prototype.writeGeometry=function(x,w){return(0,D.O3)()},P}();function $(P,x,w){var T,C=w?(0,ne.U2)(w.featureProjection):null,m=w?(0,ne.U2)(w.dataProjection):null;if(T=C&&m&&!(0,ne.OP)(C,m)?(x?P.clone():P).transform(x?C:m,x?m:C):P,x&&w&&void 0!==w.decimals){var g=Math.pow(10,w.decimals);T===P&&(T=P.clone()),T.applyTransform(function(O){for(var k=0,B=O.length;k<B;++k)O[k]=Math.round(O[k]*g)/g;return O})}return T}},5569:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},6802:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>Pe});var Ge,i=p(3171),D=p(4118),G=p(4410),ne=p(4096),H=p(5569),L=p(119),$=(Ge=function(Ue,Be){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,ke){Ce.__proto__=ke}||function(Ce,ke){for(var qe in ke)Object.prototype.hasOwnProperty.call(ke,qe)&&(Ce[qe]=ke[qe])})(Ue,Be)},function(Ue,Be){if("function"!=typeof Be&&null!==Be)throw new TypeError("Class extends value "+String(Be)+" is not a constructor or null");function Ce(){this.constructor=Ue}Ge(Ue,Be),Ue.prototype=null===Be?Object.create(Be):(Ce.prototype=Be.prototype,new Ce)}),S=function(Ge){function Ue(){return Ge.call(this)||this}return $(Ue,Ge),Ue.prototype.getType=function(){return H.Z.JSON},Ue.prototype.readFeature=function(Be,Ce){return this.readFeatureFromObject(P(Be),this.getReadOptions(Be,Ce))},Ue.prototype.readFeatures=function(Be,Ce){return this.readFeaturesFromObject(P(Be),this.getReadOptions(Be,Ce))},Ue.prototype.readFeatureFromObject=function(Be,Ce){return(0,L.O3)()},Ue.prototype.readFeaturesFromObject=function(Be,Ce){return(0,L.O3)()},Ue.prototype.readGeometry=function(Be,Ce){return this.readGeometryFromObject(P(Be),this.getReadOptions(Be,Ce))},Ue.prototype.readGeometryFromObject=function(Be,Ce){return(0,L.O3)()},Ue.prototype.readProjection=function(Be){return this.readProjectionFromObject(P(Be))},Ue.prototype.readProjectionFromObject=function(Be){return(0,L.O3)()},Ue.prototype.writeFeature=function(Be,Ce){return JSON.stringify(this.writeFeatureObject(Be,Ce))},Ue.prototype.writeFeatureObject=function(Be,Ce){return(0,L.O3)()},Ue.prototype.writeFeatures=function(Be,Ce){return JSON.stringify(this.writeFeaturesObject(Be,Ce))},Ue.prototype.writeFeaturesObject=function(Be,Ce){return(0,L.O3)()},Ue.prototype.writeGeometry=function(Be,Ce){return JSON.stringify(this.writeGeometryObject(Be,Ce))},Ue.prototype.writeGeometryObject=function(Be,Ce){return(0,L.O3)()},Ue}(ne.ZP);function P(Ge){return"string"==typeof Ge?JSON.parse(Ge)||null:null!==Ge?Ge:null}const x=S;var w=p(6527),C=p(1751),m=p(610),T=p(41),g=p(187),v=p(4173),O=p(1911),k=p(9466),B=p(5478),F=function(){var Ge=function(Ue,Be){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,ke){Ce.__proto__=ke}||function(Ce,ke){for(var qe in ke)Object.prototype.hasOwnProperty.call(ke,qe)&&(Ce[qe]=ke[qe])})(Ue,Be)};return function(Ue,Be){if("function"!=typeof Be&&null!==Be)throw new TypeError("Class extends value "+String(Be)+" is not a constructor or null");function Ce(){this.constructor=Ue}Ge(Ue,Be),Ue.prototype=null===Be?Object.create(Be):(Ce.prototype=Be.prototype,new Ce)}}(),M=function(Ge){function Ue(Be){var Ce=this,ke=Be||{};return(Ce=Ge.call(this)||this).dataProjection=(0,B.U2)(ke.dataProjection?ke.dataProjection:"EPSG:4326"),ke.featureProjection&&(Ce.defaultFeatureProjection=(0,B.U2)(ke.featureProjection)),Ce.geometryName_=ke.geometryName,Ce.extractGeometryName_=ke.extractGeometryName,Ce.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],Ce}return F(Ue,Ge),Ue.prototype.readFeatureFromObject=function(Be,Ce){var ke,qe=y((ke="Feature"===Be.type?Be:{type:"Feature",geometry:Be,properties:null}).geometry,Ce),at=new i.Z;return this.geometryName_?at.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in ke!==void 0&&at.setGeometryName(ke.geometry_name),at.setGeometry(qe),"id"in ke&&at.setId(ke.id),ke.properties&&at.setProperties(ke.properties,!0),at},Ue.prototype.readFeaturesFromObject=function(Be,Ce){var qe=null;if("FeatureCollection"===Be.type){qe=[];for(var Gt=Be.features,Tt=0,Ht=Gt.length;Tt<Ht;++Tt)qe.push(this.readFeatureFromObject(Gt[Tt],Ce))}else qe=[this.readFeatureFromObject(Be,Ce)];return qe},Ue.prototype.readGeometryFromObject=function(Be,Ce){return y(Be,Ce)},Ue.prototype.readProjectionFromObject=function(Be){var ke,Ce=Be.crs;return Ce?"name"==Ce.type?ke=(0,B.U2)(Ce.properties.name):"EPSG"===Ce.type?ke=(0,B.U2)("EPSG:"+Ce.properties.code):(0,O.h)(!1,36):ke=this.dataProjection,ke},Ue.prototype.writeFeatureObject=function(Be,Ce){Ce=this.adaptOptions(Ce);var ke={type:"Feature",geometry:null,properties:null},qe=Be.getId();if(void 0!==qe&&(ke.id=qe),!Be.hasProperties())return ke;var at=Be.getProperties(),Gt=Be.getGeometry();return Gt&&(ke.geometry=W(Gt,Ce),delete at[Be.getGeometryName()]),(0,k.xb)(at)||(ke.properties=at),ke},Ue.prototype.writeFeaturesObject=function(Be,Ce){Ce=this.adaptOptions(Ce);for(var ke=[],qe=0,at=Be.length;qe<at;++qe)ke.push(this.writeFeatureObject(Be[qe],Ce));return{type:"FeatureCollection",features:ke}},Ue.prototype.writeGeometryObject=function(Be,Ce){return W(Be,this.adaptOptions(Ce))},Ue}(x);function y(Ge,Ue){if(!Ge)return null;var Be;switch(Ge.type){case G.Z.POINT:Be=function(Ge){return new g.Z(Ge.coordinates)}(Ge);break;case G.Z.LINE_STRING:Be=function(Ge){return new w.Z(Ge.coordinates)}(Ge);break;case G.Z.POLYGON:Be=function(Ge){return new v.ZP(Ge.coordinates)}(Ge);break;case G.Z.MULTI_POINT:Be=function(Ge){return new m.Z(Ge.coordinates)}(Ge);break;case G.Z.MULTI_LINE_STRING:Be=function(Ge){return new C.Z(Ge.coordinates)}(Ge);break;case G.Z.MULTI_POLYGON:Be=function(Ge){return new T.Z(Ge.coordinates)}(Ge);break;case G.Z.GEOMETRY_COLLECTION:Be=function(Ge,Ue){var Be=Ge.geometries.map(function(Ce){return y(Ce,undefined)});return new D.Z(Be)}(Ge);break;default:throw new Error("Unsupported GeoJSON type: "+Ge.type)}return(0,ne.fI)(Be,!1,Ue)}function W(Ge,Ue){var Ce,Be=(Ge=(0,ne.fI)(Ge,!0,Ue)).getType();switch(Be){case G.Z.POINT:Ce=function(Ge,Ue){return{type:"Point",coordinates:Ge.getCoordinates()}}(Ge);break;case G.Z.LINE_STRING:Ce=function(Ge,Ue){return{type:"LineString",coordinates:Ge.getCoordinates()}}(Ge);break;case G.Z.POLYGON:Ce=function(Ge,Ue){var Be;return Ue&&(Be=Ue.rightHanded),{type:"Polygon",coordinates:Ge.getCoordinates(Be)}}(Ge,Ue);break;case G.Z.MULTI_POINT:Ce=function(Ge,Ue){return{type:"MultiPoint",coordinates:Ge.getCoordinates()}}(Ge);break;case G.Z.MULTI_LINE_STRING:Ce=function(Ge,Ue){return{type:"MultiLineString",coordinates:Ge.getCoordinates()}}(Ge);break;case G.Z.MULTI_POLYGON:Ce=function(Ge,Ue){var Be;return Ue&&(Be=Ue.rightHanded),{type:"MultiPolygon",coordinates:Ge.getCoordinates(Be)}}(Ge,Ue);break;case G.Z.GEOMETRY_COLLECTION:Ce=function(Ge,Ue){var Be=Ge.getGeometriesArray().map(function(Ce){var ke=(0,k.f0)({},Ue);return delete ke.featureProjection,W(Ce,ke)});return{type:"GeometryCollection",geometries:Be}}(Ge,Ue);break;case G.Z.CIRCLE:Ce={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+Be)}return Ce}const Pe=M},3722:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>Ue});var Be,i=p(3171),D=p(4118),G=p(4720),ne=p(4410),H=p(6527),L=p(1751),$=p(610),S=p(41),P=p(187),x=p(4173),w=p(4096),C=p(5569),m=p(119),T=(Be=function(Ce,ke){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(qe,at){qe.__proto__=at}||function(qe,at){for(var Gt in at)Object.prototype.hasOwnProperty.call(at,Gt)&&(qe[Gt]=at[Gt])})(Ce,ke)},function(Ce,ke){if("function"!=typeof ke&&null!==ke)throw new TypeError("Class extends value "+String(ke)+" is not a constructor or null");function qe(){this.constructor=Ce}Be(Ce,ke),Ce.prototype=null===ke?Object.create(ke):(qe.prototype=ke.prototype,new qe)}),g=function(Be){function Ce(){return Be.call(this)||this}return T(Ce,Be),Ce.prototype.getType=function(){return C.Z.TEXT},Ce.prototype.readFeature=function(ke,qe){return this.readFeatureFromText(v(ke),this.adaptOptions(qe))},Ce.prototype.readFeatureFromText=function(ke,qe){return(0,m.O3)()},Ce.prototype.readFeatures=function(ke,qe){return this.readFeaturesFromText(v(ke),this.adaptOptions(qe))},Ce.prototype.readFeaturesFromText=function(ke,qe){return(0,m.O3)()},Ce.prototype.readGeometry=function(ke,qe){return this.readGeometryFromText(v(ke),this.adaptOptions(qe))},Ce.prototype.readGeometryFromText=function(ke,qe){return(0,m.O3)()},Ce.prototype.readProjection=function(ke){return this.readProjectionFromText(v(ke))},Ce.prototype.readProjectionFromText=function(ke){return this.dataProjection},Ce.prototype.writeFeature=function(ke,qe){return this.writeFeatureText(ke,this.adaptOptions(qe))},Ce.prototype.writeFeatureText=function(ke,qe){return(0,m.O3)()},Ce.prototype.writeFeatures=function(ke,qe){return this.writeFeaturesText(ke,this.adaptOptions(qe))},Ce.prototype.writeFeaturesText=function(ke,qe){return(0,m.O3)()},Ce.prototype.writeGeometry=function(ke,qe){return this.writeGeometryText(ke,this.adaptOptions(qe))},Ce.prototype.writeGeometryText=function(ke,qe){return(0,m.O3)()},Ce}(w.ZP);function v(Be){return"string"==typeof Be?Be:""}const O=g;var k=function(){var Be=function(Ce,ke){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(qe,at){qe.__proto__=at}||function(qe,at){for(var Gt in at)Object.prototype.hasOwnProperty.call(at,Gt)&&(qe[Gt]=at[Gt])})(Ce,ke)};return function(Ce,ke){if("function"!=typeof ke&&null!==ke)throw new TypeError("Class extends value "+String(ke)+" is not a constructor or null");function qe(){this.constructor=Ce}Be(Ce,ke),Ce.prototype=null===ke?Object.create(ke):(qe.prototype=ke.prototype,new qe)}}(),B={POINT:P.Z,LINESTRING:H.Z,POLYGON:x.ZP,MULTIPOINT:$.Z,MULTILINESTRING:L.Z,MULTIPOLYGON:S.Z},F="EMPTY",re={};for(var le in ne.Z)re[le]=ne.Z[le].toUpperCase();var he=function(){function Be(Ce){this.wkt=Ce,this.index_=-1}return Be.prototype.isAlpha_=function(Ce){return Ce>="a"&&Ce<="z"||Ce>="A"&&Ce<="Z"},Be.prototype.isNumeric_=function(Ce,ke){return Ce>="0"&&Ce<="9"||"."==Ce&&!(void 0!==ke&&ke)},Be.prototype.isWhiteSpace_=function(Ce){return" "==Ce||"\t"==Ce||"\r"==Ce||"\n"==Ce},Be.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},Be.prototype.nextToken=function(){var at,Ce=this.nextChar_(),ke=this.index_,qe=Ce;if("("==Ce)at=2;else if(","==Ce)at=5;else if(")"==Ce)at=3;else if(this.isNumeric_(Ce)||"-"==Ce)at=4,qe=this.readNumber_();else if(this.isAlpha_(Ce))at=1,qe=this.readText_();else{if(this.isWhiteSpace_(Ce))return this.nextToken();if(""!==Ce)throw new Error("Unexpected character: "+Ce);at=6}return{position:ke,value:qe,type:at}},Be.prototype.readNumber_=function(){var Ce,ke=this.index_,qe=!1,at=!1;do{"."==Ce?qe=!0:("e"==Ce||"E"==Ce)&&(at=!0),Ce=this.nextChar_()}while(this.isNumeric_(Ce,qe)||!at&&("e"==Ce||"E"==Ce)||at&&("-"==Ce||"+"==Ce));return parseFloat(this.wkt.substring(ke,this.index_--))},Be.prototype.readText_=function(){var Ce,ke=this.index_;do{Ce=this.nextChar_()}while(this.isAlpha_(Ce));return this.wkt.substring(ke,this.index_--).toUpperCase()},Be}(),xe=function(){function Be(Ce){this.lexer_=Ce,this.token_={position:0,type:0},this.layout_=G.Z.XY}return Be.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},Be.prototype.isTokenType=function(Ce){return this.token_.type==Ce},Be.prototype.match=function(Ce){var ke=this.isTokenType(Ce);return ke&&this.consume_(),ke},Be.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},Be.prototype.parseGeometryLayout_=function(){var Ce=G.Z.XY,ke=this.token_;if(this.isTokenType(1)){var qe=ke.value;"Z"===qe?Ce=G.Z.XYZ:"M"===qe?Ce=G.Z.XYM:"ZM"===qe&&(Ce=G.Z.XYZM),Ce!==G.Z.XY&&this.consume_()}return Ce},Be.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var Ce=[];do{Ce.push(this.parseGeometry_())}while(this.match(5));if(this.match(3))return Ce}throw new Error(this.formatErrorMessage_())},Be.prototype.parsePointText_=function(){if(this.match(2)){var Ce=this.parsePoint_();if(this.match(3))return Ce}throw new Error(this.formatErrorMessage_())},Be.prototype.parseLineStringText_=function(){if(this.match(2)){var Ce=this.parsePointList_();if(this.match(3))return Ce}throw new Error(this.formatErrorMessage_())},Be.prototype.parsePolygonText_=function(){if(this.match(2)){var Ce=this.parseLineStringTextList_();if(this.match(3))return Ce}throw new Error(this.formatErrorMessage_())},Be.prototype.parseMultiPointText_=function(){if(this.match(2)){var Ce;if(Ce=2==this.token_.type?this.parsePointTextList_():this.parsePointList_(),this.match(3))return Ce}throw new Error(this.formatErrorMessage_())},Be.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var Ce=this.parseLineStringTextList_();if(this.match(3))return Ce}throw new Error(this.formatErrorMessage_())},Be.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var Ce=this.parsePolygonTextList_();if(this.match(3))return Ce}throw new Error(this.formatErrorMessage_())},Be.prototype.parsePoint_=function(){for(var Ce=[],ke=this.layout_.length,qe=0;qe<ke;++qe){var at=this.token_;if(!this.match(4))break;Ce.push(at.value)}if(Ce.length==ke)return Ce;throw new Error(this.formatErrorMessage_())},Be.prototype.parsePointList_=function(){for(var Ce=[this.parsePoint_()];this.match(5);)Ce.push(this.parsePoint_());return Ce},Be.prototype.parsePointTextList_=function(){for(var Ce=[this.parsePointText_()];this.match(5);)Ce.push(this.parsePointText_());return Ce},Be.prototype.parseLineStringTextList_=function(){for(var Ce=[this.parseLineStringText_()];this.match(5);)Ce.push(this.parseLineStringText_());return Ce},Be.prototype.parsePolygonTextList_=function(){for(var Ce=[this.parsePolygonText_()];this.match(5);)Ce.push(this.parsePolygonText_());return Ce},Be.prototype.isEmptyGeometry_=function(){var Ce=this.isTokenType(1)&&this.token_.value==F;return Ce&&this.consume_(),Ce},Be.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},Be.prototype.parseGeometry_=function(){var Ce=this.token_;if(this.match(1)){var ke=Ce.value;this.layout_=this.parseGeometryLayout_();var qe=this.isEmptyGeometry_();if("GEOMETRYCOLLECTION"==ke){if(qe)return new D.Z([]);var at=this.parseGeometryCollectionText_();return new D.Z(at)}var Gt=B[ke];if(!Gt)throw new Error("Invalid geometry type: "+ke);var Tt=void 0;if(qe)Tt="POINT"==ke?[NaN,NaN]:[];else switch(ke){case"POINT":Tt=this.parsePointText_();break;case"LINESTRING":Tt=this.parseLineStringText_();break;case"POLYGON":Tt=this.parsePolygonText_();break;case"MULTIPOINT":Tt=this.parseMultiPointText_();break;case"MULTILINESTRING":Tt=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":Tt=this.parseMultiPolygonText_()}return new Gt(Tt,this.layout_)}throw new Error(this.formatErrorMessage_())},Be}(),A=function(Be){function Ce(ke){var qe=Be.call(this)||this,at=ke||{};return qe.splitCollection_=void 0!==at.splitCollection&&at.splitCollection,qe}return k(Ce,Be),Ce.prototype.parse_=function(ke){var qe=new he(ke);return new xe(qe).parse()},Ce.prototype.readFeatureFromText=function(ke,qe){var at=this.readGeometryFromText(ke,qe),Gt=new i.Z;return Gt.setGeometry(at),Gt},Ce.prototype.readFeaturesFromText=function(ke,qe){for(var at,Gt=this.readGeometryFromText(ke,qe),Tt=[],Ht=0,wn=(at=this.splitCollection_&&Gt.getType()==ne.Z.GEOMETRY_COLLECTION?Gt.getGeometriesArray():[Gt]).length;Ht<wn;++Ht){var fn=new i.Z;fn.setGeometry(at[Ht]),Tt.push(fn)}return Tt},Ce.prototype.readGeometryFromText=function(ke,qe){var at=this.parse_(ke);return(0,w.fI)(at,!1,qe)},Ce.prototype.writeFeatureText=function(ke,qe){var at=ke.getGeometry();return at?this.writeGeometryText(at,qe):""},Ce.prototype.writeFeaturesText=function(ke,qe){if(1==ke.length)return this.writeFeatureText(ke[0],qe);for(var at=[],Gt=0,Tt=ke.length;Gt<Tt;++Gt)at.push(ke[Gt].getGeometry());var Ht=new D.Z(at);return this.writeGeometryText(Ht,qe)},Ce.prototype.writeGeometryText=function(ke,qe){return Ge((0,w.fI)(ke,!0,qe))},Ce}(O);function W(Be){var Ce=Be.getCoordinates();return 0===Ce.length?"":Ce.join(" ")}function Te(Be){for(var Ce=Be.getCoordinates(),ke=[],qe=0,at=Ce.length;qe<at;++qe)ke.push(Ce[qe].join(" "));return ke.join(",")}function ae(Be){for(var Ce=[],ke=Be.getLinearRings(),qe=0,at=ke.length;qe<at;++qe)Ce.push("("+Te(ke[qe])+")");return Ce.join(",")}var Pe={Point:W,LineString:Te,Polygon:ae,MultiPoint:function(Be){for(var Ce=[],ke=Be.getPoints(),qe=0,at=ke.length;qe<at;++qe)Ce.push("("+W(ke[qe])+")");return Ce.join(",")},MultiLineString:function(Be){for(var Ce=[],ke=Be.getLineStrings(),qe=0,at=ke.length;qe<at;++qe)Ce.push("("+Te(ke[qe])+")");return Ce.join(",")},MultiPolygon:function(Be){for(var Ce=[],ke=Be.getPolygons(),qe=0,at=ke.length;qe<at;++qe)Ce.push("("+ae(ke[qe])+")");return Ce.join(",")},GeometryCollection:function(Be){for(var Ce=[],ke=Be.getGeometries(),qe=0,at=ke.length;qe<at;++qe)Ce.push(Ge(ke[qe]));return Ce.join(",")}};function Ge(Be){var Ce=Be.getType(),qe=(0,Pe[Ce])(Be);if(Ce=Ce.toUpperCase(),"function"==typeof Be.getFlatCoordinates){var at=function(Be){var Ce=Be.getLayout(),ke="";return(Ce===G.Z.XYZ||Ce===G.Z.XYZM)&&(ke+="Z"),(Ce===G.Z.XYM||Ce===G.Z.XYZM)&&(ke+="M"),ke}(Be);at.length>0&&(Ce+=" "+at)}return 0===qe.length?Ce+" "+F:Ce+"("+qe+")"}const Ue=A},1345:(Ye,fe,p)=>{"use strict";p.d(fe,{uX:()=>D,Dv:()=>G,Zn:()=>ne,qe:()=>H});var i=p(2456);function D(){return!0}function G(){return!1}function ne(){}function H($){var P,x,w,S=!1;return function(){var C=Array.prototype.slice.call(arguments);return(!S||this!==w||!(0,i.fS)(C,x))&&(S=!0,w=this,x=C,P=$.apply(this,arguments)),P}}},7660:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>C});var m,i=p(3632),D=p(9849),G=p(119),ne=p(483),H=p(760),L=p(5478),$=p(1345),S=p(874),P=(m=function(T,g){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,O){v.__proto__=O}||function(v,O){for(var k in O)Object.prototype.hasOwnProperty.call(O,k)&&(v[k]=O[k])})(T,g)},function(T,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=T}m(T,g),T.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}),x=(0,ne.Ue)(),w=function(m){function T(){var g=m.call(this)||this;return g.extent_=(0,H.lJ)(),g.extentRevision_=-1,g.simplifiedGeometryMaxMinSquaredTolerance=0,g.simplifiedGeometryRevision=0,g.simplifyTransformedInternal=(0,$.qe)(function(v,O,k){if(!k)return this.getSimplifiedGeometry(O);var B=this.clone();return B.applyTransform(k),B.getSimplifiedGeometry(O)}),g}return P(T,m),T.prototype.simplifyTransformed=function(g,v){return this.simplifyTransformedInternal(this.getRevision(),g,v)},T.prototype.clone=function(){return(0,G.O3)()},T.prototype.closestPointXY=function(g,v,O,k){return(0,G.O3)()},T.prototype.containsXY=function(g,v){var O=this.getClosestPoint([g,v]);return O[0]===g&&O[1]===v},T.prototype.getClosestPoint=function(g,v){var O=v||[NaN,NaN];return this.closestPointXY(g[0],g[1],O,1/0),O},T.prototype.intersectsCoordinate=function(g){return this.containsXY(g[0],g[1])},T.prototype.computeExtent=function(g){return(0,G.O3)()},T.prototype.getExtent=function(g){if(this.extentRevision_!=this.getRevision()){var v=this.computeExtent(this.extent_);(isNaN(v[0])||isNaN(v[1]))&&(0,H.YN)(v),this.extentRevision_=this.getRevision()}return(0,H.EO)(this.extent_,g)},T.prototype.rotate=function(g,v){(0,G.O3)()},T.prototype.scale=function(g,v,O){(0,G.O3)()},T.prototype.simplify=function(g){return this.getSimplifiedGeometry(g*g)},T.prototype.getSimplifiedGeometry=function(g){return(0,G.O3)()},T.prototype.getType=function(){return(0,G.O3)()},T.prototype.applyTransform=function(g){(0,G.O3)()},T.prototype.intersectsExtent=function(g){return(0,G.O3)()},T.prototype.translate=function(g,v){(0,G.O3)()},T.prototype.transform=function(g,v){var O=(0,L.U2)(g),k=O.getUnits()==D.ZP.TILE_PIXELS?function(B,F,M){var y=O.getExtent(),R=O.getWorldExtent(),z=(0,H.Cr)(R)/(0,H.Cr)(y);return(0,ne.qC)(x,R[0],R[3],z,-z,0,0,0),(0,S.vT)(B,0,B.length,M,x,F),(0,L.Ck)(O,v)(B,F,M)}:(0,L.Ck)(O,v);return this.applyTransform(k),this},T}(i.Z);const C=w},4118:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>P});var x,i=p(9972),D=p(7660),G=p(4410),ne=p(760),H=p(1729),L=(x=function(w,C){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,T){m.__proto__=T}||function(m,T){for(var g in T)Object.prototype.hasOwnProperty.call(T,g)&&(m[g]=T[g])})(w,C)},function(w,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function m(){this.constructor=w}x(w,C),w.prototype=null===C?Object.create(C):(m.prototype=C.prototype,new m)}),$=function(x){function w(C){var m=x.call(this)||this;return m.geometries_=C||null,m.changeEventsKeys_=[],m.listenGeometriesChange_(),m}return L(w,x),w.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(H.bN),this.changeEventsKeys_.length=0},w.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var C=0,m=this.geometries_.length;C<m;++C)this.changeEventsKeys_.push((0,H.oL)(this.geometries_[C],i.Z.CHANGE,this.changed,this))},w.prototype.clone=function(){var C=new w(null);return C.setGeometries(this.geometries_),C.applyProperties(this),C},w.prototype.closestPointXY=function(C,m,T,g){if(g<(0,ne.qf)(this.getExtent(),C,m))return g;for(var v=this.geometries_,O=0,k=v.length;O<k;++O)g=v[O].closestPointXY(C,m,T,g);return g},w.prototype.containsXY=function(C,m){for(var T=this.geometries_,g=0,v=T.length;g<v;++g)if(T[g].containsXY(C,m))return!0;return!1},w.prototype.computeExtent=function(C){(0,ne.YN)(C);for(var m=this.geometries_,T=0,g=m.length;T<g;++T)(0,ne.l7)(C,m[T].getExtent());return C},w.prototype.getGeometries=function(){return S(this.geometries_)},w.prototype.getGeometriesArray=function(){return this.geometries_},w.prototype.getGeometriesArrayRecursive=function(){for(var C=[],m=this.geometries_,T=0,g=m.length;T<g;++T)m[T].getType()===this.getType()?C=C.concat(m[T].getGeometriesArrayRecursive()):C.push(m[T]);return C},w.prototype.getSimplifiedGeometry=function(C){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),C<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&C<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var m=[],T=this.geometries_,g=!1,v=0,O=T.length;v<O;++v){var k=T[v],B=k.getSimplifiedGeometry(C);m.push(B),B!==k&&(g=!0)}if(g){var F=new w(null);return F.setGeometriesArray(m),F}return this.simplifiedGeometryMaxMinSquaredTolerance=C,this},w.prototype.getType=function(){return G.Z.GEOMETRY_COLLECTION},w.prototype.intersectsExtent=function(C){for(var m=this.geometries_,T=0,g=m.length;T<g;++T)if(m[T].intersectsExtent(C))return!0;return!1},w.prototype.isEmpty=function(){return 0===this.geometries_.length},w.prototype.rotate=function(C,m){for(var T=this.geometries_,g=0,v=T.length;g<v;++g)T[g].rotate(C,m);this.changed()},w.prototype.scale=function(C,m,T){var g=T;g||(g=(0,ne.qg)(this.getExtent()));for(var v=this.geometries_,O=0,k=v.length;O<k;++O)v[O].scale(C,m,g);this.changed()},w.prototype.setGeometries=function(C){this.setGeometriesArray(S(C))},w.prototype.setGeometriesArray=function(C){this.unlistenGeometriesChange_(),this.geometries_=C,this.listenGeometriesChange_(),this.changed()},w.prototype.applyTransform=function(C){for(var m=this.geometries_,T=0,g=m.length;T<g;++T)m[T].applyTransform(C);this.changed()},w.prototype.translate=function(C,m){for(var T=this.geometries_,g=0,v=T.length;g<v;++g)T[g].translate(C,m);this.changed()},w.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),x.prototype.disposeInternal.call(this)},w}(D.Z);function S(x){for(var w=[],C=0,m=x.length;C<m;++C)w.push(x[C].clone());return w}const P=$},4720:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},4410:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},6527:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>v});var O,i=p(4720),D=p(4410),G=p(2774),ne=p(5066),H=p(760),L=p(8999),$=p(9182),S=p(2456),P=p(3280),x=p(392),w=p(410),C=p(9644),m=p(3343),T=(O=function(k,B){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,M){F.__proto__=M}||function(F,M){for(var y in M)Object.prototype.hasOwnProperty.call(M,y)&&(F[y]=M[y])})(k,B)},function(k,B){if("function"!=typeof B&&null!==B)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function F(){this.constructor=k}O(k,B),k.prototype=null===B?Object.create(B):(F.prototype=B.prototype,new F)}),g=function(O){function k(B,F){var M=O.call(this)||this;return M.flatMidpoint_=null,M.flatMidpointRevision_=-1,M.maxDelta_=-1,M.maxDeltaRevision_=-1,void 0===F||Array.isArray(B[0])?M.setCoordinates(B,F):M.setFlatCoordinates(F,B),M}return T(k,O),k.prototype.appendCoordinate=function(B){this.flatCoordinates?(0,S.l7)(this.flatCoordinates,B):this.flatCoordinates=B.slice(),this.changed()},k.prototype.clone=function(){var B=new k(this.flatCoordinates.slice(),this.layout);return B.applyProperties(this),B},k.prototype.closestPointXY=function(B,F,M,y){return y<(0,H.qf)(this.getExtent(),B,F)?y:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,ne.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,ne.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,B,F,M,y))},k.prototype.forEachSegment=function(B){return(0,P.E)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B)},k.prototype.getCoordinateAtM=function(B,F){return this.layout!=i.Z.XYM&&this.layout!=i.Z.XYZM?null:(0,w.iJ)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B,void 0!==F&&F)},k.prototype.getCoordinates=function(){return(0,x.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},k.prototype.getCoordinateAt=function(B,F){return(0,w.WW)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B,F,this.stride)},k.prototype.getLength=function(){return(0,m.W)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},k.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},k.prototype.getSimplifiedGeometryInternal=function(B){var F=[];return F.length=(0,$.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B,F,0),new k(F,i.Z.XY)},k.prototype.getType=function(){return D.Z.LINE_STRING},k.prototype.intersectsExtent=function(B){return(0,C.Kz)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B)},k.prototype.setCoordinates=function(B,F){this.setLayout(F,B,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,L.Sg)(this.flatCoordinates,0,B,this.stride),this.changed()},k}(G.ZP);const v=g},1751:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>g});var v,i=p(4720),D=p(4410),G=p(6527),ne=p(2774),H=p(5066),L=p(760),$=p(8999),S=p(9182),P=p(2456),x=p(392),w=p(410),C=p(9644),m=(v=function(O,k){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,F){B.__proto__=F}||function(B,F){for(var M in F)Object.prototype.hasOwnProperty.call(F,M)&&(B[M]=F[M])})(O,k)},function(O,k){if("function"!=typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function B(){this.constructor=O}v(O,k),O.prototype=null===k?Object.create(k):(B.prototype=k.prototype,new B)}),T=function(v){function O(k,B,F){var M=v.call(this)||this;if(M.ends_=[],M.maxDelta_=-1,M.maxDeltaRevision_=-1,Array.isArray(k[0]))M.setCoordinates(k,B);else if(void 0!==B&&F)M.setFlatCoordinates(B,k),M.ends_=F;else{for(var y=M.getLayout(),R=k,z=[],re=[],le=0,he=R.length;le<he;++le){var xe=R[le];0===le&&(y=xe.getLayout()),(0,P.l7)(z,xe.getFlatCoordinates()),re.push(z.length)}M.setFlatCoordinates(y,z),M.ends_=re}return M}return m(O,v),O.prototype.appendLineString=function(k){this.flatCoordinates?(0,P.l7)(this.flatCoordinates,k.getFlatCoordinates().slice()):this.flatCoordinates=k.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},O.prototype.clone=function(){var k=new O(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return k.applyProperties(this),k},O.prototype.closestPointXY=function(k,B,F,M){return M<(0,L.qf)(this.getExtent(),k,B)?M:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,H.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,H.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,k,B,F,M))},O.prototype.getCoordinateAtM=function(k,B,F){return this.layout!=i.Z.XYM&&this.layout!=i.Z.XYZM||0===this.flatCoordinates.length?null:(0,w.dG)(this.flatCoordinates,0,this.ends_,this.stride,k,void 0!==B&&B,void 0!==F&&F)},O.prototype.getCoordinates=function(){return(0,x.o1)(this.flatCoordinates,0,this.ends_,this.stride)},O.prototype.getEnds=function(){return this.ends_},O.prototype.getLineString=function(k){return k<0||this.ends_.length<=k?null:new G.Z(this.flatCoordinates.slice(0===k?0:this.ends_[k-1],this.ends_[k]),this.layout)},O.prototype.getLineStrings=function(){for(var k=this.flatCoordinates,B=this.ends_,F=this.layout,M=[],y=0,R=0,z=B.length;R<z;++R){var re=B[R],le=new G.Z(k.slice(y,re),F);M.push(le),y=re}return M},O.prototype.getFlatMidpoints=function(){for(var k=[],B=this.flatCoordinates,F=0,M=this.ends_,y=this.stride,R=0,z=M.length;R<z;++R){var re=M[R],le=(0,w.WW)(B,F,re,y,.5);(0,P.l7)(k,le),F=re}return k},O.prototype.getSimplifiedGeometryInternal=function(k){var B=[],F=[];return B.length=(0,S.UJ)(this.flatCoordinates,0,this.ends_,this.stride,k,B,0,F),new O(B,i.Z.XY,F)},O.prototype.getType=function(){return D.Z.MULTI_LINE_STRING},O.prototype.intersectsExtent=function(k){return(0,C.AW)(this.flatCoordinates,0,this.ends_,this.stride,k)},O.prototype.setCoordinates=function(k,B){this.setLayout(B,k,2),this.flatCoordinates||(this.flatCoordinates=[]);var F=(0,$._5)(this.flatCoordinates,0,k,this.stride,this.ends_);this.flatCoordinates.length=0===F.length?0:F[F.length-1],this.changed()},O}(ne.ZP);const g=T},610:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>w});var C,i=p(4410),D=p(187),G=p(2774),ne=p(760),H=p(8999),L=p(2456),$=p(392),S=p(2156),P=(C=function(m,T){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var O in v)Object.prototype.hasOwnProperty.call(v,O)&&(g[O]=v[O])})(m,T)},function(m,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function g(){this.constructor=m}C(m,T),m.prototype=null===T?Object.create(T):(g.prototype=T.prototype,new g)}),x=function(C){function m(T,g){var v=C.call(this)||this;return g&&!Array.isArray(T[0])?v.setFlatCoordinates(g,T):v.setCoordinates(T,g),v}return P(m,C),m.prototype.appendPoint=function(T){this.flatCoordinates?(0,L.l7)(this.flatCoordinates,T.getFlatCoordinates()):this.flatCoordinates=T.getFlatCoordinates().slice(),this.changed()},m.prototype.clone=function(){var T=new m(this.flatCoordinates.slice(),this.layout);return T.applyProperties(this),T},m.prototype.closestPointXY=function(T,g,v,O){if(O<(0,ne.qf)(this.getExtent(),T,g))return O;for(var k=this.flatCoordinates,B=this.stride,F=0,M=k.length;F<M;F+=B){var y=(0,S.bI)(T,g,k[F],k[F+1]);if(y<O){O=y;for(var R=0;R<B;++R)v[R]=k[F+R];v.length=B}}return O},m.prototype.getCoordinates=function(){return(0,$.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},m.prototype.getPoint=function(T){return T<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=T?null:new D.Z(this.flatCoordinates.slice(T*this.stride,(T+1)*this.stride),this.layout)},m.prototype.getPoints=function(){for(var T=this.flatCoordinates,g=this.layout,v=this.stride,O=[],k=0,B=T.length;k<B;k+=v){var F=new D.Z(T.slice(k,k+v),g);O.push(F)}return O},m.prototype.getType=function(){return i.Z.MULTI_POINT},m.prototype.intersectsExtent=function(T){for(var g=this.flatCoordinates,v=this.stride,O=0,k=g.length;O<k;O+=v)if((0,ne.jE)(T,g[O],g[O+1]))return!0;return!1},m.prototype.setCoordinates=function(T,g){this.setLayout(g,T,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,H.Sg)(this.flatCoordinates,0,T,this.stride),this.changed()},m}(G.ZP);const w=x},41:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>F});var M,i=p(4720),D=p(4410),G=p(610),ne=p(4173),H=p(2774),L=p(5066),$=p(760),S=p(8999),P=p(2456),x=p(2474),w=p(392),C=p(9644),m=p(1265),T=p(8818),g=p(6230),v=p(4325),O=p(9182),k=(M=function(y,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,re){z.__proto__=re}||function(z,re){for(var le in re)Object.prototype.hasOwnProperty.call(re,le)&&(z[le]=re[le])})(y,R)},function(y,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function z(){this.constructor=y}M(y,R),y.prototype=null===R?Object.create(R):(z.prototype=R.prototype,new z)}),B=function(M){function y(R,z,re){var le=M.call(this)||this;if(le.endss_=[],le.flatInteriorPointsRevision_=-1,le.flatInteriorPoints_=null,le.maxDelta_=-1,le.maxDeltaRevision_=-1,le.orientedRevision_=-1,le.orientedFlatCoordinates_=null,!re&&!Array.isArray(R[0])){for(var he=le.getLayout(),xe=R,A=[],W=[],te=0,oe=xe.length;te<oe;++te){var Te=xe[te];0===te&&(he=Te.getLayout());for(var Ie=A.length,ae=Te.getEnds(),_e=0,Ee=ae.length;_e<Ee;++_e)ae[_e]+=Ie;(0,P.l7)(A,Te.getFlatCoordinates()),W.push(ae)}z=he,R=A,re=W}return void 0!==z&&re?(le.setFlatCoordinates(z,R),le.endss_=re):le.setCoordinates(R,z),le}return k(y,M),y.prototype.appendPolygon=function(R){var z;if(this.flatCoordinates){var re=this.flatCoordinates.length;(0,P.l7)(this.flatCoordinates,R.getFlatCoordinates());for(var le=0,he=(z=R.getEnds().slice()).length;le<he;++le)z[le]+=re}else this.flatCoordinates=R.getFlatCoordinates().slice(),z=R.getEnds().slice(),this.endss_.push();this.endss_.push(z),this.changed()},y.prototype.clone=function(){for(var R=this.endss_.length,z=new Array(R),re=0;re<R;++re)z[re]=this.endss_[re].slice();var le=new y(this.flatCoordinates.slice(),this.layout,z);return le.applyProperties(this),le},y.prototype.closestPointXY=function(R,z,re,le){return le<(0,$.qf)(this.getExtent(),R,z)?le:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,L.sD)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,L.gI)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,R,z,re,le))},y.prototype.containsXY=function(R,z){return(0,v.Zl)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,R,z)},y.prototype.getArea=function(){return(0,T.Eu)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},y.prototype.getCoordinates=function(R){var z;return void 0!==R?(z=this.getOrientedFlatCoordinates().slice(),(0,m.dL)(z,0,this.endss_,this.stride,R)):z=this.flatCoordinates,(0,w.ug)(z,0,this.endss_,this.stride)},y.prototype.getEndss=function(){return this.endss_},y.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var R=(0,g.E)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,x.U)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,R),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},y.prototype.getInteriorPoints=function(){return new G.Z(this.getFlatInteriorPoints().slice(),i.Z.XYM)},y.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var R=this.flatCoordinates;(0,m.Oj)(R,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=R:(this.orientedFlatCoordinates_=R.slice(),this.orientedFlatCoordinates_.length=(0,m.dL)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},y.prototype.getSimplifiedGeometryInternal=function(R){var z=[],re=[];return z.length=(0,O.Pp)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(R),z,0,re),new y(z,i.Z.XY,re)},y.prototype.getPolygon=function(R){if(R<0||this.endss_.length<=R)return null;var z;if(0===R)z=0;else{var re=this.endss_[R-1];z=re[re.length-1]}var le=this.endss_[R].slice(),he=le[le.length-1];if(0!==z)for(var xe=0,A=le.length;xe<A;++xe)le[xe]-=z;return new ne.ZP(this.flatCoordinates.slice(z,he),this.layout,le)},y.prototype.getPolygons=function(){for(var R=this.layout,z=this.flatCoordinates,re=this.endss_,le=[],he=0,xe=0,A=re.length;xe<A;++xe){var W=re[xe].slice(),te=W[W.length-1];if(0!==he)for(var oe=0,Te=W.length;oe<Te;++oe)W[oe]-=he;var Ie=new ne.ZP(z.slice(he,te),R,W);le.push(Ie),he=te}return le},y.prototype.getType=function(){return D.Z.MULTI_POLYGON},y.prototype.intersectsExtent=function(R){return(0,C.oW)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,R)},y.prototype.setCoordinates=function(R,z){this.setLayout(z,R,3),this.flatCoordinates||(this.flatCoordinates=[]);var re=(0,S.QT)(this.flatCoordinates,0,R,this.stride,this.endss_);if(0===re.length)this.flatCoordinates.length=0;else{var le=re[re.length-1];this.flatCoordinates.length=0===le.length?0:le[le.length-1]}this.changed()},y}(H.ZP);const F=B},187:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>S});var P,i=p(4410),D=p(2774),G=p(760),ne=p(8999),H=p(2156),L=(P=function(x,w){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,m){C.__proto__=m}||function(C,m){for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(C[T]=m[T])})(x,w)},function(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function C(){this.constructor=x}P(x,w),x.prototype=null===w?Object.create(w):(C.prototype=w.prototype,new C)}),$=function(P){function x(w,C){var m=P.call(this)||this;return m.setCoordinates(w,C),m}return L(x,P),x.prototype.clone=function(){var w=new x(this.flatCoordinates.slice(),this.layout);return w.applyProperties(this),w},x.prototype.closestPointXY=function(w,C,m,T){var g=this.flatCoordinates,v=(0,H.bI)(w,C,g[0],g[1]);if(v<T){for(var O=this.stride,k=0;k<O;++k)m[k]=g[k];return m.length=O,v}return T},x.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},x.prototype.computeExtent=function(w){return(0,G.HK)(this.flatCoordinates,w)},x.prototype.getType=function(){return i.Z.POINT},x.prototype.intersectsExtent=function(w){return(0,G.jE)(w,this.flatCoordinates[0],this.flatCoordinates[1])},x.prototype.setCoordinates=function(w,C){this.setLayout(C,w,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,ne.IG)(this.flatCoordinates,0,w,this.stride),this.changed()},x}(D.ZP);const S=$},4173:(Ye,fe,p)=>{"use strict";p.d(fe,{iu:()=>z,ZP:()=>R,Bb:()=>le,oJ:()=>re});var xe,i=p(4720),D=p(4410),G=p(2774),ne=p(5066),H=p(760),L=p(8999),$=p(9182),S=p(392),P=p(8818),x=(xe=function(A,W){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,oe){te.__proto__=oe}||function(te,oe){for(var Te in oe)Object.prototype.hasOwnProperty.call(oe,Te)&&(te[Te]=oe[Te])})(A,W)},function(A,W){if("function"!=typeof W&&null!==W)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function te(){this.constructor=A}xe(A,W),A.prototype=null===W?Object.create(W):(te.prototype=W.prototype,new te)}),w=function(xe){function A(W,te){var oe=xe.call(this)||this;return oe.maxDelta_=-1,oe.maxDeltaRevision_=-1,void 0===te||Array.isArray(W[0])?oe.setCoordinates(W,te):oe.setFlatCoordinates(te,W),oe}return x(A,xe),A.prototype.clone=function(){return new A(this.flatCoordinates.slice(),this.layout)},A.prototype.closestPointXY=function(W,te,oe,Te){return Te<(0,H.qf)(this.getExtent(),W,te)?Te:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,ne.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,ne.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,W,te,oe,Te))},A.prototype.getArea=function(){return(0,P.QQ)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},A.prototype.getCoordinates=function(){return(0,S.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},A.prototype.getSimplifiedGeometryInternal=function(W){var te=[];return te.length=(0,$.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,W,te,0),new A(te,i.Z.XY)},A.prototype.getType=function(){return D.Z.LINEAR_RING},A.prototype.intersectsExtent=function(W){return!1},A.prototype.setCoordinates=function(W,te){this.setLayout(te,W,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,L.Sg)(this.flatCoordinates,0,W,this.stride),this.changed()},A}(G.ZP);const C=w;var m=p(187),T=p(2456),g=p(2474),v=p(9644),O=p(1265),k=p(4325),B=p(2156),F=p(6763),M=function(){var xe=function(A,W){return(xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,oe){te.__proto__=oe}||function(te,oe){for(var Te in oe)Object.prototype.hasOwnProperty.call(oe,Te)&&(te[Te]=oe[Te])})(A,W)};return function(A,W){if("function"!=typeof W&&null!==W)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function te(){this.constructor=A}xe(A,W),A.prototype=null===W?Object.create(W):(te.prototype=W.prototype,new te)}}(),y=function(xe){function A(W,te,oe){var Te=xe.call(this)||this;return Te.ends_=[],Te.flatInteriorPointRevision_=-1,Te.flatInteriorPoint_=null,Te.maxDelta_=-1,Te.maxDeltaRevision_=-1,Te.orientedRevision_=-1,Te.orientedFlatCoordinates_=null,void 0!==te&&oe?(Te.setFlatCoordinates(te,W),Te.ends_=oe):Te.setCoordinates(W,te),Te}return M(A,xe),A.prototype.appendLinearRing=function(W){this.flatCoordinates?(0,T.l7)(this.flatCoordinates,W.getFlatCoordinates()):this.flatCoordinates=W.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},A.prototype.clone=function(){var W=new A(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return W.applyProperties(this),W},A.prototype.closestPointXY=function(W,te,oe,Te){return Te<(0,H.qf)(this.getExtent(),W,te)?Te:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,ne.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,ne.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,W,te,oe,Te))},A.prototype.containsXY=function(W,te){return(0,k.wY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,W,te)},A.prototype.getArea=function(){return(0,P.KP)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},A.prototype.getCoordinates=function(W){var te;return void 0!==W?(te=this.getOrientedFlatCoordinates().slice(),(0,O.zX)(te,0,this.ends_,this.stride,W)):te=this.flatCoordinates,(0,S.o1)(te,0,this.ends_,this.stride)},A.prototype.getEnds=function(){return this.ends_},A.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var W=(0,H.qg)(this.getExtent());this.flatInteriorPoint_=(0,g.X)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,W,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},A.prototype.getInteriorPoint=function(){return new m.Z(this.getFlatInteriorPoint(),i.Z.XYM)},A.prototype.getLinearRingCount=function(){return this.ends_.length},A.prototype.getLinearRing=function(W){return W<0||this.ends_.length<=W?null:new C(this.flatCoordinates.slice(0===W?0:this.ends_[W-1],this.ends_[W]),this.layout)},A.prototype.getLinearRings=function(){for(var W=this.layout,te=this.flatCoordinates,oe=this.ends_,Te=[],Ie=0,ae=0,_e=oe.length;ae<_e;++ae){var Ee=oe[ae],Pe=new C(te.slice(Ie,Ee),W);Te.push(Pe),Ie=Ee}return Te},A.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var W=this.flatCoordinates;(0,O.$v)(W,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=W:(this.orientedFlatCoordinates_=W.slice(),this.orientedFlatCoordinates_.length=(0,O.zX)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},A.prototype.getSimplifiedGeometryInternal=function(W){var te=[],oe=[];return te.length=(0,$.Zh)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(W),te,0,oe),new A(te,i.Z.XY,oe)},A.prototype.getType=function(){return D.Z.POLYGON},A.prototype.intersectsExtent=function(W){return(0,v.ac)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,W)},A.prototype.setCoordinates=function(W,te){this.setLayout(te,W,2),this.flatCoordinates||(this.flatCoordinates=[]);var oe=(0,L._5)(this.flatCoordinates,0,W,this.stride,this.ends_);this.flatCoordinates.length=0===oe.length?0:oe[oe.length-1],this.changed()},A}(G.ZP);const R=y;function z(xe,A,W,te){for(var oe=W||32,Te=[],Ie=0;Ie<oe;++Ie)(0,T.l7)(Te,(0,F.cv)(xe,A,2*Math.PI*Ie/oe,te));return Te.push(Te[0],Te[1]),new y(Te,i.Z.XY,[Te.length])}function re(xe){var A=xe[0],W=xe[1],te=xe[2],oe=xe[3],Te=[A,W,A,oe,te,oe,te,W,A,W];return new y(Te,i.Z.XY,[Te.length])}function le(xe,A,W){for(var te=A||32,oe=xe.getStride(),Te=xe.getLayout(),Ie=xe.getCenter(),ae=oe*(te+1),_e=new Array(ae),Ee=0;Ee<ae;Ee+=oe){_e[Ee]=0,_e[Ee+1]=0;for(var Pe=2;Pe<oe;Pe++)_e[Ee+Pe]=Ie[Pe]}var Ue=new y(_e,Te,[_e.length]);return function(xe,A,W,te){for(var oe=xe.getFlatCoordinates(),Te=xe.getStride(),Ie=oe.length/Te-1,ae=te||0,_e=0;_e<=Ie;++_e){var Ee=_e*Te,Pe=ae+2*(0,B.$W)(_e,Ie)*Math.PI/Ie;oe[Ee]=A[0]+W*Math.cos(Pe),oe[Ee+1]=A[1]+W*Math.sin(Pe)}xe.changed()}(Ue,Ie,xe.getRadius(),W),Ue}},2774:(Ye,fe,p)=>{"use strict";p.d(fe,{Kr:()=>x,ZP:()=>w});var C,i=p(7660),D=p(4720),G=p(119),ne=p(760),H=p(874),L=(C=function(m,T){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var O in v)Object.prototype.hasOwnProperty.call(v,O)&&(g[O]=v[O])})(m,T)},function(m,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function g(){this.constructor=m}C(m,T),m.prototype=null===T?Object.create(T):(g.prototype=T.prototype,new g)}),$=function(C){function m(){var T=C.call(this)||this;return T.layout=D.Z.XY,T.stride=2,T.flatCoordinates=null,T}return L(m,C),m.prototype.computeExtent=function(T){return(0,ne.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,T)},m.prototype.getCoordinates=function(){return(0,G.O3)()},m.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},m.prototype.getFlatCoordinates=function(){return this.flatCoordinates},m.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},m.prototype.getLayout=function(){return this.layout},m.prototype.getSimplifiedGeometry=function(T){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),T<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&T<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var g=this.getSimplifiedGeometryInternal(T);return g.getFlatCoordinates().length<this.flatCoordinates.length?g:(this.simplifiedGeometryMaxMinSquaredTolerance=T,this)},m.prototype.getSimplifiedGeometryInternal=function(T){return this},m.prototype.getStride=function(){return this.stride},m.prototype.setFlatCoordinates=function(T,g){this.stride=P(T),this.layout=T,this.flatCoordinates=g},m.prototype.setCoordinates=function(T,g){(0,G.O3)()},m.prototype.setLayout=function(T,g,v){var O;if(T)O=P(T);else{for(var k=0;k<v;++k){if(0===g.length)return this.layout=D.Z.XY,void(this.stride=2);g=g[0]}T=function(C){var m;return 2==C?m=D.Z.XY:3==C?m=D.Z.XYZ:4==C&&(m=D.Z.XYZM),m}(O=g.length)}this.layout=T,this.stride=O},m.prototype.applyTransform=function(T){this.flatCoordinates&&(T(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},m.prototype.rotate=function(T,g){var v=this.getFlatCoordinates();if(v){var O=this.getStride();(0,H.U1)(v,0,v.length,O,T,g,v),this.changed()}},m.prototype.scale=function(T,g,v){var O=g;void 0===O&&(O=T);var k=v;k||(k=(0,ne.qg)(this.getExtent()));var B=this.getFlatCoordinates();if(B){var F=this.getStride();(0,H.bA)(B,0,B.length,F,T,O,k,B),this.changed()}},m.prototype.translate=function(T,g){var v=this.getFlatCoordinates();if(v){var O=this.getStride();(0,H.Iu)(v,0,v.length,O,T,g,v),this.changed()}},m}(i.Z);function P(C){var m;return C==D.Z.XY?m=2:C==D.Z.XYZ||C==D.Z.XYM?m=3:C==D.Z.XYZM&&(m=4),m}function x(C,m,T){var g=C.getFlatCoordinates();if(g){var v=C.getStride();return(0,H.vT)(g,0,g.length,v,m,T)}return null}const w=$},8818:(Ye,fe,p)=>{"use strict";function i(ne,H,L,$){for(var S=0,P=ne[L-$],x=ne[L-$+1];H<L;H+=$){var w=ne[H],C=ne[H+1];S+=x*w-P*C,P=w,x=C}return S/2}function D(ne,H,L,$){for(var S=0,P=0,x=L.length;P<x;++P){var w=L[P];S+=i(ne,H,w,$),H=w}return S}function G(ne,H,L,$){for(var S=0,P=0,x=L.length;P<x;++P){var w=L[P];S+=D(ne,H,w,$),H=w[w.length-1]}return S}p.d(fe,{QQ:()=>i,KP:()=>D,Eu:()=>G})},6230:(Ye,fe,p)=>{"use strict";p.d(fe,{E:()=>D});var i=p(760);function D(G,ne,H,L){for(var $=[],S=(0,i.lJ)(),P=0,x=H.length;P<x;++P){var w=H[P];S=(0,i.GN)(G,ne,w[0],L),$.push((S[0]+S[2])/2,(S[1]+S[3])/2),ne=w[w.length-1]}return $}},5066:(Ye,fe,p)=>{"use strict";p.d(fe,{Bv:()=>G,Af:()=>ne,sD:()=>H,H$:()=>L,Xl:()=>$,gI:()=>S});var i=p(2156);function D(P,x,w,C,m,T,g){var F,v=P[x],O=P[x+1],k=P[w]-v,B=P[w+1]-O;if(0===k&&0===B)F=x;else{var M=((m-v)*k+(T-O)*B)/(k*k+B*B);if(M>1)F=w;else{if(M>0){for(var y=0;y<C;++y)g[y]=(0,i.t7)(P[x+y],P[w+y],M);return void(g.length=C)}F=x}}for(y=0;y<C;++y)g[y]=P[F+y];g.length=C}function G(P,x,w,C,m){var T=P[x],g=P[x+1];for(x+=C;x<w;x+=C){var v=P[x],O=P[x+1],k=(0,i.bI)(T,g,v,O);k>m&&(m=k),T=v,g=O}return m}function ne(P,x,w,C,m){for(var T=0,g=w.length;T<g;++T){var v=w[T];m=G(P,x,v,C,m),x=v}return m}function H(P,x,w,C,m){for(var T=0,g=w.length;T<g;++T){var v=w[T];m=ne(P,x,v,C,m),x=v[v.length-1]}return m}function L(P,x,w,C,m,T,g,v,O,k,B){if(x==w)return k;var F,M;if(0===m){if((M=(0,i.bI)(g,v,P[x],P[x+1]))<k){for(F=0;F<C;++F)O[F]=P[x+F];return O.length=C,M}return k}for(var y=B||[NaN,NaN],R=x+C;R<w;)if(D(P,R-C,R,C,g,v,y),(M=(0,i.bI)(g,v,y[0],y[1]))<k){for(k=M,F=0;F<C;++F)O[F]=y[F];O.length=C,R+=C}else R+=C*Math.max((Math.sqrt(M)-Math.sqrt(k))/m|0,1);if(T&&(D(P,w-C,x,C,g,v,y),(M=(0,i.bI)(g,v,y[0],y[1]))<k)){for(k=M,F=0;F<C;++F)O[F]=y[F];O.length=C}return k}function $(P,x,w,C,m,T,g,v,O,k,B){for(var F=B||[NaN,NaN],M=0,y=w.length;M<y;++M){var R=w[M];k=L(P,x,R,C,m,T,g,v,O,k,F),x=R}return k}function S(P,x,w,C,m,T,g,v,O,k,B){for(var F=B||[NaN,NaN],M=0,y=w.length;M<y;++M){var R=w[M];k=$(P,x,R,C,m,T,g,v,O,k,F),x=R[R.length-1]}return k}},4325:(Ye,fe,p)=>{"use strict";p.d(fe,{uG:()=>D,TG:()=>G,wY:()=>ne,Zl:()=>H});var i=p(760);function D(L,$,S,P,x){return!(0,i.H6)(x,function(C){return!G(L,$,S,P,C[0],C[1])})}function G(L,$,S,P,x,w){for(var C=0,m=L[S-P],T=L[S-P+1];$<S;$+=P){var g=L[$],v=L[$+1];T<=w?v>w&&(g-m)*(w-T)-(x-m)*(v-T)>0&&C++:v<=w&&(g-m)*(w-T)-(x-m)*(v-T)<0&&C--,m=g,T=v}return 0!==C}function ne(L,$,S,P,x,w){if(0===S.length||!G(L,$,S[0],P,x,w))return!1;for(var C=1,m=S.length;C<m;++C)if(G(L,S[C-1],S[C],P,x,w))return!1;return!0}function H(L,$,S,P,x,w){if(0===S.length)return!1;for(var C=0,m=S.length;C<m;++C){var T=S[C];if(ne(L,$,T,P,x,w))return!0;$=T[T.length-1]}return!1}},8999:(Ye,fe,p)=>{"use strict";function i(H,L,$,S){for(var P=0,x=$.length;P<x;++P)H[L++]=$[P];return L}function D(H,L,$,S){for(var P=0,x=$.length;P<x;++P)for(var w=$[P],C=0;C<S;++C)H[L++]=w[C];return L}function G(H,L,$,S,P){for(var x=P||[],w=0,C=0,m=$.length;C<m;++C){var T=D(H,L,$[C],S);x[w++]=T,L=T}return x.length=w,x}function ne(H,L,$,S,P){for(var x=P||[],w=0,C=0,m=$.length;C<m;++C){var T=G(H,L,$[C],S,x[w]);x[w++]=T,L=T[T.length-1]}return x.length=w,x}p.d(fe,{IG:()=>i,Sg:()=>D,_5:()=>G,QT:()=>ne})},392:(Ye,fe,p)=>{"use strict";function i(ne,H,L,$,S){for(var P=void 0!==S?S:[],x=0,w=H;w<L;w+=$)P[x++]=ne.slice(w,w+$);return P.length=x,P}function D(ne,H,L,$,S){for(var P=void 0!==S?S:[],x=0,w=0,C=L.length;w<C;++w){var m=L[w];P[x++]=i(ne,H,m,$,P[x]),H=m}return P.length=x,P}function G(ne,H,L,$,S){for(var P=void 0!==S?S:[],x=0,w=0,C=L.length;w<C;++w){var m=L[w];P[x++]=D(ne,H,m,$,P[x]),H=m[m.length-1]}return P.length=x,P}p.d(fe,{Ml:()=>i,o1:()=>D,ug:()=>G})},2474:(Ye,fe,p)=>{"use strict";p.d(fe,{X:()=>G,U:()=>ne});var i=p(4325),D=p(2456);function G(H,L,$,S,P,x,w){for(var C,m,T,g,v,O,k,B=P[x+1],F=[],M=0,y=$.length;M<y;++M){var R=$[M];for(g=H[R-S],O=H[R-S+1],C=L;C<R;C+=S)v=H[C],k=H[C+1],(B<=O&&k<=B||O<=B&&B<=k)&&F.push(T=(B-O)/(k-O)*(v-g)+g),g=v,O=k}var z=NaN,re=-1/0;for(F.sort(D.kK),g=F[0],C=1,m=F.length;C<m;++C){v=F[C];var le=Math.abs(v-g);le>re&&(0,i.wY)(H,L,$,S,T=(g+v)/2,B)&&(z=T,re=le),g=v}return isNaN(z)&&(z=P[x]),w?(w.push(z,B,re),w):[z,B,re]}function ne(H,L,$,S,P){for(var x=[],w=0,C=$.length;w<C;++w){var m=$[w];x=G(H,L,m,S,P,2*w,x),L=m[m.length-1]}return x}},410:(Ye,fe,p)=>{"use strict";p.d(fe,{WW:()=>G,iJ:()=>ne,dG:()=>H});var i=p(2456),D=p(2156);function G(L,$,S,P,x,w,C){var m,T,g=(S-$)/P;if(1===g)m=$;else if(2===g)m=$,T=x;else if(0!==g){for(var v=L[$],O=L[$+1],k=0,B=[0],F=$+P;F<S;F+=P){var M=L[F],y=L[F+1];k+=Math.sqrt((M-v)*(M-v)+(y-O)*(y-O)),B.push(k),v=M,O=y}var R=x*k,z=(0,i.ry)(B,R);z<0?(T=(R-B[-z-2])/(B[-z-1]-B[-z-2]),m=$+(-z-2)*P):m=$+z*P}var re=C>1?C:2,le=w||new Array(re);for(F=0;F<re;++F)le[F]=void 0===m?NaN:void 0===T?L[m+F]:(0,D.t7)(L[m+F],L[m+P+F],T);return le}function ne(L,$,S,P,x,w){if(S==$)return null;var C;if(x<L[$+P-1])return w?((C=L.slice($,$+P))[P-1]=x,C):null;if(L[S-1]<x)return w?((C=L.slice(S-P,S))[P-1]=x,C):null;if(x==L[$+P-1])return L.slice($,$+P);for(var m=$/P,T=S/P;m<T;){var g=m+T>>1;x<L[(g+1)*P-1]?T=g:m=g+1}var v=L[m*P-1];if(x==v)return L.slice((m-1)*P,(m-1)*P+P);var k=(x-v)/(L[(m+1)*P-1]-v);C=[];for(var B=0;B<P-1;++B)C.push((0,D.t7)(L[(m-1)*P+B],L[m*P+B],k));return C.push(x),C}function H(L,$,S,P,x,w,C){if(C)return ne(L,$,S[S.length-1],P,x,w);var m;if(x<L[P-1])return w?((m=L.slice(0,P))[P-1]=x,m):null;if(L[L.length-1]<x)return w?((m=L.slice(L.length-P))[P-1]=x,m):null;for(var T=0,g=S.length;T<g;++T){var v=S[T];if($!=v){if(x<L[$+P-1])return null;if(x<=L[v-1])return ne(L,$,v,P,x,!1);$=v}}return null}},9644:(Ye,fe,p)=>{"use strict";p.d(fe,{Kz:()=>ne,AW:()=>H,ac:()=>$,oW:()=>S});var i=p(760),D=p(3280),G=p(4325);function ne(P,x,w,C,m){var T=(0,i.qP)((0,i.lJ)(),P,x,w,C);return!!(0,i.kK)(m,T)&&(!!((0,i.r4)(m,T)||T[0]>=m[0]&&T[2]<=m[2]||T[1]>=m[1]&&T[3]<=m[3])||(0,D.E)(P,x,w,C,function(g,v){return(0,i.I7)(m,g,v)}))}function H(P,x,w,C,m){for(var T=0,g=w.length;T<g;++T){if(ne(P,x,w[T],C,m))return!0;x=w[T]}return!1}function $(P,x,w,C,m){if(!function(P,x,w,C,m){return!!(ne(P,x,w,C,m)||(0,G.TG)(P,x,w,C,m[0],m[1])||(0,G.TG)(P,x,w,C,m[0],m[3])||(0,G.TG)(P,x,w,C,m[2],m[1])||(0,G.TG)(P,x,w,C,m[2],m[3]))}(P,x,w[0],C,m))return!1;if(1===w.length)return!0;for(var T=1,g=w.length;T<g;++T)if((0,G.uG)(P,w[T-1],w[T],C,m)&&!ne(P,w[T-1],w[T],C,m))return!1;return!0}function S(P,x,w,C,m){for(var T=0,g=w.length;T<g;++T){var v=w[T];if($(P,x,v,C,m))return!0;x=v[v.length-1]}return!1}},3343:(Ye,fe,p)=>{"use strict";function i(G,ne,H,L){for(var $=G[ne],S=G[ne+1],P=0,x=ne+L;x<H;x+=L){var w=G[x],C=G[x+1];P+=Math.sqrt((w-$)*(w-$)+(C-S)*(C-S)),$=w,S=C}return P}p.d(fe,{W:()=>i})},1265:(Ye,fe,p)=>{"use strict";function i($,S,P,x){for(;S<P-x;){for(var w=0;w<x;++w){var C=$[S+w];$[S+w]=$[P-x+w],$[P-x+w]=C}S+=x,P-=x}}function D($,S,P,x){for(var w=0,C=$[P-x],m=$[P-x+1];S<P;S+=x){var T=$[S],g=$[S+1];w+=(T-C)*(g+m),C=T,m=g}return 0===w?void 0:w>0}function G($,S,P,x,w){for(var C=void 0!==w&&w,m=0,T=P.length;m<T;++m){var g=P[m],v=D($,S,g,x);if(0===m){if(C&&v||!C&&!v)return!1}else if(C&&!v||!C&&v)return!1;S=g}return!0}function ne($,S,P,x,w){for(var C=0,m=P.length;C<m;++C){var T=P[C];if(!G($,S,T,x,w))return!1;T.length&&(S=T[T.length-1])}return!0}function H($,S,P,x,w){for(var C=void 0!==w&&w,m=0,T=P.length;m<T;++m){var g=P[m],v=D($,S,g,x);(0===m?C&&v||!C&&!v:C&&!v||!C&&v)&&i($,S,g,x),S=g}return S}function L($,S,P,x,w){for(var C=0,m=P.length;C<m;++C)S=H($,S,P[C],x,w);return S}p.d(fe,{bt:()=>D,$v:()=>G,Oj:()=>ne,zX:()=>H,dL:()=>L})},3280:(Ye,fe,p)=>{"use strict";function i(D,G,ne,H,L){var $;for(G+=H;G<ne;G+=H)if($=L(D.slice(G-H,G),D.slice(G,G+H)))return $;return!1}p.d(fe,{E:()=>i})},9182:(Ye,fe,p)=>{"use strict";p.d(fe,{dt:()=>G,UJ:()=>ne,uZ:()=>$,Zh:()=>P,Pp:()=>x});var i=p(2156);function G(w,C,m,T,g,v,O){var k=(m-C)/T;if(k<3){for(;C<m;C+=T)v[O++]=w[C],v[O++]=w[C+1];return O}var B=new Array(k);B[0]=1,B[k-1]=1;for(var F=[C,m-T],M=0;F.length>0;){for(var y=F.pop(),R=F.pop(),z=0,re=w[R],le=w[R+1],he=w[y],xe=w[y+1],A=R+T;A<y;A+=T){var oe=(0,i.rU)(w[A],w[A+1],re,le,he,xe);oe>z&&(M=A,z=oe)}z>g&&(B[(M-C)/T]=1,R+T<M&&F.push(R,M),M+T<y&&F.push(M,y))}for(A=0;A<k;++A)B[A]&&(v[O++]=w[C+A*T],v[O++]=w[C+A*T+1]);return O}function ne(w,C,m,T,g,v,O,k){for(var B=0,F=m.length;B<F;++B){var M=m[B];O=G(w,C,M,T,g,v,O),k.push(O),C=M}return O}function $(w,C){return C*Math.round(w/C)}function S(w,C,m,T,g,v,O){if(C==m)return O;var F,M,k=$(w[C],g),B=$(w[C+1],g);C+=T,v[O++]=k,v[O++]=B;do{if(F=$(w[C],g),M=$(w[C+1],g),(C+=T)==m)return v[O++]=F,v[O++]=M,O}while(F==k&&M==B);for(;C<m;){var y=$(w[C],g),R=$(w[C+1],g);if(C+=T,y!=F||R!=M){var z=F-k,re=M-B,le=y-k,he=R-B;if(z*he==re*le&&(z<0&&le<z||z==le||z>0&&le>z)&&(re<0&&he<re||re==he||re>0&&he>re)){F=y,M=R;continue}v[O++]=F,v[O++]=M,k=F,B=M,F=y,M=R}}return v[O++]=F,v[O++]=M,O}function P(w,C,m,T,g,v,O,k){for(var B=0,F=m.length;B<F;++B){var M=m[B];O=S(w,C,M,T,g,v,O),k.push(O),C=M}return O}function x(w,C,m,T,g,v,O,k){for(var B=0,F=m.length;B<F;++B){var M=m[B],y=[];O=P(w,C,M,T,g,v,O,y),k.push(y),C=M[M.length-1]}return O}},874:(Ye,fe,p)=>{"use strict";function i(H,L,$,S,P,x){for(var w=x||[],C=0,m=L;m<$;m+=S){var T=H[m],g=H[m+1];w[C++]=P[0]*T+P[2]*g+P[4],w[C++]=P[1]*T+P[3]*g+P[5]}return x&&w.length!=C&&(w.length=C),w}function D(H,L,$,S,P,x,w){for(var C=w||[],m=Math.cos(P),T=Math.sin(P),g=x[0],v=x[1],O=0,k=L;k<$;k+=S){var B=H[k]-g,F=H[k+1]-v;C[O++]=g+B*m-F*T,C[O++]=v+B*T+F*m;for(var M=k+2;M<k+S;++M)C[O++]=H[M]}return w&&C.length!=O&&(C.length=O),C}function G(H,L,$,S,P,x,w,C){for(var m=C||[],T=w[0],g=w[1],v=0,O=L;O<$;O+=S){var B=H[O+1]-g;m[v++]=T+P*(H[O]-T),m[v++]=g+x*B;for(var F=O+2;F<O+S;++F)m[v++]=H[F]}return C&&m.length!=v&&(m.length=v),m}function ne(H,L,$,S,P,x,w){for(var C=w||[],m=0,T=L;T<$;T+=S){C[m++]=H[T]+P,C[m++]=H[T+1]+x;for(var g=T+2;g<T+S;++g)C[m++]=H[g]}return w&&C.length!=m&&(C.length=m),C}p.d(fe,{vT:()=>i,U1:()=>D,bA:()=>G,Iu:()=>ne})},9996:(Ye,fe,p)=>{"use strict";p.d(fe,{V:()=>D,G$:()=>ne,tK:()=>H,MP:()=>L,Id:()=>$,Tp:()=>S,bM:()=>P});var i="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",D=-1!==i.indexOf("firefox"),ne=(-1!==i.indexOf("safari")&&i.indexOf("chrom"),-1!==i.indexOf("webkit")&&-1==i.indexOf("edge")),H=-1!==i.indexOf("macintosh"),L="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,$="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,S="undefined"!=typeof Image&&Image.prototype.decode,P=function(){var x=!1;try{var w=Object.defineProperty({},"passive",{get:function(){x=!0}});window.addEventListener("_",null,w),window.removeEventListener("_",null,w)}catch(C){}return x}()},5560:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>P});var x,i=p(3632),D=p(2683),G=p(119),ne=p(1911),H=p(9466),L=p(2156),$=(x=function(w,C){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,T){m.__proto__=T}||function(m,T){for(var g in T)Object.prototype.hasOwnProperty.call(T,g)&&(m[g]=T[g])})(w,C)},function(w,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function m(){this.constructor=w}x(w,C),w.prototype=null===C?Object.create(C):(m.prototype=C.prototype,new m)}),S=function(x){function w(C){var m=x.call(this)||this;m.background_=C.background;var T=(0,H.f0)({},C);return"object"==typeof C.properties&&(delete T.properties,(0,H.f0)(T,C.properties)),T[D.Z.OPACITY]=void 0!==C.opacity?C.opacity:1,(0,ne.h)("number"==typeof T[D.Z.OPACITY],64),T[D.Z.VISIBLE]=void 0===C.visible||C.visible,T[D.Z.Z_INDEX]=C.zIndex,T[D.Z.MAX_RESOLUTION]=void 0!==C.maxResolution?C.maxResolution:1/0,T[D.Z.MIN_RESOLUTION]=void 0!==C.minResolution?C.minResolution:0,T[D.Z.MIN_ZOOM]=void 0!==C.minZoom?C.minZoom:-1/0,T[D.Z.MAX_ZOOM]=void 0!==C.maxZoom?C.maxZoom:1/0,m.className_=void 0!==T.className?C.className:"ol-layer",delete T.className,m.setProperties(T),m.state_=null,m}return $(w,x),w.prototype.getBackground=function(){return this.background_},w.prototype.getClassName=function(){return this.className_},w.prototype.getLayerState=function(C){var m=this.state_||{layer:this,managed:void 0===C||C},T=this.getZIndex();return m.opacity=(0,L.uZ)(Math.round(100*this.getOpacity())/100,0,1),m.sourceState=this.getSourceState(),m.visible=this.getVisible(),m.extent=this.getExtent(),m.zIndex=void 0!==T||m.managed?T:1/0,m.maxResolution=this.getMaxResolution(),m.minResolution=Math.max(this.getMinResolution(),0),m.minZoom=this.getMinZoom(),m.maxZoom=this.getMaxZoom(),this.state_=m,m},w.prototype.getLayersArray=function(C){return(0,G.O3)()},w.prototype.getLayerStatesArray=function(C){return(0,G.O3)()},w.prototype.getExtent=function(){return this.get(D.Z.EXTENT)},w.prototype.getMaxResolution=function(){return this.get(D.Z.MAX_RESOLUTION)},w.prototype.getMinResolution=function(){return this.get(D.Z.MIN_RESOLUTION)},w.prototype.getMinZoom=function(){return this.get(D.Z.MIN_ZOOM)},w.prototype.getMaxZoom=function(){return this.get(D.Z.MAX_ZOOM)},w.prototype.getOpacity=function(){return this.get(D.Z.OPACITY)},w.prototype.getSourceState=function(){return(0,G.O3)()},w.prototype.getVisible=function(){return this.get(D.Z.VISIBLE)},w.prototype.getZIndex=function(){return this.get(D.Z.Z_INDEX)},w.prototype.setBackground=function(C){this.background_=C,this.changed()},w.prototype.setExtent=function(C){this.set(D.Z.EXTENT,C)},w.prototype.setMaxResolution=function(C){this.set(D.Z.MAX_RESOLUTION,C)},w.prototype.setMinResolution=function(C){this.set(D.Z.MIN_RESOLUTION,C)},w.prototype.setMaxZoom=function(C){this.set(D.Z.MAX_ZOOM,C)},w.prototype.setMinZoom=function(C){this.set(D.Z.MIN_ZOOM,C)},w.prototype.setOpacity=function(C){(0,ne.h)("number"==typeof C,64),this.set(D.Z.OPACITY,C)},w.prototype.setVisible=function(C){this.set(D.Z.VISIBLE,C)},w.prototype.setZIndex=function(C){this.set(D.Z.Z_INDEX,C)},w.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),x.prototype.disposeInternal.call(this)},w}(i.Z);const P=S},4511:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>S});var P,i=p(4593),D=p(2402),G=p(9466),ne=p(109),H=(P=function(x,w){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,m){C.__proto__=m}||function(C,m){for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(C[T]=m[T])})(x,w)},function(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function C(){this.constructor=x}P(x,w),x.prototype=null===w?Object.create(w):(C.prototype=w.prototype,new C)}),$=function(P){function x(w){var C=this,m=w||{},T=(0,G.f0)({},m);return delete T.style,delete T.renderBuffer,delete T.updateWhileAnimating,delete T.updateWhileInteracting,(C=P.call(this,T)||this).declutter_=void 0!==m.declutter&&m.declutter,C.renderBuffer_=void 0!==m.renderBuffer?m.renderBuffer:100,C.style_=null,C.styleFunction_=void 0,C.setStyle(m.style),C.updateWhileAnimating_=void 0!==m.updateWhileAnimating&&m.updateWhileAnimating,C.updateWhileInteracting_=void 0!==m.updateWhileInteracting&&m.updateWhileInteracting,C}return H(x,P),x.prototype.getDeclutter=function(){return this.declutter_},x.prototype.getFeatures=function(w){return P.prototype.getFeatures.call(this,w)},x.prototype.getRenderBuffer=function(){return this.renderBuffer_},x.prototype.getRenderOrder=function(){return this.get("renderOrder")},x.prototype.getStyle=function(){return this.style_},x.prototype.getStyleFunction=function(){return this.styleFunction_},x.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},x.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},x.prototype.renderDeclutter=function(w){w.declutterTree||(w.declutterTree=new D(9)),this.getRenderer().renderDeclutter(w)},x.prototype.setRenderOrder=function(w){this.set("renderOrder",w)},x.prototype.setStyle=function(w){this.style_=void 0!==w?w:ne.yF,this.styleFunction_=null===w?void 0:(0,ne.J$)(this.style_),this.changed()},x}(i.Z);const S=$},4593:(Ye,fe,p)=>{"use strict";p.d(fe,{j:()=>w,Z:()=>C});var m,i=p(5560),D=p(9972),G=p(2683),ne=p(2526),H=p(9454),L=p(1911),$=p(9466),S=p(1729),P=(m=function(T,g){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,O){v.__proto__=O}||function(v,O){for(var k in O)Object.prototype.hasOwnProperty.call(O,k)&&(v[k]=O[k])})(T,g)},function(T,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=T}m(T,g),T.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}),x=function(m){function T(g){var v=this,O=(0,$.f0)({},g);return delete O.source,(v=m.call(this,O)||this).mapPrecomposeKey_=null,v.mapRenderKey_=null,v.sourceChangeKey_=null,v.renderer_=null,g.render&&(v.render=g.render),g.map&&v.setMap(g.map),v.addChangeListener(G.Z.SOURCE,v.handleSourcePropertyChange_),v.setSource(g.source?g.source:null),v}return P(T,m),T.prototype.getLayersArray=function(g){var v=g||[];return v.push(this),v},T.prototype.getLayerStatesArray=function(g){var v=g||[];return v.push(this.getLayerState()),v},T.prototype.getSource=function(){return this.get(G.Z.SOURCE)||null},T.prototype.getSourceState=function(){var g=this.getSource();return g?g.getState():H.Z.UNDEFINED},T.prototype.handleSourceChange_=function(){this.changed()},T.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,S.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null);var g=this.getSource();g&&(this.sourceChangeKey_=(0,S.oL)(g,D.Z.CHANGE,this.handleSourceChange_,this)),this.changed()},T.prototype.getFeatures=function(g){return this.renderer_?this.renderer_.getFeatures(g):new Promise(function(v){return v([])})},T.prototype.render=function(g,v){var O=this.getRenderer();if(O.prepareFrame(g))return O.renderFrame(g,v)},T.prototype.setMapInternal=function(g){this.set(G.Z.MAP,g)},T.prototype.getMapInternal=function(){return this.get(G.Z.MAP)},T.prototype.setMap=function(g){this.mapPrecomposeKey_&&((0,S.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),g||this.changed(),this.mapRenderKey_&&((0,S.bN)(this.mapRenderKey_),this.mapRenderKey_=null),g&&(this.mapPrecomposeKey_=(0,S.oL)(g,ne.Z.PRECOMPOSE,function(v){var k=v.frameState.layerStatesArray,B=this.getLayerState(!1);(0,L.h)(!k.some(function(F){return F.layer===B.layer}),67),k.push(B)},this),this.mapRenderKey_=(0,S.oL)(this,D.Z.CHANGE,g.render,g),this.changed())},T.prototype.setSource=function(g){this.set(G.Z.SOURCE,g)},T.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},T.prototype.hasRenderer=function(){return!!this.renderer_},T.prototype.createRenderer=function(){return null},T.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),m.prototype.disposeInternal.call(this)},T}(i.Z);function w(m,T){if(!m.visible)return!1;var g=T.resolution;if(g<m.minResolution||g>=m.maxResolution)return!1;var v=T.zoom;return v>m.minZoom&&v<=m.maxZoom}const C=x},2683:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},5529:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>x});var w,i=p(4593),D=p(6442),G=p(9466),ne=(w=function(C,m){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,g){T.__proto__=g}||function(T,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(T[v]=g[v])})(C,m)},function(C,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function T(){this.constructor=C}w(C,m),C.prototype=null===m?Object.create(m):(T.prototype=m.prototype,new T)}),H=function(w){function C(m){var T=this,g=m||{},v=(0,G.f0)({},g);return delete v.preload,delete v.useInterimTilesOnError,(T=w.call(this,v)||this).setPreload(void 0!==g.preload?g.preload:0),T.setUseInterimTilesOnError(void 0===g.useInterimTilesOnError||g.useInterimTilesOnError),T}return ne(C,w),C.prototype.getPreload=function(){return this.get(D.Z.PRELOAD)},C.prototype.setPreload=function(m){this.set(D.Z.PRELOAD,m)},C.prototype.getUseInterimTilesOnError=function(){return this.get(D.Z.USE_INTERIM_TILES_ON_ERROR)},C.prototype.setUseInterimTilesOnError=function(m){this.set(D.Z.USE_INTERIM_TILES_ON_ERROR,m)},C}(i.Z);const L=H;var $=p(8199),S=function(){var w=function(C,m){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,g){T.__proto__=g}||function(T,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(T[v]=g[v])})(C,m)};return function(C,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function T(){this.constructor=C}w(C,m),C.prototype=null===m?Object.create(m):(T.prototype=m.prototype,new T)}}(),P=function(w){function C(m){return w.call(this,m)||this}return S(C,w),C.prototype.createRenderer=function(){return new $.Z(this)},C}(L);const x=P},6442:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},3321:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>F});var M,i=p(4511),D=p(7400),G=p(2121),ne=p(6466),H=p(8587),L=p(8718),$=p(483),S=p(760),P=p(5263),x=p(8377),w=p(2456),C=p(5478),m=p(119),T=p(3481),g=(M=function(y,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,re){z.__proto__=re}||function(z,re){for(var le in re)Object.prototype.hasOwnProperty.call(re,le)&&(z[le]=re[le])})(y,R)},function(y,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function z(){this.constructor=y}M(y,R),y.prototype=null===R?Object.create(R):(z.prototype=R.prototype,new z)}),v=function(M){function y(R){var z=M.call(this,R)||this;return z.boundHandleStyleImageChange_=z.handleStyleImageChange_.bind(z),z.dirty_=!1,z.hitDetectionImageData_=null,z.renderedFeatures_=null,z.renderedRevision_=-1,z.renderedResolution_=NaN,z.renderedExtent_=(0,S.lJ)(),z.wrappedRenderedExtent_=(0,S.lJ)(),z.renderedCenter_=null,z.renderedProjection_=null,z.renderedRenderOrder_=null,z.replayGroup_=null,z.replayGroupChanged=!0,z.declutterExecutorGroup=null,z.clipping=!0,z}return g(y,M),y.prototype.renderWorlds=function(R,z,re){var le=z.extent,he=z.viewState,xe=he.center,A=he.resolution,W=he.projection,te=he.rotation,oe=W.getExtent(),Te=this.getLayer().getSource(),Ie=z.pixelRatio,ae=z.viewHints,_e=!(ae[H.Z.ANIMATING]||ae[H.Z.INTERACTING]),Ee=this.context,Pe=Math.round(z.size[0]*Ie),Ge=Math.round(z.size[1]*Ie),Ue=Te.getWrapX()&&W.canWrapX(),Be=Ue?(0,S.dz)(oe):null,Ce=Ue?Math.ceil((le[2]-oe[2])/Be)+1:1,ke=Ue?Math.floor((le[0]-oe[0])/Be):0;do{var qe=this.getRenderTransform(xe,A,te,Ie,Pe,Ge,ke*Be);R.execute(Ee,1,qe,te,_e,void 0,re)}while(++ke<Ce)},y.prototype.renderDeclutter=function(R){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,R,R.declutterTree)},y.prototype.renderFrame=function(R,z){var re=R.pixelRatio,le=R.layerStatesArray[R.layerIndex];(0,$.n3)(this.pixelTransform,1/re,1/re),(0,$.nb)(this.inversePixelTransform,this.pixelTransform);var he=(0,$.BB)(this.pixelTransform);this.useContainer(z,he,le.opacity,this.getBackground(R));var xe=this.context,A=xe.canvas,W=this.replayGroup_,te=this.declutterExecutorGroup;if((!W||W.isEmpty())&&(!te||te.isEmpty()))return null;var oe=Math.round(R.size[0]*re),Te=Math.round(R.size[1]*re);A.width!=oe||A.height!=Te?(A.width=oe,A.height=Te,A.style.transform!==he&&(A.style.transform=he)):this.containerReused||xe.clearRect(0,0,oe,Te),this.preRender(xe,R);var Ie=R.viewState,_e=!1,Ee=!0;if(le.extent&&this.clipping){var Pe=(0,C.dY)(le.extent,Ie.projection);(_e=(Ee=(0,S.kK)(Pe,R.extent))&&!(0,S.r4)(Pe,R.extent))&&this.clipUnrotated(xe,R,Pe)}Ee&&this.renderWorlds(W,R),_e&&xe.restore(),this.postRender(xe,R);var Ge=(0,P.Xy)(le.opacity),Ue=this.container;return Ge!==Ue.style.opacity&&(Ue.style.opacity=Ge),this.renderedRotation_!==Ie.rotation&&(this.renderedRotation_=Ie.rotation,this.hitDetectionImageData_=null),this.container},y.prototype.getFeatures=function(R){return new Promise(function(z){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var re=[this.context.canvas.width,this.context.canvas.height];(0,$.nn)(this.pixelTransform,re);var le=this.renderedCenter_,he=this.renderedResolution_,xe=this.renderedRotation_,A=this.renderedProjection_,W=this.wrappedRenderedExtent_,te=this.getLayer(),oe=[],Te=re[0]*L.UN,Ie=re[1]*L.UN;oe.push(this.getRenderTransform(le,he,xe,L.UN,Te,Ie,0).slice());var ae=te.getSource(),_e=A.getExtent();if(ae.getWrapX()&&A.canWrapX()&&!(0,S.r4)(_e,W)){for(var Ee=W[0],Pe=(0,S.dz)(_e),Ge=0;Ee<_e[0];)--Ge,oe.push(this.getRenderTransform(le,he,xe,L.UN,Te,Ie,Pe*Ge).slice()),Ee+=Pe;for(Ge=0,Ee=W[2];Ee>_e[2];)++Ge,oe.push(this.getRenderTransform(le,he,xe,L.UN,Te,Ie,Pe*Ge).slice()),Ee-=Pe}this.hitDetectionImageData_=(0,L.TU)(re,oe,this.renderedFeatures_,te.getStyleFunction(),W,he,xe)}z((0,L.ix)(R,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},y.prototype.forEachFeatureAtCoordinate=function(R,z,re,le,he){var xe=this;if(this.replayGroup_){var Ie,A=z.viewState.resolution,W=z.viewState.rotation,te=this.getLayer(),oe={},Te=function(_e,Ee,Pe){var Ge=(0,m.sq)(_e),Ue=oe[Ge];if(Ue){if(!0!==Ue&&Pe<Ue.distanceSq){if(0===Pe)return oe[Ge]=!0,he.splice(he.lastIndexOf(Ue),1),le(_e,te,Ee);Ue.geometry=Ee,Ue.distanceSq=Pe}}else{if(0===Pe)return oe[Ge]=!0,le(_e,te,Ee);he.push(oe[Ge]={feature:_e,layer:te,geometry:Ee,distanceSq:Pe,callback:le})}},ae=[this.replayGroup_];return this.declutterExecutorGroup&&ae.push(this.declutterExecutorGroup),ae.some(function(_e){return Ie=_e.forEachFeatureAtCoordinate(R,A,W,re,Te,_e===xe.declutterExecutorGroup&&z.declutterTree?z.declutterTree.all().map(function(Ee){return Ee.value}):null)}),Ie}},y.prototype.handleFontsChanged=function(){var R=this.getLayer();R.getVisible()&&this.replayGroup_&&R.changed()},y.prototype.handleStyleImageChange_=function(R){this.renderIfReadyAndVisible()},y.prototype.prepareFrame=function(R){var z=this.getLayer(),re=z.getSource();if(!re)return!1;var le=R.viewHints[H.Z.ANIMATING],he=R.viewHints[H.Z.INTERACTING],xe=z.getUpdateWhileAnimating(),A=z.getUpdateWhileInteracting();if(!this.dirty_&&!xe&&le||!A&&he)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var W=R.extent,te=R.viewState,oe=te.projection,Te=te.resolution,Ie=R.pixelRatio,ae=z.getRevision(),_e=z.getRenderBuffer(),Ee=z.getRenderOrder();void 0===Ee&&(Ee=x.eR);var Pe=te.center.slice(),Ge=(0,S.f3)(W,_e*Te),Ue=Ge.slice(),Be=[Ge.slice()],Ce=oe.getExtent();if(re.getWrapX()&&oe.canWrapX()&&!(0,S.r4)(Ce,R.extent)){var ke=(0,S.dz)(Ce),qe=Math.max((0,S.dz)(Ge)/2,ke);Ge[0]=Ce[0]-qe,Ge[2]=Ce[2]+qe,(0,T.Cf)(Pe,oe);var at=(0,S.Cf)(Be[0],oe);at[0]<Ce[0]&&at[2]<Ce[2]?Be.push([at[0]+ke,at[1],at[2]+ke,at[3]]):at[0]>Ce[0]&&at[2]>Ce[2]&&Be.push([at[0]-ke,at[1],at[2]-ke,at[3]])}if(!this.dirty_&&this.renderedResolution_==Te&&this.renderedRevision_==ae&&this.renderedRenderOrder_==Ee&&(0,S.r4)(this.wrappedRenderedExtent_,Ge))return(0,w.fS)(this.renderedExtent_,Ue)||(this.hitDetectionImageData_=null,this.renderedExtent_=Ue),this.renderedCenter_=Pe,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var Tt,Gt=new D.Z((0,x.Qz)(Te,Ie),Ge,Te,Ie);this.getLayer().getDeclutter()&&(Tt=new D.Z((0,x.Qz)(Te,Ie),Ge,Te,Ie));var wn,Ht=(0,C.Cs)();if(Ht){for(var fn=0,He=Be.length;fn<He;++fn){var nt=(0,C.Fj)(Be[fn],oe);re.loadFeatures(nt,(0,C.on)(Te,oe),Ht)}wn=(0,C.WO)(Ht,oe)}else for(fn=0,He=Be.length;fn<He;++fn)re.loadFeatures(Be[fn],Te,oe);var Ut=(0,x.se)(Te,Ie),Lt=function(ht){var ot,_t=ht.getStyleFunction()||z.getStyleFunction();if(_t&&(ot=_t(ht,Te)),ot){var $t=this.renderFeature(ht,Ut,ot,Gt,wn,Tt);this.dirty_=this.dirty_||$t}}.bind(this),vn=(0,C.Fj)(Ge,oe),Pn=re.getFeaturesInExtent(vn);for(Ee&&Pn.sort(Ee),fn=0,He=Pn.length;fn<He;++fn)Lt(Pn[fn]);this.renderedFeatures_=Pn;var kt=Gt.finish(),dt=new ne.Z(Ge,Te,Ie,re.getOverlaps(),kt,z.getRenderBuffer());return Tt&&(this.declutterExecutorGroup=new ne.Z(Ge,Te,Ie,re.getOverlaps(),Tt.finish(),z.getRenderBuffer())),this.renderedResolution_=Te,this.renderedRevision_=ae,this.renderedRenderOrder_=Ee,this.renderedExtent_=Ue,this.wrappedRenderedExtent_=Ge,this.renderedCenter_=Pe,this.renderedProjection_=oe,this.replayGroup_=dt,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},y.prototype.renderFeature=function(R,z,re,le,he,xe){if(!re)return!1;var A=!1;if(Array.isArray(re))for(var W=0,te=re.length;W<te;++W)A=(0,x.Pn)(le,R,re[W],z,this.boundHandleStyleImageChange_,he,xe)||A;else A=(0,x.Pn)(le,R,re,z,this.boundHandleStyleImageChange_,he,xe);return A},y}(G.Z);const O=v;var k=function(){var M=function(y,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,re){z.__proto__=re}||function(z,re){for(var le in re)Object.prototype.hasOwnProperty.call(re,le)&&(z[le]=re[le])})(y,R)};return function(y,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function z(){this.constructor=y}M(y,R),y.prototype=null===R?Object.create(R):(z.prototype=R.prototype,new z)}}(),B=function(M){function y(R){return M.call(this,R)||this}return k(y,M),y.prototype.createRenderer=function(){return new O(this)},y}(i.Z);const F=B},2156:(Ye,fe,p)=>{"use strict";function i(g,v,O){return Math.min(Math.max(g,v),O)}p.d(fe,{uZ:()=>i,f9:()=>D,k3:()=>G,rU:()=>ne,bI:()=>H,SV:()=>L,Ux:()=>$,Yr:()=>S,$W:()=>P,t7:()=>x,GW:()=>m,mD:()=>T});var D="cosh"in Math?Math.cosh:function(v){var O=Math.exp(v);return(O+1/O)/2},G="log2"in Math?Math.log2:function(v){return Math.log(v)*Math.LOG2E};function ne(g,v,O,k,B,F){var M=B-O,y=F-k;if(0!==M||0!==y){var R=((g-O)*M+(v-k)*y)/(M*M+y*y);R>1?(O=B,k=F):R>0&&(O+=M*R,k+=y*R)}return H(g,v,O,k)}function H(g,v,O,k){var B=O-g,F=k-v;return B*B+F*F}function L(g){for(var v=g.length,O=0;O<v;O++){for(var k=O,B=Math.abs(g[O][O]),F=O+1;F<v;F++){var M=Math.abs(g[F][O]);M>B&&(B=M,k=F)}if(0===B)return null;var y=g[k];g[k]=g[O],g[O]=y;for(var R=O+1;R<v;R++)for(var z=-g[R][O]/g[O][O],re=O;re<v+1;re++)O==re?g[R][re]=0:g[R][re]+=z*g[O][re]}for(var le=new Array(v),he=v-1;he>=0;he--){le[he]=g[he][v]/g[he][he];for(var xe=he-1;xe>=0;xe--)g[xe][v]-=g[xe][he]*le[he]}return le}function $(g){return 180*g/Math.PI}function S(g){return g*Math.PI/180}function P(g,v){var O=g%v;return O*v<0?O+v:O}function x(g,v,O){return g+O*(v-g)}function w(g,v){var O=Math.pow(10,v);return Math.round(g*O)/O}function m(g,v){return Math.floor(w(g,v))}function T(g,v){return Math.ceil(w(g,v))}},9466:(Ye,fe,p)=>{"use strict";p.d(fe,{f0:()=>i,ZH:()=>D,KX:()=>G,xb:()=>ne});var i="function"==typeof Object.assign?Object.assign:function(H,L){if(null==H)throw new TypeError("Cannot convert undefined or null to object");for(var $=Object(H),S=1,P=arguments.length;S<P;++S){var x=arguments[S];if(null!=x)for(var w in x)x.hasOwnProperty(w)&&($[w]=x[w])}return $};function D(H){for(var L in H)delete H[L]}var G="function"==typeof Object.values?Object.values:function(H){var L=[];for(var $ in H)L.push(H[$]);return L};function ne(H){var L;for(L in H)return!1;return!L}},5478:(Ye,fe,p)=>{"use strict";p.d(fe,{Wm:()=>i.Wm,zY:()=>Ge,rM:()=>Ie,Sx:()=>W,UQ:()=>Ee,uA:()=>dt,OP:()=>Ce,mi:()=>Ue,Vs:()=>Ut,dY:()=>vn,U2:()=>oe,_Q:()=>Te,Ck:()=>qe,WO:()=>ke,Cs:()=>He,gD:()=>A,lO:()=>nt,Fj:()=>Lt,on:()=>Pn,vs:()=>at,$A:()=>Gt});var ot,i=p(9849),D=p(3318),G=p(2156),ne=(ot=function(_t,$t){return(ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Rt,Wt){Rt.__proto__=Wt}||function(Rt,Wt){for(var _n in Wt)Object.prototype.hasOwnProperty.call(Wt,_n)&&(Rt[_n]=Wt[_n])})(_t,$t)},function(_t,$t){if("function"!=typeof $t&&null!==$t)throw new TypeError("Class extends value "+String($t)+" is not a constructor or null");function Rt(){this.constructor=_t}ot(_t,$t),_t.prototype=null===$t?Object.create($t):(Rt.prototype=$t.prototype,new Rt)}),H=6378137,L=Math.PI*H,$=[-L,-L,L,L],S=[-180,-85,180,85],P=H*Math.log(Math.tan(Math.PI/2)),x=function(ot){function _t($t){return ot.call(this,{code:$t,units:i.ZP.METERS,extent:$,global:!0,worldExtent:S,getPointResolution:function(Rt,Wt){return Rt/(0,G.f9)(Wt[1]/H)}})||this}return ne(_t,ot),_t}(D.Z),w=[new x("EPSG:3857"),new x("EPSG:102100"),new x("EPSG:102113"),new x("EPSG:900913"),new x("http://www.opengis.net/def/crs/EPSG/0/3857"),new x("http://www.opengis.net/gml/srs/epsg.xml#3857")];var T=function(){var ot=function(_t,$t){return(ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Rt,Wt){Rt.__proto__=Wt}||function(Rt,Wt){for(var _n in Wt)Object.prototype.hasOwnProperty.call(Wt,_n)&&(Rt[_n]=Wt[_n])})(_t,$t)};return function(_t,$t){if("function"!=typeof $t&&null!==$t)throw new TypeError("Class extends value "+String($t)+" is not a constructor or null");function Rt(){this.constructor=_t}ot(_t,$t),_t.prototype=null===$t?Object.create($t):(Rt.prototype=$t.prototype,new Rt)}}(),v=[-180,-90,180,90],O=6378137*Math.PI/180,k=function(ot){function _t($t,Rt){return ot.call(this,{code:$t,units:i.ZP.DEGREES,extent:v,axisOrientation:Rt,global:!0,metersPerUnit:O,worldExtent:v})||this}return T(_t,ot),_t}(D.Z),B=[new k("CRS:84"),new k("EPSG:4326","neu"),new k("urn:ogc:def:crs:OGC:1.3:CRS84"),new k("urn:ogc:def:crs:OGC:2:84"),new k("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new k("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new k("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],F={},z=p(829),re=p(760),le=p(6763),he=p(3481);function xe(ot,_t,$t){var Rt;if(void 0!==_t){for(var Wt=0,_n=ot.length;Wt<_n;++Wt)_t[Wt]=ot[Wt];Rt=_t}else Rt=ot.slice();return Rt}function A(ot,_t,$t){if(void 0!==_t&&ot!==_t){for(var Rt=0,Wt=ot.length;Rt<Wt;++Rt)_t[Rt]=ot[Rt];ot=_t}return ot}function W(ot){(function(ot,_t){F[ot]=_t})(ot.getCode(),ot),(0,z.IH)(ot,ot,xe)}function oe(ot){return"string"==typeof ot?function(ot){return F[ot]||F[ot.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(ot):ot||null}function Te(ot,_t,$t,Rt){var Wt,_n=(ot=oe(ot)).getPointResolutionFunc();if(_n)Wt=_n(_t,$t),Rt&&Rt!==ot.getUnits()&&(Gn=ot.getMetersPerUnit())&&(Wt=Wt*Gn/i.Wm[Rt]);else{var en=ot.getUnits();if(en==i.ZP.DEGREES&&!Rt||Rt==i.ZP.DEGREES)Wt=_t;else{var Gn,Hn=ke(ot,oe("EPSG:4326"));if(Hn===A&&en!==i.ZP.DEGREES)Wt=_t*ot.getMetersPerUnit();else{var On=[$t[0]-_t/2,$t[1],$t[0]+_t/2,$t[1],$t[0],$t[1]-_t/2,$t[0],$t[1]+_t/2];On=Hn(On,On,2),Wt=((0,le.Sp)(On.slice(0,2),On.slice(2,4))+(0,le.Sp)(On.slice(4,6),On.slice(6,8)))/2}void 0!==(Gn=Rt?i.Wm[Rt]:ot.getMetersPerUnit())&&(Wt/=Gn)}}return Wt}function Ie(ot){(function(ot){ot.forEach(W)})(ot),ot.forEach(function(_t){ot.forEach(function($t){_t!==$t&&(0,z.IH)(_t,$t,xe)})})}function Ee(ot,_t){return ot?"string"==typeof ot?oe(ot):ot:oe(_t)}function Pe(ot){return function(_t,$t,Rt){for(var Wt=_t.length,_n=void 0!==Rt?Rt:2,Gn=void 0!==$t?$t:new Array(Wt),en=0;en<Wt;en+=_n){var Hn=ot([_t[en],_t[en+1]]);Gn[en]=Hn[0],Gn[en+1]=Hn[1];for(var On=_n-1;On>=2;--On)Gn[en+On]=_t[en+On]}return Gn}}function Ge(ot,_t,$t,Rt){var Wt=oe(ot),_n=oe(_t);(0,z.IH)(Wt,_n,Pe($t)),(0,z.IH)(_n,Wt,Pe(Rt))}function Ue(ot,_t){return at(ot,"EPSG:4326",void 0!==_t?_t:"EPSG:3857")}function Ce(ot,_t){if(ot===_t)return!0;var $t=ot.getUnits()===_t.getUnits();return(ot.getCode()===_t.getCode()||ke(ot,_t)===xe)&&$t}function ke(ot,_t){var $t=ot.getCode(),Rt=_t.getCode(),Wt=(0,z.U2)($t,Rt);return Wt||(Wt=A),Wt}function qe(ot,_t){return ke(oe(ot),oe(_t))}function at(ot,_t,$t){return qe(_t,$t)(ot,void 0,ot.length)}function Gt(ot,_t,$t,Rt){var Wt=qe(_t,$t);return(0,re.Ne)(ot,Wt,void 0,Rt)}var Ht=null;function He(){return Ht}function nt(ot,_t){return ot}function Ut(ot,_t){return ot}function Lt(ot,_t){return ot}function vn(ot,_t){return ot}function Pn(ot,_t){return ot}function dt(ot,_t,$t){return function(Rt){var Gn,en,Wt=Rt[0],_n=Rt[1];if(ot.canWrapX()){var Hn=ot.getExtent(),On=(0,re.dz)(Hn);(en=(0,he.jk)(Rt,ot,On))&&(Wt-=en*On),Wt=(0,G.uZ)(Wt,Hn[0],Hn[2]),_n=(0,G.uZ)(_n,Hn[1],Hn[3]),Gn=$t([Wt,_n])}else Gn=$t(Rt);return en&&_t.canWrapX()&&(Gn[0]+=en*(0,re.dz)(_t.getExtent())),Gn}}Ie(w),Ie(B),function(ot,_t,$t,Rt){ot.forEach(function(Wt){_t.forEach(function(_n){(0,z.IH)(Wt,_n,$t),(0,z.IH)(_n,Wt,Rt)})})}(B,w,function(ot,_t,$t){var Rt=ot.length,Wt=$t>1?$t:2,_n=_t;void 0===_n&&(_n=Wt>2?ot.slice():new Array(Rt));for(var Gn=0;Gn<Rt;Gn+=Wt){_n[Gn]=L*ot[Gn]/180;var en=H*Math.log(Math.tan(Math.PI*(+ot[Gn+1]+90)/360));en>P?en=P:en<-P&&(en=-P),_n[Gn+1]=en}return _n},function(ot,_t,$t){var Rt=ot.length,Wt=$t>1?$t:2,_n=_t;void 0===_n&&(_n=Wt>2?ot.slice():new Array(Rt));for(var Gn=0;Gn<Rt;Gn+=Wt)_n[Gn]=180*ot[Gn]/L,_n[Gn+1]=360*Math.atan(Math.exp(ot[Gn+1]/H))/Math.PI-90;return _n})},3318:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>G});var i=p(9849);const G=function(){function ne(H){this.code_=H.code,this.units_=H.units,this.extent_=void 0!==H.extent?H.extent:null,this.worldExtent_=void 0!==H.worldExtent?H.worldExtent:null,this.axisOrientation_=void 0!==H.axisOrientation?H.axisOrientation:"enu",this.global_=void 0!==H.global&&H.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=H.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=H.metersPerUnit}return ne.prototype.canWrapX=function(){return this.canWrapX_},ne.prototype.getCode=function(){return this.code_},ne.prototype.getExtent=function(){return this.extent_},ne.prototype.getUnits=function(){return this.units_},ne.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||i.Wm[this.units_]},ne.prototype.getWorldExtent=function(){return this.worldExtent_},ne.prototype.getAxisOrientation=function(){return this.axisOrientation_},ne.prototype.isGlobal=function(){return this.global_},ne.prototype.setGlobal=function(H){this.global_=H,this.canWrapX_=!(!H||!this.extent_)},ne.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},ne.prototype.setDefaultTileGrid=function(H){this.defaultTileGrid_=H},ne.prototype.setExtent=function(H){this.extent_=H,this.canWrapX_=!(!this.global_||!H)},ne.prototype.setWorldExtent=function(H){this.worldExtent_=H},ne.prototype.setGetPointResolution=function(H){this.getPointResolutionFunc_=H},ne.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},ne}()},9849:(Ye,fe,p)=>{"use strict";p.d(fe,{Wm:()=>ne,ZP:()=>H});var i={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ne={};ne[i.RADIANS]=6370997/(2*Math.PI),ne[i.DEGREES]=2*Math.PI*6370997/360,ne[i.FEET]=.3048,ne[i.METERS]=1,ne[i.USFEET]=1200/3937;const H=i},829:(Ye,fe,p)=>{"use strict";p.d(fe,{IH:()=>G,U2:()=>H});var i={};function G(L,$,S){var P=L.getCode(),x=$.getCode();P in i||(i[P]={}),i[P][x]=S}function H(L,$){var S;return L in i&&$ in i[L]&&(S=i[L][$]),S}},2919:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>ne});var H,i=p(8214),D=(H=function(L,$){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var x in P)Object.prototype.hasOwnProperty.call(P,x)&&(S[x]=P[x])})(L,$)},function(L,$){if("function"!=typeof $&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function S(){this.constructor=L}H(L,$),L.prototype=null===$?Object.create($):(S.prototype=$.prototype,new S)}),G=function(H){function L($,S,P,x){var w=H.call(this,$)||this;return w.inversePixelTransform=S,w.frameState=P,w.context=x,w}return D(L,H),L}(i.ZP);const ne=G},2526:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},8069:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>D});const D=function(){function G(){}return G.prototype.drawCustom=function(ne,H,L,$){},G.prototype.drawGeometry=function(ne){},G.prototype.setStyle=function(ne){},G.prototype.drawCircle=function(ne,H){},G.prototype.drawFeature=function(ne,H){},G.prototype.drawGeometryCollection=function(ne,H){},G.prototype.drawLineString=function(ne,H){},G.prototype.drawMultiLineString=function(ne,H){},G.prototype.drawMultiPoint=function(ne,H){},G.prototype.drawMultiPolygon=function(ne,H){},G.prototype.drawPoint=function(ne,H){},G.prototype.drawPolygon=function(ne,H){},G.prototype.drawText=function(ne,H){},G.prototype.setFillStrokeStyle=function(ne,H){},G.prototype.setImageStyle=function(ne,H){},G.prototype.setTextStyle=function(ne,H){},G}()},4686:(Ye,fe,p)=>{"use strict";p.d(fe,{Df:()=>$,bL:()=>S,mb:()=>P,X9:()=>x,He:()=>w,rc:()=>C,V4:()=>m,Tx:()=>T,PH:()=>g,ru:()=>v,oB:()=>O,yC:()=>k,sG:()=>B,GK:()=>F,Qx:()=>z,fk:()=>re,Kd:()=>xe,gs:()=>A,_f:()=>te});var i=p(3632),D=p(3844),G=p(9996),ne=p(9466),H=p(1992),L=p(5263),$="10px sans-serif",S="#000",P="round",x=[],w=0,C="round",m=10,T="#000",g="center",v="middle",O=[0,0,0,0],k=1,B=new i.Z,F=new D.Z;F.setSize=function(){console.warn("labelCache is deprecated.")};var y,Te,M=null,R={},z=function(){var Pe,Ge,ae=["monospace","serif"],_e=ae.length,Ee="wmytzilWMYTZIL@#/&?$%10\uf013";function Ue(Ce,ke,qe){for(var at=!0,Gt=0;Gt<_e;++Gt){var Tt=ae[Gt];if(Ge=he(Ce+" "+ke+" 32px "+Tt,Ee),qe!=Tt){var Ht=he(Ce+" "+ke+" 32px "+qe+","+Tt,Ee);at=at&&Ht!=Ge}}return!!at}function Be(){for(var Ce=!0,ke=B.getKeys(),qe=0,at=ke.length;qe<at;++qe){var Gt=ke[qe];B.get(Gt)<100&&(Ue.apply(this,Gt.split("\n"))?((0,ne.ZH)(R),M=null,y=void 0,B.set(Gt,100)):(B.set(Gt,B.get(Gt)+1,!0),Ce=!1))}Ce&&(clearInterval(Pe),Pe=void 0)}return function(Ce){var ke=(0,L.p)(Ce);if(ke)for(var qe=ke.families,at=0,Gt=qe.length;at<Gt;++at){var Tt=qe[at],Ht=ke.style+"\n"+ke.weight+"\n"+Tt;void 0===B.get(Ht)&&(B.set(Ht,100,!0),Ue(ke.style,ke.weight,Tt)||(B.set(Ht,0,!0),void 0===Pe&&(Pe=setInterval(Be,32))))}}}(),re=function(Ie){var ae=R[Ie];if(null==ae){if(G.Id){var _e=(0,L.p)(Ie),Ee=le(Ie,"\u017dg");ae=(isNaN(Number(_e.lineHeight))?1.2:Number(_e.lineHeight))*(Ee.actualBoundingBoxAscent+Ee.actualBoundingBoxDescent)}else Te||((Te=document.createElement("div")).innerHTML="M",Te.style.minHeight="0",Te.style.maxHeight="none",Te.style.height="auto",Te.style.padding="0",Te.style.border="none",Te.style.position="absolute",Te.style.display="block",Te.style.left="-99999px"),Te.style.font=Ie,document.body.appendChild(Te),ae=Te.offsetHeight,document.body.removeChild(Te);R[Ie]=ae}return ae};function le(Te,Ie){return M||(M=(0,H.E4)(1,1)),Te!=y&&(M.font=Te,y=M.font),M.measureText(Ie)}function he(Te,Ie){return le(Te,Ie).width}function xe(Te,Ie,ae){if(Ie in ae)return ae[Ie];var _e=he(Te,Ie);return ae[Ie]=_e,_e}function A(Te,Ie,ae){for(var _e=Ie.length,Ee=0,Pe=0;Pe<_e;++Pe){var Ge=he(Te,Ie[Pe]);Ee=Math.max(Ee,Ge),ae.push(Ge)}return Ee}function te(Te,Ie,ae,_e,Ee,Pe,Ge,Ue,Be,Ce,ke){Te.save(),1!==ae&&(Te.globalAlpha*=ae),Ie&&Te.setTransform.apply(Te,Ie),_e.contextInstructions?(Te.translate(Be,Ce),Te.scale(ke[0],ke[1]),function(Te,Ie){for(var ae=Te.contextInstructions,_e=0,Ee=ae.length;_e<Ee;_e+=2)Array.isArray(ae[_e+1])?Ie[ae[_e]].apply(Ie,ae[_e+1]):Ie[ae[_e]]=ae[_e+1]}(_e,Te)):ke[0]<0||ke[1]<0?(Te.translate(Be,Ce),Te.scale(ke[0],ke[1]),Te.drawImage(_e,Ee,Pe,Ge,Ue,0,0,Ge,Ue)):Te.drawImage(_e,Ee,Pe,Ge,Ue,Be,Ce,Ge*ke[0],Ue*ke[1]),Te.restore()}},6861:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>C});var m,i=p(8761),D=p(4410),G=p(2401),ne=p(8069),H=p(5813),L=p(760),$=p(4686),S=p(2456),P=p(392),x=(m=function(T,g){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,O){v.__proto__=O}||function(v,O){for(var k in O)Object.prototype.hasOwnProperty.call(O,k)&&(v[k]=O[k])})(T,g)},function(T,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=T}m(T,g),T.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}),w=function(m){function T(g,v,O,k){var B=m.call(this)||this;return B.tolerance=g,B.maxExtent=v,B.pixelRatio=k,B.maxLineWidth=0,B.resolution=O,B.beginGeometryInstruction1_=null,B.beginGeometryInstruction2_=null,B.bufferedMaxExtent_=null,B.instructions=[],B.coordinates=[],B.tmpCoordinate_=[],B.hitDetectionInstructions=[],B.state={},B}return x(T,m),T.prototype.applyPixelRatio=function(g){var v=this.pixelRatio;return 1==v?g:g.map(function(O){return O*v})},T.prototype.appendFlatPointCoordinates=function(g,v){for(var O=this.getBufferedMaxExtent(),k=this.tmpCoordinate_,B=this.coordinates,F=B.length,M=0,y=g.length;M<y;M+=v)k[0]=g[M],k[1]=g[M+1],(0,L.b8)(O,k)&&(B[F++]=k[0],B[F++]=k[1]);return F},T.prototype.appendFlatLineCoordinates=function(g,v,O,k,B,F){var M=this.coordinates,y=M.length,R=this.getBufferedMaxExtent();F&&(v+=k);var xe,A,W,z=g[v],re=g[v+1],le=this.tmpCoordinate_,he=!0;for(xe=v+k;xe<O;xe+=k)le[0]=g[xe],le[1]=g[xe+1],(W=(0,L.pX)(R,le))!==A?(he&&(M[y++]=z,M[y++]=re,he=!1),M[y++]=le[0],M[y++]=le[1]):W===G.Z.INTERSECTING?(M[y++]=le[0],M[y++]=le[1],he=!1):he=!0,z=le[0],re=le[1],A=W;return(B&&he||xe===v+k)&&(M[y++]=z,M[y++]=re),y},T.prototype.drawCustomCoordinates_=function(g,v,O,k,B){for(var F=0,M=O.length;F<M;++F){var y=O[F],R=this.appendFlatLineCoordinates(g,v,y,k,!1,!1);B.push(R),v=y}return v},T.prototype.drawCustom=function(g,v,O,k){this.beginGeometry(g,v);var y,R,z,re,le,B=g.getType(),F=g.getStride(),M=this.coordinates.length;switch(B){case D.Z.MULTI_POLYGON:y=g.getOrientedFlatCoordinates(),re=[];var he=g.getEndss();le=0;for(var xe=0,A=he.length;xe<A;++xe){var W=[];le=this.drawCustomCoordinates_(y,le,he[xe],F,W),re.push(W)}this.instructions.push([i.ZP.CUSTOM,M,re,g,O,P.ug]),this.hitDetectionInstructions.push([i.ZP.CUSTOM,M,re,g,k||O,P.ug]);break;case D.Z.POLYGON:case D.Z.MULTI_LINE_STRING:z=[],y=B==D.Z.POLYGON?g.getOrientedFlatCoordinates():g.getFlatCoordinates(),le=this.drawCustomCoordinates_(y,0,g.getEnds(),F,z),this.instructions.push([i.ZP.CUSTOM,M,z,g,O,P.o1]),this.hitDetectionInstructions.push([i.ZP.CUSTOM,M,z,g,k||O,P.o1]);break;case D.Z.LINE_STRING:case D.Z.CIRCLE:y=g.getFlatCoordinates(),R=this.appendFlatLineCoordinates(y,0,y.length,F,!1,!1),this.instructions.push([i.ZP.CUSTOM,M,R,g,O,P.Ml]),this.hitDetectionInstructions.push([i.ZP.CUSTOM,M,R,g,k||O,P.Ml]);break;case D.Z.MULTI_POINT:y=g.getFlatCoordinates(),(R=this.appendFlatPointCoordinates(y,F))>M&&(this.instructions.push([i.ZP.CUSTOM,M,R,g,O,P.Ml]),this.hitDetectionInstructions.push([i.ZP.CUSTOM,M,R,g,k||O,P.Ml]));break;case D.Z.POINT:y=g.getFlatCoordinates(),this.coordinates.push(y[0],y[1]),this.instructions.push([i.ZP.CUSTOM,M,R=this.coordinates.length,g,O]),this.hitDetectionInstructions.push([i.ZP.CUSTOM,M,R,g,k||O])}this.endGeometry(v)},T.prototype.beginGeometry=function(g,v){this.beginGeometryInstruction1_=[i.ZP.BEGIN_GEOMETRY,v,0,g],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[i.ZP.BEGIN_GEOMETRY,v,0,g],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},T.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},T.prototype.reverseHitDetectionInstructions=function(){var g=this.hitDetectionInstructions;g.reverse();var v,k,B,O=g.length,F=-1;for(v=0;v<O;++v)(B=(k=g[v])[0])==i.ZP.END_GEOMETRY?F=v:B==i.ZP.BEGIN_GEOMETRY&&(k[2]=v,(0,S.FZ)(this.hitDetectionInstructions,F,v),F=-1)},T.prototype.setFillStrokeStyle=function(g,v){var O=this.state;if(g){var k=g.getColor();O.fillStyle=(0,H.y)(k||$.bL)}else O.fillStyle=void 0;if(v){var B=v.getColor();O.strokeStyle=(0,H.y)(B||$.Tx);var F=v.getLineCap();O.lineCap=void 0!==F?F:$.mb;var M=v.getLineDash();O.lineDash=M?M.slice():$.X9;var y=v.getLineDashOffset();O.lineDashOffset=y||$.He;var R=v.getLineJoin();O.lineJoin=void 0!==R?R:$.rc;var z=v.getWidth();O.lineWidth=void 0!==z?z:$.yC;var re=v.getMiterLimit();O.miterLimit=void 0!==re?re:$.V4,O.lineWidth>this.maxLineWidth&&(this.maxLineWidth=O.lineWidth,this.bufferedMaxExtent_=null)}else O.strokeStyle=void 0,O.lineCap=void 0,O.lineDash=null,O.lineDashOffset=void 0,O.lineJoin=void 0,O.lineWidth=void 0,O.miterLimit=void 0},T.prototype.createFill=function(g){var v=g.fillStyle,O=[i.ZP.SET_FILL_STYLE,v];return"string"!=typeof v&&O.push(!0),O},T.prototype.applyStroke=function(g){this.instructions.push(this.createStroke(g))},T.prototype.createStroke=function(g){return[i.ZP.SET_STROKE_STYLE,g.strokeStyle,g.lineWidth*this.pixelRatio,g.lineCap,g.lineJoin,g.miterLimit,this.applyPixelRatio(g.lineDash),g.lineDashOffset*this.pixelRatio]},T.prototype.updateFillStyle=function(g,v){var O=g.fillStyle;("string"!=typeof O||g.currentFillStyle!=O)&&(void 0!==O&&this.instructions.push(v.call(this,g)),g.currentFillStyle=O)},T.prototype.updateStrokeStyle=function(g,v){var O=g.strokeStyle,k=g.lineCap,B=g.lineDash,F=g.lineDashOffset,M=g.lineJoin,y=g.lineWidth,R=g.miterLimit;(g.currentStrokeStyle!=O||g.currentLineCap!=k||B!=g.currentLineDash&&!(0,S.fS)(g.currentLineDash,B)||g.currentLineDashOffset!=F||g.currentLineJoin!=M||g.currentLineWidth!=y||g.currentMiterLimit!=R)&&(void 0!==O&&v.call(this,g),g.currentStrokeStyle=O,g.currentLineCap=k,g.currentLineDash=B,g.currentLineDashOffset=F,g.currentLineJoin=M,g.currentLineWidth=y,g.currentMiterLimit=R)},T.prototype.endGeometry=function(g){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var v=[i.ZP.END_GEOMETRY,g];this.instructions.push(v),this.hitDetectionInstructions.push(v)},T.prototype.getBufferedMaxExtent=function(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,L.d9)(this.maxExtent),this.maxLineWidth>0)&&(0,L.f3)(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_},T}(ne.Z);const C=w},7400:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>O});var k,i=p(6861),D=p(8761),G=(k=function(B,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,y){M.__proto__=y}||function(M,y){for(var R in y)Object.prototype.hasOwnProperty.call(y,R)&&(M[R]=y[R])})(B,F)},function(B,F){if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function M(){this.constructor=B}k(B,F),B.prototype=null===F?Object.create(F):(M.prototype=F.prototype,new M)}),ne=function(k){function B(F,M,y,R){var z=k.call(this,F,M,y,R)||this;return z.hitDetectionImage_=null,z.image_=null,z.imagePixelRatio_=void 0,z.anchorX_=void 0,z.anchorY_=void 0,z.height_=void 0,z.opacity_=void 0,z.originX_=void 0,z.originY_=void 0,z.rotateWithView_=void 0,z.rotation_=void 0,z.scale_=void 0,z.width_=void 0,z.declutterImageWithText_=void 0,z}return G(B,k),B.prototype.drawPoint=function(F,M){if(this.image_){this.beginGeometry(F,M);var y=F.getFlatCoordinates(),R=F.getStride(),z=this.coordinates.length,re=this.appendFlatPointCoordinates(y,R);this.instructions.push([D.ZP.DRAW_IMAGE,z,re,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([D.ZP.DRAW_IMAGE,z,re,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(M)}},B.prototype.drawMultiPoint=function(F,M){if(this.image_){this.beginGeometry(F,M);var y=F.getFlatCoordinates(),R=F.getStride(),z=this.coordinates.length,re=this.appendFlatPointCoordinates(y,R);this.instructions.push([D.ZP.DRAW_IMAGE,z,re,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([D.ZP.DRAW_IMAGE,z,re,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(M)}},B.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,k.prototype.finish.call(this)},B.prototype.setImageStyle=function(F,M){var y=F.getAnchor(),R=F.getSize(),z=F.getHitDetectionImage(),re=F.getImage(this.pixelRatio),le=F.getOrigin();this.imagePixelRatio_=F.getPixelRatio(this.pixelRatio),this.anchorX_=y[0],this.anchorY_=y[1],this.hitDetectionImage_=z,this.image_=re,this.height_=R[1],this.opacity_=F.getOpacity(),this.originX_=le[0]*this.imagePixelRatio_,this.originY_=le[1]*this.imagePixelRatio_,this.rotateWithView_=F.getRotateWithView(),this.rotation_=F.getRotation(),this.scale_=F.getScaleArray(),this.width_=R[0],this.declutterImageWithText_=M},B}(i.Z);const H=ne;var L=p(4686),$=function(){var k=function(B,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,y){M.__proto__=y}||function(M,y){for(var R in y)Object.prototype.hasOwnProperty.call(y,R)&&(M[R]=y[R])})(B,F)};return function(B,F){if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function M(){this.constructor=B}k(B,F),B.prototype=null===F?Object.create(F):(M.prototype=F.prototype,new M)}}(),S=function(k){function B(F,M,y,R){return k.call(this,F,M,y,R)||this}return $(B,k),B.prototype.drawFlatCoordinates_=function(F,M,y,R){var z=this.coordinates.length,re=this.appendFlatLineCoordinates(F,M,y,R,!1,!1),le=[D.ZP.MOVE_TO_LINE_TO,z,re];return this.instructions.push(le),this.hitDetectionInstructions.push(le),y},B.prototype.drawLineString=function(F,M){var y=this.state;if(void 0!==y.strokeStyle&&void 0!==y.lineWidth){this.updateStrokeStyle(y,this.applyStroke),this.beginGeometry(F,M),this.hitDetectionInstructions.push([D.ZP.SET_STROKE_STYLE,y.strokeStyle,y.lineWidth,y.lineCap,y.lineJoin,y.miterLimit,L.X9,L.He],D.$O);var re=F.getFlatCoordinates(),le=F.getStride();this.drawFlatCoordinates_(re,0,re.length,le),this.hitDetectionInstructions.push(D.Yc),this.endGeometry(M)}},B.prototype.drawMultiLineString=function(F,M){var y=this.state;if(void 0!==y.strokeStyle&&void 0!==y.lineWidth){this.updateStrokeStyle(y,this.applyStroke),this.beginGeometry(F,M),this.hitDetectionInstructions.push([D.ZP.SET_STROKE_STYLE,y.strokeStyle,y.lineWidth,y.lineCap,y.lineJoin,y.miterLimit,y.lineDash,y.lineDashOffset],D.$O);for(var re=F.getEnds(),le=F.getFlatCoordinates(),he=F.getStride(),xe=0,A=0,W=re.length;A<W;++A)xe=this.drawFlatCoordinates_(le,xe,re[A],he);this.hitDetectionInstructions.push(D.Yc),this.endGeometry(M)}},B.prototype.finish=function(){var F=this.state;return null!=F.lastStroke&&F.lastStroke!=this.coordinates.length&&this.instructions.push(D.Yc),this.reverseHitDetectionInstructions(),this.state=null,k.prototype.finish.call(this)},B.prototype.applyStroke=function(F){null!=F.lastStroke&&F.lastStroke!=this.coordinates.length&&(this.instructions.push(D.Yc),F.lastStroke=this.coordinates.length),F.lastStroke=0,k.prototype.applyStroke.call(this,F),this.instructions.push(D.$O)},B}(i.Z);const P=S;var x=p(9182),w=function(){var k=function(B,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,y){M.__proto__=y}||function(M,y){for(var R in y)Object.prototype.hasOwnProperty.call(y,R)&&(M[R]=y[R])})(B,F)};return function(B,F){if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function M(){this.constructor=B}k(B,F),B.prototype=null===F?Object.create(F):(M.prototype=F.prototype,new M)}}(),C=function(k){function B(F,M,y,R){return k.call(this,F,M,y,R)||this}return w(B,k),B.prototype.drawFlatCoordinatess_=function(F,M,y,R){var z=this.state,re=void 0!==z.fillStyle,le=void 0!==z.strokeStyle,he=y.length;this.instructions.push(D.$O),this.hitDetectionInstructions.push(D.$O);for(var xe=0;xe<he;++xe){var A=y[xe],W=this.coordinates.length,te=this.appendFlatLineCoordinates(F,M,A,R,!0,!le),oe=[D.ZP.MOVE_TO_LINE_TO,W,te];this.instructions.push(oe),this.hitDetectionInstructions.push(oe),le&&(this.instructions.push(D.s3),this.hitDetectionInstructions.push(D.s3)),M=A}return re&&(this.instructions.push(D.gO),this.hitDetectionInstructions.push(D.gO)),le&&(this.instructions.push(D.Yc),this.hitDetectionInstructions.push(D.Yc)),M},B.prototype.drawCircle=function(F,M){var y=this.state;if(void 0!==y.fillStyle||void 0!==y.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(F,M),void 0!==y.fillStyle&&this.hitDetectionInstructions.push([D.ZP.SET_FILL_STYLE,L.bL]),void 0!==y.strokeStyle&&this.hitDetectionInstructions.push([D.ZP.SET_STROKE_STYLE,y.strokeStyle,y.lineWidth,y.lineCap,y.lineJoin,y.miterLimit,y.lineDash,y.lineDashOffset]);var re=F.getFlatCoordinates(),le=F.getStride(),he=this.coordinates.length;this.appendFlatLineCoordinates(re,0,re.length,le,!1,!1);var xe=[D.ZP.CIRCLE,he];this.instructions.push(D.$O,xe),this.hitDetectionInstructions.push(D.$O,xe),void 0!==y.fillStyle&&(this.instructions.push(D.gO),this.hitDetectionInstructions.push(D.gO)),void 0!==y.strokeStyle&&(this.instructions.push(D.Yc),this.hitDetectionInstructions.push(D.Yc)),this.endGeometry(M)}},B.prototype.drawPolygon=function(F,M){var y=this.state;if(void 0!==y.fillStyle||void 0!==y.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(F,M),void 0!==y.fillStyle&&this.hitDetectionInstructions.push([D.ZP.SET_FILL_STYLE,L.bL]),void 0!==y.strokeStyle&&this.hitDetectionInstructions.push([D.ZP.SET_STROKE_STYLE,y.strokeStyle,y.lineWidth,y.lineCap,y.lineJoin,y.miterLimit,y.lineDash,y.lineDashOffset]);var re=F.getEnds(),le=F.getOrientedFlatCoordinates(),he=F.getStride();this.drawFlatCoordinatess_(le,0,re,he),this.endGeometry(M)}},B.prototype.drawMultiPolygon=function(F,M){var y=this.state;if(void 0!==y.fillStyle||void 0!==y.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(F,M),void 0!==y.fillStyle&&this.hitDetectionInstructions.push([D.ZP.SET_FILL_STYLE,L.bL]),void 0!==y.strokeStyle&&this.hitDetectionInstructions.push([D.ZP.SET_STROKE_STYLE,y.strokeStyle,y.lineWidth,y.lineCap,y.lineJoin,y.miterLimit,y.lineDash,y.lineDashOffset]);for(var re=F.getEndss(),le=F.getOrientedFlatCoordinates(),he=F.getStride(),xe=0,A=0,W=re.length;A<W;++A)xe=this.drawFlatCoordinatess_(le,xe,re[A],he);this.endGeometry(M)}},B.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var F=this.tolerance;if(0!==F)for(var M=this.coordinates,y=0,R=M.length;y<R;++y)M[y]=(0,x.uZ)(M[y],F);return k.prototype.finish.call(this)},B.prototype.setFillStrokeStyles_=function(){var F=this.state;void 0!==F.fillStyle&&this.updateFillStyle(F,this.createFill),void 0!==F.strokeStyle&&this.updateStrokeStyle(F,this.applyStroke)},B}(i.Z);const m=C;var T=p(7024),g={Circle:m,Default:i.Z,Image:H,LineString:P,Polygon:m,Text:T.Z},v=function(){function k(B,F,M,y){this.tolerance_=B,this.maxExtent_=F,this.pixelRatio_=y,this.resolution_=M,this.buildersByZIndex_={}}return k.prototype.finish=function(){var B={};for(var F in this.buildersByZIndex_){B[F]=B[F]||{};var M=this.buildersByZIndex_[F];for(var y in M){var R=M[y].finish();B[F][y]=R}}return B},k.prototype.getBuilder=function(B,F){var M=void 0!==B?B.toString():"0",y=this.buildersByZIndex_[M];void 0===y&&(this.buildersByZIndex_[M]=y={});var R=y[F];return void 0===R&&(R=new(0,g[F])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),y[F]=R),R},k}();const O=v},9555:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},6466:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>A});var i=p(9555),D=p(8761),G=p(7024),ne=p(9996),H=p(483),L=p(760),$=p(4686),S=p(2156),P=p(874);function x(W,te,oe,Te,Ie,ae,_e,Ee,Pe,Ge,Ue,Be){var Ce=W[te],ke=W[te+1],qe=0,at=0,Gt=0,Tt=0;function Ht(){qe=Ce,at=ke,Ce=W[te+=Te],ke=W[te+1],Tt+=Gt,Gt=Math.sqrt((Ce-qe)*(Ce-qe)+(ke-at)*(ke-at))}do{Ht()}while(te<oe-Te&&Tt+Gt<ae);for(var wn=0===Gt?0:(ae-Tt)/Gt,fn=(0,S.t7)(qe,Ce,wn),He=(0,S.t7)(at,ke,wn),bt=te-Te,nt=Tt,Ut=ae+Ee*Pe(Ge,Ie,Ue);te<oe-Te&&Tt+Gt<Ut;)Ht();var Pn,Lt=(0,S.t7)(qe,Ce,wn=0===Gt?0:(Ut-Tt)/Gt),vn=(0,S.t7)(at,ke,wn);if(Be){var kt=[fn,He,Lt,vn];(0,P.U1)(kt,0,4,2,Be,kt,kt),Pn=kt[0]>kt[2]}else Pn=fn>Lt;var _t,dt=Math.PI,ht=[],ot=bt+Te===te;if(Gt=0,Tt=nt,Ce=W[te=bt],ke=W[te+1],ot)return Ht(),_t=Math.atan2(ke-at,Ce-qe),Pn&&(_t+=_t>0?-dt:dt),ht[0]=[$t=(Lt+fn)/2,Rt=(vn+He)/2,(Ut-ae)/2,_t,Ie],ht;for(var Wt=0,_n=Ie.length;Wt<_n;){Ht();var Gn=Math.atan2(ke-at,Ce-qe);if(Pn&&(Gn+=Gn>0?-dt:dt),void 0!==_t){var en=Gn-_t;if(en+=en>dt?-2*dt:en<-dt?2*dt:0,Math.abs(en)>_e)return null}_t=Gn;for(var Hn=Wt,On=0;Wt<_n;++Wt){var Fn=Ee*Pe(Ge,Ie[Pn?_n-Wt-1:Wt],Ue);if(te+Te<oe&&Tt+Gt<ae+On+Fn/2)break;On+=Fn}if(Wt!==Hn){var er=Pn?Ie.substring(_n-Hn,_n-Wt):Ie.substring(Hn,Wt),$t=(0,S.t7)(qe,Ce,wn=0===Gt?0:(ae+On/2-Tt)/Gt),Rt=(0,S.t7)(at,ke,wn);ht.push([$t,Rt,On/2,Gn,er]),ae+=On}}return ht}var w=p(2456),C=p(3343),m=(0,L.lJ)(),T=[],g=[],v=[],O=[];function k(W){return W[3].declutterBox}var B=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function F(W,te){return("start"===te||"end"===te)&&!B.test(W)&&(te="start"===te?"left":"right"),G.I[te]}const y=function(){function W(te,oe,Te,Ie){this.overlaps=Te,this.pixelRatio=oe,this.resolution=te,this.instructions=Ie.instructions,this.coordinates=Ie.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,H.Ue)(),this.hitDetectionInstructions=Ie.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=Ie.fillStates||{},this.strokeStates=Ie.strokeStates||{},this.textStates=Ie.textStates||{},this.widths_={},this.labels_={}}return W.prototype.createLabel=function(te,oe,Te,Ie){var ae=te+oe+Te+Ie;if(this.labels_[ae])return this.labels_[ae];var _e=Ie?this.strokeStates[Ie]:null,Ee=Te?this.fillStates[Te]:null,Pe=this.textStates[oe],Ge=this.pixelRatio,Ue=[Pe.scale[0]*Ge,Pe.scale[1]*Ge],Be=F(te,Pe.textAlign||$.PH),Ce=Ie&&_e.lineWidth?_e.lineWidth:0,ke=te.split("\n"),qe=ke.length,at=[],Gt=(0,$.gs)(Pe.font,ke,at),Tt=(0,$.fk)(Pe.font),wn=Gt+Ce,fn=[],He=(wn+2)*Ue[0],bt=(Tt*qe+Ce)*Ue[1],nt={width:He<0?Math.floor(He):Math.ceil(He),height:bt<0?Math.floor(bt):Math.ceil(bt),contextInstructions:fn};(1!=Ue[0]||1!=Ue[1])&&fn.push("scale",Ue),fn.push("font",Pe.font),Ie&&(fn.push("strokeStyle",_e.strokeStyle),fn.push("lineWidth",Ce),fn.push("lineCap",_e.lineCap),fn.push("lineJoin",_e.lineJoin),fn.push("miterLimit",_e.miterLimit),(ne.Id?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(fn.push("setLineDash",[_e.lineDash]),fn.push("lineDashOffset",_e.lineDashOffset))),Te&&fn.push("fillStyle",Ee.fillStyle),fn.push("textBaseline","middle"),fn.push("textAlign","center");var Pn,Lt=.5-Be,vn=Be*wn+Lt*Ce;if(Ie)for(Pn=0;Pn<qe;++Pn)fn.push("strokeText",[ke[Pn],vn+Lt*at[Pn],.5*(Ce+Tt)+Pn*Tt]);if(Te)for(Pn=0;Pn<qe;++Pn)fn.push("fillText",[ke[Pn],vn+Lt*at[Pn],.5*(Ce+Tt)+Pn*Tt]);return this.labels_[ae]=nt,nt},W.prototype.replayTextBackground_=function(te,oe,Te,Ie,ae,_e,Ee){te.beginPath(),te.moveTo.apply(te,oe),te.lineTo.apply(te,Te),te.lineTo.apply(te,Ie),te.lineTo.apply(te,ae),te.lineTo.apply(te,oe),_e&&(this.alignFill_=_e[2],this.fill_(te)),Ee&&(this.setStrokeStyle_(te,Ee),te.stroke())},W.prototype.calculateImageOrLabelDimensions_=function(te,oe,Te,Ie,ae,_e,Ee,Pe,Ge,Ue,Be,Ce,ke,qe,at,Gt){var Lt,Tt=Te-(Ee*=Ce[0]),Ht=Ie-(Pe*=Ce[1]),wn=ae+Ge>te?te-Ge:ae,fn=_e+Ue>oe?oe-Ue:_e,He=qe[3]+wn*Ce[0]+qe[1],bt=qe[0]+fn*Ce[1]+qe[2],nt=Tt-qe[3],Ut=Ht-qe[0];return(at||0!==Be)&&(T[0]=nt,O[0]=nt,T[1]=Ut,g[1]=Ut,g[0]=nt+He,v[0]=g[0],v[1]=Ut+bt,O[1]=v[1]),0!==Be?(Lt=(0,H.qC)((0,H.Ue)(),Te,Ie,1,1,Be,-Te,-Ie),(0,H.nn)(Lt,T),(0,H.nn)(Lt,g),(0,H.nn)(Lt,v),(0,H.nn)(Lt,O),(0,L.T9)(Math.min(T[0],g[0],v[0],O[0]),Math.min(T[1],g[1],v[1],O[1]),Math.max(T[0],g[0],v[0],O[0]),Math.max(T[1],g[1],v[1],O[1]),m)):(0,L.T9)(Math.min(nt,nt+He),Math.min(Ut,Ut+bt),Math.max(nt,nt+He),Math.max(Ut,Ut+bt),m),ke&&(Tt=Math.round(Tt),Ht=Math.round(Ht)),{drawImageX:Tt,drawImageY:Ht,drawImageW:wn,drawImageH:fn,originX:Ge,originY:Ue,declutterBox:{minX:m[0],minY:m[1],maxX:m[2],maxY:m[3],value:Gt},canvasTransform:Lt,scale:Ce}},W.prototype.replayImageOrLabel_=function(te,oe,Te,Ie,ae,_e,Ee){var Ge=Ie.declutterBox,Ue=te.canvas,Be=Ee?Ee[2]*Ie.scale[0]/2:0;return Ge.minX-Be<=Ue.width/oe&&Ge.maxX+Be>=0&&Ge.minY-Be<=Ue.height/oe&&Ge.maxY+Be>=0&&(!(!_e&&!Ee)&&this.replayTextBackground_(te,T,g,v,O,_e,Ee),(0,$._f)(te,Ie.canvasTransform,ae,Te,Ie.originX,Ie.originY,Ie.drawImageW,Ie.drawImageH,Ie.drawImageX,Ie.drawImageY,Ie.scale)),!0},W.prototype.fill_=function(te){if(this.alignFill_){var oe=(0,H.nn)(this.renderedTransform_,[0,0]),Te=512*this.pixelRatio;te.save(),te.translate(oe[0]%Te,oe[1]%Te),te.rotate(this.viewRotation_)}te.fill(),this.alignFill_&&te.restore()},W.prototype.setStrokeStyle_=function(te,oe){te.strokeStyle=oe[1],te.lineWidth=oe[2],te.lineCap=oe[3],te.lineJoin=oe[4],te.miterLimit=oe[5],te.setLineDash&&(te.lineDashOffset=oe[7],te.setLineDash(oe[6]))},W.prototype.drawLabelWithPointPlacement_=function(te,oe,Te,Ie){var ae=this.textStates[oe],_e=this.createLabel(te,oe,Ie,Te),Ee=this.strokeStates[Te],Pe=this.pixelRatio,Ge=F(te,ae.textAlign||$.PH),Ue=G.I[ae.textBaseline||$.ru],Be=Ee&&Ee.lineWidth?Ee.lineWidth:0;return{label:_e,anchorX:Ge*(_e.width/Pe-2*ae.scale[0])+2*(.5-Ge)*Be,anchorY:Ue*_e.height/Pe+2*(.5-Ue)*Be}},W.prototype.execute_=function(te,oe,Te,Ie,ae,_e,Ee,Pe){var Ge;this.pixelCoordinates_&&(0,w.fS)(Te,this.renderedTransform_)?Ge=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),Ge=(0,P.vT)(this.coordinates,0,this.coordinates.length,2,Te,this.pixelCoordinates_),(0,H.lk)(this.renderedTransform_,Te));for(var ke,qe,at,Gt,Tt,Ht,wn,fn,He,bt,nt,Ut,Rt,Wt,_n,Gn,Ue=0,Be=Ie.length,Ce=0,Lt=0,vn=0,Pn=null,kt=null,dt=this.coordinateCache_,ht=this.viewRotation_,ot=Math.round(1e12*Math.atan2(-Te[1],Te[0]))/1e12,_t={context:te,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ht},$t=this.instructions!=Ie||this.overlaps?0:200;Ue<Be;){var en=Ie[Ue];switch(en[0]){case D.ZP.BEGIN_GEOMETRY:Gn=en[3],(Rt=en[1]).getGeometry()?void 0===Ee||(0,L.kK)(Ee,Gn.getExtent())?++Ue:Ue=en[2]+1:Ue=en[2];break;case D.ZP.BEGIN_PATH:Lt>$t&&(this.fill_(te),Lt=0),vn>$t&&(te.stroke(),vn=0),!Lt&&!vn&&(te.beginPath(),Gt=NaN,Tt=NaN),++Ue;break;case D.ZP.CIRCLE:var On=Ge[Ce=en[1]],Vn=Ge[Ce+1],gr=Ge[Ce+2]-On,kn=Ge[Ce+3]-Vn,Ar=Math.sqrt(gr*gr+kn*kn);te.moveTo(On+Ar,Vn),te.arc(On,Vn,Ar,0,2*Math.PI,!0),++Ue;break;case D.ZP.CLOSE_PATH:te.closePath(),++Ue;break;case D.ZP.CUSTOM:Ce=en[1],ke=en[2];var Gr=en[4],Vr=6==en.length?en[5]:void 0;_t.geometry=en[3],_t.feature=Rt,Ue in dt||(dt[Ue]=[]);var zr=dt[Ue];Vr?Vr(Ge,Ce,ke,2,zr):(zr[0]=Ge[Ce],zr[1]=Ge[Ce+1],zr.length=2),Gr(zr,_t),++Ue;break;case D.ZP.DRAW_IMAGE:Ce=en[1],ke=en[2],qe=en[4],at=en[5];var or=en[6],Wr=en[7],oi=en[8],Mr=en[9],Qr=en[10],Rr=en[11],Qt=en[12],Dt=en[13],lt=en[14];if(!(fn=en[3])&&en.length>=19){var jt=this.drawLabelWithPointPlacement_(He=en[18],bt=en[19],nt=en[20],Ut=en[21]);en[3]=fn=jt.label,en[4]=qe=(jt.anchorX-en[22])*this.pixelRatio,en[5]=at=(jt.anchorY-en[23])*this.pixelRatio,en[6]=or=fn.height,en[13]=Dt=fn.width}var pr=void 0;en.length>24&&(pr=en[24]);var ct=void 0,gt=void 0,ln=void 0;en.length>16?(ct=en[15],gt=en[16],ln=en[17]):(ct=$.oB,gt=!1,ln=!1),Qr&&ot?Rr+=ht:!Qr&&!ot&&(Rr-=ht);for(var zt=0;Ce<ke;Ce+=2)if(!(pr&&pr[zt++]<Dt/this.pixelRatio)){var En=[te,oe,fn,un=this.calculateImageOrLabelDimensions_(fn.width,fn.height,Ge[Ce],Ge[Ce+1],Dt,or,qe,at,oi,Mr,Rr,Qt,ae,ct,gt||ln,Rt),Wr,gt?Pn:null,ln?kt:null],dn=void 0,Un=void 0;if(Pe&&lt){var Mn=ke-Ce;if(!lt[Mn]){lt[Mn]=En;continue}if(dn=lt[Mn],delete lt[Mn],Un=k(dn),Pe.collides(Un))continue}Pe&&Pe.collides(un.declutterBox)||(dn&&(Pe&&Pe.insert(Un),this.replayImageOrLabel_.apply(this,dn)),Pe&&Pe.insert(un.declutterBox),this.replayImageOrLabel_.apply(this,En))}++Ue;break;case D.ZP.DRAW_CHARS:var cn=en[1],Bn=en[2],ar=en[3],$r=en[4];Ut=en[5];var gi=en[6],Dr=en[7],Et=en[8];nt=en[9];var ue=en[10];He=en[11];var ce=[en[13],en[13]],Fe=this.textStates[bt=en[12]],et=Fe.font,It=[Fe.scale[0]*Dr,Fe.scale[1]*Dr],Le=void 0;et in this.widths_?Le=this.widths_[et]:this.widths_[et]=Le={};var Ct=(0,C.W)(Ge,cn,Bn,2),St=Math.abs(It[0])*(0,$.Kd)(et,He,Le);if($r||St<=Ct){var Se=x(Ge,cn,Bn,2,He,(Ct-St)*G.I[this.textStates[bt].textAlign],gi,Math.abs(It[0]),$.Kd,et,Le,ot?0:this.viewRotation_);e:if(Se){var Je=[],je=void 0,it=void 0,xt=void 0,Vt=void 0;if(nt)for(je=0,it=Se.length;je<it;++je){xt=this.createLabel((Vt=Se[je])[4],bt,"",nt);var un=this.calculateImageOrLabelDimensions_(xt.width,xt.height,Vt[0],Vt[1],xt.width,xt.height,qe=Vt[2]+(It[0]<0?-ue:ue),at=ar*xt.height+2*(.5-ar)*ue*It[1]/It[0]-Et,0,0,Vt[3],ce,!1,$.oB,!1,Rt);if(Pe&&Pe.collides(un.declutterBox))break e;Je.push([te,oe,xt,un,1,null,null])}if(Ut)for(je=0,it=Se.length;je<it;++je){if(xt=this.createLabel((Vt=Se[je])[4],bt,Ut,""),un=this.calculateImageOrLabelDimensions_(xt.width,xt.height,Vt[0],Vt[1],xt.width,xt.height,qe=Vt[2],at=ar*xt.height-Et,0,0,Vt[3],ce,!1,$.oB,!1,Rt),Pe&&Pe.collides(un.declutterBox))break e;Je.push([te,oe,xt,un,1,null,null])}Pe&&Pe.load(Je.map(k));for(var an=0,yn=Je.length;an<yn;++an)this.replayImageOrLabel_.apply(this,Je[an])}}++Ue;break;case D.ZP.END_GEOMETRY:if(void 0!==_e){var Cn=_e(Rt=en[1],Gn);if(Cn)return Cn}++Ue;break;case D.ZP.FILL:$t?Lt++:this.fill_(te),++Ue;break;case D.ZP.MOVE_TO_LINE_TO:for(ke=en[2],wn=(_n=Ge[(Ce=en[1])+1])+.5|0,((Ht=(Wt=Ge[Ce])+.5|0)!==Gt||wn!==Tt)&&(te.moveTo(Wt,_n),Gt=Ht,Tt=wn),Ce+=2;Ce<ke;Ce+=2)Ht=(Wt=Ge[Ce])+.5|0,wn=(_n=Ge[Ce+1])+.5|0,(Ce==ke-2||Ht!==Gt||wn!==Tt)&&(te.lineTo(Wt,_n),Gt=Ht,Tt=wn);++Ue;break;case D.ZP.SET_FILL_STYLE:Pn=en,this.alignFill_=en[2],Lt&&(this.fill_(te),Lt=0,vn&&(te.stroke(),vn=0)),te.fillStyle=en[1],++Ue;break;case D.ZP.SET_STROKE_STYLE:kt=en,vn&&(te.stroke(),vn=0),this.setStrokeStyle_(te,en),++Ue;break;case D.ZP.STROKE:$t?vn++:te.stroke(),++Ue;break;default:++Ue}}Lt&&this.fill_(te),vn&&te.stroke()},W.prototype.execute=function(te,oe,Te,Ie,ae,_e){this.viewRotation_=Ie,this.execute_(te,oe,Te,this.instructions,ae,void 0,void 0,_e)},W.prototype.executeHitDetection=function(te,oe,Te,Ie,ae){return this.viewRotation_=Te,this.execute_(te,1,oe,this.hitDetectionInstructions,!0,Ie,ae)},W}();var R=p(1992),z=p(9466),re=[i.Z.POLYGON,i.Z.CIRCLE,i.Z.LINE_STRING,i.Z.IMAGE,i.Z.TEXT,i.Z.DEFAULT],le=function(){function W(te,oe,Te,Ie,ae,_e){this.maxExtent_=te,this.overlaps_=Ie,this.pixelRatio_=Te,this.resolution_=oe,this.renderBuffer_=_e,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,H.Ue)(),this.createExecutors_(ae)}return W.prototype.clip=function(te,oe){var Te=this.getClipCoords(oe);te.beginPath(),te.moveTo(Te[0],Te[1]),te.lineTo(Te[2],Te[3]),te.lineTo(Te[4],Te[5]),te.lineTo(Te[6],Te[7]),te.clip()},W.prototype.createExecutors_=function(te){for(var oe in te){var Te=this.executorsByZIndex_[oe];void 0===Te&&(this.executorsByZIndex_[oe]=Te={});var Ie=te[oe];for(var ae in Ie)Te[ae]=new y(this.resolution_,this.pixelRatio_,this.overlaps_,Ie[ae])}},W.prototype.hasExecutors=function(te){for(var oe in this.executorsByZIndex_)for(var Te=this.executorsByZIndex_[oe],Ie=0,ae=te.length;Ie<ae;++Ie)if(te[Ie]in Te)return!0;return!1},W.prototype.forEachFeatureAtCoordinate=function(te,oe,Te,Ie,ae,_e){var Ee=2*(Ie=Math.round(Ie))+1,Pe=(0,H.qC)(this.hitDetectionTransform_,Ie+.5,Ie+.5,1/oe,-1/oe,-Te,-te[0],-te[1]),Ge=!this.hitDetectionContext_;Ge&&(this.hitDetectionContext_=(0,R.E4)(Ee,Ee));var Be,Ue=this.hitDetectionContext_;Ue.canvas.width!==Ee||Ue.canvas.height!==Ee?(Ue.canvas.width=Ee,Ue.canvas.height=Ee):Ge||Ue.clearRect(0,0,Ee,Ee),void 0!==this.renderBuffer_&&(Be=(0,L.lJ)(),(0,L.Wj)(Be,te),(0,L.f3)(Be,oe*(this.renderBuffer_+Ie),Be));var ke,Ce=function(W){if(void 0!==he[W])return he[W];for(var te=2*W+1,oe=W*W,Te=new Array(oe+1),Ie=0;Ie<=W;++Ie)for(var ae=0;ae<=W;++ae){var _e=Ie*Ie+ae*ae;if(_e>oe)break;var Ee=Te[_e];Ee||(Te[_e]=Ee=[]),Ee.push(4*((W+Ie)*te+(W+ae))+3),Ie>0&&Ee.push(4*((W-Ie)*te+(W+ae))+3),ae>0&&(Ee.push(4*((W+Ie)*te+(W-ae))+3),Ie>0&&Ee.push(4*((W-Ie)*te+(W-ae))+3))}for(var Pe=[],Ge=(Ie=0,Te.length);Ie<Ge;++Ie)Te[Ie]&&Pe.push.apply(Pe,Te[Ie]);return he[W]=Pe,Pe}(Ie);function qe(bt,nt){for(var Ut=Ue.getImageData(0,0,Ee,Ee).data,Lt=0,vn=Ce.length;Lt<vn;Lt++)if(Ut[Ce[Lt]]>0){if(!_e||ke!==i.Z.IMAGE&&ke!==i.Z.TEXT||-1!==_e.indexOf(bt)){var Pn=(Ce[Lt]-3)/4,kt=Ie-Pn%Ee,dt=Ie-(Pn/Ee|0),ht=ae(bt,nt,kt*kt+dt*dt);if(ht)return ht}Ue.clearRect(0,0,Ee,Ee);break}}var Gt,Tt,Ht,wn,fn,at=Object.keys(this.executorsByZIndex_).map(Number);for(at.sort(w.kK),Gt=at.length-1;Gt>=0;--Gt){var He=at[Gt].toString();for(Ht=this.executorsByZIndex_[He],Tt=re.length-1;Tt>=0;--Tt)if(void 0!==(wn=Ht[ke=re[Tt]])&&(fn=wn.executeHitDetection(Ue,Pe,Te,qe,Be)))return fn}},W.prototype.getClipCoords=function(te){var oe=this.maxExtent_;if(!oe)return null;var Te=oe[0],Ie=oe[1],ae=oe[2],_e=oe[3],Ee=[Te,Ie,Te,_e,ae,_e,ae,Ie];return(0,P.vT)(Ee,0,8,2,te,Ee),Ee},W.prototype.isEmpty=function(){return(0,z.xb)(this.executorsByZIndex_)},W.prototype.execute=function(te,oe,Te,Ie,ae,_e,Ee){var Pe=Object.keys(this.executorsByZIndex_).map(Number);Pe.sort(w.kK),this.maxExtent_&&(te.save(),this.clip(te,Te));var Ue,Be,Ce,ke,qe,at,Ge=_e||re;for(Ee&&Pe.reverse(),Ue=0,Be=Pe.length;Ue<Be;++Ue){var Gt=Pe[Ue].toString();for(qe=this.executorsByZIndex_[Gt],Ce=0,ke=Ge.length;Ce<ke;++Ce)void 0!==(at=qe[Ge[Ce]])&&at.execute(te,oe,Te,Ie,ae,Ee)}this.maxExtent_&&te.restore()},W}(),he={};const A=le},8761:(Ye,fe,p)=>{"use strict";p.d(fe,{gO:()=>D,Yc:()=>G,$O:()=>ne,s3:()=>H,ZP:()=>L});var i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},D=[i.FILL],G=[i.STROKE],ne=[i.BEGIN_PATH],H=[i.CLOSE_PATH];const L=i},7024:(Ye,fe,p)=>{"use strict";p.d(fe,{I:()=>w,Z:()=>m});var i=p(6861),D=p(8761),G=p(4410),ne=p(9131),H=p(5813),L=p(4686),$=p(119),S=p(760);function P(T,g,v,O,k){var re,le,he,xe,A,W,te,oe,Te,B=v,F=v,M=0,y=0,R=v;for(re=v;re<O;re+=k){var Ie=g[re],ae=g[re+1];void 0!==xe&&(oe=Ie-xe,Te=ae-A,he=Math.sqrt(oe*oe+Te*Te),void 0!==W&&(y+=le,Math.acos((W*oe+te*Te)/(le*he))>T&&(y>M&&(M=y,B=R,F=re),y=0,R=re-k)),le=he,W=oe,te=Te),xe=Ie,A=ae}return(y+=he)>M?[R,re]:[B,F]}var T,x=(T=function(g,v){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var B in k)Object.prototype.hasOwnProperty.call(k,B)&&(O[B]=k[B])})(g,v)},function(g,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function O(){this.constructor=g}T(g,v),g.prototype=null===v?Object.create(v):(O.prototype=v.prototype,new O)}),w={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},C=function(T){function g(v,O,k,B){var F=T.call(this,v,O,k,B)||this;return F.labels_=null,F.text_="",F.textOffsetX_=0,F.textOffsetY_=0,F.textRotateWithView_=void 0,F.textRotation_=0,F.textFillState_=null,F.fillStates={},F.textStrokeState_=null,F.strokeStates={},F.textState_={},F.textStates={},F.textKey_="",F.fillKey_="",F.strokeKey_="",F.declutterImageWithText_=void 0,F}return x(g,T),g.prototype.finish=function(){var v=T.prototype.finish.call(this);return v.textStates=this.textStates,v.fillStates=this.fillStates,v.strokeStates=this.strokeStates,v},g.prototype.drawText=function(v,O){var F=this.textState_;if(""!==this.text_&&F&&(this.textFillState_||this.textStrokeState_)){var M=this.coordinates,y=M.length,R=v.getType(),z=null,re=v.getStride();if(F.placement!==ne.Z.LINE||R!=G.Z.LINE_STRING&&R!=G.Z.MULTI_LINE_STRING&&R!=G.Z.POLYGON&&R!=G.Z.MULTI_POLYGON){var Ee=F.overflow?null:[];switch(R){case G.Z.POINT:case G.Z.MULTI_POINT:z=v.getFlatCoordinates();break;case G.Z.LINE_STRING:z=v.getFlatMidpoint();break;case G.Z.CIRCLE:z=v.getCenter();break;case G.Z.MULTI_LINE_STRING:z=v.getFlatMidpoints(),re=2;break;case G.Z.POLYGON:z=v.getFlatInteriorPoint(),F.overflow||Ee.push(z[2]/this.resolution),re=3;break;case G.Z.MULTI_POLYGON:var Pe=v.getFlatInteriorPoints();for(z=[],xe=0,A=Pe.length;xe<A;xe+=3)F.overflow||Ee.push(Pe[xe+2]/this.resolution),z.push(Pe[xe],Pe[xe+1]);if(0===z.length)return;re=2}if((_e=this.appendFlatPointCoordinates(z,re))===y)return;if(Ee&&(_e-y)/2!=z.length/re){var Ge=y/2;Ee=Ee.filter(function(Ht,wn){var fn=M[2*(Ge+wn)]===z[wn*re]&&M[2*(Ge+wn)+1]===z[wn*re+1];return fn||--Ge,fn})}this.saveTextStates_(),(F.backgroundFill||F.backgroundStroke)&&(this.setFillStrokeStyle(F.backgroundFill,F.backgroundStroke),F.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),F.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(v,O);var Ue=F.padding;if(Ue!=L.oB&&(F.scale[0]<0||F.scale[1]<0)){var Be=F.padding[0],Ce=F.padding[1],ke=F.padding[2],qe=F.padding[3];F.scale[0]<0&&(Ce=-Ce,qe=-qe),F.scale[1]<0&&(Be=-Be,ke=-ke),Ue=[Be,Ce,ke,qe]}var at=this.pixelRatio;this.instructions.push([D.ZP.DRAW_IMAGE,y,_e,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,Ue==L.oB?L.oB:Ue.map(function(Ht){return Ht*at}),!!F.backgroundFill,!!F.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Ee]);var Gt=1/at;this.hitDetectionInstructions.push([D.ZP.DRAW_IMAGE,y,_e,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[Gt,Gt],NaN,this.declutterImageWithText_,Ue,!!F.backgroundFill,!!F.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Ee]),this.endGeometry(O)}else{if(!(0,S.kK)(this.getBufferedMaxExtent(),v.getExtent()))return;var le=void 0;if(z=v.getFlatCoordinates(),R==G.Z.LINE_STRING)le=[z.length];else if(R==G.Z.MULTI_LINE_STRING)le=v.getEnds();else if(R==G.Z.POLYGON)le=v.getEnds().slice(0,1);else if(R==G.Z.MULTI_POLYGON){var he=v.getEndss();le=[];for(var xe=0,A=he.length;xe<A;++xe)le.push(he[xe][0])}this.beginGeometry(v,O);for(var W=F.textAlign,te=0,oe=void 0,Te=0,Ie=le.length;Te<Ie;++Te){if(null==W){var ae=P(F.maxAngle,z,te,le[Te],re);te=ae[0],oe=ae[1]}else oe=le[Te];for(xe=te;xe<oe;xe+=re)M.push(z[xe],z[xe+1]);var _e;te=le[Te],this.drawChars_(y,_e=M.length),y=_e}this.endGeometry(O)}}},g.prototype.saveTextStates_=function(){var v=this.textStrokeState_,O=this.textState_,k=this.textFillState_,B=this.strokeKey_;v&&(B in this.strokeStates||(this.strokeStates[B]={strokeStyle:v.strokeStyle,lineCap:v.lineCap,lineDashOffset:v.lineDashOffset,lineWidth:v.lineWidth,lineJoin:v.lineJoin,miterLimit:v.miterLimit,lineDash:v.lineDash}));var F=this.textKey_;F in this.textStates||(this.textStates[F]={font:O.font,textAlign:O.textAlign||L.PH,textBaseline:O.textBaseline||L.ru,scale:O.scale});var M=this.fillKey_;k&&(M in this.fillStates||(this.fillStates[M]={fillStyle:k.fillStyle}))},g.prototype.drawChars_=function(v,O){var k=this.textStrokeState_,B=this.textState_,F=this.strokeKey_,M=this.textKey_,y=this.fillKey_;this.saveTextStates_();var R=this.pixelRatio,z=w[B.textBaseline],re=this.textOffsetY_*R,le=this.text_,he=k?k.lineWidth*Math.abs(B.scale[0])/2:0;this.instructions.push([D.ZP.DRAW_CHARS,v,O,z,B.overflow,y,B.maxAngle,R,re,F,he*R,le,M,1]),this.hitDetectionInstructions.push([D.ZP.DRAW_CHARS,v,O,z,B.overflow,y,B.maxAngle,1,re,F,he,le,M,1/R])},g.prototype.setTextStyle=function(v,O){var k,B,F;if(v){var M=v.getFill();M?((B=this.textFillState_)||(this.textFillState_=B={}),B.fillStyle=(0,H.y)(M.getColor()||L.bL)):this.textFillState_=B=null;var y=v.getStroke();if(y){(F=this.textStrokeState_)||(this.textStrokeState_=F={});var R=y.getLineDash(),z=y.getLineDashOffset(),re=y.getWidth(),le=y.getMiterLimit();F.lineCap=y.getLineCap()||L.mb,F.lineDash=R?R.slice():L.X9,F.lineDashOffset=void 0===z?L.He:z,F.lineJoin=y.getLineJoin()||L.rc,F.lineWidth=void 0===re?L.yC:re,F.miterLimit=void 0===le?L.V4:le,F.strokeStyle=(0,H.y)(y.getColor()||L.Tx)}else this.textStrokeState_=F=null;k=this.textState_;var he=v.getFont()||L.Df;(0,L.Qx)(he);var xe=v.getScaleArray();k.overflow=v.getOverflow(),k.font=he,k.maxAngle=v.getMaxAngle(),k.placement=v.getPlacement(),k.textAlign=v.getTextAlign(),k.textBaseline=v.getTextBaseline()||L.ru,k.backgroundFill=v.getBackgroundFill(),k.backgroundStroke=v.getBackgroundStroke(),k.padding=v.getPadding()||L.oB,k.scale=void 0===xe?[1,1]:xe;var A=v.getOffsetX(),W=v.getOffsetY(),te=v.getRotateWithView(),oe=v.getRotation();this.text_=v.getText()||"",this.textOffsetX_=void 0===A?0:A,this.textOffsetY_=void 0===W?0:W,this.textRotateWithView_=void 0!==te&&te,this.textRotation_=void 0===oe?0:oe,this.strokeKey_=F?("string"==typeof F.strokeStyle?F.strokeStyle:(0,$.sq)(F.strokeStyle))+F.lineCap+F.lineDashOffset+"|"+F.lineWidth+F.lineJoin+F.miterLimit+"["+F.lineDash.join()+"]":"",this.textKey_=k.font+k.scale+(k.textAlign||"?")+(k.textBaseline||"?"),this.fillKey_=B?"string"==typeof B.fillStyle?B.fillStyle:"|"+(0,$.sq)(B.fillStyle):""}else this.text_="";this.declutterImageWithText_=O},g}(i.Z);const m=C},8718:(Ye,fe,p)=>{"use strict";p.d(fe,{UN:()=>O,TU:()=>k,ix:()=>B});var F,i=p(4410),D=p(8069),G=p(5813),ne=p(483),H=p(4686),L=p(2456),$=p(760),S=p(874),P=p(2774),x=(F=function(M,y){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,z){R.__proto__=z}||function(R,z){for(var re in z)Object.prototype.hasOwnProperty.call(z,re)&&(R[re]=z[re])})(M,y)},function(M,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function R(){this.constructor=M}F(M,y),M.prototype=null===y?Object.create(y):(R.prototype=y.prototype,new R)}),w=function(F){function M(y,R,z,re,le,he,xe){var A=F.call(this)||this;return A.context_=y,A.pixelRatio_=R,A.extent_=z,A.transform_=re,A.viewRotation_=le,A.squaredTolerance_=he,A.userTransform_=xe,A.contextFillState_=null,A.contextStrokeState_=null,A.contextTextState_=null,A.fillState_=null,A.strokeState_=null,A.image_=null,A.imageAnchorX_=0,A.imageAnchorY_=0,A.imageHeight_=0,A.imageOpacity_=0,A.imageOriginX_=0,A.imageOriginY_=0,A.imageRotateWithView_=!1,A.imageRotation_=0,A.imageScale_=[0,0],A.imageWidth_=0,A.text_="",A.textOffsetX_=0,A.textOffsetY_=0,A.textRotateWithView_=!1,A.textRotation_=0,A.textScale_=[0,0],A.textFillState_=null,A.textStrokeState_=null,A.textState_=null,A.pixelCoordinates_=[],A.tmpLocalTransform_=(0,ne.Ue)(),A}return x(M,F),M.prototype.drawImages_=function(y,R,z,re){if(this.image_){var le=(0,S.vT)(y,R,z,re,this.transform_,this.pixelCoordinates_),he=this.context_,xe=this.tmpLocalTransform_,A=he.globalAlpha;1!=this.imageOpacity_&&(he.globalAlpha=A*this.imageOpacity_);var W=this.imageRotation_;this.imageRotateWithView_&&(W+=this.viewRotation_);for(var te=0,oe=le.length;te<oe;te+=2){var Te=le[te]-this.imageAnchorX_,Ie=le[te+1]-this.imageAnchorY_;if(0!==W||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var ae=Te+this.imageAnchorX_,_e=Ie+this.imageAnchorY_;(0,ne.qC)(xe,ae,_e,1,1,W,-ae,-_e),he.setTransform.apply(he,xe),he.translate(ae,_e),he.scale(this.imageScale_[0],this.imageScale_[1]),he.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),he.setTransform(1,0,0,1,0,0)}else he.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,Te,Ie,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(he.globalAlpha=A)}},M.prototype.drawText_=function(y,R,z,re){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var le=(0,S.vT)(y,R,z,re,this.transform_,this.pixelCoordinates_),he=this.context_,xe=this.textRotation_;for(this.textRotateWithView_&&(xe+=this.viewRotation_);R<z;R+=re){var A=le[R]+this.textOffsetX_,W=le[R+1]+this.textOffsetY_;if(0!==xe||1!=this.textScale_[0]||1!=this.textScale_[1]){var te=(0,ne.qC)(this.tmpLocalTransform_,A,W,1,1,xe,-A,-W);he.setTransform.apply(he,te),he.translate(A,W),he.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&he.strokeText(this.text_,0,0),this.textFillState_&&he.fillText(this.text_,0,0),he.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&he.strokeText(this.text_,A,W),this.textFillState_&&he.fillText(this.text_,A,W)}}},M.prototype.moveToLineTo_=function(y,R,z,re,le){var he=this.context_,xe=(0,S.vT)(y,R,z,re,this.transform_,this.pixelCoordinates_);he.moveTo(xe[0],xe[1]);var A=xe.length;le&&(A-=2);for(var W=2;W<A;W+=2)he.lineTo(xe[W],xe[W+1]);return le&&he.closePath(),z},M.prototype.drawRings_=function(y,R,z,re){for(var le=0,he=z.length;le<he;++le)R=this.moveToLineTo_(y,R,z[le],re,!0);return R},M.prototype.drawCircle=function(y){if((0,$.kK)(this.extent_,y.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var R=(0,P.Kr)(y,this.transform_,this.pixelCoordinates_),z=R[2]-R[0],re=R[3]-R[1],le=Math.sqrt(z*z+re*re),he=this.context_;he.beginPath(),he.arc(R[0],R[1],le,0,2*Math.PI),this.fillState_&&he.fill(),this.strokeState_&&he.stroke()}""!==this.text_&&this.drawText_(y.getCenter(),0,2,2)}},M.prototype.setStyle=function(y){this.setFillStrokeStyle(y.getFill(),y.getStroke()),this.setImageStyle(y.getImage()),this.setTextStyle(y.getText())},M.prototype.setTransform=function(y){this.transform_=y},M.prototype.drawGeometry=function(y){switch(y.getType()){case i.Z.POINT:this.drawPoint(y);break;case i.Z.LINE_STRING:this.drawLineString(y);break;case i.Z.POLYGON:this.drawPolygon(y);break;case i.Z.MULTI_POINT:this.drawMultiPoint(y);break;case i.Z.MULTI_LINE_STRING:this.drawMultiLineString(y);break;case i.Z.MULTI_POLYGON:this.drawMultiPolygon(y);break;case i.Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(y);break;case i.Z.CIRCLE:this.drawCircle(y)}},M.prototype.drawFeature=function(y,R){var z=R.getGeometryFunction()(y);!z||!(0,$.kK)(this.extent_,z.getExtent())||(this.setStyle(R),this.drawGeometry(z))},M.prototype.drawGeometryCollection=function(y){for(var R=y.getGeometriesArray(),z=0,re=R.length;z<re;++z)this.drawGeometry(R[z])},M.prototype.drawPoint=function(y){this.squaredTolerance_&&(y=y.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var R=y.getFlatCoordinates(),z=y.getStride();this.image_&&this.drawImages_(R,0,R.length,z),""!==this.text_&&this.drawText_(R,0,R.length,z)},M.prototype.drawMultiPoint=function(y){this.squaredTolerance_&&(y=y.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var R=y.getFlatCoordinates(),z=y.getStride();this.image_&&this.drawImages_(R,0,R.length,z),""!==this.text_&&this.drawText_(R,0,R.length,z)},M.prototype.drawLineString=function(y){if(this.squaredTolerance_&&(y=y.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,$.kK)(this.extent_,y.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var R=this.context_,z=y.getFlatCoordinates();R.beginPath(),this.moveToLineTo_(z,0,z.length,y.getStride(),!1),R.stroke()}if(""!==this.text_){var re=y.getFlatMidpoint();this.drawText_(re,0,2,2)}}},M.prototype.drawMultiLineString=function(y){this.squaredTolerance_&&(y=y.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var R=y.getExtent();if((0,$.kK)(this.extent_,R)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var z=this.context_,re=y.getFlatCoordinates(),le=0,he=y.getEnds(),xe=y.getStride();z.beginPath();for(var A=0,W=he.length;A<W;++A)le=this.moveToLineTo_(re,le,he[A],xe,!1);z.stroke()}if(""!==this.text_){var te=y.getFlatMidpoints();this.drawText_(te,0,te.length,2)}}},M.prototype.drawPolygon=function(y){if(this.squaredTolerance_&&(y=y.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,$.kK)(this.extent_,y.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var R=this.context_;R.beginPath(),this.drawRings_(y.getOrientedFlatCoordinates(),0,y.getEnds(),y.getStride()),this.fillState_&&R.fill(),this.strokeState_&&R.stroke()}if(""!==this.text_){var z=y.getFlatInteriorPoint();this.drawText_(z,0,2,2)}}},M.prototype.drawMultiPolygon=function(y){if(this.squaredTolerance_&&(y=y.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,$.kK)(this.extent_,y.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var R=this.context_,z=y.getOrientedFlatCoordinates(),re=0,le=y.getEndss(),he=y.getStride();R.beginPath();for(var xe=0,A=le.length;xe<A;++xe)re=this.drawRings_(z,re,le[xe],he);this.fillState_&&R.fill(),this.strokeState_&&R.stroke()}if(""!==this.text_){var te=y.getFlatInteriorPoints();this.drawText_(te,0,te.length,2)}}},M.prototype.setContextFillState_=function(y){var R=this.context_,z=this.contextFillState_;z?z.fillStyle!=y.fillStyle&&(z.fillStyle=y.fillStyle,R.fillStyle=y.fillStyle):(R.fillStyle=y.fillStyle,this.contextFillState_={fillStyle:y.fillStyle})},M.prototype.setContextStrokeState_=function(y){var R=this.context_,z=this.contextStrokeState_;z?(z.lineCap!=y.lineCap&&(z.lineCap=y.lineCap,R.lineCap=y.lineCap),R.setLineDash&&((0,L.fS)(z.lineDash,y.lineDash)||R.setLineDash(z.lineDash=y.lineDash),z.lineDashOffset!=y.lineDashOffset&&(z.lineDashOffset=y.lineDashOffset,R.lineDashOffset=y.lineDashOffset)),z.lineJoin!=y.lineJoin&&(z.lineJoin=y.lineJoin,R.lineJoin=y.lineJoin),z.lineWidth!=y.lineWidth&&(z.lineWidth=y.lineWidth,R.lineWidth=y.lineWidth),z.miterLimit!=y.miterLimit&&(z.miterLimit=y.miterLimit,R.miterLimit=y.miterLimit),z.strokeStyle!=y.strokeStyle&&(z.strokeStyle=y.strokeStyle,R.strokeStyle=y.strokeStyle)):(R.lineCap=y.lineCap,R.setLineDash&&(R.setLineDash(y.lineDash),R.lineDashOffset=y.lineDashOffset),R.lineJoin=y.lineJoin,R.lineWidth=y.lineWidth,R.miterLimit=y.miterLimit,R.strokeStyle=y.strokeStyle,this.contextStrokeState_={lineCap:y.lineCap,lineDash:y.lineDash,lineDashOffset:y.lineDashOffset,lineJoin:y.lineJoin,lineWidth:y.lineWidth,miterLimit:y.miterLimit,strokeStyle:y.strokeStyle})},M.prototype.setContextTextState_=function(y){var R=this.context_,z=this.contextTextState_,re=y.textAlign?y.textAlign:H.PH;z?(z.font!=y.font&&(z.font=y.font,R.font=y.font),z.textAlign!=re&&(z.textAlign=re,R.textAlign=re),z.textBaseline!=y.textBaseline&&(z.textBaseline=y.textBaseline,R.textBaseline=y.textBaseline)):(R.font=y.font,R.textAlign=re,R.textBaseline=y.textBaseline,this.contextTextState_={font:y.font,textAlign:re,textBaseline:y.textBaseline})},M.prototype.setFillStrokeStyle=function(y,R){var z=this;if(y){var re=y.getColor();this.fillState_={fillStyle:(0,G.y)(re||H.bL)}}else this.fillState_=null;if(R){var le=R.getColor(),he=R.getLineCap(),xe=R.getLineDash(),A=R.getLineDashOffset(),W=R.getLineJoin(),te=R.getWidth(),oe=R.getMiterLimit(),Te=xe||H.X9;this.strokeState_={lineCap:void 0!==he?he:H.mb,lineDash:1===this.pixelRatio_?Te:Te.map(function(Ie){return Ie*z.pixelRatio_}),lineDashOffset:(A||H.He)*this.pixelRatio_,lineJoin:void 0!==W?W:H.rc,lineWidth:(void 0!==te?te:H.yC)*this.pixelRatio_,miterLimit:void 0!==oe?oe:H.V4,strokeStyle:(0,G.y)(le||H.Tx)}}else this.strokeState_=null},M.prototype.setImageStyle=function(y){var R;if(y&&(R=y.getSize())){var z=y.getAnchor(),re=y.getOrigin();this.image_=y.getImage(this.pixelRatio_),this.imageAnchorX_=z[0]*this.pixelRatio_,this.imageAnchorY_=z[1]*this.pixelRatio_,this.imageHeight_=R[1]*this.pixelRatio_,this.imageOpacity_=y.getOpacity(),this.imageOriginX_=re[0],this.imageOriginY_=re[1],this.imageRotateWithView_=y.getRotateWithView(),this.imageRotation_=y.getRotation(),this.imageScale_=y.getScaleArray(),this.imageWidth_=R[0]*this.pixelRatio_}else this.image_=null},M.prototype.setTextStyle=function(y){if(y){var R=y.getFill();if(R){var z=R.getColor();this.textFillState_={fillStyle:(0,G.y)(z||H.bL)}}else this.textFillState_=null;var re=y.getStroke();if(re){var le=re.getColor(),he=re.getLineCap(),xe=re.getLineDash(),A=re.getLineDashOffset(),W=re.getLineJoin(),te=re.getWidth(),oe=re.getMiterLimit();this.textStrokeState_={lineCap:void 0!==he?he:H.mb,lineDash:xe||H.X9,lineDashOffset:A||H.He,lineJoin:void 0!==W?W:H.rc,lineWidth:void 0!==te?te:H.yC,miterLimit:void 0!==oe?oe:H.V4,strokeStyle:(0,G.y)(le||H.Tx)}}else this.textStrokeState_=null;var Te=y.getFont(),Ie=y.getOffsetX(),ae=y.getOffsetY(),_e=y.getRotateWithView(),Ee=y.getRotation(),Pe=y.getScaleArray(),Ge=y.getText(),Ue=y.getTextAlign(),Be=y.getTextBaseline();this.textState_={font:void 0!==Te?Te:H.Df,textAlign:void 0!==Ue?Ue:H.PH,textBaseline:void 0!==Be?Be:H.ru},this.text_=void 0!==Ge?Ge:"",this.textOffsetX_=void 0!==Ie?this.pixelRatio_*Ie:0,this.textOffsetY_=void 0!==ae?this.pixelRatio_*ae:0,this.textRotateWithView_=void 0!==_e&&_e,this.textRotation_=void 0!==Ee?Ee:0,this.textScale_=[this.pixelRatio_*Pe[0],this.pixelRatio_*Pe[1]]}else this.text_=""},M}(D.Z);const C=w;var m=p(9389),T=p(9028),g=p(2156),v=p(1992),O=.5;function k(F,M,y,R,z,re,le){var A=(0,v.E4)(F[0]*O,F[1]*O);A.imageSmoothingEnabled=!1;for(var W=A.canvas,te=new C(A,O,z,null,le),oe=y.length,Te=Math.floor(16777215/oe),Ie={},ae=1;ae<=oe;++ae){var _e=y[ae-1],Ee=_e.getStyleFunction()||R;if(R){var Pe=Ee(_e,re);if(Pe){Array.isArray(Pe)||(Pe=[Pe]);for(var Ue="#"+("000000"+(ae*Te).toString(16)).slice(-6),Be=0,Ce=Pe.length;Be<Ce;++Be){var ke=Pe[Be],qe=ke.getGeometryFunction()(_e);if(qe&&(0,$.kK)(z,qe.getExtent())){var at=ke.clone(),Gt=at.getFill();Gt&&Gt.setColor(Ue);var Tt=at.getStroke();Tt&&(Tt.setColor(Ue),Tt.setLineDash(null)),at.setText(void 0);var Ht=ke.getImage();if(Ht&&0!==Ht.getOpacity()){var wn=Ht.getImageSize();if(!wn)continue;var fn=(0,v.E4)(wn[0],wn[1],void 0,{alpha:!1}),He=fn.canvas;fn.fillStyle=Ue,fn.fillRect(0,0,He.width,He.height),at.setImage(new T.Z({img:He,imgSize:wn,anchor:Ht.getAnchor(),anchorXUnits:m.Z.PIXELS,anchorYUnits:m.Z.PIXELS,offset:Ht.getOrigin(),opacity:1,size:Ht.getSize(),scale:Ht.getScale(),rotation:Ht.getRotation(),rotateWithView:Ht.getRotateWithView()}))}var bt=at.getZIndex()||0;(nt=Ie[bt])||(Ie[bt]=nt={},nt[i.Z.POLYGON]=[],nt[i.Z.CIRCLE]=[],nt[i.Z.LINE_STRING]=[],nt[i.Z.POINT]=[]),nt[qe.getType().replace("Multi","")].push(qe,at)}}}}}for(var Ut=Object.keys(Ie).map(Number).sort(L.kK),Lt=(ae=0,Ut.length);ae<Lt;++ae){var nt=Ie[Ut[ae]];for(var vn in nt){var Pn=nt[vn];for(Be=0,Ce=Pn.length;Be<Ce;Be+=2){te.setStyle(Pn[Be+1]);for(var kt=0,dt=M.length;kt<dt;++kt)te.setTransform(M[kt]),te.drawGeometry(Pn[Be])}}}return A.getImageData(0,0,W.width,W.height)}function B(F,M,y){var R=[];if(y){var z=Math.floor(Math.round(F[0])*O),re=Math.floor(Math.round(F[1])*O),le=4*((0,g.uZ)(z,0,y.width-1)+(0,g.uZ)(re,0,y.height-1)*y.width),W=y.data[le+2]+256*(y.data[le+1]+256*y.data[le]),te=Math.floor(16777215/M.length);W&&W%te==0&&R.push(M[W/te-1])}return R}},2121:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>k});var B,i=p(9972),D=p(521),G=p(4272),ne=p(9454),H=p(119),L=(B=function(F,M){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,R){y.__proto__=R}||function(y,R){for(var z in R)Object.prototype.hasOwnProperty.call(R,z)&&(y[z]=R[z])})(F,M)},function(F,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function y(){this.constructor=F}B(F,M),F.prototype=null===M?Object.create(M):(y.prototype=M.prototype,new y)}),$=function(B){function F(M){var y=B.call(this)||this;return y.boundHandleImageChange_=y.handleImageChange_.bind(y),y.layer_=M,y.declutterExecutorGroup=null,y}return L(F,B),F.prototype.getFeatures=function(M){return(0,H.O3)()},F.prototype.prepareFrame=function(M){return(0,H.O3)()},F.prototype.renderFrame=function(M,y){return(0,H.O3)()},F.prototype.loadedTileCallback=function(M,y,R){M[y]||(M[y]={}),M[y][R.tileCoord.toString()]=R},F.prototype.createLoadedTileFinder=function(M,y,R){return function(z,re){var le=this.loadedTileCallback.bind(this,R,z);return M.forEachLoadedTile(y,z,re,le)}.bind(this)},F.prototype.forEachFeatureAtCoordinate=function(M,y,R,z,re){},F.prototype.getDataAtPixel=function(M,y,R){return null},F.prototype.getLayer=function(){return this.layer_},F.prototype.handleFontsChanged=function(){},F.prototype.handleImageChange_=function(M){M.target.getState()===D.Z.LOADED&&this.renderIfReadyAndVisible()},F.prototype.loadImage=function(M){var y=M.getState();return y!=D.Z.LOADED&&y!=D.Z.ERROR&&M.addEventListener(i.Z.CHANGE,this.boundHandleImageChange_),y==D.Z.IDLE&&(M.load(),y=M.getState()),y==D.Z.LOADED},F.prototype.renderIfReadyAndVisible=function(){var M=this.getLayer();M.getVisible()&&M.getSourceState()==ne.Z.READY&&M.changed()},F}(G.Z);const S=$;var P=p(2919),x=p(2526),w=p(483),C=p(3783),m=p(760),T=p(1992),g=p(2456),v=function(){var B=function(F,M){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,R){y.__proto__=R}||function(y,R){for(var z in R)Object.prototype.hasOwnProperty.call(R,z)&&(y[z]=R[z])})(F,M)};return function(F,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function y(){this.constructor=F}B(F,M),F.prototype=null===M?Object.create(M):(y.prototype=M.prototype,new y)}}(),O=function(B){function F(M){var y=B.call(this,M)||this;return y.container=null,y.tempTransform=(0,w.Ue)(),y.pixelTransform=(0,w.Ue)(),y.inversePixelTransform=(0,w.Ue)(),y.context=null,y.containerReused=!1,y.pixelContext_=null,y}return v(F,B),F.prototype.getBackground=function(M){var R=this.getLayer().getBackground();return"function"==typeof R&&(R=R(M.viewState.resolution)),R||void 0},F.prototype.useContainer=function(M,y,R,z){var le,he,re=this.getLayer().getClassName();if(M&&M.className===re&&""===M.style.opacity&&1===R&&(!z||M.style.backgroundColor&&(0,g.fS)((0,C._2)(M.style.backgroundColor),(0,C._2)(z)))&&(xe=M.firstElementChild)instanceof HTMLCanvasElement&&(he=xe.getContext("2d")),he&&he.canvas.style.transform===y?(this.container=M,this.context=he,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(le=document.createElement("div")).className=re;var xe,A=le.style;A.position="absolute",A.width="100%",A.height="100%",z&&(A.backgroundColor=z),he=(0,T.E4)(),le.appendChild(xe=he.canvas),(A=xe.style).position="absolute",A.left="0",A.transformOrigin="top left",this.container=le,this.context=he}},F.prototype.clipUnrotated=function(M,y,R){var z=(0,m.rL)(R),re=(0,m.Xv)(R),le=(0,m.w$)(R),he=(0,m.hC)(R);(0,w.nn)(y.coordinateToPixelTransform,z),(0,w.nn)(y.coordinateToPixelTransform,re),(0,w.nn)(y.coordinateToPixelTransform,le),(0,w.nn)(y.coordinateToPixelTransform,he);var xe=this.inversePixelTransform;(0,w.nn)(xe,z),(0,w.nn)(xe,re),(0,w.nn)(xe,le),(0,w.nn)(xe,he),M.save(),M.beginPath(),M.moveTo(Math.round(z[0]),Math.round(z[1])),M.lineTo(Math.round(re[0]),Math.round(re[1])),M.lineTo(Math.round(le[0]),Math.round(le[1])),M.lineTo(Math.round(he[0]),Math.round(he[1])),M.clip()},F.prototype.dispatchRenderEvent_=function(M,y,R){var z=this.getLayer();if(z.hasListener(M)){var re=new P.Z(M,this.inversePixelTransform,R,y);z.dispatchEvent(re)}},F.prototype.preRender=function(M,y){this.dispatchRenderEvent_(x.Z.PRERENDER,M,y)},F.prototype.postRender=function(M,y){this.dispatchRenderEvent_(x.Z.POSTRENDER,M,y)},F.prototype.getRenderTransform=function(M,y,R,z,re,le,he){var W=z/y;return(0,w.qC)(this.tempTransform,re/2,le/2,W,-W,-R,-M[0]+he,-M[1])},F.prototype.getDataAtPixel=function(M,y,R){var z=(0,w.nn)(this.inversePixelTransform,M.slice()),re=this.context,he=this.getLayer().getExtent();if(he){var xe=(0,w.nn)(y.pixelToCoordinateTransform,M.slice());if(!(0,m.b8)(he,xe))return null}var Te,A=Math.round(z[0]),W=Math.round(z[1]),te=this.pixelContext_;if(!te){var oe=document.createElement("canvas");oe.width=1,oe.height=1,te=oe.getContext("2d"),this.pixelContext_=te}te.clearRect(0,0,1,1);try{te.drawImage(re.canvas,A,W,1,1,0,0,1,1),Te=te.getImageData(0,0,1,1).data}catch(Ie){return"SecurityError"===Ie.name?(this.pixelContext_=null,new Uint8Array):Te}return 0===Te[3]?null:Te},F}(S);const k=O},8199:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>T});var g,i=p(2121),D=p(6609),G=p(1999),ne=p(6597),H=p(483),L=p(9466),$=p(760),S=p(5263),P=p(5478),x=p(119),w=p(2456),C=(g=function(v,O){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,B){k.__proto__=B}||function(k,B){for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(k[F]=B[F])})(v,O)},function(v,O){if("function"!=typeof O&&null!==O)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function k(){this.constructor=v}g(v,O),v.prototype=null===O?Object.create(O):(k.prototype=O.prototype,new k)}),m=function(g){function v(O){var k=g.call(this,O)||this;return k.extentChanged=!0,k.renderedExtent_=null,k.renderedProjection=null,k.renderedTiles=[],k.newTiles_=!1,k.tmpExtent=(0,$.lJ)(),k.tmpTileRange_=new D.Z(0,0,0,0),k}return C(v,g),v.prototype.isDrawableTile=function(O){var k=this.getLayer(),B=O.getState(),F=k.getUseInterimTilesOnError();return B==G.Z.LOADED||B==G.Z.EMPTY||B==G.Z.ERROR&&!F},v.prototype.getTile=function(O,k,B,F){var M=F.pixelRatio,y=F.viewState.projection,R=this.getLayer(),re=R.getSource().getTile(O,k,B,M,y);return re.getState()==G.Z.ERROR&&(R.getUseInterimTilesOnError()?R.getPreload()>0&&(this.newTiles_=!0):re.setState(G.Z.LOADED)),this.isDrawableTile(re)||(re=re.getInterimTile()),re},v.prototype.loadedTileCallback=function(O,k,B){return!!this.isDrawableTile(B)&&g.prototype.loadedTileCallback.call(this,O,k,B)},v.prototype.prepareFrame=function(O){return!!this.getLayer().getSource()},v.prototype.renderFrame=function(O,k){var B=O.layerStatesArray[O.layerIndex],F=O.viewState,M=F.projection,y=F.resolution,R=F.center,z=F.rotation,re=O.pixelRatio,le=this.getLayer(),he=le.getSource(),xe=he.getRevision(),A=he.getTileGridForProjection(M),W=A.getZForResolution(y,he.zDirection),te=A.getResolution(W),oe=O.extent,Te=B.extent&&(0,P.dY)(B.extent,M);Te&&(oe=(0,$.Ed)(oe,(0,P.dY)(B.extent,M)));var Ie=he.getTilePixelRatio(re),ae=Math.round(O.size[0]*Ie),_e=Math.round(O.size[1]*Ie);if(z){var Ee=Math.round(Math.sqrt(ae*ae+_e*_e));ae=Ee,_e=Ee}var Pe=te*ae/2/Ie,Ge=te*_e/2/Ie,Ue=[R[0]-Pe,R[1]-Ge,R[0]+Pe,R[1]+Ge],Be=A.getTileRangeForExtentAndZ(oe,W),Ce={};Ce[W]={};var ke=this.createLoadedTileFinder(he,M,Ce),qe=this.tmpExtent,at=this.tmpTileRange_;this.newTiles_=!1;for(var Gt=Be.minX;Gt<=Be.maxX;++Gt)for(var Tt=Be.minY;Tt<=Be.maxY;++Tt){var Ht=this.getTile(W,Gt,Tt,O);if(this.isDrawableTile(Ht)){var wn=(0,x.sq)(this);if(Ht.getState()==G.Z.LOADED){Ce[W][Ht.tileCoord.toString()]=Ht;var fn=Ht.inTransition(wn);!this.newTiles_&&(fn||-1===this.renderedTiles.indexOf(Ht))&&(this.newTiles_=!0)}if(1===Ht.getAlpha(wn,O.time))continue}var He=A.getTileCoordChildTileRange(Ht.tileCoord,at,qe),bt=!1;He&&(bt=ke(W+1,He)),bt||A.forEachTileCoordParentTileRange(Ht.tileCoord,ke,at,qe)}var nt=te/y;(0,H.qC)(this.pixelTransform,O.size[0]/2,O.size[1]/2,1/Ie,1/Ie,z,-ae/2,-_e/2);var Ut=(0,H.BB)(this.pixelTransform);this.useContainer(k,Ut,B.opacity,this.getBackground(O));var Lt=this.context,vn=Lt.canvas;(0,H.nb)(this.inversePixelTransform,this.pixelTransform),(0,H.qC)(this.tempTransform,ae/2,_e/2,nt,nt,0,-ae/2,-_e/2),vn.width!=ae||vn.height!=_e?(vn.width=ae,vn.height=_e):this.containerReused||Lt.clearRect(0,0,ae,_e),Te&&this.clipUnrotated(Lt,O,Te),he.getInterpolate()||(0,L.f0)(Lt,ne.$),this.preRender(Lt,O),this.renderedTiles.length=0;var kt,dt,ht,Pn=Object.keys(Ce).map(Number);Pn.sort(w.kK),1!==B.opacity||this.containerReused&&!he.getOpaque(O.viewState.projection)?(kt=[],dt=[]):Pn=Pn.reverse();for(var ot=Pn.length-1;ot>=0;--ot){var _t=Pn[ot],$t=he.getTilePixelSize(_t,re,M),Wt=A.getResolution(_t)/te,_n=$t[0]*Wt*nt,Gn=$t[1]*Wt*nt,en=A.getTileCoordForCoordAndZ((0,$.rL)(Ue),_t),Hn=A.getTileCoordExtent(en),On=(0,H.nn)(this.tempTransform,[Ie*(Hn[0]-Ue[0])/te,Ie*(Ue[3]-Hn[3])/te]),Vn=Ie*he.getGutterForProjection(M),Fn=Ce[_t];for(var er in Fn){var gr=(Ht=Fn[er]).tileCoord,kn=en[1]-gr[1],Ar=Math.round(On[0]-(kn-1)*_n),ni=en[2]-gr[2],Gr=Math.round(On[1]-(ni-1)*Gn),Vr=Ar-(Gt=Math.round(On[0]-kn*_n)),zr=Gr-(Tt=Math.round(On[1]-ni*Gn)),or=W===_t;if(!(fn=or&&1!==Ht.getAlpha((0,x.sq)(this),O.time)))if(kt){Lt.save(),ht=[Gt,Tt,Gt+Vr,Tt,Gt+Vr,Tt+zr,Gt,Tt+zr];for(var Wr=0,oi=kt.length;Wr<oi;++Wr)if(W!==_t&&_t<dt[Wr]){var Mr=kt[Wr];Lt.beginPath(),Lt.moveTo(ht[0],ht[1]),Lt.lineTo(ht[2],ht[3]),Lt.lineTo(ht[4],ht[5]),Lt.lineTo(ht[6],ht[7]),Lt.moveTo(Mr[6],Mr[7]),Lt.lineTo(Mr[4],Mr[5]),Lt.lineTo(Mr[2],Mr[3]),Lt.lineTo(Mr[0],Mr[1]),Lt.clip()}kt.push(ht),dt.push(_t)}else Lt.clearRect(Gt,Tt,Vr,zr);this.drawTileImage(Ht,O,Gt,Tt,Vr,zr,Vn,or),kt&&!fn?(Lt.restore(),this.renderedTiles.unshift(Ht)):this.renderedTiles.push(Ht),this.updateUsedTiles(O.usedTiles,he,Ht)}}this.renderedRevision=xe,this.renderedResolution=te,this.extentChanged=!this.renderedExtent_||!(0,$.fS)(this.renderedExtent_,Ue),this.renderedExtent_=Ue,this.renderedPixelRatio=re,this.renderedProjection=M,this.manageTilePyramid(O,he,A,re,M,oe,W,le.getPreload()),this.scheduleExpireCache(O,he),this.postRender(Lt,O),B.extent&&Lt.restore(),(0,L.f0)(Lt,ne.s),Ut!==vn.style.transform&&(vn.style.transform=Ut);var Qr=(0,S.Xy)(B.opacity),Rr=this.container;return Qr!==Rr.style.opacity&&(Rr.style.opacity=Qr),this.container},v.prototype.drawTileImage=function(O,k,B,F,M,y,R,z){var re=this.getTileImage(O);if(re){var le=(0,x.sq)(this),he=z?O.getAlpha(le,k.time):1,xe=he!==this.context.globalAlpha;xe&&(this.context.save(),this.context.globalAlpha=he),this.context.drawImage(re,R,R,re.width-2*R,re.height-2*R,B,F,M,y),xe&&this.context.restore(),1!==he?k.animate=!0:z&&O.endTransition(le)}},v.prototype.getImage=function(){var O=this.context;return O?O.canvas:null},v.prototype.getTileImage=function(O){return O.getImage()},v.prototype.scheduleExpireCache=function(O,k){if(k.canExpireCache()){var B=function(F,M,y){var R=(0,x.sq)(F);R in y.usedTiles&&F.expireCache(y.viewState.projection,y.usedTiles[R])}.bind(null,k);O.postRenderFunctions.push(B)}},v.prototype.updateUsedTiles=function(O,k,B){var F=(0,x.sq)(k);F in O||(O[F]={}),O[F][B.getKey()]=!0},v.prototype.manageTilePyramid=function(O,k,B,F,M,y,R,z,re){var le=(0,x.sq)(k);le in O.wantedTiles||(O.wantedTiles[le]={});var te,oe,Te,Ie,ae,_e,he=O.wantedTiles[le],xe=O.tileQueue,W=0;for(_e=B.getMinZoom();_e<=R;++_e)for(oe=B.getTileRangeForExtentAndZ(y,_e,oe),Te=B.getResolution(_e),Ie=oe.minX;Ie<=oe.maxX;++Ie)for(ae=oe.minY;ae<=oe.maxY;++ae)R-_e<=z?(++W,(te=k.getTile(_e,Ie,ae,F,M)).getState()==G.Z.IDLE&&(he[te.getKey()]=!0,xe.isKeyQueued(te.getKey())||xe.enqueue([te,le,B.getTileCoordCenter(te.tileCoord),Te])),void 0!==re&&re(te)):k.useTile(_e,Ie,ae,M);k.updateCacheSize(W,M)},v}(i.Z);const T=m},6597:(Ye,fe,p)=>{"use strict";p.d(fe,{$:()=>i,s:()=>D});var i={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},D={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0}},8377:(Ye,fe,p)=>{"use strict";p.d(fe,{eR:()=>$,se:()=>S,Qz:()=>P,Pn:()=>w});var i=p(9555),D=p(4410),G=p(521),ne=p(119),L={Point:function(M,y,R,z,re){var xe,le=R.getImage(),he=R.getText();if(re&&(M=re,xe=le&&he&&he.getText()?{}:void 0),le){if(le.getImageState()!=G.Z.LOADED)return;var A=M.getBuilder(R.getZIndex(),i.Z.IMAGE);A.setImageStyle(le,xe),A.drawPoint(y,z)}if(he&&he.getText()){var W=M.getBuilder(R.getZIndex(),i.Z.TEXT);W.setTextStyle(he,xe),W.drawText(y,z)}},LineString:function(M,y,R,z,re){var le=R.getStroke();if(le){var he=M.getBuilder(R.getZIndex(),i.Z.LINE_STRING);he.setFillStrokeStyle(null,le),he.drawLineString(y,z)}var xe=R.getText();if(xe&&xe.getText()){var A=(re||M).getBuilder(R.getZIndex(),i.Z.TEXT);A.setTextStyle(xe),A.drawText(y,z)}},Polygon:function(M,y,R,z,re){var le=R.getFill(),he=R.getStroke();if(le||he){var xe=M.getBuilder(R.getZIndex(),i.Z.POLYGON);xe.setFillStrokeStyle(le,he),xe.drawPolygon(y,z)}var A=R.getText();if(A&&A.getText()){var W=(re||M).getBuilder(R.getZIndex(),i.Z.TEXT);W.setTextStyle(A),W.drawText(y,z)}},MultiPoint:function(M,y,R,z,re){var xe,le=R.getImage(),he=R.getText();if(re&&(M=re,xe=le&&he&&he.getText()?{}:void 0),le){if(le.getImageState()!=G.Z.LOADED)return;var A=M.getBuilder(R.getZIndex(),i.Z.IMAGE);A.setImageStyle(le,xe),A.drawMultiPoint(y,z)}if(he&&he.getText()){var W=(re||M).getBuilder(R.getZIndex(),i.Z.TEXT);W.setTextStyle(he,xe),W.drawText(y,z)}},MultiLineString:function(M,y,R,z,re){var le=R.getStroke();if(le){var he=M.getBuilder(R.getZIndex(),i.Z.LINE_STRING);he.setFillStrokeStyle(null,le),he.drawMultiLineString(y,z)}var xe=R.getText();if(xe&&xe.getText()){var A=(re||M).getBuilder(R.getZIndex(),i.Z.TEXT);A.setTextStyle(xe),A.drawText(y,z)}},MultiPolygon:function(M,y,R,z,re){var le=R.getFill(),he=R.getStroke();if(he||le){var xe=M.getBuilder(R.getZIndex(),i.Z.POLYGON);xe.setFillStrokeStyle(le,he),xe.drawMultiPolygon(y,z)}var A=R.getText();if(A&&A.getText()){var W=(re||M).getBuilder(R.getZIndex(),i.Z.TEXT);W.setTextStyle(A),W.drawText(y,z)}},GeometryCollection:function(M,y,R,z,re){var he,xe,le=y.getGeometriesArray();for(he=0,xe=le.length;he<xe;++he)(0,L[le[he].getType()])(M,le[he],R,z,re)},Circle:function(M,y,R,z,re){var le=R.getFill(),he=R.getStroke();if(le||he){var xe=M.getBuilder(R.getZIndex(),i.Z.CIRCLE);xe.setFillStrokeStyle(le,he),xe.drawCircle(y,z)}var A=R.getText();if(A&&A.getText()){var W=(re||M).getBuilder(R.getZIndex(),i.Z.TEXT);W.setTextStyle(A),W.drawText(y,z)}}};function $(M,y){return parseInt((0,ne.sq)(M),10)-parseInt((0,ne.sq)(y),10)}function S(M,y){var R=P(M,y);return R*R}function P(M,y){return.5*M/y}function w(M,y,R,z,re,le,he){var xe=!1,A=R.getImage();if(A){var W=A.getImageState();W==G.Z.LOADED||W==G.Z.ERROR?A.unlistenImageChange(re):(W==G.Z.IDLE&&A.load(),W=A.getImageState(),A.listenImageChange(re),xe=!0)}return function(M,y,R,z,re,le){var he=R.getGeometryFunction()(y);if(he){var xe=he.simplifyTransformed(z,re);R.getRenderer()?m(M,xe,R,y):(0,L[xe.getType()])(M,xe,R,y,le)}}(M,y,R,z,le,he),xe}function m(M,y,R,z){if(y.getType()!=D.Z.GEOMETRY_COLLECTION)M.getBuilder(R.getZIndex(),i.Z.DEFAULT).drawCustom(y,z,R.getRenderer(),R.getHitDetectionRenderer());else for(var re=y.getGeometries(),le=0,he=re.length;le<he;++le)m(M,re[le],R,z)}},2017:(Ye,fe,p)=>{"use strict";p.d(fe,{aA:()=>w,Co:()=>C,sY:()=>m});var $,i=p(6597),D=p(9466),G=p(760),ne=p(1992),H=p(5478),L=p(2156);function S(T,g,v,O,k){T.beginPath(),T.moveTo(0,0),T.lineTo(g,v),T.lineTo(O,k),T.closePath(),T.save(),T.clip(),T.fillRect(0,0,Math.max(g,O)+1,Math.max(v,k)),T.restore()}function P(T,g){return Math.abs(T[4*g]-210)>2||Math.abs(T[4*g+3]-191.25)>2}function w(T,g,v,O){var k=(0,H.vs)(v,g,T),B=(0,H._Q)(g,O,v),F=g.getMetersPerUnit();void 0!==F&&(B*=F);var M=T.getMetersPerUnit();void 0!==M&&(B/=M);var y=T.getExtent();if(!y||(0,G.b8)(y,k)){var R=(0,H._Q)(T,B,k)/B;isFinite(R)&&R>0&&(B/=R)}return B}function C(T,g,v,O){var k=(0,G.qg)(v),B=w(T,g,k,O);return(!isFinite(B)||B<=0)&&(0,G.H6)(v,function(F){return B=w(T,g,F,O),isFinite(B)&&B>0}),B}function m(T,g,v,O,k,B,F,M,y,R,z,re){var le=(0,ne.E4)(Math.round(v*T),Math.round(v*g));if(re||(0,D.f0)(le,i.$),0===y.length)return le.canvas;function he(Ie){return Math.round(Ie*v)/v}le.scale(v,v),le.globalCompositeOperation="lighter";var xe=(0,G.lJ)();y.forEach(function(Ie,ae,_e){(0,G.l7)(xe,Ie.extent)});var A=(0,G.dz)(xe),W=(0,G.Cr)(xe),te=(0,ne.E4)(Math.round(v*A/O),Math.round(v*W/O));re||(0,D.f0)(te,i.$);var oe=v/O;y.forEach(function(Ie,ae,_e){var Ee=Ie.extent[0]-xe[0],Pe=-(Ie.extent[3]-xe[3]),Ge=(0,G.dz)(Ie.extent),Ue=(0,G.Cr)(Ie.extent);Ie.image.width>0&&Ie.image.height>0&&te.drawImage(Ie.image,R,R,Ie.image.width-2*R,Ie.image.height-2*R,Ee*oe,Pe*oe,Ge*oe,Ue*oe)});var Te=(0,G.rL)(F);return M.getTriangles().forEach(function(Ie,ae,_e){var Ee=Ie.source,Pe=Ie.target,Ge=Ee[0][0],Ue=Ee[0][1],Be=Ee[1][0],Ce=Ee[1][1],ke=Ee[2][0],qe=Ee[2][1],at=he((Pe[0][0]-Te[0])/B),Gt=he(-(Pe[0][1]-Te[1])/B),Tt=he((Pe[1][0]-Te[0])/B),Ht=he(-(Pe[1][1]-Te[1])/B),wn=he((Pe[2][0]-Te[0])/B),fn=he(-(Pe[2][1]-Te[1])/B),He=Ge,bt=Ue;Ge=0,Ue=0;var Ut=(0,L.SV)([[Be-=He,Ce-=bt,0,0,Tt-at],[ke-=He,qe-=bt,0,0,wn-at],[0,0,Be,Ce,Ht-Gt],[0,0,ke,qe,fn-Gt]]);if(Ut){if(le.save(),le.beginPath(),function(){if(void 0===$){var T=document.createElement("canvas").getContext("2d");T.globalCompositeOperation="lighter",T.fillStyle="rgba(210, 0, 0, 0.75)",S(T,4,5,4,0),S(T,4,5,0,5);var g=T.getImageData(0,0,3,3).data;$=P(g,0)||P(g,4)||P(g,8)}return $}()||!re){le.moveTo(Tt,Ht);for(var vn=at-Tt,Pn=Gt-Ht,kt=0;kt<4;kt++)le.lineTo(Tt+he((kt+1)*vn/4),Ht+he(kt*Pn/3)),3!=kt&&le.lineTo(Tt+he((kt+1)*vn/4),Ht+he((kt+1)*Pn/3));le.lineTo(wn,fn)}else le.moveTo(Tt,Ht),le.lineTo(at,Gt),le.lineTo(wn,fn);le.clip(),le.transform(Ut[0],Ut[2],Ut[1],Ut[3],at,Gt),le.translate(xe[0]-He,xe[3]-bt),le.scale(O/v,-O/v),le.drawImage(te.canvas,0,0),le.restore()}}),z&&(le.save(),le.globalCompositeOperation="source-over",le.strokeStyle="black",le.lineWidth=1,M.getTriangles().forEach(function(Ie,ae,_e){var Ee=Ie.target,Pe=(Ee[0][0]-Te[0])/B,Ge=-(Ee[0][1]-Te[1])/B,Ue=(Ee[1][0]-Te[0])/B,Be=-(Ee[1][1]-Te[1])/B,Ce=(Ee[2][0]-Te[0])/B,ke=-(Ee[2][1]-Te[1])/B;le.beginPath(),le.moveTo(Ue,Be),le.lineTo(Pe,Ge),le.lineTo(Ce,ke),le.closePath(),le.stroke()}),le.restore()),le.canvas}},1750:(Ye,fe,p)=>{"use strict";function i(H,L,$){return void 0===$&&($=[0,0]),$[0]=H[0]+2*L,$[1]=H[1]+2*L,$}function D(H){return H[0]>0&&H[1]>0}function G(H,L,$){return void 0===$&&($=[0,0]),$[0]=H[0]*L+.5|0,$[1]=H[1]*L+.5|0,$}function ne(H,L){return Array.isArray(H)?H:(void 0===L?L=[H,H]:(L[0]=H,L[1]=H),L)}p.d(fe,{f3:()=>i,py:()=>D,bA:()=>G,Pq:()=>ne})},4702:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>S});var P,i=p(3632),D=p(9454),G=p(119),ne=p(5478),H=(P=function(x,w){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,m){C.__proto__=m}||function(C,m){for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(C[T]=m[T])})(x,w)},function(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function C(){this.constructor=x}P(x,w),x.prototype=null===w?Object.create(w):(C.prototype=w.prototype,new C)}),L=function(P){function x(w){var C=P.call(this)||this;C.projection=(0,ne.U2)(w.projection),C.attributions_=$(w.attributions),C.attributionsCollapsible_=void 0===w.attributionsCollapsible||w.attributionsCollapsible,C.loading=!1,C.state_=void 0!==w.state?w.state:D.Z.READY,C.wrapX_=void 0!==w.wrapX&&w.wrapX,C.interpolate_=!!w.interpolate,C.viewResolver=null,C.viewRejector=null;var m=C;return C.viewPromise_=new Promise(function(T,g){m.viewResolver=T,m.viewRejector=g}),C}return H(x,P),x.prototype.getAttributions=function(){return this.attributions_},x.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},x.prototype.getProjection=function(){return this.projection},x.prototype.getResolutions=function(){return(0,G.O3)()},x.prototype.getView=function(){return this.viewPromise_},x.prototype.getState=function(){return this.state_},x.prototype.getWrapX=function(){return this.wrapX_},x.prototype.getInterpolate=function(){return this.interpolate_},x.prototype.refresh=function(){this.changed()},x.prototype.setAttributions=function(w){this.attributions_=$(w),this.changed()},x.prototype.setState=function(w){this.state_=w,this.changed()},x}(i.Z);function $(P){return P?Array.isArray(P)?function(x){return P}:"function"==typeof P?P:function(x){return[P]}:null}const S=L},9454:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},8101:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>oe});var Te,i=p(9972),D=p(1299),G=p(1999),ne=p(1992),H=p(201),L=(Te=function(Ie,ae){return(Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_e,Ee){_e.__proto__=Ee}||function(_e,Ee){for(var Pe in Ee)Object.prototype.hasOwnProperty.call(Ee,Pe)&&(_e[Pe]=Ee[Pe])})(Ie,ae)},function(Ie,ae){if("function"!=typeof ae&&null!==ae)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function _e(){this.constructor=Ie}Te(Ie,ae),Ie.prototype=null===ae?Object.create(ae):(_e.prototype=ae.prototype,new _e)}),$=function(Te){function Ie(ae,_e,Ee,Pe,Ge,Ue){var Be=Te.call(this,ae,_e,Ue)||this;return Be.crossOrigin_=Pe,Be.src_=Ee,Be.key=Ee,Be.image_=new Image,null!==Pe&&(Be.image_.crossOrigin=Pe),Be.unlisten_=null,Be.tileLoadFunction_=Ge,Be}return L(Ie,Te),Ie.prototype.getImage=function(){return this.image_},Ie.prototype.setImage=function(ae){this.image_=ae,this.state=G.Z.LOADED,this.unlistenImage_(),this.changed()},Ie.prototype.handleImageError_=function(){this.state=G.Z.ERROR,this.unlistenImage_(),this.image_=function(){var Te=(0,ne.E4)(1,1);return Te.fillStyle="rgba(0,0,0,0)",Te.fillRect(0,0,1,1),Te.canvas}(),this.changed()},Ie.prototype.handleImageLoad_=function(){var ae=this.image_;this.state=ae.naturalWidth&&ae.naturalHeight?G.Z.LOADED:G.Z.EMPTY,this.unlistenImage_(),this.changed()},Ie.prototype.load=function(){this.state==G.Z.ERROR&&(this.state=G.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==G.Z.IDLE&&(this.state=G.Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,H.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},Ie.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},Ie}(D.Z);const P=$;var C=p(760),m=p(5478),T=p(2156),O=function(){function Te(Ie,ae,_e,Ee,Pe,Ge){this.sourceProj_=Ie,this.targetProj_=ae;var Ue={},Be=(0,m.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(bt){var nt=bt[0]+"/"+bt[1];return Ue[nt]||(Ue[nt]=Be(bt)),Ue[nt]},this.maxSourceExtent_=Ee,this.errorThresholdSquared_=Pe*Pe,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!Ee&&!!this.sourceProj_.getExtent()&&(0,C.dz)(Ee)==(0,C.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,C.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,C.dz)(this.targetProj_.getExtent()):null;var Ce=(0,C.rL)(_e),ke=(0,C.Xv)(_e),qe=(0,C.w$)(_e),at=(0,C.hC)(_e),Gt=this.transformInv_(Ce),Tt=this.transformInv_(ke),Ht=this.transformInv_(qe),wn=this.transformInv_(at),fn=10+(Ge?Math.max(0,Math.ceil((0,T.k3)((0,C.bg)(_e)/(Ge*Ge*256*256)))):0);if(this.addQuad_(Ce,ke,qe,at,Gt,Tt,Ht,wn,fn),this.wrapsXInSource_){var He=1/0;this.triangles_.forEach(function(bt,nt,Ut){He=Math.min(He,bt.source[0][0],bt.source[1][0],bt.source[2][0])}),this.triangles_.forEach(function(bt){if(Math.max(bt.source[0][0],bt.source[1][0],bt.source[2][0])-He>this.sourceWorldWidth_/2){var nt=[[bt.source[0][0],bt.source[0][1]],[bt.source[1][0],bt.source[1][1]],[bt.source[2][0],bt.source[2][1]]];nt[0][0]-He>this.sourceWorldWidth_/2&&(nt[0][0]-=this.sourceWorldWidth_),nt[1][0]-He>this.sourceWorldWidth_/2&&(nt[1][0]-=this.sourceWorldWidth_),nt[2][0]-He>this.sourceWorldWidth_/2&&(nt[2][0]-=this.sourceWorldWidth_);var Ut=Math.min(nt[0][0],nt[1][0],nt[2][0]);Math.max(nt[0][0],nt[1][0],nt[2][0])-Ut<this.sourceWorldWidth_/2&&(bt.source=nt)}}.bind(this))}Ue={}}return Te.prototype.addTriangle_=function(Ie,ae,_e,Ee,Pe,Ge){this.triangles_.push({source:[Ee,Pe,Ge],target:[Ie,ae,_e]})},Te.prototype.addQuad_=function(Ie,ae,_e,Ee,Pe,Ge,Ue,Be,Ce){var ke=(0,C.hI)([Pe,Ge,Ue,Be]),qe=this.sourceWorldWidth_?(0,C.dz)(ke)/this.sourceWorldWidth_:null,at=this.sourceWorldWidth_,Gt=this.sourceProj_.canWrapX()&&qe>.5&&qe<1,Tt=!1;if(Ce>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var Ht=(0,C.hI)([Ie,ae,_e,Ee]);Tt=(0,C.dz)(Ht)/this.targetWorldWidth_>.25||Tt}!Gt&&this.sourceProj_.isGlobal()&&qe&&(Tt=qe>.25||Tt)}if(!(!Tt&&this.maxSourceExtent_&&isFinite(ke[0])&&isFinite(ke[1])&&isFinite(ke[2])&&isFinite(ke[3]))||(0,C.kK)(ke,this.maxSourceExtent_)){var fn=0;if(!(Tt||isFinite(Pe[0])&&isFinite(Pe[1])&&isFinite(Ge[0])&&isFinite(Ge[1])&&isFinite(Ue[0])&&isFinite(Ue[1])&&isFinite(Be[0])&&isFinite(Be[1])))if(Ce>0)Tt=!0;else if(1!=(fn=(isFinite(Pe[0])&&isFinite(Pe[1])?0:8)+(isFinite(Ge[0])&&isFinite(Ge[1])?0:4)+(isFinite(Ue[0])&&isFinite(Ue[1])?0:2)+(isFinite(Be[0])&&isFinite(Be[1])?0:1))&&2!=fn&&4!=fn&&8!=fn)return;if(Ce>0){if(!Tt){var bt=this.transformInv_([(Ie[0]+_e[0])/2,(Ie[1]+_e[1])/2]),nt=void 0;nt=Gt?((0,T.$W)(Pe[0],at)+(0,T.$W)(Ue[0],at))/2-(0,T.$W)(bt[0],at):(Pe[0]+Ue[0])/2-bt[0];var Lt=(Pe[1]+Ue[1])/2-bt[1];Tt=nt*nt+Lt*Lt>this.errorThresholdSquared_}if(Tt){if(Math.abs(Ie[0]-_e[0])<=Math.abs(Ie[1]-_e[1])){var Pn=[(ae[0]+_e[0])/2,(ae[1]+_e[1])/2],kt=this.transformInv_(Pn),dt=[(Ee[0]+Ie[0])/2,(Ee[1]+Ie[1])/2],ht=this.transformInv_(dt);this.addQuad_(Ie,ae,Pn,dt,Pe,Ge,kt,ht,Ce-1),this.addQuad_(dt,Pn,_e,Ee,ht,kt,Ue,Be,Ce-1)}else{var ot=[(Ie[0]+ae[0])/2,(Ie[1]+ae[1])/2],_t=this.transformInv_(ot),$t=[(_e[0]+Ee[0])/2,(_e[1]+Ee[1])/2],Rt=this.transformInv_($t);this.addQuad_(Ie,ot,$t,Ee,Pe,_t,Rt,Be,Ce-1),this.addQuad_(ot,ae,_e,$t,_t,Ge,Ue,Rt,Ce-1)}return}}if(Gt){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&fn)&&this.addTriangle_(Ie,_e,Ee,Pe,Ue,Be),0==(14&fn)&&this.addTriangle_(Ie,_e,ae,Pe,Ue,Ge),fn&&(0==(13&fn)&&this.addTriangle_(ae,Ee,Ie,Ge,Be,Pe),0==(7&fn)&&this.addTriangle_(ae,Ee,_e,Ge,Be,Ue))}},Te.prototype.calculateSourceExtent=function(){var Ie=(0,C.lJ)();return this.triangles_.forEach(function(ae,_e,Ee){var Pe=ae.source;(0,C.Wj)(Ie,Pe[0]),(0,C.Wj)(Ie,Pe[1]),(0,C.Wj)(Ie,Pe[2])}),Ie},Te.prototype.getTriangles=function(){return this.triangles_},Te}();const k=O;var B=p(2017),F=p(1729),M=function(){var Te=function(Ie,ae){return(Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_e,Ee){_e.__proto__=Ee}||function(_e,Ee){for(var Pe in Ee)Object.prototype.hasOwnProperty.call(Ee,Pe)&&(_e[Pe]=Ee[Pe])})(Ie,ae)};return function(Ie,ae){if("function"!=typeof ae&&null!==ae)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function _e(){this.constructor=Ie}Te(Ie,ae),Ie.prototype=null===ae?Object.create(ae):(_e.prototype=ae.prototype,new _e)}}(),y=function(Te){function Ie(ae,_e,Ee,Pe,Ge,Ue,Be,Ce,ke,qe,at,Gt){var Tt=Te.call(this,Ge,G.Z.IDLE,{interpolate:!!Gt})||this;Tt.renderEdges_=void 0!==at&&at,Tt.pixelRatio_=Be,Tt.gutter_=Ce,Tt.canvas_=null,Tt.sourceTileGrid_=_e,Tt.targetTileGrid_=Pe,Tt.wrappedTileCoord_=Ue||Ge,Tt.sourceTiles_=[],Tt.sourcesListenerKeys_=null,Tt.sourceZ_=0;var Ht=Pe.getTileCoordExtent(Tt.wrappedTileCoord_),wn=Tt.targetTileGrid_.getExtent(),fn=Tt.sourceTileGrid_.getExtent(),He=wn?(0,C.Ed)(Ht,wn):Ht;if(0===(0,C.bg)(He))return Tt.state=G.Z.EMPTY,Tt;var bt=ae.getExtent();bt&&(fn=fn?(0,C.Ed)(fn,bt):bt);var nt=Pe.getResolution(Tt.wrappedTileCoord_[0]),Ut=(0,B.Co)(ae,Ee,He,nt);if(!isFinite(Ut)||Ut<=0)return Tt.state=G.Z.EMPTY,Tt;if(Tt.triangulation_=new k(ae,Ee,He,fn,Ut*(void 0!==qe?qe:.5),nt),0===Tt.triangulation_.getTriangles().length)return Tt.state=G.Z.EMPTY,Tt;Tt.sourceZ_=_e.getZForResolution(Ut);var vn=Tt.triangulation_.calculateSourceExtent();if(fn&&(ae.canWrapX()?(vn[1]=(0,T.uZ)(vn[1],fn[1],fn[3]),vn[3]=(0,T.uZ)(vn[3],fn[1],fn[3])):vn=(0,C.Ed)(vn,fn)),(0,C.bg)(vn)){for(var Pn=_e.getTileRangeForExtentAndZ(vn,Tt.sourceZ_),kt=Pn.minX;kt<=Pn.maxX;kt++)for(var dt=Pn.minY;dt<=Pn.maxY;dt++){var ht=ke(Tt.sourceZ_,kt,dt,Be);ht&&Tt.sourceTiles_.push(ht)}0===Tt.sourceTiles_.length&&(Tt.state=G.Z.EMPTY)}else Tt.state=G.Z.EMPTY;return Tt}return M(Ie,Te),Ie.prototype.getImage=function(){return this.canvas_},Ie.prototype.reproject_=function(){var ae=[];if(this.sourceTiles_.forEach(function(ke,qe,at){ke&&ke.getState()==G.Z.LOADED&&ae.push({extent:this.sourceTileGrid_.getTileCoordExtent(ke.tileCoord),image:ke.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===ae.length)this.state=G.Z.ERROR;else{var _e=this.wrappedTileCoord_[0],Ee=this.targetTileGrid_.getTileSize(_e),Pe="number"==typeof Ee?Ee:Ee[0],Ge="number"==typeof Ee?Ee:Ee[1],Ue=this.targetTileGrid_.getResolution(_e),Be=this.sourceTileGrid_.getResolution(this.sourceZ_),Ce=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,B.sY)(Pe,Ge,this.pixelRatio_,Be,this.sourceTileGrid_.getExtent(),Ue,Ce,this.triangulation_,ae,this.gutter_,this.renderEdges_,this.interpolate),this.state=G.Z.LOADED}this.changed()},Ie.prototype.load=function(){if(this.state==G.Z.IDLE){this.state=G.Z.LOADING,this.changed();var ae=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(_e,Ee,Pe){var Ge=_e.getState();if(Ge==G.Z.IDLE||Ge==G.Z.LOADING){ae++;var Ue=(0,F.oL)(_e,i.Z.CHANGE,function(Be){var Ce=_e.getState();(Ce==G.Z.LOADED||Ce==G.Z.ERROR||Ce==G.Z.EMPTY)&&((0,F.bN)(Ue),0==--ae&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(Ue)}}.bind(this)),0===ae?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(_e,Ee,Pe){_e.getState()==G.Z.IDLE&&_e.load()})}},Ie.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(F.bN),this.sourcesListenerKeys_=null},Ie}(D.Z);const R=y;var z=p(8399),re=p(8804),le=p(6366),he=p(5162),xe=p(119),A=function(){var Te=function(Ie,ae){return(Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_e,Ee){_e.__proto__=Ee}||function(_e,Ee){for(var Pe in Ee)Object.prototype.hasOwnProperty.call(Ee,Pe)&&(_e[Pe]=Ee[Pe])})(Ie,ae)};return function(Ie,ae){if("function"!=typeof ae&&null!==ae)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function _e(){this.constructor=Ie}Te(Ie,ae),Ie.prototype=null===ae?Object.create(ae):(_e.prototype=ae.prototype,new _e)}}(),W=function(Te){function Ie(ae){var _e=this,Ee=void 0===ae.imageSmoothing||ae.imageSmoothing;return void 0!==ae.interpolate&&(Ee=ae.interpolate),(_e=Te.call(this,{attributions:ae.attributions,cacheSize:ae.cacheSize,opaque:ae.opaque,projection:ae.projection,state:ae.state,tileGrid:ae.tileGrid,tileLoadFunction:ae.tileLoadFunction?ae.tileLoadFunction:te,tilePixelRatio:ae.tilePixelRatio,tileUrlFunction:ae.tileUrlFunction,url:ae.url,urls:ae.urls,wrapX:ae.wrapX,transition:ae.transition,interpolate:Ee,key:ae.key,attributionsCollapsible:ae.attributionsCollapsible,zDirection:ae.zDirection})||this).crossOrigin=void 0!==ae.crossOrigin?ae.crossOrigin:null,_e.tileClass=void 0!==ae.tileClass?ae.tileClass:P,_e.tileCacheForProjection={},_e.tileGridForProjection={},_e.reprojectionErrorThreshold_=ae.reprojectionErrorThreshold,_e.renderReprojectionEdges_=!1,_e}return A(Ie,Te),Ie.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var ae in this.tileCacheForProjection)if(this.tileCacheForProjection[ae].canExpireCache())return!0;return!1},Ie.prototype.expireCache=function(ae,_e){var Ee=this.getTileCacheForProjection(ae);for(var Pe in this.tileCache.expireCache(this.tileCache==Ee?_e:{}),this.tileCacheForProjection){var Ge=this.tileCacheForProjection[Pe];Ge.expireCache(Ge==Ee?_e:{})}},Ie.prototype.getGutterForProjection=function(ae){return this.getProjection()&&ae&&!(0,m.OP)(this.getProjection(),ae)?0:this.getGutter()},Ie.prototype.getGutter=function(){return 0},Ie.prototype.getKey=function(){var ae=Te.prototype.getKey.call(this);return this.getInterpolate()||(ae+=":disable-interpolation"),ae},Ie.prototype.getOpaque=function(ae){return!(this.getProjection()&&ae&&!(0,m.OP)(this.getProjection(),ae))&&Te.prototype.getOpaque.call(this,ae)},Ie.prototype.getTileGridForProjection=function(ae){var _e=this.getProjection();if(this.tileGrid&&(!_e||(0,m.OP)(_e,ae)))return this.tileGrid;var Ee=(0,xe.sq)(ae);return Ee in this.tileGridForProjection||(this.tileGridForProjection[Ee]=(0,he.X$)(ae)),this.tileGridForProjection[Ee]},Ie.prototype.getTileCacheForProjection=function(ae){var _e=this.getProjection();if(!_e||(0,m.OP)(_e,ae))return this.tileCache;var Ee=(0,xe.sq)(ae);return Ee in this.tileCacheForProjection||(this.tileCacheForProjection[Ee]=new z.Z(this.tileCache.highWaterMark)),this.tileCacheForProjection[Ee]},Ie.prototype.createTile_=function(ae,_e,Ee,Pe,Ge,Ue){var Be=[ae,_e,Ee],Ce=this.getTileCoordForTileUrlFunction(Be,Ge),ke=Ce?this.tileUrlFunction(Ce,Pe,Ge):void 0,qe=new this.tileClass(Be,void 0!==ke?G.Z.IDLE:G.Z.EMPTY,void 0!==ke?ke:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return qe.key=Ue,qe.addEventListener(i.Z.CHANGE,this.handleTileChange.bind(this)),qe},Ie.prototype.getTile=function(ae,_e,Ee,Pe,Ge){var Ue=this.getProjection();if(!Ue||!Ge||(0,m.OP)(Ue,Ge))return this.getTileInternal(ae,_e,Ee,Pe,Ue||Ge);var Be=this.getTileCacheForProjection(Ge),Ce=[ae,_e,Ee],ke=void 0,qe=(0,le.km)(Ce);Be.containsKey(qe)&&(ke=Be.get(qe));var at=this.getKey();if(ke&&ke.key==at)return ke;var Gt=this.getTileGridForProjection(Ue),Tt=this.getTileGridForProjection(Ge),Ht=this.getTileCoordForTileUrlFunction(Ce,Ge),wn=new R(Ue,Gt,Ge,Tt,Ce,Ht,this.getTilePixelRatio(Pe),this.getGutter(),function(fn,He,bt,nt){return this.getTileInternal(fn,He,bt,nt,Ue)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return wn.key=at,ke?(wn.interimTile=ke,wn.refreshInterimChain(),Be.replace(qe,wn)):Be.set(qe,wn),wn},Ie.prototype.getTileInternal=function(ae,_e,Ee,Pe,Ge){var Ue=null,Be=(0,le.lg)(ae,_e,Ee),Ce=this.getKey();if(this.tileCache.containsKey(Be)){if((Ue=this.tileCache.get(Be)).key!=Ce){var ke=Ue;(Ue=this.createTile_(ae,_e,Ee,Pe,Ge,Ce)).interimTile=ke.getState()==G.Z.IDLE?ke.interimTile:ke,Ue.refreshInterimChain(),this.tileCache.replace(Be,Ue)}}else Ue=this.createTile_(ae,_e,Ee,Pe,Ge,Ce),this.tileCache.set(Be,Ue);return Ue},Ie.prototype.setRenderReprojectionEdges=function(ae){if(this.renderReprojectionEdges_!=ae){for(var _e in this.renderReprojectionEdges_=ae,this.tileCacheForProjection)this.tileCacheForProjection[_e].clear();this.changed()}},Ie.prototype.setTileGridForProjection=function(ae,_e){var Ee=(0,m.U2)(ae);if(Ee){var Pe=(0,xe.sq)(Ee);Pe in this.tileGridForProjection||(this.tileGridForProjection[Pe]=_e)}},Ie}(re.Z);function te(Te,Ie){Te.getImage().src=Ie}const oe=W},2237:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>O});var i="1.3.0",D=p(8101);function ne(k,B){var F=[];Object.keys(B).forEach(function(y){null!=B[y]&&F.push(y+"="+encodeURIComponent(B[y]))});var M=F.join("&");return(k=-1===(k=k.replace(/[?&]$/,"")).indexOf("?")?k+"?":k+"&")+M}var k,H=p(1911),L=p(9466),$=p(760),S=p(1750),P=p(2017),C=p(5478),m=p(2156),T=p(6366),g=(k=function(B,F){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,y){M.__proto__=y}||function(M,y){for(var R in y)Object.prototype.hasOwnProperty.call(y,R)&&(M[R]=y[R])})(B,F)},function(B,F){if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function M(){this.constructor=B}k(B,F),B.prototype=null===F?Object.create(F):(M.prototype=F.prototype,new M)}),v=function(k){function B(F){var M=this,y=F||{},R=void 0===y.imageSmoothing||y.imageSmoothing;void 0!==y.interpolate&&(R=y.interpolate);var z=y.params||{};return(M=k.call(this,{attributions:y.attributions,attributionsCollapsible:y.attributionsCollapsible,cacheSize:y.cacheSize,crossOrigin:y.crossOrigin,interpolate:R,opaque:!(!("TRANSPARENT"in z)||z.TRANSPARENT),projection:y.projection,reprojectionErrorThreshold:y.reprojectionErrorThreshold,tileClass:y.tileClass,tileGrid:y.tileGrid,tileLoadFunction:y.tileLoadFunction,url:y.url,urls:y.urls,wrapX:void 0===y.wrapX||y.wrapX,transition:y.transition,zDirection:y.zDirection})||this).gutter_=void 0!==y.gutter?y.gutter:0,M.params_=z,M.v13_=!0,M.serverType_=y.serverType,M.hidpi_=void 0===y.hidpi||y.hidpi,M.tmpExtent_=(0,$.lJ)(),M.updateV13_(),M.setKey(M.getKeyForParams_()),M}return g(B,k),B.prototype.getFeatureInfoUrl=function(F,M,y,R){var z=(0,C.U2)(y),re=this.getProjection(),le=this.getTileGrid();le||(le=this.getTileGridForProjection(z));var he=le.getZForResolution(M,this.zDirection),xe=le.getTileCoordForCoordAndZ(F,he);if(!(le.getResolutions().length<=xe[0])){var A=le.getResolution(xe[0]),W=le.getTileCoordExtent(xe,this.tmpExtent_),te=(0,S.Pq)(le.getTileSize(xe[0]),this.tmpSize),oe=this.gutter_;0!==oe&&(te=(0,S.f3)(te,oe,this.tmpSize),W=(0,$.f3)(W,A*oe,W)),re&&re!==z&&(A=(0,P.aA)(re,z,F,A),W=(0,C.$A)(W,z,re),F=(0,C.vs)(F,z,re));var Te={SERVICE:"WMS",VERSION:i,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,L.f0)(Te,this.params_,R);var Ie=Math.floor((F[0]-W[0])/A),ae=Math.floor((W[3]-F[1])/A);return Te[this.v13_?"I":"X"]=Ie,Te[this.v13_?"J":"Y"]=ae,this.getRequestUrl_(xe,te,W,1,re||z,Te)}},B.prototype.getLegendUrl=function(F,M){if(void 0!==this.urls[0]){var y={SERVICE:"WMS",VERSION:i,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===M||void 0===M.LAYER){var R=this.params_.LAYERS;if(Array.isArray(R)&&1!==R.length)return;y.LAYER=R}if(void 0!==F){var re=this.getProjection()?this.getProjection().getMetersPerUnit():1;y.SCALE=F*re/28e-5}return(0,L.f0)(y,M),ne(this.urls[0],y)}},B.prototype.getGutter=function(){return this.gutter_},B.prototype.getParams=function(){return this.params_},B.prototype.getRequestUrl_=function(F,M,y,R,z,re){var le=this.urls;if(le){if(re.WIDTH=M[0],re.HEIGHT=M[1],re[this.v13_?"CRS":"SRS"]=z.getCode(),"STYLES"in this.params_||(re.STYLES=""),1!=R)switch(this.serverType_){case"geoserver":var he=90*R+.5|0;"FORMAT_OPTIONS"in re?re.FORMAT_OPTIONS+=";dpi:"+he:re.FORMAT_OPTIONS="dpi:"+he;break;case"mapserver":re.MAP_RESOLUTION=90*R;break;case"carmentaserver":case"qgis":re.DPI=90*R;break;default:(0,H.h)(!1,52)}var xe=z.getAxisOrientation(),A=y;if(this.v13_&&"ne"==xe.substr(0,2)){var W=void 0;W=y[0],A[0]=y[1],A[1]=W,W=y[2],A[2]=y[3],A[3]=W}return re.BBOX=A.join(","),ne(1==le.length?le[0]:le[(0,m.$W)((0,T.vp)(F),le.length)],re)}},B.prototype.getTilePixelRatio=function(F){return this.hidpi_&&void 0!==this.serverType_?F:1},B.prototype.getKeyForParams_=function(){var F=0,M=[];for(var y in this.params_)M[F++]=y+"-"+this.params_[y];return M.join("/")},B.prototype.updateParams=function(F){(0,L.f0)(this.params_,F),this.updateV13_(),this.setKey(this.getKeyForParams_())},B.prototype.updateV13_=function(){this.v13_=function(k,B){for(var F=(""+k).split("."),M="1.3".split("."),y=0;y<Math.max(F.length,M.length);y++){var R=parseInt(F[y]||"0",10),z=parseInt(M[y]||"0",10);if(R>z)return 1;if(z>R)return-1}return 0}(this.params_.VERSION||i)>=0},B.prototype.tileUrlFunction=function(F,M,y){var R=this.getTileGrid();if(R||(R=this.getTileGridForProjection(y)),!(R.getResolutions().length<=F[0])){1!=M&&(!this.hidpi_||void 0===this.serverType_)&&(M=1);var z=R.getResolution(F[0]),re=R.getTileCoordExtent(F,this.tmpExtent_),le=(0,S.Pq)(R.getTileSize(F[0]),this.tmpSize),he=this.gutter_;0!==he&&(le=(0,S.f3)(le,he,this.tmpSize),re=(0,$.f3)(re,z*he,re)),1!=M&&(le=(0,S.bA)(le,M,this.tmpSize));var xe={SERVICE:"WMS",VERSION:i,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return(0,L.f0)(xe,this.params_),this.getRequestUrl_(F,le,re,M,y,xe)}},B}(D.Z);const O=v},8804:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>B});var F,D=p(8214),G=p(4702),ne=p(8399),H=p(1999),L=p(119),$=p(1911),S=p(5478),P=p(6366),x=p(5162),w=p(1750),C=(F=function(M,y){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,z){R.__proto__=z}||function(R,z){for(var re in z)Object.prototype.hasOwnProperty.call(z,re)&&(R[re]=z[re])})(M,y)},function(M,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function R(){this.constructor=M}F(M,y),M.prototype=null===y?Object.create(y):(R.prototype=y.prototype,new R)}),m=function(F){function M(y){var R=F.call(this,{attributions:y.attributions,attributionsCollapsible:y.attributionsCollapsible,projection:y.projection,state:y.state,wrapX:y.wrapX,interpolate:y.interpolate})||this;R.opaque_=void 0!==y.opaque&&y.opaque,R.tilePixelRatio_=void 0!==y.tilePixelRatio?y.tilePixelRatio:1,R.tileGrid=void 0!==y.tileGrid?y.tileGrid:null;var re=y.tileGrid;return re&&(0,w.Pq)(re.getTileSize(re.getMinZoom()),[256,256]),R.tileCache=new ne.Z(y.cacheSize||0),R.tmpSize=[0,0],R.key_=y.key||"",R.tileOptions={transition:y.transition,interpolate:y.interpolate},R.zDirection=y.zDirection?y.zDirection:0,R}return C(M,F),M.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},M.prototype.expireCache=function(y,R){var z=this.getTileCacheForProjection(y);z&&z.expireCache(R)},M.prototype.forEachLoadedTile=function(y,R,z,re){var le=this.getTileCacheForProjection(y);if(!le)return!1;for(var xe,A,W,he=!0,te=z.minX;te<=z.maxX;++te)for(var oe=z.minY;oe<=z.maxY;++oe)A=(0,P.lg)(R,te,oe),W=!1,le.containsKey(A)&&(W=(xe=le.get(A)).getState()===H.Z.LOADED)&&(W=!1!==re(xe)),W||(he=!1);return he},M.prototype.getGutterForProjection=function(y){return 0},M.prototype.getKey=function(){return this.key_},M.prototype.setKey=function(y){this.key_!==y&&(this.key_=y,this.changed())},M.prototype.getOpaque=function(y){return this.opaque_},M.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},M.prototype.getTile=function(y,R,z,re,le){return(0,L.O3)()},M.prototype.getTileGrid=function(){return this.tileGrid},M.prototype.getTileGridForProjection=function(y){return this.tileGrid?this.tileGrid:(0,x.X$)(y)},M.prototype.getTileCacheForProjection=function(y){return(0,$.h)((0,S.OP)(this.getProjection(),y),68),this.tileCache},M.prototype.getTilePixelRatio=function(y){return this.tilePixelRatio_},M.prototype.getTilePixelSize=function(y,R,z){var re=this.getTileGridForProjection(z),le=this.getTilePixelRatio(R),he=(0,w.Pq)(re.getTileSize(y),this.tmpSize);return 1==le?he:(0,w.bA)(he,le,this.tmpSize)},M.prototype.getTileCoordForTileUrlFunction=function(y,R){var z=void 0!==R?R:this.getProjection(),re=this.getTileGridForProjection(z);return this.getWrapX()&&z.isGlobal()&&(y=(0,x.Cf)(re,y,z)),(0,P.tE)(y,re)?y:null},M.prototype.clear=function(){this.tileCache.clear()},M.prototype.refresh=function(){this.clear(),F.prototype.refresh.call(this)},M.prototype.updateCacheSize=function(y,R){var z=this.getTileCacheForProjection(R);y>z.highWaterMark&&(z.highWaterMark=y)},M.prototype.useTile=function(y,R,z,re){},M}(G.Z),T=function(F){function M(y,R){var z=F.call(this,y)||this;return z.tile=R,z}return C(M,F),M}(D.ZP);const g=m;var v=p(2867),O=function(){var F=function(M,y){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,z){R.__proto__=z}||function(R,z){for(var re in z)Object.prototype.hasOwnProperty.call(z,re)&&(R[re]=z[re])})(M,y)};return function(M,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function R(){this.constructor=M}F(M,y),M.prototype=null===y?Object.create(y):(R.prototype=y.prototype,new R)}}(),k=function(F){function M(y){var R=F.call(this,{attributions:y.attributions,cacheSize:y.cacheSize,opaque:y.opaque,projection:y.projection,state:y.state,tileGrid:y.tileGrid,tilePixelRatio:y.tilePixelRatio,wrapX:y.wrapX,transition:y.transition,interpolate:y.interpolate,key:y.key,attributionsCollapsible:y.attributionsCollapsible,zDirection:y.zDirection})||this;return R.generateTileUrlFunction_=R.tileUrlFunction===M.prototype.tileUrlFunction,R.tileLoadFunction=y.tileLoadFunction,y.tileUrlFunction&&(R.tileUrlFunction=y.tileUrlFunction),R.urls=null,y.urls?R.setUrls(y.urls):y.url&&R.setUrl(y.url),R.tileLoadingKeys_={},R}return O(M,F),M.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},M.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},M.prototype.getUrls=function(){return this.urls},M.prototype.handleTileChange=function(y){var le,R=y.target,z=(0,L.sq)(R),re=R.getState();re==H.Z.LOADING?(this.tileLoadingKeys_[z]=!0,le="tileloadstart"):z in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[z],le=re==H.Z.ERROR?"tileloaderror":re==H.Z.LOADED?"tileloadend":void 0),null!=le&&this.dispatchEvent(new T(le,R))},M.prototype.setTileLoadFunction=function(y){this.tileCache.clear(),this.tileLoadFunction=y,this.changed()},M.prototype.setTileUrlFunction=function(y,R){this.tileUrlFunction=y,this.tileCache.pruneExceptNewestZ(),void 0!==R?this.setKey(R):this.changed()},M.prototype.setUrl=function(y){var R=(0,v.Gk)(y);this.urls=R,this.setUrls(R)},M.prototype.setUrls=function(y){this.urls=y;var R=y.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,v.uR)(y,this.tileGrid),R):this.setKey(R)},M.prototype.tileUrlFunction=function(y,R,z){},M.prototype.useTile=function(y,R,z){var re=(0,P.lg)(y,R,z);this.tileCache.containsKey(re)&&this.tileCache.get(re)},M}(g);const B=k},6763:(Ye,fe,p)=>{"use strict";p.d(fe,{Sp:()=>ne,xA:()=>L,bg:()=>S,cv:()=>P});var i=p(4410),D=p(2156),G=6371008.8;function ne(x,w,C){var m=C||G,T=(0,D.Yr)(x[1]),g=(0,D.Yr)(w[1]),v=(g-T)/2,O=(0,D.Yr)(w[0]-x[0])/2,k=Math.sin(v)*Math.sin(v)+Math.sin(O)*Math.sin(O)*Math.cos(T)*Math.cos(g);return 2*m*Math.atan2(Math.sqrt(k),Math.sqrt(1-k))}function H(x,w){for(var C=0,m=0,T=x.length;m<T-1;++m)C+=ne(x[m],x[m+1],w);return C}function L(x,w){var C=w||{},m=C.radius||G,T=C.projection||"EPSG:3857",g=x.getType();g!==i.Z.GEOMETRY_COLLECTION&&(x=x.clone().transform(T,"EPSG:4326"));var O,k,B,F,M,y,v=0;switch(g){case i.Z.POINT:case i.Z.MULTI_POINT:break;case i.Z.LINE_STRING:case i.Z.LINEAR_RING:v=H(O=x.getCoordinates(),m);break;case i.Z.MULTI_LINE_STRING:case i.Z.POLYGON:for(B=0,F=(O=x.getCoordinates()).length;B<F;++B)v+=H(O[B],m);break;case i.Z.MULTI_POLYGON:for(B=0,F=(O=x.getCoordinates()).length;B<F;++B)for(M=0,y=(k=O[B]).length;M<y;++M)v+=H(k[M],m);break;case i.Z.GEOMETRY_COLLECTION:var R=x.getGeometries();for(B=0,F=R.length;B<F;++B)v+=L(R[B],w);break;default:throw new Error("Unsupported geometry type: "+g)}return v}function $(x,w){for(var C=0,m=x.length,T=x[m-1][0],g=x[m-1][1],v=0;v<m;v++){var O=x[v][0],k=x[v][1];C+=(0,D.Yr)(O-T)*(2+Math.sin((0,D.Yr)(g))+Math.sin((0,D.Yr)(k))),T=O,g=k}return C*w*w/2}function S(x,w){var C=w||{},m=C.radius||G,T=C.projection||"EPSG:3857",g=x.getType();g!==i.Z.GEOMETRY_COLLECTION&&(x=x.clone().transform(T,"EPSG:4326"));var O,k,B,F,M,y,v=0;switch(g){case i.Z.POINT:case i.Z.MULTI_POINT:case i.Z.LINE_STRING:case i.Z.MULTI_LINE_STRING:case i.Z.LINEAR_RING:break;case i.Z.POLYGON:for(O=x.getCoordinates(),v=Math.abs($(O[0],m)),B=1,F=O.length;B<F;++B)v-=Math.abs($(O[B],m));break;case i.Z.MULTI_POLYGON:for(B=0,F=(O=x.getCoordinates()).length;B<F;++B)for(k=O[B],v+=Math.abs($(k[0],m)),M=1,y=k.length;M<y;++M)v-=Math.abs($(k[M],m));break;case i.Z.GEOMETRY_COLLECTION:var R=x.getGeometries();for(B=0,F=R.length;B<F;++B)v+=S(R[B],w);break;default:throw new Error("Unsupported geometry type: "+g)}return v}function P(x,w,C,m){var T=m||G,g=(0,D.Yr)(x[1]),v=(0,D.Yr)(x[0]),O=w/T,k=Math.asin(Math.sin(g)*Math.cos(O)+Math.cos(g)*Math.sin(O)*Math.cos(C)),B=v+Math.atan2(Math.sin(C)*Math.sin(O)*Math.cos(g),Math.cos(O)-Math.sin(g)*Math.sin(k));return[(0,D.Ux)(B),(0,D.Ux)(k)]}},949:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>C});var m,i=p(521),D=p(6398),G=p(3783),ne=p(5813),H=p(1992),L=p(4686),$=(m=function(T,g){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,O){v.__proto__=O}||function(v,O){for(var k in O)Object.prototype.hasOwnProperty.call(O,k)&&(v[k]=O[k])})(T,g)},function(T,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=T}m(T,g),T.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}),S=function(m){function T(g){var v=this;return(v=m.call(this,{opacity:1,rotateWithView:void 0!==g.rotateWithView&&g.rotateWithView,rotation:void 0!==g.rotation?g.rotation:0,scale:void 0!==g.scale?g.scale:1,displacement:void 0!==g.displacement?g.displacement:[0,0]})||this).canvas_=void 0,v.hitDetectionCanvas_=null,v.fill_=void 0!==g.fill?g.fill:null,v.origin_=[0,0],v.points_=g.points,v.radius_=void 0!==g.radius?g.radius:g.radius1,v.radius2_=g.radius2,v.angle_=void 0!==g.angle?g.angle:0,v.stroke_=void 0!==g.stroke?g.stroke:null,v.size_=null,v.renderOptions_=null,v.render(),v}return $(T,m),T.prototype.clone=function(){var g=this.getScale(),v=new T({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(g)?g.slice():g,displacement:this.getDisplacement().slice()});return v.setOpacity(this.getOpacity()),v},T.prototype.getAnchor=function(){var g=this.size_;if(!g)return null;var v=this.getDisplacement();return[g[0]/2-v[0],g[1]/2+v[1]]},T.prototype.getAngle=function(){return this.angle_},T.prototype.getFill=function(){return this.fill_},T.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},T.prototype.getImage=function(g){var v=this.canvas_[g];if(!v){var O=this.renderOptions_,k=(0,H.E4)(O.size*g,O.size*g);this.draw_(O,k,g),this.canvas_[g]=v=k.canvas}return v},T.prototype.getPixelRatio=function(g){return g},T.prototype.getImageSize=function(){return this.size_},T.prototype.getImageState=function(){return i.Z.LOADED},T.prototype.getOrigin=function(){return this.origin_},T.prototype.getPoints=function(){return this.points_},T.prototype.getRadius=function(){return this.radius_},T.prototype.getRadius2=function(){return this.radius2_},T.prototype.getSize=function(){return this.size_},T.prototype.getStroke=function(){return this.stroke_},T.prototype.listenImageChange=function(g){},T.prototype.load=function(){},T.prototype.unlistenImageChange=function(g){},T.prototype.calculateLineJoinSize_=function(g,v,O){if(0===v||this.points_===1/0||"bevel"!==g&&"miter"!==g)return v;var k=this.radius_,B=void 0===this.radius2_?k:this.radius2_;if(k<B){var F=k;k=B,B=F}var y=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),R=B*Math.sin(y),re=k-Math.sqrt(B*B-R*R),le=Math.sqrt(R*R+re*re),he=le/R;if("miter"===g&&he<=O)return he*v;var xe=v/2/he,A=v/2*(re/le),te=Math.sqrt((k+xe)*(k+xe)+A*A)-k;if(void 0===this.radius2_||"bevel"===g)return 2*te;var oe=k*Math.sin(y),Ie=B-Math.sqrt(k*k-oe*oe),_e=Math.sqrt(oe*oe+Ie*Ie)/oe;return _e<=O?2*Math.max(te,_e*v/2-B-k):2*te},T.prototype.createRenderOptions=function(){var B,g=L.rc,v=0,O=null,k=0,F=0;this.stroke_&&(null===(B=this.stroke_.getColor())&&(B=L.Tx),B=(0,ne.y)(B),void 0===(F=this.stroke_.getWidth())&&(F=L.yC),O=this.stroke_.getLineDash(),k=this.stroke_.getLineDashOffset(),void 0===(g=this.stroke_.getLineJoin())&&(g=L.rc),void 0===(v=this.stroke_.getMiterLimit())&&(v=L.V4));var M=this.calculateLineJoinSize_(g,F,v),y=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:B,strokeWidth:F,size:Math.ceil(2*y+M),lineDash:O,lineDashOffset:k,lineJoin:g,miterLimit:v}},T.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var g=this.renderOptions_.size;this.canvas_={},this.size_=[g,g]},T.prototype.draw_=function(g,v,O){if(v.scale(O,O),v.translate(g.size/2,g.size/2),this.createPath_(v),this.fill_){var k=this.fill_.getColor();null===k&&(k=L.bL),v.fillStyle=(0,ne.y)(k),v.fill()}this.stroke_&&(v.strokeStyle=g.strokeStyle,v.lineWidth=g.strokeWidth,v.setLineDash&&g.lineDash&&(v.setLineDash(g.lineDash),v.lineDashOffset=g.lineDashOffset),v.lineJoin=g.lineJoin,v.miterLimit=g.miterLimit,v.stroke())},T.prototype.createHitDetectionCanvas_=function(g){if(this.fill_){var v=this.fill_.getColor(),O=0;if("string"==typeof v&&(v=(0,G._2)(v)),null===v?O=1:Array.isArray(v)&&(O=4===v.length?v[3]:1),0===O){var k=(0,H.E4)(g.size,g.size);this.hitDetectionCanvas_=k.canvas,this.drawHitDetectionCanvas_(g,k)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},T.prototype.createPath_=function(g){var v=this.points_,O=this.radius_;if(v===1/0)g.arc(0,0,O,0,2*Math.PI);else{var k=void 0===this.radius2_?O:this.radius2_;void 0!==this.radius2_&&(v*=2);for(var B=this.angle_-Math.PI/2,F=2*Math.PI/v,M=0;M<v;M++){var y=B+M*F,R=M%2==0?O:k;g.lineTo(R*Math.cos(y),R*Math.sin(y))}g.closePath()}},T.prototype.drawHitDetectionCanvas_=function(g,v){v.translate(g.size/2,g.size/2),this.createPath_(v),v.fillStyle=L.bL,v.fill(),this.stroke_&&(v.strokeStyle=g.strokeStyle,v.lineWidth=g.strokeWidth,g.lineDash&&(v.setLineDash(g.lineDash),v.lineDashOffset=g.lineDashOffset),v.lineJoin=g.lineJoin,v.miterLimit=g.miterLimit,v.stroke())},T}(D.Z);const P=S;var x=function(){var m=function(T,g){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,O){v.__proto__=O}||function(v,O){for(var k in O)Object.prototype.hasOwnProperty.call(O,k)&&(v[k]=O[k])})(T,g)};return function(T,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=T}m(T,g),T.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v)}}(),w=function(m){function T(g){var O=g||{};return m.call(this,{points:1/0,fill:O.fill,radius:O.radius,stroke:O.stroke,scale:void 0!==O.scale?O.scale:1,rotation:void 0!==O.rotation?O.rotation:0,rotateWithView:void 0!==O.rotateWithView&&O.rotateWithView,displacement:void 0!==O.displacement?O.displacement:[0,0]})||this}return x(T,m),T.prototype.clone=function(){var g=this.getScale(),v=new T({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(g)?g.slice():g,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return v.setOpacity(this.getOpacity()),v},T.prototype.setRadius=function(g){this.radius_=g,this.render()},T}(P);const C=w},5044:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>D});const D=function(){function G(ne){var H=ne||{};this.color_=void 0!==H.color?H.color:null}return G.prototype.clone=function(){var ne=this.getColor();return new G({color:Array.isArray(ne)?ne.slice():ne||void 0})},G.prototype.getColor=function(){return this.color_},G.prototype.setColor=function(ne){this.color_=ne},G}()},9028:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>F});var i=p(9972),D=p(9389);var M,ne=p(521),H=p(6398),L=p(3783),$=p(1911),S=p(3844),P=p(1992),x=p(2956),w=p(201),C=(M=function(y,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,re){z.__proto__=re}||function(z,re){for(var le in re)Object.prototype.hasOwnProperty.call(re,le)&&(z[le]=re[le])})(y,R)},function(y,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function z(){this.constructor=y}M(y,R),y.prototype=null===R?Object.create(R):(z.prototype=R.prototype,new z)}),m=null,T=function(M){function y(R,z,re,le,he,xe){var A=M.call(this)||this;return A.hitDetectionImage_=null,A.image_=R||new Image,null!==le&&(A.image_.crossOrigin=le),A.canvas_={},A.color_=xe,A.unlisten_=null,A.imageState_=he,A.size_=re,A.src_=z,A}return C(y,M),y.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===ne.Z.LOADED){m||(m=(0,P.E4)(1,1)),m.drawImage(this.image_,0,0);try{m.getImageData(0,0,1,1),this.tainted_=!1}catch(R){m=null,this.tainted_=!0}}return!0===this.tainted_},y.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(i.Z.CHANGE)},y.prototype.handleImageError_=function(){this.imageState_=ne.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},y.prototype.handleImageLoad_=function(){this.imageState_=ne.Z.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},y.prototype.getImage=function(R){return this.replaceColor_(R),this.canvas_[R]?this.canvas_[R]:this.image_},y.prototype.getPixelRatio=function(R){return this.replaceColor_(R),this.canvas_[R]?R:1},y.prototype.getImageState=function(){return this.imageState_},y.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var R=this.size_[0],z=this.size_[1],re=(0,P.E4)(R,z);re.fillRect(0,0,R,z),this.hitDetectionImage_=re.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},y.prototype.getSize=function(){return this.size_},y.prototype.getSrc=function(){return this.src_},y.prototype.load=function(){if(this.imageState_==ne.Z.IDLE){this.imageState_=ne.Z.LOADING;try{this.image_.src=this.src_}catch(R){this.handleImageError_()}this.unlisten_=(0,w.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},y.prototype.replaceColor_=function(R){if(this.color_&&!this.canvas_[R]&&this.imageState_===ne.Z.LOADED){var z=document.createElement("canvas");this.canvas_[R]=z,z.width=Math.ceil(this.image_.width*R),z.height=Math.ceil(this.image_.height*R);var re=z.getContext("2d");if(re.scale(R,R),re.drawImage(this.image_,0,0),re.globalCompositeOperation="multiply","multiply"===re.globalCompositeOperation||this.isTainted_())re.fillStyle=(0,L.XC)(this.color_),re.fillRect(0,0,z.width/R,z.height/R),re.globalCompositeOperation="destination-in",re.drawImage(this.image_,0,0);else{for(var le=re.getImageData(0,0,z.width,z.height),he=le.data,xe=this.color_[0]/255,A=this.color_[1]/255,W=this.color_[2]/255,te=this.color_[3],oe=0,Te=he.length;oe<Te;oe+=4)he[oe]*=xe,he[oe+1]*=A,he[oe+2]*=W,he[oe+3]*=te;re.putImageData(le,0,0)}}},y.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},y}(S.Z),O=p(119),k=function(){var M=function(y,R){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,re){z.__proto__=re}||function(z,re){for(var le in re)Object.prototype.hasOwnProperty.call(re,le)&&(z[le]=re[le])})(y,R)};return function(y,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function z(){this.constructor=y}M(y,R),y.prototype=null===R?Object.create(R):(z.prototype=R.prototype,new z)}}(),B=function(M){function y(R){var z=this,re=R||{};(z=M.call(this,{opacity:void 0!==re.opacity?re.opacity:1,rotation:void 0!==re.rotation?re.rotation:0,scale:void 0!==re.scale?re.scale:1,displacement:void 0!==re.displacement?re.displacement:[0,0],rotateWithView:void 0!==re.rotateWithView&&re.rotateWithView})||this).anchor_=void 0!==re.anchor?re.anchor:[.5,.5],z.normalizedAnchor_=null,z.anchorOrigin_=void 0!==re.anchorOrigin?re.anchorOrigin:"top-left",z.anchorXUnits_=void 0!==re.anchorXUnits?re.anchorXUnits:D.Z.FRACTION,z.anchorYUnits_=void 0!==re.anchorYUnits?re.anchorYUnits:D.Z.FRACTION,z.crossOrigin_=void 0!==re.crossOrigin?re.crossOrigin:null;var W=void 0!==re.img?re.img:null,te=void 0!==re.imgSize?re.imgSize:null,oe=re.src;(0,$.h)(!(void 0!==oe&&W),4),(0,$.h)(!W||W&&te,5),(void 0===oe||0===oe.length)&&W&&(oe=W.src||(0,O.sq)(W)),(0,$.h)(void 0!==oe&&oe.length>0,6);var Te=void 0!==re.src?ne.Z.IDLE:ne.Z.LOADED;return z.color_=void 0!==re.color?(0,L._2)(re.color):null,z.iconImage_=function(M,y,R,z,re,le){var he=x.c.get(y,z,le);return he||(he=new T(M,y,R,z,re,le),x.c.set(y,z,le,he)),he}(W,oe,te,z.crossOrigin_,Te,z.color_),z.offset_=void 0!==re.offset?re.offset:[0,0],z.offsetOrigin_=void 0!==re.offsetOrigin?re.offsetOrigin:"top-left",z.origin_=null,z.size_=void 0!==re.size?re.size:null,z}return k(y,M),y.prototype.clone=function(){var R=this.getScale();return new y({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(R)?R.slice():R,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},y.prototype.getAnchor=function(){var R=this.normalizedAnchor_;if(!R){R=this.anchor_;var z=this.getSize();if(this.anchorXUnits_==D.Z.FRACTION||this.anchorYUnits_==D.Z.FRACTION){if(!z)return null;R=this.anchor_.slice(),this.anchorXUnits_==D.Z.FRACTION&&(R[0]*=z[0]),this.anchorYUnits_==D.Z.FRACTION&&(R[1]*=z[1])}if("top-left"!=this.anchorOrigin_){if(!z)return null;R===this.anchor_&&(R=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(R[0]=-R[0]+z[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(R[1]=-R[1]+z[1])}this.normalizedAnchor_=R}var re=this.getDisplacement();return[R[0]-re[0],R[1]+re[1]]},y.prototype.setAnchor=function(R){this.anchor_=R,this.normalizedAnchor_=null},y.prototype.getColor=function(){return this.color_},y.prototype.getImage=function(R){return this.iconImage_.getImage(R)},y.prototype.getPixelRatio=function(R){return this.iconImage_.getPixelRatio(R)},y.prototype.getImageSize=function(){return this.iconImage_.getSize()},y.prototype.getImageState=function(){return this.iconImage_.getImageState()},y.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},y.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var R=this.offset_;if("top-left"!=this.offsetOrigin_){var z=this.getSize(),re=this.iconImage_.getSize();if(!z||!re)return null;R=R.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(R[0]=re[0]-z[0]-R[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(R[1]=re[1]-z[1]-R[1])}return this.origin_=R,this.origin_},y.prototype.getSrc=function(){return this.iconImage_.getSrc()},y.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},y.prototype.listenImageChange=function(R){this.iconImage_.addEventListener(i.Z.CHANGE,R)},y.prototype.load=function(){this.iconImage_.load()},y.prototype.unlistenImageChange=function(R){this.iconImage_.removeEventListener(i.Z.CHANGE,R)},y}(H.Z);const F=B},9389:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={FRACTION:"fraction",PIXELS:"pixels"}},2956:(Ye,fe,p)=>{"use strict";p.d(fe,{c:()=>H});var i=p(3783);function G(L,$,S){return $+":"+L+":"+(S?(0,i.XC)(S):"null")}var H=new(function(){function L(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return L.prototype.clear=function(){this.cache_={},this.cacheSize_=0},L.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},L.prototype.expire=function(){if(this.canExpireCache()){var $=0;for(var S in this.cache_)0==(3&$++)&&!this.cache_[S].hasListener()&&(delete this.cache_[S],--this.cacheSize_)}},L.prototype.get=function($,S,P){var x=G($,S,P);return x in this.cache_?this.cache_[x]:null},L.prototype.set=function($,S,P,x){var w=G($,S,P);this.cache_[w]=x,++this.cacheSize_},L.prototype.setSize=function($){this.maxCacheSize_=$,this.expire()},L}())},6398:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>ne});var i=p(119),D=p(1750);const ne=function(){function H(L){this.opacity_=L.opacity,this.rotateWithView_=L.rotateWithView,this.rotation_=L.rotation,this.scale_=L.scale,this.scaleArray_=(0,D.Pq)(L.scale),this.displacement_=L.displacement}return H.prototype.clone=function(){var L=this.getScale();return new H({opacity:this.getOpacity(),scale:Array.isArray(L)?L.slice():L,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},H.prototype.getOpacity=function(){return this.opacity_},H.prototype.getRotateWithView=function(){return this.rotateWithView_},H.prototype.getRotation=function(){return this.rotation_},H.prototype.getScale=function(){return this.scale_},H.prototype.getScaleArray=function(){return this.scaleArray_},H.prototype.getDisplacement=function(){return this.displacement_},H.prototype.getAnchor=function(){return(0,i.O3)()},H.prototype.getImage=function(L){return(0,i.O3)()},H.prototype.getHitDetectionImage=function(){return(0,i.O3)()},H.prototype.getPixelRatio=function(L){return 1},H.prototype.getImageState=function(){return(0,i.O3)()},H.prototype.getImageSize=function(){return(0,i.O3)()},H.prototype.getOrigin=function(){return(0,i.O3)()},H.prototype.getSize=function(){return(0,i.O3)()},H.prototype.setDisplacement=function(L){this.displacement_=L},H.prototype.setOpacity=function(L){this.opacity_=L},H.prototype.setRotateWithView=function(L){this.rotateWithView_=L},H.prototype.setRotation=function(L){this.rotation_=L},H.prototype.setScale=function(L){this.scale_=L,this.scaleArray_=(0,D.Pq)(L)},H.prototype.listenImageChange=function(L){(0,i.O3)()},H.prototype.load=function(){(0,i.O3)()},H.prototype.unlistenImageChange=function(L){(0,i.O3)()},H}()},6785:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>D});const D=function(){function G(ne){var H=ne||{};this.color_=void 0!==H.color?H.color:null,this.lineCap_=H.lineCap,this.lineDash_=void 0!==H.lineDash?H.lineDash:null,this.lineDashOffset_=H.lineDashOffset,this.lineJoin_=H.lineJoin,this.miterLimit_=H.miterLimit,this.width_=H.width}return G.prototype.clone=function(){var ne=this.getColor();return new G({color:Array.isArray(ne)?ne.slice():ne||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},G.prototype.getColor=function(){return this.color_},G.prototype.getLineCap=function(){return this.lineCap_},G.prototype.getLineDash=function(){return this.lineDash_},G.prototype.getLineDashOffset=function(){return this.lineDashOffset_},G.prototype.getLineJoin=function(){return this.lineJoin_},G.prototype.getMiterLimit=function(){return this.miterLimit_},G.prototype.getWidth=function(){return this.width_},G.prototype.setColor=function(ne){this.color_=ne},G.prototype.setLineCap=function(ne){this.lineCap_=ne},G.prototype.setLineDash=function(ne){this.lineDash_=ne},G.prototype.setLineDashOffset=function(ne){this.lineDashOffset_=ne},G.prototype.setLineJoin=function(ne){this.lineJoin_=ne},G.prototype.setMiterLimit=function(ne){this.miterLimit_=ne},G.prototype.setWidth=function(ne){this.width_=ne},G}()},109:(Ye,fe,p)=>{"use strict";p.d(fe,{J$:()=>$,yF:()=>P,Ly:()=>x,ZP:()=>C});var i=p(949),D=p(5044),G=p(4410),ne=p(6785),H=p(1911),L=function(){function m(T){var g=T||{};this.geometry_=null,this.geometryFunction_=w,void 0!==g.geometry&&this.setGeometry(g.geometry),this.fill_=void 0!==g.fill?g.fill:null,this.image_=void 0!==g.image?g.image:null,this.renderer_=void 0!==g.renderer?g.renderer:null,this.hitDetectionRenderer_=void 0!==g.hitDetectionRenderer?g.hitDetectionRenderer:null,this.stroke_=void 0!==g.stroke?g.stroke:null,this.text_=void 0!==g.text?g.text:null,this.zIndex_=g.zIndex}return m.prototype.clone=function(){var T=this.getGeometry();return T&&"object"==typeof T&&(T=T.clone()),new m({geometry:T,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},m.prototype.getRenderer=function(){return this.renderer_},m.prototype.setRenderer=function(T){this.renderer_=T},m.prototype.setHitDetectionRenderer=function(T){this.hitDetectionRenderer_=T},m.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},m.prototype.getGeometry=function(){return this.geometry_},m.prototype.getGeometryFunction=function(){return this.geometryFunction_},m.prototype.getFill=function(){return this.fill_},m.prototype.setFill=function(T){this.fill_=T},m.prototype.getImage=function(){return this.image_},m.prototype.setImage=function(T){this.image_=T},m.prototype.getStroke=function(){return this.stroke_},m.prototype.setStroke=function(T){this.stroke_=T},m.prototype.getText=function(){return this.text_},m.prototype.setText=function(T){this.text_=T},m.prototype.getZIndex=function(){return this.zIndex_},m.prototype.setGeometry=function(T){"function"==typeof T?this.geometryFunction_=T:"string"==typeof T?this.geometryFunction_=function(g){return g.get(T)}:T?void 0!==T&&(this.geometryFunction_=function(){return T}):this.geometryFunction_=w,this.geometry_=T},m.prototype.setZIndex=function(T){this.zIndex_=T},m}();function $(m){var T,g;"function"==typeof m?T=m:(Array.isArray(m)?g=m:((0,H.h)("function"==typeof m.getZIndex,41),g=[m]),T=function(){return g});return T}var S=null;function P(m,T){if(!S){var g=new D.Z({color:"rgba(255,255,255,0.4)"}),v=new ne.Z({color:"#3399CC",width:1.25});S=[new L({image:new i.Z({fill:g,stroke:v,radius:5}),fill:g,stroke:v})]}return S}function x(){var m={},T=[255,255,255,1],g=[0,153,255,1];return m[G.Z.POLYGON]=[new L({fill:new D.Z({color:[255,255,255,.5]})})],m[G.Z.MULTI_POLYGON]=m[G.Z.POLYGON],m[G.Z.LINE_STRING]=[new L({stroke:new ne.Z({color:T,width:5})}),new L({stroke:new ne.Z({color:g,width:3})})],m[G.Z.MULTI_LINE_STRING]=m[G.Z.LINE_STRING],m[G.Z.CIRCLE]=m[G.Z.POLYGON].concat(m[G.Z.LINE_STRING]),m[G.Z.POINT]=[new L({image:new i.Z({radius:6,fill:new D.Z({color:g}),stroke:new ne.Z({color:T,width:1.5})}),zIndex:1/0})],m[G.Z.MULTI_POINT]=m[G.Z.POINT],m[G.Z.GEOMETRY_COLLECTION]=m[G.Z.POLYGON].concat(m[G.Z.LINE_STRING],m[G.Z.POINT]),m}function w(m){return m.getGeometry()}const C=L},9131:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>i});const i={POINT:"point",LINE:"line"}},6366:(Ye,fe,p)=>{"use strict";function i(S,P,x,w){return void 0!==w?(w[0]=S,w[1]=P,w[2]=x,w):[S,P,x]}function D(S,P,x){return S+"/"+P+"/"+x}function G(S){return D(S[0],S[1],S[2])}function ne(S){var P=S.substring(S.lastIndexOf("/")+1,S.length).split(",").map(Number);return D(P[0],P[1],P[2])}function H(S){return S.split("/").map(Number)}function L(S){return(S[1]<<S[0])+S[2]}function $(S,P){var x=S[0],w=S[1],C=S[2];if(P.getMinZoom()>x||x>P.getMaxZoom())return!1;var m=P.getFullTileRange(x);return!m||m.containsXY(w,C)}p.d(fe,{T9:()=>i,lg:()=>D,km:()=>G,MY:()=>ne,Ul:()=>H,vp:()=>L,tE:()=>$})},5162:(Ye,fe,p)=>{"use strict";p.d(fe,{X$:()=>S,Cf:()=>P,dl:()=>w,RZ:()=>m,Tl:()=>T});var i=p(7655),D=p(9308),G=p(9849),ne=p(9302),H=p(5478),L=p(760),$=p(1750);function S(g){var v=g.getDefaultTileGrid();return v||(v=m(g),g.setDefaultTileGrid(v)),v}function P(g,v,O){var k=v[0],B=g.getTileCoordCenter(v),F=T(O);if((0,L.b8)(F,B))return v;var M=(0,L.dz)(F),y=Math.ceil((F[0]-B[0])/M);return B[0]+=M*y,g.getTileCoordForCoordAndZ(B,k)}function w(g){var v=g||{},O=v.extent||(0,H.U2)("EPSG:3857").getExtent(),k={extent:O,minZoom:v.minZoom,tileSize:v.tileSize,resolutions:C(O,v.maxZoom,v.tileSize,v.maxResolution)};return new D.Z(k)}function C(g,v,O,k){for(var B=void 0!==v?v:ne.e,F=(0,L.Cr)(g),M=(0,L.dz)(g),y=(0,$.Pq)(void 0!==O?O:ne.S),R=k>0?k:Math.max(M/y[0],F/y[1]),z=B+1,re=new Array(z),le=0;le<z;++le)re[le]=R/Math.pow(2,le);return re}function m(g,v,O,k){return function(g,v,O,k){var B=void 0!==k?k:i.Z.TOP_LEFT,F=C(g,v,O);return new D.Z({extent:g,origin:(0,L.g0)(g,B),resolutions:F,tileSize:O})}(T(g),v,O,k)}function T(g){var v=(g=(0,H.U2)(g)).getExtent();if(!v){var O=180*H.Wm[G.ZP.DEGREES]/g.getMetersPerUnit();v=(0,L.T9)(-O,-O,O,O)}return v}},9308:(Ye,fe,p)=>{"use strict";p.d(fe,{Z:()=>C});var i=p(6609),D=p(9302),G=p(1911),ne=p(2156),H=p(760),L=p(6366),$=p(2456),S=p(1750),P=[0,0,0];const C=function(){function m(T){var g;if(this.minZoom=void 0!==T.minZoom?T.minZoom:0,this.resolutions_=T.resolutions,(0,G.h)((0,$.pT)(this.resolutions_,function(B,F){return F-B},!0),17),!T.origins)for(var v=0,O=this.resolutions_.length-1;v<O;++v)if(g){if(this.resolutions_[v]/this.resolutions_[v+1]!==g){g=void 0;break}}else g=this.resolutions_[v]/this.resolutions_[v+1];this.zoomFactor_=g,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==T.origin?T.origin:null,this.origins_=null,void 0!==T.origins&&(this.origins_=T.origins,(0,G.h)(this.origins_.length==this.resolutions_.length,20));var k=T.extent;void 0!==k&&!this.origin_&&!this.origins_&&(this.origin_=(0,H.rL)(k)),(0,G.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==T.tileSizes&&(this.tileSizes_=T.tileSizes,(0,G.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==T.tileSize?T.tileSize:this.tileSizes_?null:D.S,(0,G.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==k?k:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==T.sizes?this.fullTileRanges_=T.sizes.map(function(B,F){var M=new i.Z(Math.min(0,B[0]),Math.max(B[0]-1,-1),Math.min(0,B[1]),Math.max(B[1]-1,-1));if(k){var y=this.getTileRangeForExtentAndZ(k,F);M.minX=Math.max(y.minX,M.minX),M.maxX=Math.min(y.maxX,M.maxX),M.minY=Math.max(y.minY,M.minY),M.maxY=Math.min(y.maxY,M.maxY)}return M},this):k&&this.calculateTileRanges_(k)}return m.prototype.forEachTileCoord=function(T,g,v){for(var O=this.getTileRangeForExtentAndZ(T,g),k=O.minX,B=O.maxX;k<=B;++k)for(var F=O.minY,M=O.maxY;F<=M;++F)v([g,k,F])},m.prototype.forEachTileCoordParentTileRange=function(T,g,v,O){var k,B,F,M=null,y=T[0]-1;for(2===this.zoomFactor_?(B=T[1],F=T[2]):M=this.getTileCoordExtent(T,O);y>=this.minZoom;){if(2===this.zoomFactor_?(B=Math.floor(B/2),F=Math.floor(F/2),k=(0,i.T)(B,B,F,F,v)):k=this.getTileRangeForExtentAndZ(M,y,v),g(y,k))return!0;--y}return!1},m.prototype.getExtent=function(){return this.extent_},m.prototype.getMaxZoom=function(){return this.maxZoom},m.prototype.getMinZoom=function(){return this.minZoom},m.prototype.getOrigin=function(T){return this.origin_?this.origin_:this.origins_[T]},m.prototype.getResolution=function(T){return this.resolutions_[T]},m.prototype.getResolutions=function(){return this.resolutions_},m.prototype.getTileCoordChildTileRange=function(T,g,v){if(T[0]<this.maxZoom){if(2===this.zoomFactor_){var O=2*T[1],k=2*T[2];return(0,i.T)(O,O+1,k,k+1,g)}var B=this.getTileCoordExtent(T,v||this.tmpExtent_);return this.getTileRangeForExtentAndZ(B,T[0]+1,g)}return null},m.prototype.getTileRangeForTileCoordAndZ=function(T,g,v){if(g>this.maxZoom||g<this.minZoom)return null;var O=T[0],k=T[1],B=T[2];if(g===O)return(0,i.T)(k,B,k,B,v);if(this.zoomFactor_){var F=Math.pow(this.zoomFactor_,g-O),M=Math.floor(k*F),y=Math.floor(B*F);if(g<O)return(0,i.T)(M,M,y,y,v);var R=Math.floor(F*(k+1))-1,z=Math.floor(F*(B+1))-1;return(0,i.T)(M,R,y,z,v)}var re=this.getTileCoordExtent(T,this.tmpExtent_);return this.getTileRangeForExtentAndZ(re,g,v)},m.prototype.getTileRangeExtent=function(T,g,v){var O=this.getOrigin(T),k=this.getResolution(T),B=(0,S.Pq)(this.getTileSize(T),this.tmpSize_);return(0,H.T9)(O[0]+g.minX*B[0]*k,O[1]+g.minY*B[1]*k,O[0]+(g.maxX+1)*B[0]*k,O[1]+(g.maxY+1)*B[1]*k,v)},m.prototype.getTileRangeForExtentAndZ=function(T,g,v){var O=P;this.getTileCoordForXYAndZ_(T[0],T[3],g,!1,O);var k=O[1],B=O[2];return this.getTileCoordForXYAndZ_(T[2],T[1],g,!0,O),(0,i.T)(k,O[1],B,O[2],v)},m.prototype.getTileCoordCenter=function(T){var g=this.getOrigin(T[0]),v=this.getResolution(T[0]),O=(0,S.Pq)(this.getTileSize(T[0]),this.tmpSize_);return[g[0]+(T[1]+.5)*O[0]*v,g[1]-(T[2]+.5)*O[1]*v]},m.prototype.getTileCoordExtent=function(T,g){var v=this.getOrigin(T[0]),O=this.getResolution(T[0]),k=(0,S.Pq)(this.getTileSize(T[0]),this.tmpSize_),B=v[0]+T[1]*k[0]*O,F=v[1]-(T[2]+1)*k[1]*O;return(0,H.T9)(B,F,B+k[0]*O,F+k[1]*O,g)},m.prototype.getTileCoordForCoordAndResolution=function(T,g,v){return this.getTileCoordForXYAndResolution_(T[0],T[1],g,!1,v)},m.prototype.getTileCoordForXYAndResolution_=function(T,g,v,O,k){var B=this.getZForResolution(v),F=v/this.getResolution(B),M=this.getOrigin(B),y=(0,S.Pq)(this.getTileSize(B),this.tmpSize_),R=F*(T-M[0])/v/y[0],z=F*(M[1]-g)/v/y[1];return O?(R=(0,ne.mD)(R,5)-1,z=(0,ne.mD)(z,5)-1):(R=(0,ne.GW)(R,5),z=(0,ne.GW)(z,5)),(0,L.T9)(B,R,z,k)},m.prototype.getTileCoordForXYAndZ_=function(T,g,v,O,k){var B=this.getOrigin(v),F=this.getResolution(v),M=(0,S.Pq)(this.getTileSize(v),this.tmpSize_),y=(T-B[0])/F/M[0],R=(B[1]-g)/F/M[1];return O?(y=(0,ne.mD)(y,5)-1,R=(0,ne.mD)(R,5)-1):(y=(0,ne.GW)(y,5),R=(0,ne.GW)(R,5)),(0,L.T9)(v,y,R,k)},m.prototype.getTileCoordForCoordAndZ=function(T,g,v){return this.getTileCoordForXYAndZ_(T[0],T[1],g,!1,v)},m.prototype.getTileCoordResolution=function(T){return this.resolutions_[T[0]]},m.prototype.getTileSize=function(T){return this.tileSize_?this.tileSize_:this.tileSizes_[T]},m.prototype.getFullTileRange=function(T){return this.fullTileRanges_?this.fullTileRanges_[T]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,T):null},m.prototype.getZForResolution=function(T,g){var v=(0,$.h7)(this.resolutions_,T,g||0);return(0,ne.uZ)(v,this.minZoom,this.maxZoom)},m.prototype.calculateTileRanges_=function(T){for(var g=this.resolutions_.length,v=new Array(g),O=this.minZoom;O<g;++O)v[O]=this.getTileRangeForExtentAndZ(T,O);this.fullTileRanges_=v},m}()},9302:(Ye,fe,p)=>{"use strict";p.d(fe,{e:()=>i,S:()=>D});var i=42,D=256},2867:(Ye,fe,p)=>{"use strict";p.d(fe,{uR:()=>H,Gk:()=>S});var i=p(1911),D=p(2156),G=p(6366);function ne(P,x){var w=/\{z\}/g,C=/\{x\}/g,m=/\{y\}/g,T=/\{-y\}/g;return function(g,v,O){if(g)return P.replace(w,g[0].toString()).replace(C,g[1].toString()).replace(m,g[2].toString()).replace(T,function(){var B=x.getFullTileRange(g[0]);return(0,i.h)(B,55),(B.getHeight()-g[2]-1).toString()})}}function H(P,x){for(var w=P.length,C=new Array(w),m=0;m<w;++m)C[m]=ne(P[m],x);return function(P){return 1===P.length?P[0]:function(x,w,C){if(x){var m=(0,G.vp)(x),T=(0,D.$W)(m,P.length);return P[T](x,w,C)}}}(C)}function S(P){var x=[],w=/\{([a-z])-([a-z])\}/.exec(P);if(w){var C=w[1].charCodeAt(0),m=w[2].charCodeAt(0),T=void 0;for(T=C;T<=m;++T)x.push(P.replace(w[0],String.fromCharCode(T)));return x}if(w=/\{(\d+)-(\d+)\}/.exec(P)){for(var g=parseInt(w[2],10),v=parseInt(w[1],10);v<=g;v++)x.push(P.replace(w[0],v.toString()));return x}return x.push(P),x}},483:(Ye,fe,p)=>{"use strict";p.d(fe,{Ue:()=>ne,mc:()=>H,Jp:()=>L,lk:()=>S,nn:()=>P,bA:()=>w,n3:()=>C,Iu:()=>m,qC:()=>T,nb:()=>O,BB:()=>F});var B,i=p(9996),D=p(1911),G=new Array(6);function ne(){return[1,0,0,1,0,0]}function H(M){return $(M,1,0,0,1,0,0)}function L(M,y){var R=M[0],z=M[1],re=M[2],le=M[3],he=M[4],xe=M[5],A=y[0],W=y[1],te=y[2],oe=y[3],Te=y[4],Ie=y[5];return M[0]=R*A+re*W,M[1]=z*A+le*W,M[2]=R*te+re*oe,M[3]=z*te+le*oe,M[4]=R*Te+re*Ie+he,M[5]=z*Te+le*Ie+xe,M}function $(M,y,R,z,re,le,he){return M[0]=y,M[1]=R,M[2]=z,M[3]=re,M[4]=le,M[5]=he,M}function S(M,y){return M[0]=y[0],M[1]=y[1],M[2]=y[2],M[3]=y[3],M[4]=y[4],M[5]=y[5],M}function P(M,y){var R=y[0],z=y[1];return y[0]=M[0]*R+M[2]*z+M[4],y[1]=M[1]*R+M[3]*z+M[5],y}function w(M,y,R){return L(M,$(G,y,0,0,R,0,0))}function C(M,y,R){return $(M,y,0,0,R,0,0)}function m(M,y,R){return L(M,$(G,1,0,0,1,y,R))}function T(M,y,R,z,re,le,he,xe){var A=Math.sin(le),W=Math.cos(le);return M[0]=z*W,M[1]=re*A,M[2]=-z*A,M[3]=re*W,M[4]=he*z*W-xe*z*A+y,M[5]=he*re*A+xe*re*W+R,M}function O(M,y){var R=function(M){return M[0]*M[3]-M[1]*M[2]}(y);(0,D.h)(0!==R,32);var z=y[0],re=y[1],le=y[2],he=y[3],xe=y[4],A=y[5];return M[0]=he/R,M[1]=-re/R,M[2]=-le/R,M[3]=z/R,M[4]=(le*A-he*xe)/R,M[5]=-(z*A-re*xe)/R,M}function F(M){var y="matrix("+M.join(", ")+")";if(i.Id)return y;var R=B||(B=document.createElement("div"));return R.style.transform=y,R.style.transform}},119:(Ye,fe,p)=>{"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}p.d(fe,{O3:()=>i,sq:()=>G,q4:()=>ne});var D=0;function G(H){return H.ol_uid||(H.ol_uid=String(++D))}var ne="6.12.0"},5861:(Ye,fe,p)=>{"use strict";function i(G,ne,H,L,$,S,P){try{var x=G[S](P),w=x.value}catch(C){return void H(C)}x.done?ne(w):Promise.resolve(w).then(L,$)}function D(G){return function(){var ne=this,H=arguments;return new Promise(function(L,$){var S=G.apply(ne,H);function P(w){i(S,L,$,P,x,"next",w)}function x(w){i(S,L,$,P,x,"throw",w)}P(void 0)})}}p.d(fe,{Z:()=>D})},9794:Ye=>{"use strict";Ye.exports={version:"1.0.34"}}},Ye=>{Ye(Ye.s=8007)}]);