<ion-content>
    <ion-progress-bar *ngIf="loading$ | async" type="indeterminate" color="tertiary"></ion-progress-bar>
    <app-map></app-map>
    <div class="current-project" *ngIf="(currentProject$ | async) !== undefined">
        <ion-chip class="project-chip" color="primary" outline>
            <ion-label>{{ (currentProject$ | async).name }}</ion-label>
            <ion-icon (click)="onClearProject()" name="close-circle"></ion-icon>
        </ion-chip>
    </div>
    <app-map-layers-control></app-map-layers-control>
    <app-map-tools></app-map-tools>
    <app-map-info-tool class="full-width-bottom-tool"
        *ngIf="(uiState$ | async).activatedMapTools.includes('addressInfo')">
    </app-map-info-tool>
    <app-map-legend-fab></app-map-legend-fab>
    <app-map-geolocation *ngIf="(uiState$ | async).activatedMapTools.includes('saveProject') === false">
    </app-map-geolocation>
    <app-map-draw-tool *ngIf="(uiState$ | async).activatedMapTools.includes('draw')"></app-map-draw-tool>
    <app-map-save-project-area-selection class="full-width-bottom-tool"
        *ngIf="(uiState$ | async).activatedMapTools.includes('saveProject')">
    </app-map-save-project-area-selection>
</ion-content>